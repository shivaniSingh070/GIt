define(['jquery','Magento_Customer/js/customer-data','jquery-ui-modules/widget'],function($,customerData){'use strict';$.widget('mage.multiShipping',{options:{itemsQty:0,addNewAddressBtn:'button[data-role="add-new-address"]',addNewAddressFlag:'#add_new_address_flag',canContinueBtn:'button[data-role="can-continue"]',canContinueFlag:'#can_continue_flag'},_create:function(){this._prepareCartData();$(this.options.addNewAddressBtn).on('click',$.proxy(this._addNewAddress,this));$(this.options.canContinueBtn).on('click',$.proxy(this._canContinue,this));},_prepareCartData:function(){var cartData=customerData.get('cart');if(cartData()['summary_count']!==this.options.itemsQty){customerData.reload(['cart'],false);}},_addNewAddress:function(){$(this.options.addNewAddressFlag).val(1);this.element.submit();},_canContinue:function(event){$(this.options.canContinueFlag).val(parseInt($(event.currentTarget).data('flag'),10));}});return $.mage.multiShipping;});
define(['jquery','Magento_Checkout/js/model/shipping-service','Magento_Checkout/js/model/totals','Mageplaza_Osc/js/model/payment-service'],function($,shippingService,totalService,paymentService){'use strict';var blockLoader={shipping:{queue:0,service:shippingService},payment:{queue:0,service:paymentService},total:{queue:0,service:totalService}};return{getServices:function(blocks){var services={payment:blockLoader.payment.service,total:blockLoader.total.service};if(typeof blocks!=='undefined'){services={};$.each(blocks,function(index,block){if(blockLoader.hasOwnProperty(block)){services[block]=blockLoader[block].service;}});}
return services;},startLoader:function(blocks){var services=this.getServices(blocks);$.each(services,function(index,service){blockLoader[index].queue+=1;service.isLoading(true);});},stopLoader:function(blocks){var services=this.getServices(blocks);$.each(services,function(index,service){blockLoader[index].queue-=1;if(blockLoader[index].queue==0){service.isLoading(false);}});}};});
define(['ko','jquery','uiComponent','Mageplaza_Osc/js/model/gift-message'],function(ko,$,Component,giftMessageModel){'use strict';return Component.extend({defaults:{template:'Mageplaza_Osc/container/review/addition/gift-message'},formBlockVisibility:null,resultBlockVisibility:null,model:{},initialize:function(){this._super().observe('formBlockVisibility').observe({'resultBlockVisibility':false});this.model=new giftMessageModel();this.isResultBlockVisible();this.isUseGiftMessage();},isUseGiftMessage:function(){return!!window.checkoutConfig.oscConfig.giftMessageOptions.giftMessage.orderLevel.hasOwnProperty("gift_message_id");},isResultBlockVisible:function(){var self=this;if(this.model.getObservable('alreadyAdded')()){this.resultBlockVisibility(true);}
this.model.getObservable('additionalOptionsApplied').subscribe(function(value){if(value==true){self.resultBlockVisibility(true);}});},getObservable:function(key){return this.model.getObservable(key);},toggleFormBlockVisibility:function(){if(!this.model.getObservable('alreadyAdded')()){this.formBlockVisibility(!this.formBlockVisibility());}else{this.resultBlockVisibility(!this.resultBlockVisibility());}
return true;},isActive:function(){return this.model.isGiftMessageAvailable();}});});
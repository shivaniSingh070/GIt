define(['jquery','underscore','text!Magento_PageBuilder/template/modal/dismissible-modal-content.html','mage/translate','Magento_Ui/js/modal/prompt','mage/cookies'],function($,_,promptContentTmpl,$t){'use strict';function buttonsConfig(haveCancelButton){var cancelButton={text:$.mage.__('Cancel'),class:'action-secondary action-dismiss',click:function(){this.closeModal(false);}},confirmButton={text:$.mage.__('OK'),class:'action-primary action-accept',click:function(){this.closeModal(true);}},buttons=[];if(haveCancelButton!==false){buttons.push(cancelButton);}
buttons.push(confirmButton);return buttons;}
$.widget('mage.dismissibleConfirm',$.mage.prompt,{options:{promptContentTmpl:promptContentTmpl,dismissible:false,dismissKey:'default',dismissMessage:$t('Do not show this again'),dismissCheckbox:'[name="modal-dnsa"]'},openModal:function(){if($.mage.cookies.get(this.options.dismissKey)==='true'){this.options.actions.confirm();return this.options.actions.always();}
return this._super();},closeModal:function(result){this._super(result);if(result&&this._isDismissed()){$.mage.cookies.set(this.options.dismissKey,'true',{});}},_isDismissed:function(){return this.modal.find(this.options.dismissCheckbox).is(':checked');}});return function(config){config.buttons=buttonsConfig(config.haveCancelButton);delete config.haveCancelButton;return $('<div></div>').html(config.content).dismissibleConfirm(config);};});
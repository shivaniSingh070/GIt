(function(factory){if(typeof define==='function'&&define.amd){define(['knockout','jquery','Magento_PageBuilder/js/resource/dropzone/dropzone','mage/translate'],factory);}else if(typeof require==='function'&&typeof exports==='object'&&typeof module==='object'){var ko=require('knockout'),jQuery=require('jquery'),Dropzone=require('Magento_PageBuilder/js/resource/dropzone/dropzone'),translate=require('mage/translate');factory(ko,jQuery,Dropzone,translate);}else{factory(window.ko,window.jQuery,window.Dropzone,window.translate);}})(function(ko,jQuery,Dropzone,$t){ko.bindingHandlers.dropzone={init:function(element,valueAccessor){var value=ko.unwrap(valueAccessor()),originalSuccess=value.success,options={uploadMultiple:false,createImageThumbnails:false,addRemoveLinks:false,dictDefaultMessage:$t('Drop files here, or click to upload'),init:function(){this.on('sending',function(file,xhr,formData){formData.append('form_key',FORM_KEY);});},success:function(file,response){return originalSuccess.call(this,file,response,value.bindKey);}};delete value.success;jQuery.extend(options,value);jQuery(element).addClass('dropzone');new Dropzone(element,options);}};});
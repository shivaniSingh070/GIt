define(["underscore","Magento_PageBuilder/js/utils/object"],function(_underscore,_object){var WidgetDirectiveAbstract=function(){"use strict";function WidgetDirectiveAbstract(){}
var _proto=WidgetDirectiveAbstract.prototype;_proto.fromDom=function fromDom(data,config){var _this=this;var attributes={};(0,_object.get)(data,config.html_variable).replace(/\{\{widget(.*?)\}\}/i,function(match,attributeString){attributes=_this.parseAttributesString(attributeString);}.bind(this));return attributes;};_proto.toDom=function toDom(data,config){(0,_object.set)(data,config.html_variable,this.buildDirective(data));return data;};_proto.buildDirective=function buildDirective(attributes){return"{{widget "+this.createAttributesString(attributes)+"}}";};_proto.parseAttributesString=function parseAttributesString(attributes){var result={};attributes.replace(/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,function(match,key,value){result[key]=value.replace(/&quote;/g,"\"");return"";});return result;};_proto.createAttributesString=function createAttributesString(attributes){var result="";_underscore.each(attributes,function(value,name){result+=name+"=\""+String(value).replace(/"/g,"&quote;")+"\" ";});return result.substr(0,result.length-1);};return WidgetDirectiveAbstract;}();return WidgetDirectiveAbstract;});
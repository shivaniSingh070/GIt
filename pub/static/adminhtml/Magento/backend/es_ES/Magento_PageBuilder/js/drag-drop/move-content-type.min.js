define(["knockout","Magento_PageBuilder/js/events"],function(_knockout,_events){function moveContentType(contentType,targetIndex,targetParent){if(targetParent===void 0){targetParent=null;}
var sourceParent=contentType.parentContentType;var sourceIndex=contentType.parentContentType.children().indexOf(contentType);var sourceParentChildren=sourceParent.getChildren();_events.trigger("contentType:moveBefore",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});_events.trigger(contentType.config.name+":moveBefore",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});if(targetParent&&sourceParent!==targetParent){contentType.parentContentType=targetParent;sourceParentChildren.splice(sourceIndex,1);targetParent.getChildren().splice(targetIndex,0,contentType);}else{var children=_knockout.utils.unwrapObservable(sourceParentChildren);if(sourceParentChildren.valueWillMutate){sourceParentChildren.valueWillMutate();}
children.splice(sourceIndex,1);children.splice(targetIndex,0,contentType);if(sourceParentChildren.valueHasMutated){sourceParentChildren.valueHasMutated();}}
if(_knockout.processAllDeferredBindingUpdates){_knockout.processAllDeferredBindingUpdates();}
_events.trigger("contentType:moveAfter",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});_events.trigger(contentType.config.name+":moveAfter",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});}
return{moveContentType:moveContentType};});
define(['uiElement','escaper'],function(Element,escaper){'use strict';return Element.extend({defaults:{template:'Magento_MediaGalleryUi/grid/messages',messageDelay:5,messages:[],allowedTags:['div','span','b','strong','i','em','u','a']},initObservable:function(){this._super().observe(['messages']);return this;},get:function(){return this.messages();},add:function(type,message){this.messages.push({code:type,message:message});},clear:function(){this.messages.removeAll();},scheduleCleanup:function(delay){var timerId;delay=delay||this.messageDelay;timerId=setTimeout(function(){clearTimeout(timerId);this.clear();}.bind(this),Number(delay)*1000);},prepareMessageUnsanitizedHtml:function(message){return escaper.escapeHtml(message,this.allowedTags);}});});
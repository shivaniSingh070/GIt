define(['jquery','mage/apply/main','mage/backend/notification','Ves_Megamenu/js/lib/knockout/bootstrap','mage/mage','mage/translate'],function($,mage,notification){'use strict';var bootstrap;$.ajaxSetup({type:'POST',beforeSend:function(jqXHR,settings){var form_key=typeof FORM_KEY!=='undefined'?FORM_KEY:null;if(!settings.url.match(new RegExp('[?&]isAjax=true',''))){settings.url=settings.url.match(new RegExp('\\?',"g"))?settings.url+'&isAjax=true':settings.url+'?isAjax=true';}
if(!settings.data){settings.data={form_key:form_key};}else if($.type(settings.data)==="string"&&settings.data.indexOf('form_key=')===-1){settings.data+='&'+$.param({form_key:form_key});}else if($.isPlainObject(settings.data)&&!settings.data.form_key){settings.data.form_key=form_key;}},complete:function(jqXHR){if(jqXHR.readyState===4){try{var jsonObject=$.parseJSON(jqXHR.responseText);if(jsonObject.ajaxExpired&&jsonObject.ajaxRedirect){window.location.replace(jsonObject.ajaxRedirect);}}catch(e){}}},error:function(){$('body').notification('clear').notification('add',{error:true,message:$.mage.__('A technical problem with the server created an error. '+'Try again to continue what you were doing. If the problem persists, try again later.'),insertMethod:function(message){var $wrapper=$('<div/>').html(message);$('.page-main-actions').after($wrapper);}});}});bootstrap=function(){mage.apply();notification({},$('body'));};$(bootstrap);});
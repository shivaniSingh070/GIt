require.config({"config": {
        "jsbuild":{"Amasty_Feed/js/code_mirror/lib/codemirror.min.js":"(function(mod){if(typeof exports==\"object\"&&typeof module==\"object\")\nmodule.exports=mod();else if(typeof define==\"function\"&&define.amd)\nreturn define([],mod);else\nthis.CodeMirror=mod();})(function(){\"use strict\";var gecko=/gecko\\/\\d/i.test(navigator.userAgent);var ie_upto10=/MSIE \\d/.test(navigator.userAgent);var ie_11up=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent);var ie=ie_upto10||ie_11up;var ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]);var webkit=/WebKit\\//.test(navigator.userAgent);var qtwebkit=webkit&&/Qt\\/\\d+\\.\\d+/.test(navigator.userAgent);var chrome=/Chrome\\//.test(navigator.userAgent);var presto=/Opera\\//.test(navigator.userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(navigator.userAgent);var phantom=/PhantomJS/.test(navigator.userAgent);var ios=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\\/\\w+/.test(navigator.userAgent);var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var mac=ios||/Mac/.test(navigator.platform);var windows=/win/i.test(navigator.platform);var presto_version=presto&&navigator.userAgent.match(/Version\\/(\\d*\\.\\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true;}\nvar flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||(ie&&ie_version>=9);var sawReadOnlySpans=false,sawCollapsedSpans=false;function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc==\"string\")doc=new Doc(doc,options.mode);this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping)\nthis.display.wrapper.className+=\" CodeMirror-wrap\";if(options.autofocus&&!mobile)display.input.focus();initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new Delayed(),keySeq:null,specialChars:null};var cm=this;if(ie&&ie_version<11)setTimeout(function(){cm.display.input.reset(true);},20);registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if((options.autofocus&&!mobile)||cm.hasFocus())\nsetTimeout(bind(onFocus,this),20);else\nonBlur(this);for(var opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))\noptionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this);endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering==\"optimizelegibility\")\ndisplay.lineDiv.style.textRendering=\"auto\";}\nfunction Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt(\"div\",null,\"CodeMirror-scrollbar-filler\");d.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\");d.gutterFiller=elt(\"div\",null,\"CodeMirror-gutter-filler\");d.gutterFiller.setAttribute(\"cm-not-content\",\"true\");d.lineDiv=elt(\"div\",null,\"CodeMirror-code\");d.selectionDiv=elt(\"div\",null,null,\"position: relative; z-index: 1\");d.cursorDiv=elt(\"div\",null,\"CodeMirror-cursors\");d.measure=elt(\"div\",null,\"CodeMirror-measure\");d.lineMeasure=elt(\"div\",null,\"CodeMirror-measure\");d.lineSpace=elt(\"div\",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,\"position: relative; outline: none\");d.mover=elt(\"div\",[elt(\"div\",[d.lineSpace],\"CodeMirror-lines\")],null,\"position: relative\");d.sizer=elt(\"div\",[d.mover],\"CodeMirror-sizer\");d.sizerWidth=null;d.heightForcer=elt(\"div\",null,null,\"position: absolute; height: \"+scrollerGap+\"px; width: 1px;\");d.gutters=elt(\"div\",null,\"CodeMirror-gutters\");d.lineGutter=null;d.scroller=elt(\"div\",[d.sizer,d.heightForcer,d.gutters],\"CodeMirror-scroll\");d.scroller.setAttribute(\"tabIndex\",\"-1\");d.wrapper=elt(\"div\",[d.scrollbarFiller,d.gutterFiller,d.scroller],\"CodeMirror\");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0;}\nif(!webkit&&!(gecko&&mobile))d.scroller.draggable=true;if(place){if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);}\nd.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;input.init(d);}\nfunction loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption);resetModeState(cm);}\nfunction resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm);}\nfunction wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,\"CodeMirror-wrap\");cm.display.sizer.style.minWidth=\"\";cm.display.sizerWidth=null;}else{rmClass(cm.display.wrapper,\"CodeMirror-wrap\");findMaxLine(cm);}\nestimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){updateScrollbars(cm);},100);}\nfunction estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth / charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height)widgetsHeight+=line.widgets[i].height;}\nif(wrapping)\nreturn widgetsHeight+(Math.ceil(line.text.length / perLine)||1)*th;else\nreturn widgetsHeight+th;};}\nfunction estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,estHeight);});}\nfunction themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+\ncm.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\");clearCaches(cm);}\nfunction guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){alignHorizontally(cm);},20);}\nfunction updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt(\"div\",null,\"CodeMirror-gutter \"+gutterClass));if(gutterClass==\"CodeMirror-linenumbers\"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+\"px\";}}\ngutters.style.display=i?\"\":\"none\";updateGutterSpace(cm);}\nfunction updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+\"px\";}\nfunction lineLength(line){if(line.height==0)return 0;var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch;}\ncur=line;while(merged=collapsedSpanAtEnd(cur)){var found=merged.find(0,true);len-=cur.text.length-found.from.ch;cur=found.to.line;len+=cur.text.length-found.to.ch;}\nreturn len;}\nfunction findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line;}});}\nfunction setGuttersForLineNumbers(options){var found=indexOf(options.gutters,\"CodeMirror-linenumbers\");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat([\"CodeMirror-linenumbers\"]);}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1);}}\nfunction measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW};}\nfunction NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt(\"div\",[elt(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\");var horiz=this.horiz=elt(\"div\",[elt(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");place(vert);place(horiz);on(vert,\"scroll\",function(){if(vert.clientHeight)scroll(vert.scrollTop,\"vertical\");});on(horiz,\"scroll\",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,\"horizontal\");});this.checkedOverlay=false;if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\";}\nNativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display=\"block\";this.vert.style.bottom=needsH?sWidth+\"px\":\"0\";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+\"px\";}else{this.vert.style.display=\"\";this.vert.firstChild.style.height=\"0\";}\nif(needsH){this.horiz.style.display=\"block\";this.horiz.style.right=needsV?sWidth+\"px\":\"0\";this.horiz.style.left=measure.barLeft+\"px\";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=(measure.scrollWidth-measure.clientWidth+totalWidth)+\"px\";}else{this.horiz.style.display=\"\";this.horiz.firstChild.style.width=\"0\";}\nif(!this.checkedOverlay&&measure.clientHeight>0){if(sWidth==0)this.overlayHack();this.checkedOverlay=true;}\nreturn{right:needsV?sWidth:0,bottom:needsH?sWidth:0};},setScrollLeft:function(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;},setScrollTop:function(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;},overlayHack:function(){var w=mac&&!mac_geMountainLion?\"12px\":\"18px\";this.horiz.style.minHeight=this.vert.style.minWidth=w;var self=this;var barMouseDown=function(e){if(e_target(e)!=self.vert&&e_target(e)!=self.horiz)\noperation(self.cm,onMouseDown)(e);};on(this.vert,\"mousedown\",barMouseDown);on(this.horiz,\"mousedown\",barMouseDown);},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert);}},NativeScrollbars.prototype);function NullScrollbars(){}\nNullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0};},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype);CodeMirror.scrollbarModel={\"native\":NativeScrollbars,\"null\":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)\nrmClass(cm.display.wrapper,cm.display.scrollbars.addClass);}\ncm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,\"mousedown\",function(){if(cm.state.focused)setTimeout(function(){cm.display.input.focus();},0);});node.setAttribute(\"cm-not-content\",\"true\");},function(pos,axis){if(axis==\"horizontal\")setScrollLeft(cm,pos);else setScrollTop(cm,pos);},cm);if(cm.display.scrollbars.addClass)\naddClass(cm.display.wrapper,cm.display.scrollbars.addClass);}\nfunction updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)\nupdateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight;}}\nfunction updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+\"px\";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+\"px\";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display=\"block\";d.scrollbarFiller.style.height=sizes.bottom+\"px\";d.scrollbarFiller.style.width=sizes.right+\"px\";}else d.scrollbarFiller.style.display=\"\";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display=\"block\";d.gutterFiller.style.height=sizes.bottom+\"px\";d.gutterFiller.style.width=measure.gutterWidth+\"px\";}else d.gutterFiller.style.display=\"\";}\nfunction visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight);}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo;}}\nreturn{from:from,to:Math.max(to,from+1)};}\nfunction alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+\"px\";for(var i=0;i<view.length;i++)if(!view[i].hidden){if(cm.options.fixedGutter&&view[i].gutter)\nview[i].gutter.style.left=left;var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)\nalign[j].style.left=left;}\nif(cm.options.fixedGutter)\ndisplay.gutters.style.left=(comp+gutterW)+\"px\";}\nfunction maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt(\"div\",[elt(\"div\",last)],\"CodeMirror-linenumber CodeMirror-gutter-elt\"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width=\"\";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+\"px\";updateGutterSpace(cm);return true;}\nreturn false;}\nfunction lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber));}\nfunction compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left;}\nfunction DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[];}\nDisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))\nthis.events.push(arguments);};DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)\nsignal.apply(null,this.events[i]);};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+\"px\";display.sizer.style.marginBottom=-display.nativeBarWidth+\"px\";display.sizer.style.borderRightWidth=scrollGap(cm)+\"px\";display.scrollbarsClipped=true;}}\nfunction updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false;}\nif(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)\nreturn false;if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm);}\nvar end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to);}\nvar different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+\"px\";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))\nreturn false;var focused=activeElt();if(toUpdate>4)display.lineDiv.style.display=\"none\";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display=\"\";display.renderedView=display.view;if(focused&&activeElt()!=focused&&focused.offsetHeight)focused.focus();removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400);}\ndisplay.updateLineNumbers=null;return true;}\nfunction postUpdateDisplay(cm,update){var force=update.force,viewport=update.viewport;for(var first=true;;first=false){if(first&&cm.options.lineWrapping&&update.oldDisplayWidth!=displayWidth(cm)){force=true;}else{force=false;if(viewport&&viewport.top!=null)\nviewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)\nbreak;}\nif(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);setDocumentHeight(cm,barMeasure);updateScrollbars(cm,barMeasure);}\nupdate.signal(cm,\"update\",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,\"viewportChange\",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo;}}\nfunction updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);setDocumentHeight(cm,barMeasure);updateScrollbars(cm,barMeasure);update.finish();}}\nfunction setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+\"px\";var total=measure.docHeight+cm.display.barHeight;cm.display.heightForcer.style.top=total+\"px\";cm.display.gutters.style.height=Math.max(total+scrollGap(cm),measure.clientHeight)+\"px\";}\nfunction updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height;if(cur.hidden)continue;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot;}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;}\nvar diff=cur.line.height-height;if(height<2)height=textHeight(display);if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest)for(var j=0;j<cur.rest.length;j++)\nupdateWidgetHeight(cur.rest[j]);}}}\nfunction updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)\nline.widgets[i].height=line.widgets[i].node.offsetHeight;}\nfunction getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth;}\nreturn{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth};}\nfunction patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)\nnode.style.display=\"none\";else\nnode.parentNode.removeChild(node);return next;}\nvar view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur);}else{while(cur!=lineView.node)cur=rm(cur);var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,\"gutter\")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims);}\nif(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)));}\ncur=lineView.node.nextSibling;}\nlineN+=lineView.size;}\nwhile(cur)cur=rm(cur);}\nfunction updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type==\"text\")updateLineText(cm,lineView);else if(type==\"gutter\")updateLineGutter(cm,lineView,lineN,dims);else if(type==\"class\")updateLineClasses(lineView);else if(type==\"widget\")updateLineWidgets(cm,lineView,dims);}\nlineView.changes=null;}\nfunction ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt(\"div\",null,null,\"position: relative\");if(lineView.text.parentNode)\nlineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);if(ie&&ie_version<8)lineView.node.style.zIndex=2;}\nreturn lineView.node;}\nfunction updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+\" \"+(lineView.line.bgClass||\"\"):lineView.line.bgClass;if(cls)cls+=\" CodeMirror-linebackground\";if(lineView.background){if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null;}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt(\"div\",null,cls),wrap.firstChild);}}\nfunction getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built;}\nreturn buildLineContent(cm,lineView);}\nfunction updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView);}else if(cls){lineView.text.className=cls;}}\nfunction updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass)\nensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)\nlineView.node.className=\"\";var textClass=lineView.textClass?lineView.textClass+\" \"+(lineView.line.textClass||\"\"):lineView.line.textClass;lineView.text.className=textClass||\"\";}\nfunction updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null;}\nvar markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+\n(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\"px; width: \"+dims.gutterTotalWidth+\"px\");cm.display.input.setUneditable(gutterWrap);wrap.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)\ngutterWrap.className+=\" \"+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers[\"CodeMirror-linenumbers\"]))\nlineView.lineNumber=gutterWrap.appendChild(elt(\"div\",lineNumberFor(cm.options,lineN),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+dims.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"\n+cm.display.lineNumInnerWidth+\"px\"));if(markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found)\ngutterWrap.appendChild(elt(\"div\",[found],\"CodeMirror-gutter-elt\",\"left: \"+\ndims.gutterLeft[id]+\"px; width: \"+dims.gutterWidth[id]+\"px\"));}}}\nfunction updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;for(var node=lineView.node.firstChild,next;node;node=next){var next=node.nextSibling;if(node.className==\"CodeMirror-linewidget\")\nlineView.node.removeChild(node);}\ninsertLineWidgets(cm,lineView,dims);}\nfunction buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node;}\nfunction insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)\ninsertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false);}\nfunction insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt(\"div\",[widget.node],\"CodeMirror-linewidget\");if(!widget.handleMouseEvents)node.setAttribute(\"cm-ignore-events\",\"true\");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)\nwrap.insertBefore(node,lineView.gutter||lineView.text);else\nwrap.appendChild(node);signalLater(widget,\"redraw\");}}\nfunction positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+\"px\";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+\"px\";}\nnode.style.width=width+\"px\";}\nif(widget.coverGutter){node.style.zIndex=5;node.style.position=\"relative\";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+\"px\";}}\nvar Pos=CodeMirror.Pos=function(line,ch){if(!(this instanceof Pos))return new Pos(line,ch);this.line=line;this.ch=ch;};var cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch;};function copyPos(x){return Pos(x.line,x.ch);}\nfunction maxPos(a,b){return cmp(a,b)<0?b:a;}\nfunction minPos(a,b){return cmp(a,b)<0?a:b;}\nfunction ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm);}}\nfunction isReadOnly(cm){return cm.options.readOnly||cm.doc.cantEdit;}\nvar lastCopied=null;function applyTextInput(cm,inserted,deleted,sel){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var textLines=splitLines(inserted),multiPaste=null;if(cm.state.pasteIncoming&&sel.ranges.length>1){if(lastCopied&&lastCopied.join(\"\\n\")==inserted)\nmultiPaste=sel.ranges.length%lastCopied.length==0&&map(lastCopied,splitLines);else if(textLines.length==sel.ranges.length)\nmultiPaste=map(textLines,function(l){return[l];});}\nfor(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];var from=range.from(),to=range.to();if(range.empty()){if(deleted&&deleted>0)\nfrom=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!cm.state.pasteIncoming)\nto=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));}\nvar updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:cm.state.pasteIncoming?\"paste\":cm.state.cutIncoming?\"cut\":\"+input\"};makeChange(cm.doc,changeEvent);signalLater(cm,\"inputRead\",cm,changeEvent);if(inserted&&!cm.state.pasteIncoming&&cm.options.electricChars&&cm.options.smartIndent&&range.head.ch<100&&(!i||sel.ranges[i-1].head.line!=range.head.line)){var mode=cm.getModeAt(range.head);var end=changeEnd(changeEvent);if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)\nif(inserted.indexOf(mode.electricChars.charAt(j))>-1){indentLine(cm,end.line,\"smart\");break;}}else if(mode.electricInput){if(mode.electricInput.test(getLine(doc,end.line).text.slice(0,end.ch)))\nindentLine(cm,end.line,\"smart\");}}}\nensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false;}\nfunction copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head));}\nreturn{text:text,ranges:ranges};}\nfunction disableBrowserMagic(field){field.setAttribute(\"autocorrect\",\"off\");field.setAttribute(\"autocapitalize\",\"off\");field.setAttribute(\"spellcheck\",\"false\");}\nfunction TextareaInput(cm){this.cm=cm;this.prevInput=\"\";this.pollingFast=false;this.polling=new Delayed();this.inaccurateSelection=false;this.hasSelection=false;};function hiddenTextarea(){var te=elt(\"textarea\",null,null,\"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\");var div=elt(\"div\",[te],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");if(webkit)te.style.width=\"1000px\";else te.setAttribute(\"wrap\",\"off\");if(ios)te.style.border=\"1px solid black\";disableBrowserMagic(te);return div;}\nTextareaInput.prototype=copyObj({init:function(display){var input=this,cm=this.cm;var div=this.wrapper=hiddenTextarea();var te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild);if(ios)te.style.width=\"0px\";on(te,\"input\",function(){if(ie&&ie_version>=9&&input.hasSelection)input.hasSelection=null;input.poll();});on(te,\"paste\",function(){if(webkit&&!cm.state.fakedLastChar&&!(new Date-cm.state.lastMiddleDown<200)){var start=te.selectionStart,end=te.selectionEnd;te.value+=\"$\";te.selectionEnd=end;te.selectionStart=start;cm.state.fakedLastChar=true;}\ncm.state.pasteIncoming=true;input.fastPoll();});function prepareCopyCut(e){if(cm.somethingSelected()){lastCopied=cm.getSelections();if(input.inaccurateSelection){input.prevInput=\"\";input.inaccurateSelection=false;te.value=lastCopied.join(\"\\n\");selectInput(te);}}else{var ranges=copyableRanges(cm);lastCopied=ranges.text;if(e.type==\"cut\"){cm.setSelections(ranges.ranges,null,sel_dontScroll);}else{input.prevInput=\"\";te.value=ranges.text.join(\"\\n\");selectInput(te);}}\nif(e.type==\"cut\")cm.state.cutIncoming=true;}\non(te,\"cut\",prepareCopyCut);on(te,\"copy\",prepareCopyCut);on(display.scroller,\"paste\",function(e){if(eventInWidget(display,e))return;cm.state.pasteIncoming=true;input.focus();});on(display.lineSpace,\"selectstart\",function(e){if(!eventInWidget(display,e))e_preventDefault(e);});},prepareSelection:function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,\"div\");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));}\nreturn result;},showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+\"px\";this.wrapper.style.left=drawn.teLeft+\"px\";}},reset:function(typing){if(this.contextMenuPending)return;var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput=\"\";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1000);var content=minimal?\"-\":selected||cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content;}else if(!typing){this.prevInput=this.textarea.value=\"\";if(ie&&ie_version>=9)this.hasSelection=null;}\nthis.inaccurateSelection=minimal;},getField:function(){return this.textarea;},supportsTouch:function(){return false;},focus:function(){if(this.cm.options.readOnly!=\"nocursor\"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus();}\ncatch(e){}}},blur:function(){this.textarea.blur();},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0;},receivedFocus:function(){this.slowPoll();},slowPoll:function(){var input=this;if(input.pollingFast)return;input.polling.set(this.cm.options.pollInterval,function(){input.poll();if(input.cm.state.focused)input.slowPoll();});},fastPoll:function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p);}\nelse{input.pollingFast=false;input.slowPoll();}}\ninput.polling.set(20,p);},poll:function(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(!cm.state.focused||(hasSelection(input)&&!prevInput)||isReadOnly(cm)||cm.options.disableInput||cm.state.keySeq)\nreturn false;if(cm.state.pasteIncoming&&cm.state.fakedLastChar){input.value=input.value.substring(0,input.value.length-1);cm.state.fakedLastChar=false;}\nvar text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\\uf700-\\uf7ff]/.test(text)){cm.display.input.reset();return false;}\nif(text.charCodeAt(0)==0x200b&&cm.doc.sel==cm.display.selForContextMenu&&!prevInput)\nprevInput=\"\\u200b\";var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same))++same;var self=this;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same);if(text.length>1000||text.indexOf(\"\\n\")>-1)input.value=self.prevInput=\"\";else self.prevInput=text;});return true;},ensurePolled:function(){if(this.pollingFast&&this.poll())this.pollingFast=false;},onKeyPress:function(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll();},onContextMenu:function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)\noperation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;input.wrapper.style.position=\"absolute\";te.style.cssText=\"position: fixed; width: 30px; height: 30px; top: \"+(e.clientY-5)+\"px; left: \"+(e.clientX-5)+\"px; z-index: 1000; background: \"+\n(ie?\"rgba(255, 255, 255, .05)\":\"transparent\")+\"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";if(webkit)var oldScrollY=window.scrollY;display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset();if(!cm.somethingSelected())te.value=input.prevInput=\" \";input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval=te.value=\"\\u200b\"+(selected?te.value:\"\");input.prevInput=selected?\"\":\"\\u200b\";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel;}}\nfunction rehide(){input.contextMenuPending=false;input.wrapper.style.position=\"relative\";te.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);if(te.selectionStart!=null){if(!ie||(ie&&ie_version<9))prepareSelectAllHack();var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0)\noperation(cm,commands.selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else display.input.reset();};display.detectingSelectAll=setTimeout(poll,200);}}\nif(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function(){off(window,\"mouseup\",mouseup);setTimeout(rehide,20);};on(window,\"mouseup\",mouseup);}else{setTimeout(rehide,50);}},setUneditable:nothing,needsContentAttribute:false},TextareaInput.prototype);function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed();this.gracePeriod=false;}\nContentEditableInput.prototype=copyObj({init:function(display){var input=this,cm=input.cm;var div=input.div=display.lineDiv;div.contentEditable=\"true\";disableBrowserMagic(div);on(div,\"paste\",function(e){var pasted=e.clipboardData&&e.clipboardData.getData(\"text/plain\");if(pasted){e.preventDefault();cm.replaceSelection(pasted,null,\"paste\");}});on(div,\"compositionstart\",function(e){var data=e.data;input.composing={sel:cm.doc.sel,data:data,startData:data};if(!data)return;var prim=cm.doc.sel.primary();var line=cm.getLine(prim.head.line);var found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));if(found>-1&&found<=prim.head.ch)\ninput.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length));});on(div,\"compositionupdate\",function(e){input.composing.data=e.data;});on(div,\"compositionend\",function(e){var ours=input.composing;if(!ours)return;if(e.data!=ours.startData&&!/\\u200b/.test(e.data))\nours.data=e.data;setTimeout(function(){if(!ours.handled)\ninput.applyComposition(ours);if(input.composing==ours)\ninput.composing=null;},50);});on(div,\"touchstart\",function(){input.forceCompositionEnd();});on(div,\"input\",function(){if(input.composing)return;if(!input.pollContent())\nrunInOp(input.cm,function(){regChange(cm);});});function onCopyCut(e){if(cm.somethingSelected()){lastCopied=cm.getSelections();if(e.type==\"cut\")cm.replaceSelection(\"\",null,\"cut\");}else{var ranges=copyableRanges(cm);lastCopied=ranges.text;if(e.type==\"cut\"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection(\"\",null,\"cut\");});}}\nif(e.clipboardData&&!ios){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData(\"text/plain\",lastCopied.join(\"\\n\"));}else{var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.join(\"\\n\");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();},50);}}\non(div,\"copy\",onCopyCut);on(div,\"cut\",onCopyCut);},prepareSelection:function(){var result=prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result;},showSelection:function(info){if(!info||!this.cm.display.view.length)return;if(info.focus)this.showPrimarySelection();this.showMultipleSelections(info);},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary();var curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),prim.from())==0&&cmp(maxPos(curAnchor,curFocus),prim.to())==0)\nreturn;var start=posToDOM(this.cm,prim.from());var end=posToDOM(this.cm,prim.to());if(!start&&!end)return;var view=this.cm.display.view;var old=sel.rangeCount&&sel.getRangeAt(0);if(!start){start={node:view[0].measure.map[2],offset:0};}else if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]};}\ntry{var rng=range(start.node,start.offset,end.offset,end.node);}\ncatch(e){}\nif(rng){sel.removeAllRanges();sel.addRange(rng);if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod();}\nthis.rememberSelection();},startGracePeriod:function(){var input=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){input.gracePeriod=false;if(input.selectionChanged())\ninput.cm.operation(function(){input.cm.curOp.selectionChanged=true;});},20);},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection);},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset;},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node);},focus:function(){if(this.cm.options.readOnly!=\"nocursor\")this.div.focus();},blur:function(){this.div.blur();},getField:function(){return this.div;},supportsTouch:function(){return true;},receivedFocus:function(){var input=this;if(this.selectionInEditor())\nthis.pollSelection();else\nrunInOp(this.cm,function(){input.cm.curOp.selectionChanged=true;});function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll);}}\nthis.polling.set(this.cm.options.pollInterval,poll);},selectionChanged:function(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset;},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=true;});}},pollContent:function(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){var fromLine=lineNo(display.view[0].line);var fromNode=display.view[0].node;}else{var fromLine=lineNo(display.view[fromIndex].line);var fromNode=display.view[fromIndex-1].node.nextSibling;}\nvar toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1){var toLine=display.viewTo-1;var toNode=display.view[toIndex].node;}else{var toLine=lineNo(display.view[toIndex+1].line)-1;var toNode=display.view[toIndex+1].node.previousSibling;}\nvar newText=splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--;}\nelse if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++;}\nelse break;}\nvar cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront))\n++cutFront;var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1))\n++cutEnd;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd);newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,\"+input\");return true;}},ensurePolled:function(){this.forceCompositionEnd();},reset:function(){this.forceCompositionEnd();},forceCompositionEnd:function(){if(!this.composing||this.composing.handled)return;this.applyComposition(this.composing);this.composing.handled=true;this.div.blur();this.div.focus();},applyComposition:function(composing){if(composing.data&&composing.data!=composing.startData)\noperation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel);},setUneditable:function(node){node.setAttribute(\"contenteditable\",\"false\");},onKeyPress:function(e){e.preventDefault();operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0);},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:true},ContentEditableInput.prototype);function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line),side=\"left\";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?\"right\":\"left\";}\nvar result=nodeAndOffsetInLineMap(info.map,pos.ch,\"left\");result.offset=result.collapse==\"right\"?result.end:result.start;return result;}\nfunction badPos(pos,bad){if(bad)pos.bad=true;return pos;}\nfunction domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0;}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break;}}\nfor(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)\nreturn locateNodeInLineView(lineView,node,offset);}}\nfunction locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad);}}\nvar textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length;}\nwhile(topNode.parentNode!=wrapper)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch);}}}}\nvar found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found)\nreturn badPos(Pos(found.line,found.ch-dist),bad);else\ndist+=after.textContent.length;}\nfor(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)\nreturn badPos(Pos(found.line,found.ch+dist),bad);else\ndist+=after.textContent.length;}}\nfunction domTextBetween(cm,from,to,fromLine,toLine){var text=\"\",closing=false;function recognizeMarker(id){return function(marker){return marker.id==id;};}\nfunction walk(node){if(node.nodeType==1){var cmText=node.getAttribute(\"cm-text\");if(cmText!=null){if(cmText==\"\")cmText=node.textContent.replace(/\\u200b/g,\"\");text+=cmText;return;}\nvar markerID=node.getAttribute(\"cm-marker\"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find()))\ntext+=getBetween(cm.doc,range.from,range.to).join(\"\\n\");return;}\nif(node.getAttribute(\"contenteditable\")==\"false\")return;for(var i=0;i<node.childNodes.length;i++)\nwalk(node.childNodes[i]);if(/^(pre|div|p)$/i.test(node.nodeName))\nclosing=true;}else if(node.nodeType==3){var val=node.nodeValue;if(!val)return;if(closing){text+=\"\\n\";closing=false;}\ntext+=val;}}\nfor(;;){walk(from);if(from==to)break;from=from.nextSibling;}\nreturn text;}\nCodeMirror.inputStyles={\"textarea\":TextareaInput,\"contenteditable\":ContentEditableInput};function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex;}\nSelection.prototype={primary:function(){return this.ranges[this.primIndex];},equals:function(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0)return false;}\nreturn true;},deepCopy:function(){for(var out=[],i=0;i<this.ranges.length;i++)\nout[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex);},somethingSelected:function(){for(var i=0;i<this.ranges.length;i++)\nif(!this.ranges[i].empty())return true;return false;},contains:function(pos,end){if(!end)end=pos;for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)\nreturn i;}\nreturn-1;}};function Range(anchor,head){this.anchor=anchor;this.head=head;}\nRange.prototype={from:function(){return minPos(this.anchor,this.head);},to:function(){return maxPos(this.anchor,this.head);},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;}};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from());});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,2,new Range(inv?to:from,inv?from:to));}}\nreturn new Selection(ranges,primIndex);}\nfunction simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0);}\nfunction clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1));}\nfunction clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length);}\nfunction clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos;}\nfunction isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size;}\nfunction clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out;}\nfunction extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=(cmp(other,anchor)<0)){anchor=head;head=other;}else if(posBefore!=(cmp(head,other)<0)){head=other;}}\nreturn new Range(anchor,head);}else{return new Range(other||head,head);}}\nfunction extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options);}\nfunction extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++)\nout[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options);}\nfunction replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options);}\nfunction setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options);}\nfunction filterSelectionChange(doc,sel){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)\nthis.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head));}};signal(doc,\"beforeSelectionChange\",doc,obj);if(doc.cm)signal(doc.cm,\"beforeSelectionChange\",doc.cm,obj);if(obj.ranges!=sel.ranges)return normalizeSelection(obj.ranges,obj.ranges.length-1);else return sel;}\nfunction setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options);}else{setSelection(doc,sel,options);}}\nfunction setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);}\nfunction setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,\"beforeSelectionChange\")||doc.cm&&hasHandler(doc.cm,\"beforeSelectionChange\"))\nsel=filterSelectionChange(doc,sel);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm)\nensureCursorVisible(doc.cm);}\nfunction setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm);}\nsignalLater(doc,\"cursorActivity\",doc);}\nfunction reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll);}\nfunction skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead);}}\nreturn out?normalizeSelection(out,sel.primIndex):sel;}\nfunction skipAtomic(doc,pos,bias,mayClear){var flipped=false,curPos=pos;var dir=bias||1;doc.cantEdit=false;search:for(;;){var line=getLine(doc,curPos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=curPos.ch:sp.from<curPos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=curPos.ch:sp.to>curPos.ch))){if(mayClear){signal(m,\"beforeCursorEnter\");if(m.explicitlyCleared){if(!line.markedSpans)break;else{--i;continue;}}}\nif(!m.atomic)continue;var newPos=m.find(dir<0?-1:1);if(cmp(newPos,curPos)==0){newPos.ch+=dir;if(newPos.ch<0){if(newPos.line>doc.first)newPos=clipPos(doc,Pos(newPos.line-1));else newPos=null;}else if(newPos.ch>line.text.length){if(newPos.line<doc.first+doc.size-1)newPos=Pos(newPos.line+1,0);else newPos=null;}\nif(!newPos){if(flipped){if(!mayClear)return skipAtomic(doc,pos,bias,true);doc.cantEdit=true;return Pos(doc.first,0);}\nflipped=true;newPos=pos;dir=-dir;}}\ncurPos=newPos;continue search;}}}\nreturn curPos;}}\nfunction updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection());}\nfunction prepareSelection(cm,primary){var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(primary===false&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting)\ndrawSelectionCursor(cm,range,curFragment);if(!collapsed)\ndrawSelectionRange(cm,range,selFragment);}\nreturn result;}\nfunction drawSelectionCursor(cm,range,output){var pos=cursorCoords(cm,range.head,\"div\",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt(\"div\",\"\\u00a0\",\"CodeMirror-cursor\"));cursor.style.left=pos.left+\"px\";cursor.style.top=pos.top+\"px\";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+\"px\";if(pos.other){var otherCursor=output.appendChild(elt(\"div\",\"\\u00a0\",\"CodeMirror-cursor CodeMirror-secondarycursor\"));otherCursor.style.display=\"\";otherCursor.style.left=pos.other.left+\"px\";otherCursor.style.top=pos.other.top+\"px\";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+\"px\";}}\nfunction drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;function add(left,top,width,bottom){if(top<0)top=0;top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+left+\"px; top: \"+top+\"px; width: \"+(width==null?rightSide-left:width)+\"px; height: \"+(bottom-top)+\"px\"));}\nfunction drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),\"div\",lineObj,bias);}\niterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,\"left\"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left;}else{rightPos=coords(to-1,\"right\");if(dir==\"rtl\"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp;}\nleft=leftPos.left;right=rightPos.right;}\nif(fromArg==null&&from==0)left=leftSide;if(rightPos.top-leftPos.top>3){add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top)add(left,leftPos.bottom,null,rightPos.top);}\nif(toArg==null&&to==lineLen)right=rightSide;if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)\nstart=leftPos;if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)\nend=rightPos;if(left<leftSide+1)left=leftSide;add(left,rightPos.top,right-left,rightPos.bottom);});return{start:start,end:end};}\nvar sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch);}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom);}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);}}\nif(leftEnd.bottom<rightStart.top)\nadd(leftSide,leftEnd.bottom,null,rightStart.top);}\noutput.appendChild(fragment);}\nfunction restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility=\"\";if(cm.options.cursorBlinkRate>0)\ndisplay.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?\"\":\"hidden\";},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)\ndisplay.cursorDiv.style.visibility=\"hidden\";}\nfunction startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo)\ncm.state.highlight.set(time,bind(highlightWorker,cm));}\nfunction highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first)doc.frontier=doc.first;if(doc.frontier>=cm.display.viewTo)return;var end=+new Date+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));var changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles;var highlighted=highlightLine(cm,line,state,true);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];if(ischange)changedLines.push(doc.frontier);line.stateAfter=copyState(doc.mode,state);}else{processLine(cm,line.text,state);line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;}\n++doc.frontier;if(+new Date>end){startWorker(cm,cm.options.workDelay);return true;}});if(changedLines.length)runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)\nregLineChange(cm,changedLines[i],\"text\");});}\nfunction findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);for(var search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented;}}\nreturn minline;}\nfunction getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return true;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state)state=startState(doc.mode);else state=copyState(doc.mode,state);doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos;});if(precise)doc.frontier=pos;return state;}\nfunction paddingTop(display){return display.lineSpace.offsetTop;}\nfunction paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight;}\nfunction paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt(\"pre\",\"x\"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data;}\nfunction scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth;}\nfunction displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth;}\nfunction displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight;}\nfunction ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)\nheights.push((cur.bottom+next.top)/ 2-rect.top);}}\nheights.push(rect.bottom-rect.top);}}\nfunction mapFromLineView(lineView,line,lineN){if(lineView.line==line)\nreturn{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)\nif(lineView.rest[i]==line)\nreturn{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i=0;i<lineView.rest.length;i++)\nif(lineNo(lineView.rest[i])>lineN)\nreturn{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:true};}\nfunction updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view;}\nfunction measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias);}\nfunction findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)\nreturn cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)\nreturn ext;}\nfunction prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text)\nview=null;else if(view&&view.changes)\nupdateLineForChanges(cm,view,lineN,getDimensions(cm));if(!view)\nview=updateExternalMeasurement(cm,line);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false};}\nfunction measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||\"\"),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key];}else{if(!prepared.rect)\nprepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true;}\nfound=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found;}\nreturn{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom};}\nvar nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse;for(var i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse=\"left\";}else if(ch<mEnd){start=ch-mStart;end=start+1;}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse=\"right\";}\nif(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?\"left\":\"right\"))\ncollapse=bias;if(bias==\"left\"&&start==0)\nwhile(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse=\"left\";}\nif(bias==\"right\"&&start==mEnd-mStart)\nwhile(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse=\"right\";}\nbreak;}}\nreturn{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd};}\nfunction measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i=0;i<4;i++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start)))--start;while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end)))++end;if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect();}else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();if(rects.length)\nrect=rects[bias==\"right\"?rects.length-1:0];else\nrect=nullRect;}else{rect=range(node,start,end).getBoundingClientRect()||nullRect;}\nif(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse=\"right\";}\nif(ie&&ie_version<11)rect=maybeUpdateRectForZooming(cm.display.measure,rect);}else{if(start>0)collapse=bias=\"right\";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)\nrect=rects[bias==\"right\"?rects.length-1:0];else\nrect=node.getBoundingClientRect();}\nif(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)\nrect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else\nrect=nullRect;}\nvar rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/ 2;var heights=prepared.view.measure.heights;for(var i=0;i<heights.length-1;i++)\nif(mid<heights[i])break;var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse==\"right\"?rect.right:rect.left)-prepared.rect.left,right:(collapse==\"left\"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot;}\nreturn result;}\nfunction maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))\nreturn rect;var scaleX=screen.logicalXDPI / screen.deviceXDPI;var scaleY=screen.logicalYDPI / screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY};}\nfunction clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)\nlineView.measure.caches[i]={};}}\nfunction clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)\nclearLineMeasurementCacheFor(cm.display.view[i]);}\nfunction clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null;}\nfunction pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}\nfunction pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;}\nfunction intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size;}\nif(context==\"line\")return rect;if(!context)context=\"local\";var yOff=heightAtLine(lineObj);if(context==\"local\")yOff+=paddingTop(cm.display);else yOff-=cm.display.viewOffset;if(context==\"page\"||context==\"window\"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context==\"window\"?0:pageScrollY());var xOff=lOff.left+(context==\"window\"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff;}\nrect.top+=yOff;rect.bottom+=yOff;return rect;}\nfunction fromCoordSystem(cm,coords,context){if(context==\"div\")return coords;var left=coords.left,top=coords.top;if(context==\"page\"){left-=pageScrollX();top-=pageScrollY();}else if(context==\"local\"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top;}\nvar lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top};}\nfunction charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context);}\nfunction cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?\"right\":\"left\",varHeight);if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context);}\nfunction getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true;}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false;}\nif(right&&ch==part.to&&ch>part.from)return get(ch-1);return get(ch,right);}\nvar order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null)val.other=getBidi(ch,bidiOther);return val;}\nfunction estimateCoords(cm,pos){var left=0,pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height};}\nfunction PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside)pos.outside=true;return pos;}\nfunction coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,true,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)\nreturn PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))\nlineN=lineNo(lineObj=mergedPos.to.line);else\nreturn found;}}\nfunction coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),\"line\",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom)return sp.left-adjust;else if(innerOff<sp.top)return sp.left+adjust;else wrongLine=false;return sp.left;}\nvar bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var xDiff=x-(ch==from?fromX:toX);while(isExtendingChar(lineObj.text.charAt(ch)))++ch;var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos;}\nvar step=Math.ceil(dist / 2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i)middle=moveVisually(lineObj,middle,1);}\nvar middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine)toX+=1000;dist=step;}\nelse{from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step;}}}\nvar measureText;function textHeight(display){if(display.cachedTextHeight!=null)return display.cachedTextHeight;if(measureText==null){measureText=elt(\"pre\");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode(\"x\"));measureText.appendChild(elt(\"br\"));}\nmeasureText.appendChild(document.createTextNode(\"x\"));}\nremoveChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight / 50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1;}\nfunction charWidth(display){if(display.cachedCharWidth!=null)return display.cachedCharWidth;var anchor=elt(\"span\",\"xxxxxxxxxx\");var pre=elt(\"pre\",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/ 10;if(width>2)display.cachedCharWidth=width;return width||10;}\nvar operationGroup=null;var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++nextOpId};if(operationGroup){operationGroup.ops.push(cm.curOp);}else{cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]};}}\nfunction fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)\ncallbacks[i]();for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)\nwhile(op.cursorActivityCalled<op.cursorActivityHandlers.length)\nop.cursorActivityHandlers[op.cursorActivityCalled++](op.cm);}}while(i<callbacks.length);}\nfunction endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group);}\nfinally{operationGroup=null;for(var i=0;i<group.ops.length;i++)\ngroup.ops[i].cm.curOp=null;endOperations(group);}}\nfunction endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++)\nendOperation_R1(ops[i]);for(var i=0;i<ops.length;i++)\nendOperation_W1(ops[i]);for(var i=0;i<ops.length;i++)\nendOperation_R2(ops[i]);for(var i=0;i<ops.length;i++)\nendOperation_W2(ops[i]);for(var i=0;i<ops.length;i++)\nendOperation_finish(ops[i]);}\nfunction endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);}\nfunction endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update);}\nfunction endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm));}\nif(op.updatedDisplay||op.selectionChanged)\nop.preparedSelection=display.input.prepareSelection();}\nfunction endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+\"px\";if(op.maxScrollLeft<cm.doc.scrollLeft)\nsetScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false;}\nif(op.preparedSelection)\ncm.display.input.showSelection(op.preparedSelection);if(op.updatedDisplay)\nsetDocumentHeight(cm,op.barMeasure);if(op.updatedDisplay||op.startHeight!=cm.doc.height)\nupdateScrollbars(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)\ncm.display.input.reset(op.typing);}\nfunction endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,op.update);if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))\ndisplay.wheelStartX=display.wheelStartY=null;if(op.scrollTop!=null&&(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scrollbars.setScrollTop(doc.scrollTop);display.scroller.scrollTop=doc.scrollTop;}\nif(op.scrollLeft!=null&&(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-displayWidth(cm),op.scrollLeft));display.scrollbars.setScrollLeft(doc.scrollLeft);display.scroller.scrollLeft=doc.scrollLeft;alignHorizontally(cm);}\nif(op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused)maybeScrollWindow(cm,coords);}\nvar hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)\nif(!hidden[i].lines.length)signal(hidden[i],\"hide\");if(unhidden)for(var i=0;i<unhidden.length;++i)\nif(unhidden[i].lines.length)signal(unhidden[i],\"unhide\");if(display.wrapper.offsetHeight)\ndoc.scrollTop=cm.display.scroller.scrollTop;if(op.changeObjs)\nsignal(cm,\"changes\",cm,op.changeObjs);if(op.update)\nop.update.finish();}\nfunction runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f();}\nfinally{endOperation(cm);}}\nfunction operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments);}\nfinally{endOperation(cm);}};}\nfunction methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments);}\nfinally{endOperation(this);}};}\nfunction docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments);}\nfinally{endOperation(cm);}};}\nfunction LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line);}\nfunction buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view);}\nreturn array;}\nfunction regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from))\ndisplay.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)\nresetView(cm);}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm);}else{display.viewFrom+=lendiff;display.viewTo+=lendiff;}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm);}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff;}else{resetView(cm);}}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);if(cut){display.view=display.view.slice(0,cut.index);display.viewTo=cut.lineN;}else{resetView(cm);}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff;}else{resetView(cm);}}\nvar ext=display.externalMeasured;if(ext){if(to<ext.lineN)\next.lineN+=lendiff;else if(from<ext.lineN+ext.size)\ndisplay.externalMeasured=null;}}\nfunction regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)\ndisplay.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type);}\nfunction resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0;}\nfunction findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n-=cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0)return i;}}\nfunction viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)\nreturn{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++)\nn+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=(n+view[index].size)-oldN;index++;}else{diff=n-oldN;}\noldN+=diff;newN+=diff;}\nwhile(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size;index+=dir;}\nreturn{index:index,lineN:newN};}\nfunction adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from;}else{if(display.viewFrom>from)\ndisplay.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)\ndisplay.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)\ndisplay.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)\ndisplay.view=display.view.slice(0,findViewIndex(cm,to));}\ndisplay.viewTo=to;}\nfunction countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty;}\nreturn dirty;}\nfunction registerEventHandlers(cm){var d=cm.display;on(d.scroller,\"mousedown\",operation(cm,onMouseDown));if(ie&&ie_version<11)\non(d.scroller,\"dblclick\",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head);}));else\non(d.scroller,\"dblclick\",function(e){signalDOMEvent(cm,e)||e_preventDefault(e);});if(!captureRightClick)on(d.scroller,\"contextmenu\",function(e){onContextMenu(cm,e);});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){d.activeTouch=null;},1000);prevTouch=d.activeTouch;prevTouch.end=+new Date;}};function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1;}\nfunction farAway(touch,other){if(other.left==null)return true;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20;}\non(d.scroller,\"touchstart\",function(e){if(!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY;}}});on(d.scroller,\"touchmove\",function(){if(d.activeTouch)d.activeTouch.moved=true;});on(d.scroller,\"touchend\",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,\"page\"),range;if(!touch.prev||farAway(touch,touch.prev))\nrange=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev))\nrange=cm.findWordAt(pos);else\nrange=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e);}\nfinishTouch();});on(d.scroller,\"touchcancel\",finishTouch);on(d.scroller,\"scroll\",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,\"scroll\",cm);}});on(d.scroller,\"mousewheel\",function(e){onScrollWheel(cm,e);});on(d.scroller,\"DOMMouseScroll\",function(e){onScrollWheel(cm,e);});on(d.wrapper,\"scroll\",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0;});function drag_(e){if(!signalDOMEvent(cm,e))e_stop(e);}\nif(cm.options.dragDrop){on(d.scroller,\"dragstart\",function(e){onDragStart(cm,e);});on(d.scroller,\"dragenter\",drag_);on(d.scroller,\"dragover\",drag_);on(d.scroller,\"drop\",operation(cm,onDrop));}\nvar inp=d.input.getField();on(inp,\"keyup\",function(e){onKeyUp.call(cm,e);});on(inp,\"keydown\",operation(cm,onKeyDown));on(inp,\"keypress\",operation(cm,onKeyPress));on(inp,\"focus\",bind(onFocus,cm));on(inp,\"blur\",bind(onBlur,cm));}\nfunction onResize(cm){var d=cm.display;if(d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth)\nreturn;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize();}\nfunction eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||(n.nodeType==1&&n.getAttribute(\"cm-ignore-events\")==\"true\")||(n.parentNode==display.sizer&&n!=display.mover))\nreturn true;}}\nfunction posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute(\"cm-not-content\")==\"true\")return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top;}\ncatch(e){return null;}\nvar coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/ charWidth(cm.display))-colDiff));}\nreturn coords;}\nfunction onMouseDown(e){var cm=this,display=cm.display;if(display.activeTouch&&display.input.supportsTouch()||signalDOMEvent(cm,e))return;display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){display.scroller.draggable=true;},100);}\nreturn;}\nif(clickInGutter(cm,e))return;var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1:if(start)\nleftButtonDown(cm,e,start);else if(e_target(e)==display.scroller)\ne_preventDefault(e);break;case 2:if(webkit)cm.state.lastMiddleDown=+new Date;if(start)extendSelection(cm.doc,start);setTimeout(function(){display.input.focus();},20);e_preventDefault(e);break;case 3:if(captureRightClick)onContextMenu(cm,e);break;}}\nvar lastClick,lastDoubleClick;function leftButtonDown(cm,e,start){if(ie)setTimeout(bind(ensureFocus,cm),0);else ensureFocus(cm);var now=+new Date,type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type=\"triple\";}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type=\"double\";lastDoubleClick={time:now,pos:start};}else{type=\"single\";lastClick={time:now,pos:start};}\nvar sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;if(cm.options.dragDrop&&dragAndDrop&&!isReadOnly(cm)&&type==\"single\"&&(contained=sel.contains(start))>-1&&!sel.ranges[contained].empty())\nleftButtonStartDrag(cm,e,start,modifier);else\nleftButtonSelect(cm,e,start,type,modifier);}\nfunction leftButtonStartDrag(cm,e,start,modifier){var display=cm.display;var dragEnd=operation(cm,function(e2){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;off(document,\"mouseup\",dragEnd);off(display.scroller,\"drop\",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);if(!modifier)\nextendSelection(cm.doc,start);if(webkit||ie&&ie_version==9)\nsetTimeout(function(){document.body.focus();display.input.focus();},20);else\ndisplay.input.focus();}});if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd;if(display.scroller.dragDrop)display.scroller.dragDrop();on(document,\"mouseup\",dragEnd);on(display.scroller,\"drop\",dragEnd);}\nfunction leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey){ourIndex=doc.sel.contains(start);if(ourIndex>-1)\nourRange=ranges[ourIndex];else\nourRange=new Range(start,start);}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex;}\nif(e.altKey){type=\"rect\";if(!addNew)ourRange=new Range(start,start);start=posFromMouse(cm,e,true,true);ourIndex=-1;}else if(type==\"double\"){var word=cm.findWordAt(start);if(cm.display.shift||doc.extend)\nourRange=extendRange(doc,ourRange,word.anchor,word.head);else\nourRange=word;}else if(type==\"triple\"){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend)\nourRange=extendRange(doc,ourRange,line.anchor,line.head);else\nourRange=line;}else{ourRange=extendRange(doc,ourRange,start);}\nif(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel;}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:\"*mouse\"});}else if(ranges.length>1&&ranges[ourIndex].empty()&&type==\"single\"&&!e.shiftKey){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0));startSel=doc.sel;}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);}\nvar lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(type==\"rect\"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right)\nranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)\nranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))));}\nif(!ranges.length)ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:\"*mouse\",scroll:false});cm.scrollIntoView(pos);}else{var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!=\"single\"){if(type==\"double\")\nvar range=cm.findWordAt(pos);else\nvar range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor);}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head);}}\nvar ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse);}}\nvar editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type==\"rect\");if(!cur)return;if(cmp(cur,lastPos)!=0){ensureFocus(cm);extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)\nsetTimeout(operation(cm,function(){if(counter==curCount)extend(e);}),150);}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e);}),50);}}\nfunction done(e){counter=Infinity;e_preventDefault(e);display.input.focus();off(document,\"mousemove\",move);off(document,\"mouseup\",up);doc.history.lastSelOrigin=null;}\nvar move=operation(cm,function(e){if(!e_button(e))done(e);else extend(e);});var up=operation(cm,done);on(document,\"mousemove\",move);on(document,\"mouseup\",up);}\nfunction gutterEvent(cm,e,type,prevent,signalfn){try{var mX=e.clientX,mY=e.clientY;}\ncatch(e){return false;}\nif(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signalfn(cm,type,cm,line,gutter,e);return e_defaultPrevented(e);}}}\nfunction clickInGutter(cm,e){return gutterEvent(cm,e,\"gutterClick\",true,signalLater);}\nvar lastDrop=0;function onDrop(e){var cm=this;if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))\nreturn;e_preventDefault(e);if(ie)lastDrop=+new Date;var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||isReadOnly(cm))return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function(file,i){var reader=new FileReader;reader.onload=operation(cm,function(){text[i]=reader.result;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:splitLines(text.join(\"\\n\")),origin:\"paste\"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)));}});reader.readAsText(file);};for(var i=0;i<n;++i)loadFile(files[i],i);}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){cm.display.input.focus();},20);return;}\ntry{var text=e.dataTransfer.getData(\"Text\");if(text){if(cm.state.draggingText&&!(mac?e.metaKey:e.ctrlKey))\nvar selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected)for(var i=0;i<selected.length;++i)\nreplaceRange(cm.doc,\"\",selected[i].anchor,selected[i].head,\"drag\");cm.replaceSelection(text,\"around\",\"paste\");cm.display.input.focus();}}\ncatch(e){}}}\nfunction onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return;}\nif(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData(\"Text\",cm.getSelection());if(e.dataTransfer.setDragImage&&!safari){var img=elt(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");img.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop;}\ne.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img);}}\nfunction setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2)return;cm.doc.scrollTop=val;if(!gecko)updateDisplaySimple(cm,{top:val});if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(gecko)updateDisplaySimple(cm);startWorker(cm,100);}\nfunction setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)return;val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val);}\nvar wheelSamples=0,wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;var wheelEventDelta=function(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return{x:dx,y:dy};};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta;};function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;if(!(dx&&scroll.scrollWidth>scroll.clientWidth||dy&&scroll.scrollHeight>scroll.clientHeight))return;if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer;}}}}\nif(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy)\nsetScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)));setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));e_preventDefault(e);display.wheelStartX=null;return;}\nif(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot});}\nif(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=(movedY&&display.wheelDY&&movedY / display.wheelDY)||(movedX&&display.wheelDX&&movedX / display.wheelDX);display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples;},200);}else{display.wheelDX+=dx;display.wheelDY+=dy;}}}\nfunction doHandleBinding(cm,bound,dropShift){if(typeof bound==\"string\"){bound=commands[bound];if(!bound)return false;}\ncm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(isReadOnly(cm))cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass;}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false;}\nreturn done;}\nfunction lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result;}\nreturn(cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm))||lookupKey(name,cm.options.keyMap,handle,cm);}\nvar stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return\"handled\";stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset();}});name=seq+\" \"+name;}\nvar result=lookupKeyForEditor(cm,name,handle);if(result==\"multi\")\ncm.state.keySeq=name;if(result==\"handled\")\nsignalLater(cm,\"keyHandled\",cm,name,e);if(result==\"handled\"||result==\"multi\"){e_preventDefault(e);restartBlink(cm);}\nif(seq&&!result&&/\\'$/.test(name)){e_preventDefault(e);return true;}\nreturn!!result;}\nfunction handleKeyBinding(cm,e){var name=keyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,\"Shift-\"+name,e,function(b){return doHandleBinding(cm,b,true);})||dispatchKey(cm,name,e,function(b){if(typeof b==\"string\"?/^go[A-Z]/.test(b):b.motion)\nreturn doHandleBinding(cm,b);});}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b);});}}\nfunction handleCharBinding(cm,e,ch){return dispatchKey(cm,\"'\"+ch+\"'\",e,function(b){return doHandleBinding(cm,b,true);});}\nvar lastStoppedKey=null;function onKeyDown(e){var cm=this;ensureFocus(cm);if(signalDOMEvent(cm,e))return;if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))\ncm.replaceSelection(\"\",null,\"cut\");}\nif(code==18&&!/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\nshowCrossHair(cm);}\nfunction showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,\"CodeMirror-crosshair\");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,\"CodeMirror-crosshair\");off(document,\"keyup\",up);off(document,\"mouseover\",up);}}\non(document,\"keyup\",up);on(document,\"mouseover\",up);}\nfunction onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e);}\nfunction onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return;}\nif((presto&&(!e.which||e.which<10))&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e);}\nfunction onFocus(cm){if(cm.options.readOnly==\"nocursor\")return;if(!cm.state.focused){signal(cm,\"focus\",cm);cm.state.focused=true;addClass(cm.display.wrapper,\"CodeMirror-focused\");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){cm.display.input.reset(true);},20);}\ncm.display.input.receivedFocus();}\nrestartBlink(cm);}\nfunction onBlur(cm){if(cm.state.focused){signal(cm,\"blur\",cm);cm.state.focused=false;rmClass(cm.display.wrapper,\"CodeMirror-focused\");}\nclearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false;},150);}\nfunction onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;cm.display.input.onContextMenu(e);}\nfunction contextMenuInGutter(cm,e){if(!hasHandler(cm,\"gutterContextMenu\"))return false;return gutterEvent(cm,e,\"gutterContextMenu\",false,signal);}\nvar changeEnd=CodeMirror.changeEnd=function(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0));};function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line)ch+=changeEnd(change).ch-change.to.ch;return Pos(line,ch);}\nfunction computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));}\nreturn normalizeSelection(out,doc.sel.primIndex);}\nfunction offsetPos(pos,old,nw){if(pos.line==old.line)\nreturn Pos(nw.line,pos.ch-old.ch+nw.ch);else\nreturn Pos(nw.line+(pos.line-old.line),pos.ch);}\nfunction computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint==\"around\"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to);}else{out[i]=new Range(from,from);}}\nreturn new Selection(out,doc.sel.primIndex);}\nfunction filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){this.canceled=true;}};if(update)obj.update=function(from,to,text,origin){if(from)this.from=clipPos(doc,from);if(to)this.to=clipPos(doc,to);if(text)this.text=text;if(origin!==undefined)this.origin=origin;};signal(doc,\"beforeChange\",doc,obj);if(doc.cm)signal(doc.cm,\"beforeChange\",doc.cm,obj);if(obj.canceled)return null;return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin};}\nfunction makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return;}\nif(hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\")){change=filterChange(doc,change,true);if(!change)return;}\nvar split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i)\nmakeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[\"\"]:change.text});}else{makeChangeInner(doc,change);}}\nfunction makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==\"\"&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}\nmakeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change));});}\nfunction makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits)return;var hist=doc.history,event,selAfter=doc.sel;var source=type==\"undo\"?hist.done:hist.undone,dest=type==\"undo\"?hist.undone:hist.done;for(var i=0;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)\nbreak;}\nif(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return;}\nselAfter=event;}\nelse break;}\nvar antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\");for(var i=event.changes.length-1;i>=0;--i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return;}\nantiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}\nmakeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change));});}}\nfunction shiftDoc(doc,distance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch));}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)\nregLineChange(doc.cm,l,\"gutter\");}}\nfunction makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)\nreturn operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return;}\nif(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin};}\nvar last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};}\nchange.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);}\nfunction makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true;}});}\nif(doc.sel.contains(change.from,change.to)>-1)\nsignalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false;}});if(recomputeMaxLength)cm.curOp.updateMaxLine=true;}\ndoc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full)\nregChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))\nregLineChange(cm,from.line,\"text\");else\nregChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,\"changes\"),changeHandler=hasHandler(cm,\"change\");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,\"change\",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj);}\ncm.display.selForContextMenu=null;}\nfunction replaceRange(doc,code,from,to,origin){if(!to)to=from;if(cmp(to,from)<0){var tmp=to;to=from;from=tmp;}\nif(typeof code==\"string\")code=splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin});}\nfunction maybeScrollWindow(cm,coords){if(signalDOMEvent(cm,\"scrollCursorIntoView\"))return;var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0)doScroll=true;else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt(\"div\",\"\\u200b\",null,\"position: absolute; top: \"+\n(coords.top-display.viewOffset-paddingTop(cm.display))+\"px; height: \"+\n(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+\"px; left: \"+\ncoords.left+\"px; width: 2px;\");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode);}}\nfunction scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;for(var limit=0;limit<5;limit++){var changed=false,coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true;}\nif(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=true;}\nif(!changed)break;}\nreturn coords;}\nfunction scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null)setScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft);}\nfunction calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0)y1=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(y2-y1>screen)y2=y1+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1;}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop)result.scrollTop=newTop;}\nvar screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=x2-x1>screenw;if(tooWide)x2=x1+screenw;if(x1<10)\nresult.scrollLeft=0;else if(x1<screenleft)\nresult.scrollLeft=Math.max(0,x1-(tooWide?0:10));else if(x2>screenw+screenleft-3)\nresult.scrollLeft=x2+(tooWide?0:10)-screenw;return result;}\nfunction addToScrollPos(cm,left,top){if(left!=null||top!=null)resolveScrollToPos(cm);if(left!=null)\ncm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left;if(top!=null)\ncm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top;}\nfunction ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1);}\ncm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true};}\nfunction resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop);}}\nfunction indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null)how=\"add\";if(how==\"smart\"){if(!doc.mode.indent)how=\"prev\";else state=getStateBefore(cm,n);}\nvar tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\\s*/)[0],indentation;if(!aggressive&&!/\\S/.test(line.text)){indentation=0;how=\"not\";}else if(how==\"smart\"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how=\"prev\";}}\nif(how==\"prev\"){if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;}else if(how==\"add\"){indentation=curSpace+cm.options.indentUnit;}else if(how==\"subtract\"){indentation=curSpace-cm.options.indentUnit;}else if(typeof how==\"number\"){indentation=curSpace+how;}\nindentation=Math.max(0,indentation);var indentString=\"\",pos=0;if(cm.options.indentWithTabs)\nfor(var i=Math.floor(indentation / tabSize);i;--i){pos+=tabSize;indentString+=\"\\t\";}\nif(pos<indentation)indentString+=spaceStr(indentation-pos);if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),\"+input\");}else{for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break;}}}\nline.stateAfter=null;}\nfunction changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle==\"number\")line=getLine(doc,clipLine(doc,handle));else no=lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line;}\nfunction deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break;}}\nkill.push(toKill);}\nrunInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)\nreplaceRange(cm.doc,\"\",kill[i].from,kill[i].to,\"+delete\");ensureCursorVisible(cm);});}\nfunction findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);var possible=true;function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size)return(possible=false);line=l;return lineObj=getLine(doc,l);}\nfunction moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually)ch=(dir<0?lineRight:lineLeft)(lineObj);else ch=dir<0?lineObj.text.length:0;}else return(possible=false);}else ch=next;return true;}\nif(unit==\"char\")moveOnce();else if(unit==\"column\")moveOnce(true);else if(unit==\"word\"||unit==\"group\"){var sawType=null,group=unit==\"group\";var helper=doc.cm&&doc.cm.getHelper(pos,\"wordChars\");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(ch)||\"\\n\";var type=isWordChar(cur,helper)?\"w\":group&&cur==\"\\n\"?\"n\":!group||/\\s/.test(cur)?null:\"p\";if(group&&!first&&!type)type=\"s\";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();}\nbreak;}\nif(type)sawType=type;if(dir>0&&!moveOnce(!first))break;}}\nvar result=skipAtomic(doc,Pos(line,ch),origDir,true);if(!possible)result.hitSide=true;return result;}\nfunction findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit==\"page\"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display));}else if(unit==\"line\"){y=dir>0?pos.bottom+3:pos.top-3;}\nfor(;;){var target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break;}\ny+=dir*5;}\nreturn target;}\nCodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus();},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!=\"mode\")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))\noperation(this,optionHandlers[option])(this,value,old);},getOption:function(option){return this.options[option];},getDoc:function(){return this.doc;},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?\"push\":\"unshift\"](getKeyMap(map));},removeKeyMap:function(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i)\nif(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true;}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error(\"Overlays may not be stateful.\");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque});this.state.modeGen++;regChange(this);}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec==\"string\"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;regChange(this);return;}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!=\"string\"&&typeof dir!=\"number\"){if(dir==null)dir=this.options.smartIndent?\"smart\":\"prev\";else dir=dir?\"add\":\"subtract\";}\nif(isLine(this.doc,n))indentLine(this,n,dir,aggressive);}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),to=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)\nindentLine(this,j,how);var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)\nreplaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll);}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this);}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise);},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,true);},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/ 2,ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=(before+after)>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else{type=styles[mid*2+2];break;}}\nvar cut=type?type.indexOf(\"cm-overlay \"):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1);},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode;},getHelper:function(pos,type){return this.getHelpers(pos,type)[0];},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]==\"string\"){if(help[mode[type]])found.push(help[mode[type]]);}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val)found.push(val);}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType]);}else if(help[mode.name]){found.push(help[mode.name]);}\nfor(var i=0;i<help._global.length;i++){var cur=help._global[i];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)\nfound.push(cur.val);}\nreturn found;},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise);},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();if(start==null)pos=range.head;else if(typeof start==\"object\")pos=clipPos(this.doc,start);else pos=start?range.from():range.to();return cursorCoords(this,pos,mode||\"page\");},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||\"page\");},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||\"page\");return coordsChar(this,coords.left,coords.top);},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||\"page\").top;return lineAtHeight(this.doc,height+this.display.viewOffset);},heightAtLine:function(line,mode){var end=false,last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true;}\nvar lineObj=getLine(this.doc,line);return intoCoordSystem(this,lineObj,{top:0,left:0},mode||\"page\").top+\n(end?this.doc.height-heightAtLine(lineObj):0);},defaultTextHeight:function(){return textHeight(this.display);},defaultCharWidth:function(){return charWidth(this.display);},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,\"gutter\",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true;});}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){line.gutterMarkers[gutterID]=null;regLineChange(cm,i,\"gutter\");if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;}\n++i;});}),lineInfo:function(line){if(typeof line==\"number\"){if(!isLine(this.doc,line))return null;var n=line;line=getLine(this.doc,line);if(!line)return null;}else{var n=lineNo(line);if(n==null)return null;}\nreturn{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets};},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position=\"absolute\";node.setAttribute(\"cm-ignore-events\",\"true\");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert==\"over\"){top=pos.top;}else if(vert==\"above\"||vert==\"near\"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=='above'||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)\ntop=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)\ntop=pos.bottom;if(left+node.offsetWidth>hspace)\nleft=hspace-node.offsetWidth;}\nnode.style.top=top+\"px\";node.style.left=node.style.right=\"\";if(horiz==\"right\"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right=\"0px\";}else{if(horiz==\"left\")left=0;else if(horiz==\"middle\")left=(display.sizer.clientWidth-node.offsetWidth)/ 2;node.style.left=left+\"px\";}\nif(scroll)\nscrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight);},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(cmd){if(commands.hasOwnProperty(cmd))\nreturn commands[cmd](this);},findPosH:function(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount;}\nfor(var i=0,cur=clipPos(this.doc,from);i<amount;++i){cur=findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break;}\nreturn cur;},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())\nreturn findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually);else\nreturn dir<0?range.from():range.to();},sel_move);}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected())\ndoc.replaceSelection(\"\",null,\"+delete\");else\ndeleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other};});}),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount;}\nfor(var i=0,cur=clipPos(this.doc,from);i<amount;++i){var coords=cursorCoords(this,cur,\"div\");if(x==null)x=coords.left;else coords.left=x;cur=findPosV(this,coords,dir,unit);if(cur.hitSide)break;}\nreturn cur;},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[];var collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)\nreturn dir<0?range.from():range.to();var headPos=cursorCoords(cm,range.head,\"div\");if(range.goalColumn!=null)headPos.left=range.goalColumn;goals.push(headPos.left);var pos=findPosV(cm,headPos,dir,unit);if(unit==\"page\"&&range==doc.sel.primary())\naddToScrollPos(cm,null,charCoords(cm,pos,\"div\").top-headPos.top);return pos;},sel_move);if(goals.length)for(var i=0;i<doc.sel.ranges.length;i++)\ndoc.sel.ranges[i].goalColumn=goals[i];}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,\"wordChars\");if((pos.xRel<0||end==line.length)&&start)--start;else++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper);}:/\\s/.test(startChar)?function(ch){return /\\s/.test(ch);}:function(ch){return!/\\s/.test(ch)&&!isWordChar(ch);};while(start>0&&check(line.charAt(start-1)))--start;while(end<line.length&&check(line.charAt(end)))++end;}\nreturn new Range(Pos(pos.line,start),Pos(pos.line,end));},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)\naddClass(this.display.cursorDiv,\"CodeMirror-overwrite\");else\nrmClass(this.display.cursorDiv,\"CodeMirror-overwrite\");signal(this,\"overwriteToggle\",this,this.state.overwrite);},hasFocus:function(){return this.display.input.getField()==activeElt();},scrollTo:methodOp(function(x,y){if(x!=null||y!=null)resolveScrollToPos(this);if(x!=null)this.curOp.scrollLeft=x;if(y!=null)this.curOp.scrollTop=y;}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)};},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin;}else if(typeof range==\"number\"){range={from:Pos(range,0),to:null};}else if(range.from==null){range={from:range,to:null};}\nif(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range;}else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop);}}),setSize:methodOp(function(width,height){var cm=this;function interpret(val){return typeof val==\"number\"||/^\\d+$/.test(String(val))?val+\"px\":val;}\nif(width!=null)cm.display.wrapper.style.width=interpret(width);if(height!=null)cm.display.wrapper.style.height=interpret(height);if(cm.options.lineWrapping)clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)\nif(line.widgets[i].noHScroll){regLineChange(cm,lineNo,\"widget\");break;}\n++lineNo;});cm.curOp.forceUpdate=true;signal(cm,\"refresh\",this);}),operation:function(f){return runInOp(this,f);},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5)\nestimateLineHeights(this);signal(this,\"refresh\",this);}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();this.scrollTo(doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,\"swapDoc\",this,old);return old;}),getInputField:function(){return this.display.input.getField();},getWrapperElement:function(){return this.display.wrapper;},getScrollerElement:function(){return this.display.scroller;},getGutterElement:function(){return this.display.gutters;}};eventMixin(CodeMirror);var defaults=CodeMirror.defaults={};var optionHandlers=CodeMirror.optionHandlers={};function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old);}:handle;}\nvar Init=CodeMirror.Init={toString:function(){return\"CodeMirror.Init\";}};option(\"value\",\"\",function(cm,val){cm.setValue(val);},true);option(\"mode\",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm);},true);option(\"indentUnit\",2,loadMode,true);option(\"indentWithTabs\",false);option(\"smartIndent\",true);option(\"tabSize\",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm);},true);option(\"specialChars\",/[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test(\"\\t\")?\"\":\"|\\t\"),\"g\");if(old!=CodeMirror.Init)cm.refresh();});option(\"specialCharPlaceholder\",defaultSpecialCharPlaceholder,function(cm){cm.refresh();},true);option(\"electricChars\",true);option(\"inputStyle\",mobile?\"contenteditable\":\"textarea\",function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\");},true);option(\"rtlMoveVisually\",!windows);option(\"wholeLineUpdateBefore\",true);option(\"theme\",\"default\",function(cm){themeChanged(cm);guttersChanged(cm);},true);option(\"keyMap\",\"default\",function(cm,val,old){var next=getKeyMap(val);var prev=old!=CodeMirror.Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null);});option(\"extraKeys\",null);option(\"lineWrapping\",false,wrappingChanged,true);option(\"gutters\",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option(\"fixedGutter\",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+\"px\":\"0\";cm.refresh();},true);option(\"coverGutterNextToScrollbar\",false,function(cm){updateScrollbars(cm);},true);option(\"scrollbarStyle\",\"native\",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);},true);option(\"lineNumbers\",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option(\"firstLineNumber\",1,guttersChanged,true);option(\"lineNumberFormatter\",function(integer){return integer;},guttersChanged,true);option(\"showCursorWhenSelecting\",false,updateSelection,true);option(\"resetSelectionOnContextMenu\",true);option(\"readOnly\",false,function(cm,val){if(val==\"nocursor\"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true;}else{cm.display.disabled=false;if(!val)cm.display.input.reset();}});option(\"disableInput\",false,function(cm,val){if(!val)cm.display.input.reset();},true);option(\"dragDrop\",true);option(\"cursorBlinkRate\",530);option(\"cursorScrollMargin\",0);option(\"cursorHeight\",1,updateSelection,true);option(\"singleCursorHeightPerLine\",true,updateSelection,true);option(\"workTime\",100);option(\"workDelay\",100);option(\"flattenSpans\",true,resetModeState,true);option(\"addModeClass\",false,resetModeState,true);option(\"pollInterval\",100);option(\"undoDepth\",200,function(cm,val){cm.doc.history.undoDepth=val;});option(\"historyEventDelay\",1250);option(\"viewportMargin\",10,function(cm){cm.refresh();},true);option(\"maxHighlightLength\",10000,resetModeState,true);option(\"moveInputWithCursor\",true,function(cm,val){if(!val)cm.display.input.resetPosition();});option(\"tabindex\",null,function(cm,val){cm.display.input.getField().tabIndex=val||\"\";});option(\"autofocus\",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){if(!CodeMirror.defaults.mode&&name!=\"null\")CodeMirror.defaults.mode=name;if(arguments.length>2)\nmode.dependencies=Array.prototype.slice.call(arguments,2);modes[name]=mode;};CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec;};CodeMirror.resolveMode=function(spec){if(typeof spec==\"string\"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec];}else if(spec&&typeof spec.name==\"string\"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found==\"string\")found={name:found};spec=createObj(found,spec);spec.name=found.name;}else if(typeof spec==\"string\"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)){return CodeMirror.resolveMode(\"application/xml\");}\nif(typeof spec==\"string\")return{name:spec};else return spec||{name:\"null\"};};CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,\"text/plain\");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj[\"_\"+prop]=modeObj[prop];modeObj[prop]=exts[prop];}}\nmodeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps)for(var prop in spec.modeProps)\nmodeObj[prop]=spec.modeProps[prop];return modeObj;};CodeMirror.defineMode(\"null\",function(){return{token:function(stream){stream.skipToEnd();}};});CodeMirror.defineMIME(\"text/plain\",\"null\");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:(modeExtensions[mode]={});copyObj(properties,exts);};CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func;};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func;};CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f);};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value;};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value});};var copyState=CodeMirror.copyState=function(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val;}\nreturn nstate;};var startState=CodeMirror.startState=function(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true;};CodeMirror.innerMode=function(mode,state){while(mode.innerMode){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode;}\nreturn info||{mode:mode,state:state};};var commands=CodeMirror.commands={selectAll:function(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll);},singleSelection:function(cm){cm.setSelection(cm.getCursor(\"anchor\"),cm.getCursor(\"head\"),sel_dontScroll);},killLine:function(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())\nreturn{from:range.head,to:Pos(range.head.line+1,0)};else\nreturn{from:range.head,to:Pos(range.head.line,len)};}else{return{from:range.from(),to:range.to()};}});},deleteLine:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))};});},delLineLeft:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()};});},delWrappedLineLeft:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,\"div\").top+5;var leftPos=cm.coordsChar({left:0,top:top},\"div\");return{from:leftPos,to:range.from()};});},delWrappedLineRight:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,\"div\").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\");return{from:range.from(),to:rightPos};});},undo:function(cm){cm.undo();},redo:function(cm){cm.redo();},undoSelection:function(cm){cm.undoSelection();},redoSelection:function(cm){cm.redoSelection();},goDocStart:function(cm){cm.extendSelection(Pos(cm.firstLine(),0));},goDocEnd:function(cm){cm.extendSelection(Pos(cm.lastLine()));},goLineStart:function(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line);},{origin:\"+move\",bias:1});},goLineStartSmart:function(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head);},{origin:\"+move\",bias:1});},goLineEnd:function(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line);},{origin:\"+move\",bias:-1});},goLineRight:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\");},sel_move);},goLineLeft:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;return cm.coordsChar({left:0,top:top},\"div\");},sel_move);},goLineLeftSmart:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;var pos=cm.coordsChar({left:0,top:top},\"div\");if(pos.ch<cm.getLine(pos.line).search(/\\S/))return lineStartSmart(cm,range.head);return pos;},sel_move);},goLineUp:function(cm){cm.moveV(-1,\"line\");},goLineDown:function(cm){cm.moveV(1,\"line\");},goPageUp:function(cm){cm.moveV(-1,\"page\");},goPageDown:function(cm){cm.moveV(1,\"page\");},goCharLeft:function(cm){cm.moveH(-1,\"char\");},goCharRight:function(cm){cm.moveH(1,\"char\");},goColumnLeft:function(cm){cm.moveH(-1,\"column\");},goColumnRight:function(cm){cm.moveH(1,\"column\");},goWordLeft:function(cm){cm.moveH(-1,\"word\");},goGroupRight:function(cm){cm.moveH(1,\"group\");},goGroupLeft:function(cm){cm.moveH(-1,\"group\");},goWordRight:function(cm){cm.moveH(1,\"word\");},delCharBefore:function(cm){cm.deleteH(-1,\"char\");},delCharAfter:function(cm){cm.deleteH(1,\"char\");},delWordBefore:function(cm){cm.deleteH(-1,\"word\");},delWordAfter:function(cm){cm.deleteH(1,\"word\");},delGroupBefore:function(cm){cm.deleteH(-1,\"group\");},delGroupAfter:function(cm){cm.deleteH(1,\"group\");},indentAuto:function(cm){cm.indentSelection(\"smart\");},indentMore:function(cm){cm.indentSelection(\"add\");},indentLess:function(cm){cm.indentSelection(\"subtract\");},insertTab:function(cm){cm.replaceSelection(\"\\t\");},insertSoftTab:function(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(new Array(tabSize-col%tabSize+1).join(\" \"));}\ncm.replaceSelections(spaces);},defaultTab:function(cm){if(cm.somethingSelected())cm.indentSelection(\"add\");else cm.execCommand(\"insertTab\");},transposeChars:function(cm){runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,\"+transpose\");}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev)\ncm.replaceRange(line.charAt(0)+\"\\n\"+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),\"+transpose\");}}\nnewSel.push(new Range(cur,cur));}\ncm.setSelections(newSel);});},newlineAndIndent:function(cm){runInOp(cm,function(){var len=cm.listSelections().length;for(var i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange(\"\\n\",range.anchor,range.head,\"+input\");cm.indentLine(range.from().line+1,null,true);ensureCursorVisible(cm);}});},toggleOverwrite:function(cm){cm.toggleOverwrite();}};var keyMap=CodeMirror.keyMap={};keyMap.basic={\"Left\":\"goCharLeft\",\"Right\":\"goCharRight\",\"Up\":\"goLineUp\",\"Down\":\"goLineDown\",\"End\":\"goLineEnd\",\"Home\":\"goLineStartSmart\",\"PageUp\":\"goPageUp\",\"PageDown\":\"goPageDown\",\"Delete\":\"delCharAfter\",\"Backspace\":\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",\"Tab\":\"defaultTab\",\"Shift-Tab\":\"indentAuto\",\"Enter\":\"newlineAndIndent\",\"Insert\":\"toggleOverwrite\",\"Esc\":\"singleSelection\"};keyMap.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"};keyMap.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Alt-F\":\"goWordRight\",\"Alt-B\":\"goWordLeft\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-D\":\"delWordAfter\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\"};keyMap.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]};keyMap[\"default\"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/),name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)$/i.test(mod))shift=true;else throw new Error(\"Unrecognized modifier name: \"+mod);}\nif(alt)name=\"Alt-\"+name;if(ctrl)name=\"Ctrl-\"+name;if(cmd)name=\"Cmd-\"+name;if(shift)name=\"Shift-\"+name;return name;}\nCodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value==\"...\"){delete keymap[keyname];continue;}\nvar keys=map(keyname.split(\" \"),normalizeKeyName);for(var i=0;i<keys.length;i++){var val,name;if(i==keys.length-1){name=keyname;val=value;}else{name=keys.slice(0,i+1).join(\" \");val=\"...\";}\nvar prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error(\"Inconsistent bindings for \"+name);}\ndelete keymap[keyname];}\nfor(var prop in copy)keymap[prop]=copy[prop];return keymap;};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return\"nothing\";if(found===\"...\")return\"multi\";if(found!=null&&handle(found))return\"handled\";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!=\"[object Array]\")\nreturn lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result;}}};var isModifierKey=CodeMirror.isModifierKey=function(value){var name=typeof value==\"string\"?value:keyNames[value.keyCode];return name==\"Ctrl\"||name==\"Alt\"||name==\"Shift\"||name==\"Mod\";};var keyName=CodeMirror.keyName=function(event,noShift){if(presto&&event.keyCode==34&&event[\"char\"])return false;var base=keyNames[event.keyCode],name=base;if(name==null||event.altGraphKey)return false;if(event.altKey&&base!=\"Alt\")name=\"Alt-\"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!=\"Ctrl\")name=\"Ctrl-\"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!=\"Cmd\")name=\"Cmd-\"+name;if(!noShift&&event.shiftKey&&base!=\"Shift\")name=\"Shift-\"+name;return name;};function getKeyMap(val){return typeof val==\"string\"?keyMap[val]:val;}\nCodeMirror.fromTextArea=function(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)\noptions.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)\noptions.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute(\"autofocus\")!=null&&hasFocus==document.body;}\nfunction save(){textarea.value=cm.getValue();}\nif(textarea.form){on(textarea.form,\"submit\",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit;};}catch(e){}}}\noptions.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea;};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display=\"\";if(textarea.form){off(textarea.form,\"submit\",save);if(typeof textarea.form.submit==\"function\")\ntextarea.form.submit=realSubmit;}};};textarea.style.display=\"none\";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling);},options);return cm;};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};StringStream.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==this.lineStart;},peek:function(){return this.string.charAt(this.pos)||undefined;},next:function(){if(this.pos<this.string.length)\nreturn this.string.charAt(this.pos++);},eat:function(match){var ch=this.string.charAt(this.pos);if(typeof match==\"string\")var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch;}},eatWhile:function(match){var start=this.pos;while(this.eat(match)){}\nreturn this.pos>start;},eatSpace:function(){var start=this.pos;while(/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>start;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true;}},backUp:function(n){this.pos-=n;},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}\nreturn this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},indentation:function(){return countColumn(this.string,null,this.tabSize)-\n(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},match:function(pattern,consume,caseInsensitive){if(typeof pattern==\"string\"){var cased=function(str){return caseInsensitive?str.toLowerCase():str;};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true;}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;if(match&&consume!==false)this.pos+=match[0].length;return match;}},current:function(){return this.string.slice(this.start,this.pos);},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner();}\nfinally{this.lineStart-=n;}}};var nextMarkerId=0;var TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId;};eventMixin(TextMarker);TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,\"clear\")){var found=this.find();if(found)signalLater(this,\"clear\",found.from,found.to);}\nvar min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),\"text\");else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line);}\nline.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)\nupdateLineHeight(line,textHeight(cm.display));}\nif(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true;}}\nif(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc);}\nif(cm)signalLater(cm,\"markerCleared\",cm,this);if(withOp)endOperation(cm);if(this.parent)this.parent.clear();};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type==\"bookmark\")side=1;var from,to;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from;}\nif(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to;}}\nreturn from&&{from:from,to:to};};TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true;}\ncm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)\nupdateLineHeight(line,line.height+dHeight);}});};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)\n(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);}\nthis.lines.push(line);};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this);}};var nextMarkerId=0;function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options)copyObj(options,marker,false);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)\nreturn marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=elt(\"span\",[marker.replacedWith],\"CodeMirror-widget\");if(!options.handleMouseEvents)marker.widgetNode.setAttribute(\"cm-ignore-events\",\"true\");if(options.insertLeft)marker.widgetNode.insertLeft=true;}\nif(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))\nthrow new Error(\"Inserting collapsed marker partially overlapping an existing one\");sawCollapsedSpans=true;}\nif(marker.addToHistory)\naddChangeToHistory(doc,{from:from,to:to,origin:\"markText\"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine)\nupdateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine;});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0);});if(marker.clearOnEnter)on(marker,\"beforeCursorEnter\",function(){marker.clear();});if(marker.readOnly){sawReadOnlySpans=true;if(doc.history.done.length||doc.history.undone.length)\ndoc.clearHistory();}\nif(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true;}\nif(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)\nregChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)\nfor(var i=from.line;i<=to.line;i++)regLineChange(cm,i,\"text\");if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,\"markerAdded\",cm,marker);}\nreturn marker;}\nvar SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i)\nmarkers[i].parent=this;};eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i)\nthis.markers[i].clear();signalLater(this,\"clear\");};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj);};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)\nif(doc.linked[i].isParent)return;primary=lst(markers);});return new SharedTextMarker(markers,primary);}\nfunction findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent;});}\nfunction copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker;}}}\nfunction detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];;linkedDocs(marker.primary.doc,function(d){linked.push(d);});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1);}}}}\nfunction MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to;}\nfunction getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span;}}\nfunction removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)\nif(spans[i]!=span)(r||(r=[])).push(spans[i]);return r;}\nfunction addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line);}\nfunction markedSpansBefore(old,startCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type==\"bookmark\"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to));}}\nreturn nw;}\nfunction markedSpansAfter(old,endCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type==\"bookmark\"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh));}}\nreturn nw;}\nfunction stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset;}}}\nif(last){for(var i=0;i<last.length;++i){var span=last[i];if(span.to!=null)span.to+=offset;if(span.from==null){var found=getMarkedSpanFor(first,span.marker);if(!found){span.from=offset;if(sameLine)(first||(first=[])).push(span);}}else{span.from+=offset;if(sameLine)(first||(first=[])).push(span);}}}\nif(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first)\nfor(var i=0;i<first.length;++i)\nif(first[i].to==null)\n(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));for(var i=0;i<gap;++i)\nnewMarkers.push(gapMarkers);newMarkers.push(last);}\nreturn newMarkers;}\nfunction clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)\nspans.splice(i--,1);}\nif(!spans.length)return null;return spans;}\nfunction mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k)\nif(oldCur[k].marker==span.marker)continue spans;oldCur.push(span);}}else if(stretchCur){old[i]=stretchCur;}}\nreturn old;}\nfunction removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))\n(markers||(markers=[])).push(mark);}});if(!markers)return null;var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)\nnewParts.push({from:p.from,to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)\nnewParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j+=newParts.length-1;}}\nreturn parts;}\nfunction detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;for(var i=0;i<spans.length;++i)\nspans[i].marker.detachLine(line);line.markedSpans=null;}\nfunction attachMarkedSpans(line,spans){if(!spans)return;for(var i=0;i<spans.length;++i)\nspans[i].marker.attachLine(line);line.markedSpans=spans;}\nfunction extraLeft(marker){return marker.inclusiveLeft?-1:0;}\nfunction extraRight(marker){return marker.inclusiveRight?1:0;}\nfunction compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id;}\nfunction collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))\nfound=sp.marker;}\nreturn found;}\nfunction collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true);}\nfunction collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false);}\nfunction conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(cmp(found.to,from)>0||(sp.marker.inclusiveRight&&marker.inclusiveLeft))||fromCmp>=0&&(cmp(found.from,to)<0||(sp.marker.inclusiveLeft&&marker.inclusiveRight)))\nreturn true;}}\nfunction visualLine(line){var merged;while(merged=collapsedSpanAtStart(line))\nline=merged.find(-1,true).line;return line;}\nfunction visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line);}\nreturn lines;}\nfunction visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis);}\nfunction visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;while(merged=collapsedSpanAtEnd(line))\nline=merged.find(1,true).line;return lineNo(line)+1;}\nfunction lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))\nreturn true;}}\nfunction lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker));}\nif(span.marker.inclusiveRight&&span.to==line.text.length)\nreturn true;for(var sp,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true;}}\nvar LineWidget=CodeMirror.LineWidget=function(doc,node,options){if(options)for(var opt in options)if(options.hasOwnProperty(opt))\nthis[opt]=options[opt];this.doc=doc;this.node=node;};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<((cm.curOp&&cm.curOp.scrollTop)||cm.doc.scrollTop))\naddToScrollPos(cm,null,diff);}\nLineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws)return;for(var i=0;i<ws.length;++i)if(ws[i]==this)ws.splice(i--,1);if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm)runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,\"widget\");});};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);});};function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle=\"position: relative;\";if(widget.coverGutter)\nparentStyle+=\"margin-left: -\"+cm.display.gutters.offsetWidth+\"px;\";if(widget.noHScroll)\nparentStyle+=\"width: \"+cm.display.wrapper.clientWidth+\"px;\";removeChildrenAndAdd(cm.display.measure,elt(\"div\",[widget.node],null,parentStyle));}\nreturn widget.height=widget.node.offsetHeight;}\nfunction addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,\"widget\",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollPos(cm,null,widget.height);cm.curOp.forceUpdate=true;}\nreturn true;});return widget;}\nvar Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1;};eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this);};function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight);}\nfunction cleanUpLine(line){line.parent=null;detachMarkedSpans(line);}\nfunction extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?\"bgClass\":\"textClass\";if(output[prop]==null)\noutput[prop]=lineClass[2];else if(!(new RegExp(\"(?:^|\\s)\"+lineClass[2]+\"(?:$|\\s)\")).test(output[prop]))\noutput[prop]+=\" \"+lineClass[2];}\nreturn type;}\nfunction callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=CodeMirror.innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state);}\nfunction readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner)inner[0]=CodeMirror.innerMode(mode,state).mode;var style=mode.token(stream,state);if(stream.pos>stream.start)return style;}\nthrow new Error(\"Mode \"+mode.name+\" failed to advance stream.\");}\nfunction takeToken(cm,pos,precise,asArray){function getObj(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state};}\nvar doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize),tokens;if(asArray)tokens=[];while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,state);if(asArray)tokens.push(getObj(true));}\nreturn asArray?tokens:getObj();}\nfunction runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;var inner=cm.options.addModeClass&&[null];if(text==\"\")extractLineClasses(callBlankLine(mode,state),lineClasses);while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,state,stream.pos);stream.pos=text.length;style=null;}else{style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses);}\nif(inner){var mName=inner[0].name;if(mName)style=\"m-\"+(style?mName+\" \"+style:mName);}\nif(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+50000);f(curStart,curStyle);}\ncurStyle=style;}\nstream.start=stream.pos;}\nwhile(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+50000);f(pos,curStyle);curStart=pos;}}\nfunction highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style);},lineClasses,forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end)\nst.splice(i,1,end,st[i+1],i_end);i+=2;at=Math.min(end,i_end);}\nif(!style)return;if(overlay.opaque){st.splice(start,i-start,end,\"cm-overlay \"+style);i=start+2;}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+\" \":\"\")+\"cm-overlay \"+style;}}},lineClasses);}\nreturn{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null};}\nfunction getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var result=highlightLine(cm,line,line.stateAfter=getStateBefore(cm,lineNo(line)));line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===cm.doc.frontier)cm.doc.frontier++;}\nreturn line.styles;}\nfunction processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text==\"\")callBlankLine(mode,state);while(!stream.eol()&&stream.pos<=cm.options.maxHighlightLength){readToken(mode,stream,state);stream.start=stream.pos;}}\nvar styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\\S+/g,\"cm-$&\"));}\nfunction buildLineContent(cm,lineView){var content=elt(\"span\",null,null,webkit?\"padding-right: .1px\":null);var builder={pre:elt(\"pre\",[content]),content:content,col:0,pos:0,cm:cm,splitSpaces:(ie||webkit)&&cm.getOption(\"lineWrapping\")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line)))\nbuilder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)\nbuilder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||\"\");if(line.styleClasses.textClass)\nbuilder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||\"\");}\nif(builder.map.length==0)\nbuilder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={};}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({});}}\nif(webkit&&/\\bcm-tab\\b/.test(builder.content.lastChild.className))\nbuilder.content.className=\"cm-tab-wrap-hack\";signal(cm,\"renderLine\",cm,lineView.line,builder.pre);if(builder.pre.className)\nbuilder.textClass=joinClasses(builder.pre.className,builder.textClass||\"\");return builder;}\nfunction defaultSpecialCharPlaceholder(ch){var token=elt(\"span\",\"\\u2022\",\"cm-invalidchar\");token.title=\"\\\\u\"+ch.charCodeAt(0).toString(16);token.setAttribute(\"aria-label\",token.title);return token;}\nfunction buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text)return;var displayText=builder.splitSpaces?text.replace(/ {3,}/g,splitSpaces):text;var special=builder.cm.state.specialChars,mustWrap=false;if(!special.test(text)){builder.col+=text.length;var content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length;}else{var content=document.createDocumentFragment(),pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9)content.appendChild(elt(\"span\",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped;}\nif(!m)break;pos+=skipped+1;if(m[0]==\"\\t\"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;var txt=content.appendChild(elt(\"span\",spaceStr(tabWidth),\"cm-tab\"));txt.setAttribute(\"role\",\"presentation\");txt.setAttribute(\"cm-text\",\"\\t\");builder.col+=tabWidth;}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute(\"cm-text\",m[0]);if(ie&&ie_version<9)content.appendChild(elt(\"span\",[txt]));else content.appendChild(txt);builder.col+=1;}\nbuilder.map.push(builder.pos,builder.pos+1,txt);builder.pos++;}}\nif(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||\"\";if(startStyle)fullStyle+=startStyle;if(endStyle)fullStyle+=endStyle;var token=elt(\"span\",[content],fullStyle,css);if(title)token.title=title;return builder.content.appendChild(token);}\nbuilder.content.appendChild(content);}\nfunction splitSpaces(old){var out=\" \";for(var i=0;i<old.length-2;++i)out+=i%2?\" \":\"\\u00a0\";out+=\" \";return out;}\nfunction buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+\" cm-force-border\":\"cm-force-border\";var start=builder.pos,end=start+text.length;for(;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break;}\nif(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title,css);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to;}};}\nfunction buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)\nwidget=builder.content.appendChild(document.createElement(\"span\"));widget.setAttribute(\"cm-marker\",marker.id);}\nif(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget);}\nbuilder.pos+=size;}\nfunction insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i=1;i<styles.length;i+=2)\nbuilder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options));return;}\nvar len=allText.length,pos=0,i=1,text=\"\",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css=\"\";collapsed=null;nextChange=Infinity;var foundBookmarks=[];for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(sp.from<=pos&&(sp.to==null||sp.to>pos)){if(sp.to!=null&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=\"\";}\nif(m.className)spanStyle+=\" \"+m.className;if(m.css)css=m.css;if(m.startStyle&&sp.from==pos)spanStartStyle+=\" \"+m.startStyle;if(m.endStyle&&sp.to==nextChange)spanEndStyle+=\" \"+m.endStyle;if(m.title&&!title)title=m.title;if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))\ncollapsed=sp;}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from;}\nif(m.type==\"bookmark\"&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m);}\nif(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;}\nif(!collapsed&&foundBookmarks.length)for(var j=0;j<foundBookmarks.length;++j)\nbuildCollapsedSpan(builder,0,foundBookmarks[j]);}\nif(pos>=len)break;var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:\"\",title,css);}\nif(end>=upto){text=text.slice(upto-pos);pos=upto;break;}\npos=end;spanStartStyle=\"\";}\ntext=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options);}}}\nfunction isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==\"\"&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore);}\nfunction updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null;}\nfunction update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,\"change\",line,change);}\nfunction linesFor(start,end){for(var i=start,result=[];i<end;++i)\nresult.push(new Line(text[i],spansFor(i),estimateHeight));return result;}\nvar from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length);}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added);}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);}else{var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added);}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines);}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added);}\nsignalLater(doc,\"change\",doc,change);}\nfunction LeafChunk(lines){this.lines=lines;this.parent=null;for(var i=0,height=0;i<lines.length;++i){lines[i].parent=this;height+=lines[i].height;}\nthis.height=height;}\nLeafChunk.prototype={chunkSize:function(){return this.lines.length;},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,\"delete\");}\nthis.lines.splice(at,n);},collapse:function(lines){lines.push.apply(lines,this.lines);},insertInner:function(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this;},iterN:function(at,n,op){for(var e=at+n;at<e;++at)\nif(op(this.lines[at]))return true;}};function BranchChunk(children){this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this;}\nthis.size=size;this.height=height;this.parent=null;}\nBranchChunk.prototype={chunkSize:function(){return this.size;},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null;}\nif((n-=rm)==0)break;at=0;}else at-=sz;}\nif(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this;}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines);},insertInner:function(at,lines,height){this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){while(child.lines.length>50){var spilled=child.lines.splice(child.lines.length-25,25);var newleaf=new LeafChunk(spilled);child.height-=newleaf.height;this.children.splice(i+1,0,newleaf);newleaf.parent=this;}\nthis.maybeSpill();}\nbreak;}\nat-=sz;}},maybeSpill:function(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy;}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling);}\nsibling.parent=me.parent;}while(me.children.length>10);me.parent.maybeSpill();},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n-=used)==0)break;at=0;}else at-=sz;}}};var nextDocId=0;var Doc=CodeMirror.Doc=function(text,mode,firstLine){if(!(this instanceof Doc))return new Doc(text,mode,firstLine);if(firstLine==null)firstLine=0;BranchChunk.call(this,[new LeafChunk([new Line(\"\",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;if(typeof text==\"string\")text=splitLines(text);updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll);};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from);},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height);},remove:function(at,n){this.removeInner(at-this.first,n);},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||\"\\n\");},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:splitLines(code),origin:\"setValue\",full:true},true);setSelection(this,simpleSelection(top));}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin);},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false)return lines;return lines.join(lineSep||\"\\n\");},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text;},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line);},getLineNumber:function(line){return lineNo(line);},getLineHandleVisualStart:function(line){if(typeof line==\"number\")line=getLine(this,line);return visualLine(line);},lineCount:function(){return this.size;},firstLine:function(){return this.first;},lastLine:function(){return this.first+this.size-1;},clipPos:function(pos){return clipPos(this,pos);},getCursor:function(start){var range=this.sel.primary(),pos;if(start==null||start==\"head\")pos=range.head;else if(start==\"anchor\")pos=range.anchor;else if(start==\"end\"||start==\"to\"||start===false)pos=range.to();else pos=range.from();return pos;},listSelections:function(){return this.sel.ranges;},somethingSelected:function(){return this.sel.somethingSelected();},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line==\"number\"?Pos(line,ch||0):line),null,options);}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options);}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options);}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads,options));}),extendSelectionsBy:docMethodOp(function(f,options){extendSelections(this,map(this.sel.ranges,f),options);}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;for(var i=0,out=[];i<ranges.length;i++)\nout[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);setSelection(this,normalizeSelection(out,primary),options);}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options);}),getSelection:function(lineSep){var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel;}\nif(lineSep===false)return lines;else return lines.join(lineSep||\"\\n\");},getSelections:function(lineSep){var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||\"\\n\");parts[i]=sel;}\nreturn parts;},replaceSelection:function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++)\ndup[i]=code;this.replaceSelections(dup,collapse,origin||\"+input\");},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:splitLines(code[i]),origin:origin};}\nvar newSel=collapse&&collapse!=\"end\"&&computeReplacedSel(this,changes,collapse);for(var i=changes.length-1;i>=0;i--)\nmakeChange(this,changes[i]);if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm);}),undo:docMethodOp(function(){makeChangeFromHistory(this,\"undo\");}),redo:docMethodOp(function(){makeChangeFromHistory(this,\"redo\");}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,\"undo\",true);}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,\"redo\",true);}),setExtending:function(val){this.extend=val;},getExtending:function(){return this.extend;},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++)if(!hist.done[i].ranges)++done;for(var i=0;i<hist.undone.length;i++)if(!hist.undone[i].ranges)++undone;return{undo:done,redo:undone};},clearHistory:function(){this.history=new History(this.history.maxGeneration);},markClean:function(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function(forceSplit){if(forceSplit)\nthis.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation;},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration);},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)};},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true);},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where==\"gutter\"?\"gutter\":\"class\",function(line){var prop=where==\"text\"?\"textClass\":where==\"background\"?\"bgClass\":where==\"gutter\"?\"gutterClass\":\"wrapClass\";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;else line[prop]+=\" \"+cls;return true;});}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where==\"gutter\"?\"gutter\":\"class\",function(line){var prop=where==\"text\"?\"textClass\":where==\"background\"?\"bgClass\":where==\"gutter\"?\"gutterClass\":\"wrapClass\";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?\"\":\" \")+cur.slice(end)||null;}\nreturn true;});}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options);}),removeLineWidget:function(widget){widget.clear();},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,\"range\");},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,\"bookmark\");},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))\nmarkers.push(span.marker.parent||span.marker);}\nreturn markers;},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];if(!(lineNo==from.line&&from.ch>span.to||span.from==null&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch)&&(!filter||filter(span.marker)))\nfound.push(span.marker.parent||span.marker);}\n++lineNo;});return found;},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)\nif(sps[i].from!=null)markers.push(sps[i].marker);});return markers;},posFromIndex:function(off){var ch,lineNo=this.first;this.iter(function(line){var sz=line.text.length+1;if(sz>off){ch=off;return true;}\noff-=sz;++lineNo;});return clipPos(this,Pos(lineNo,ch));},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0)return 0;this.iter(this.first,coords.line,function(line){index+=line.text.length+1;});return index;},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory());}\nreturn doc;},linkedDoc:function(options){if(!options)options={};var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy;},unlinkDoc:function(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break;}\nif(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id);},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds);}},iterLinkedDocs:function(f){linkedDocs(this,f);},getMode:function(){return this.mode;},getEditor:function(){return this.cm;}});Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate=\"iter insert remove copy getEditor\".split(\" \");for(var prop in Doc.prototype)if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)\nCodeMirror.prototype[prop]=(function(method){return function(){return method.apply(this.doc,arguments);};})(Doc.prototype[prop]);eventMixin(Doc);function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared);}}\npropagate(doc,null,true);}\nfunction attachDoc(cm,doc){if(doc.cm)throw new Error(\"This document is already in use.\");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm);}\nfunction getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size)throw new Error(\"There is no line \"+(n+doc.first)+\" in the document.\");for(var chunk=doc;!chunk.lines;){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break;}\nn-=sz;}}\nreturn chunk.lines[n];}\nfunction getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n;});return out;}\nfunction getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text);});return out;}\nfunction updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff;}\nfunction lineNo(line){if(line.parent==null)return null;var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize();}}\nreturn no+cur.first;}\nfunction lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer;}\nh-=ch;n+=child.chunkSize();}\nreturn n;}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh;}\nreturn n+i;}\nfunction heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;else h+=line.height;}\nfor(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;else h+=cur.height;}}\nreturn h;}\nfunction getOrder(line){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text);return order;}\nfunction History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1;}\nfunction historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);},true);return histChange;}\nfunction clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges)array.pop();else break;}}\nfunction lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done);}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done);}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done);}}\nfunction addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&((change.origin.charAt(0)==\"+\"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay)||change.origin.charAt(0)==\"*\"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change);}else{cur.changes.push(historyChangeFromChange(doc,change));}}else{var before=lst(hist.done);if(!before||!before.ranges)\npushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift();}}\nhist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,\"historyAdded\");}\nfunction selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch==\"*\"||ch==\"+\"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500);}\nfunction addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||(origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))))\nhist.done[hist.done.length-1]=sel;else\npushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)\nclearSelectionEvents(hist.undone);}\nfunction pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))\ndest.push(sel);}\nfunction attachLocalSpans(doc,change,from,to){var existing=change[\"spans_\"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)\n(existing||(existing=change[\"spans_\"+doc.id]={}))[n]=line.markedSpans;++n;});}\nfunction removeClearedSpans(spans){if(!spans)return null;for(var i=0,out;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i);}\nelse if(out)out.push(spans[i]);}\nreturn!out?spans:out.length?out:null;}\nfunction getOldSpans(doc,change){var found=change[\"spans_\"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i)\nnw.push(removeClearedSpans(found[i]));return nw;}\nfunction copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue;}\nvar changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup)for(var prop in change)if(m=prop.match(/^spans_(\\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop];}}}}\nreturn copy;}\nfunction rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff;}else if(from<pos.line){pos.line=from;pos.ch=0;}}\nfunction rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true;}\nfor(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff);}\ncontinue;}\nfor(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch);}else if(from<=cur.to.line){ok=false;break;}}\nif(!ok){array.splice(0,i+1);i=0;}}}\nfunction rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff);}\nvar e_preventDefault=CodeMirror.e_preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;};var e_stopPropagation=CodeMirror.e_stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;};function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false;}\nvar e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e);e_stopPropagation(e);};function e_target(e){return e.target||e.srcElement;}\nfunction e_button(e){var b=e.which;if(b==null){if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;}\nif(mac&&e.ctrlKey&&b==1)b=3;return b;}\nvar on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)\nemitter.addEventListener(type,f,false);else if(emitter.attachEvent)\nemitter.attachEvent(\"on\"+type,f);else{var map=emitter._handlers||(emitter._handlers={});var arr=map[type]||(map[type]=[]);arr.push(f);}};var off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)\nemitter.removeEventListener(type,f,false);else if(emitter.detachEvent)\nemitter.detachEvent(\"on\"+type,f);else{var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;for(var i=0;i<arr.length;++i)\nif(arr[i]==f){arr.splice(i,1);break;}}};var signal=CodeMirror.signal=function(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<arr.length;++i)arr[i].apply(null,args);};var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks;}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks;}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0);}\nfunction bnd(f){return function(){f.apply(null,args);};};for(var i=0;i<arr.length;++i)\nlist.push(bnd(arr[i]));}\nfunction fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]();}\nfunction signalDOMEvent(cm,e,override){if(typeof e==\"string\")\ne={type:e,preventDefault:function(){this.defaultPrevented=true;}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore;}\nfunction signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i)if(indexOf(set,arr[i])==-1)\nset.push(arr[i]);}\nfunction hasHandler(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];return arr&&arr.length>0;}\nfunction eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f);};ctor.prototype.off=function(type,f){off(this,type,f);};}\nvar scrollerGap=30;var Pass=CodeMirror.Pass={toString:function(){return\"CodeMirror.Pass\";}};var sel_dontScroll={scroll:false},sel_mouse={origin:\"*mouse\"},sel_move={origin:\"+move\"};function Delayed(){this.id=null;}\nDelayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms);};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\\s\\u00a0]/);if(end==-1)end=string.length;}\nfor(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf(\"\\t\",i);if(nextTab<0||nextTab>=end)\nreturn n+(end-i);n+=nextTab-i;n+=tabSize-(n%tabSize);i=nextTab+1;}};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf(\"\\t\",pos);if(nextTab==-1)nextTab=string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)\nreturn pos+Math.min(skipped,goal-col);col+=nextTab-pos;col+=tabSize-(col%tabSize);pos=nextTab+1;if(col>=goal)return pos;}}\nvar spaceStrs=[\"\"];function spaceStr(n){while(spaceStrs.length<=n)\nspaceStrs.push(lst(spaceStrs)+\" \");return spaceStrs[n];}\nfunction lst(arr){return arr[arr.length-1];}\nvar selectInput=function(node){node.select();};if(ios)\nselectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length;};else if(ie)\nselectInput=function(node){try{node.select();}catch(_e){}};function indexOf(array,elt){for(var i=0;i<array.length;++i)\nif(array[i]==elt)return i;return-1;}\nfunction map(array,f){var out=[];for(var i=0;i<array.length;i++)out[i]=f(array[i],i);return out;}\nfunction nothing(){}\nfunction createObj(base,props){var inst;if(Object.create){inst=Object.create(base);}else{nothing.prototype=base;inst=new nothing();}\nif(props)copyObj(props,inst);return inst;};function copyObj(obj,target,overwrite){if(!target)target={};for(var prop in obj)\nif(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop)))\ntarget[prop]=obj[prop];return target;}\nfunction bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args);};}\nvar nonASCIISingleCaseWordChar=/[\\u00df\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;var isWordCharBasic=CodeMirror.isWordChar=function(ch){return /\\w/.test(ch)||ch>\"\\x80\"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch));};function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);if(helper.source.indexOf(\"\\\\w\")>-1&&isWordCharBasic(ch))return true;return helper.test(ch);}\nfunction isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return false;return true;}\nvar extendingChars=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch);}\nfunction elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content==\"string\")e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e;}\nvar range;if(document.createRange)range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r;};else range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode);}\ncatch(e){return r;}\nr.collapse(true);r.moveEnd(\"character\",end);r.moveStart(\"character\",start);return r;};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)\ne.removeChild(e.firstChild);return e;}\nfunction removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e);}\nvar contains=CodeMirror.contains=function(parent,child){if(child.nodeType==3)\nchild=child.parentNode;if(parent.contains)\nreturn parent.contains(child);do{if(child.nodeType==11)child=child.host;if(child==parent)return true;}while(child=child.parentNode);};function activeElt(){return document.activeElement;}\nif(ie&&ie_version<11)activeElt=function(){try{return document.activeElement;}\ncatch(e){return document.body;}};function classTest(cls){return new RegExp(\"(^|\\\\s)\"+cls+\"(?:$|\\\\s)\\\\s*\");}\nvar rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:\"\");}};var addClass=CodeMirror.addClass=function(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=(current?\" \":\"\")+cls;};function joinClasses(a,b){var as=a.split(\" \");for(var i=0;i<as.length;i++)\nif(as[i]&&!classTest(as[i]).test(b))b+=\" \"+as[i];return b;}\nfunction forEachCodeMirror(f){if(!document.body.getElementsByClassName)return;var byClass=document.body.getElementsByClassName(\"CodeMirror\");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)f(cm);}}\nvar globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered)return;registerGlobalHandlers();globalsRegistered=true;}\nfunction registerGlobalHandlers(){var resizeTimer;on(window,\"resize\",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize);},100);});on(window,\"blur\",function(){forEachCodeMirror(onBlur);});}\nvar dragAndDrop=function(){if(ie&&ie_version<9)return false;var div=elt('div');return\"draggable\"in div||\"dragDrop\"in div;}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt(\"span\",\"\\u200b\");removeChildrenAndAdd(measure,elt(\"span\",[test,document.createTextNode(\"x\")]));if(measure.firstChild.offsetHeight!=0)\nzwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8);}\nvar node=zwspSupported?elt(\"span\",\"\\u200b\"):elt(\"span\",\"\\u00a0\",null,\"display: inline-block; width: 1px; margin-right: -1px\");node.setAttribute(\"cm-text\",\"\");return node;}\nvar badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode(\"A\\u062eA\"));var r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return false;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=(r1.right-r0.right<3);}\nvar splitLines=CodeMirror.splitLines=\"\\n\\nb\".split(/\\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf(\"\\n\",pos);if(nl==-1)nl=string.length;var line=string.slice(pos,string.charAt(nl-1)==\"\\r\"?nl-1:nl);var rt=line.indexOf(\"\\r\");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1;}else{result.push(line);pos=nl+1;}}\nreturn result;}:function(string){return string.split(/\\r\\n?|\\n/);};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd;}\ncatch(e){return false;}}:function(te){try{var range=te.ownerDocument.selection.createRange();}\ncatch(e){}\nif(!range||range.parentElement()!=te)return false;return range.compareEndPoints(\"StartToEnd\",range)!=0;};var hasCopyEvent=(function(){var e=elt(\"div\");if(\"oncopy\"in e)return true;e.setAttribute(\"oncopy\",\"return;\");return typeof e.oncopy==\"function\";})();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt(\"span\",\"x\"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1;}\nvar keyNames={3:\"Enter\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",107:\"=\",109:\"-\",127:\"Delete\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"};CodeMirror.keyNames=keyNames;(function(){for(var i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i=65;i<=90;i++)keyNames[i]=String.fromCharCode(i);for(var i=1;i<=12;i++)keyNames[i+111]=keyNames[i+63235]=\"F\"+i;})();function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,\"ltr\");var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?\"rtl\":\"ltr\");found=true;}}\nif(!found)f(from,to,\"ltr\");}\nfunction bidiLeft(part){return part.level%2?part.to:part.from;}\nfunction bidiRight(part){return part.level%2?part.from:part.to;}\nfunction lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0;}\nfunction lineRight(line){var order=getOrder(line);if(!order)return line.text.length;return bidiRight(lst(order));}\nfunction lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch);}\nfunction lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null;}\nvar order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch);}\nfunction lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS);}\nreturn start;}\nfunction compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir)return true;if(b==linedir)return false;return a<b;}\nvar bidiOther;function getBidiPartAt(order,pos){bidiOther=null;for(var i=0,found;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if((cur.from==pos||cur.to==pos)){if(found==null){found=i;}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to)bidiOther=found;return i;}else{if(cur.from!=cur.to)bidiOther=i;return found;}}}\nreturn found;}\nfunction moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do pos+=dir;while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos;}\nfunction moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos)return target;part=bidi[pos+=dir];return(dir>0)==part.level%2?part.to:part.from;}else{part=bidi[pos+=dir];if(!part)return null;if((dir>0)==part.level%2)\ntarget=moveInLine(line,part.to,-1,byUnit);else\ntarget=moveInLine(line,part.from,1,byUnit);}}}\nfunction moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)while(target>0&&isExtendingChar(line.text.charAt(target)))target+=dir;return target<0||target>line.text.length?null:target;}\nvar bidiOrdering=(function(){var lowTypes=\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";var arabicTypes=\"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\";function charType(code){if(code<=0xf7)return lowTypes.charAt(code);else if(0x590<=code&&code<=0x5f4)return\"R\";else if(0x600<=code&&code<=0x6ed)return arabicTypes.charAt(code-0x600);else if(0x6ee<=code&&code<=0x8ac)return\"r\";else if(0x2000<=code&&code<=0x200b)return\"w\";else if(code==0x200c)return\"b\";else return\"L\";}\nvar bidiRE=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;var outerType=\"L\";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to;}\nreturn function(str){if(!bidiRE.test(str))return false;var len=str.length,types=[];for(var i=0,type;i<len;++i)\ntypes.push(type=charType(str.charCodeAt(i)));for(var i=0,prev=outerType;i<len;++i){var type=types[i];if(type==\"m\")types[i]=prev;else prev=type;}\nfor(var i=0,cur=outerType;i<len;++i){var type=types[i];if(type==\"1\"&&cur==\"r\")types[i]=\"n\";else if(isStrong.test(type)){cur=type;if(type==\"r\")types[i]=\"R\";}}\nfor(var i=1,prev=types[0];i<len-1;++i){var type=types[i];if(type==\"+\"&&prev==\"1\"&&types[i+1]==\"1\")types[i]=\"1\";else if(type==\",\"&&prev==types[i+1]&&(prev==\"1\"||prev==\"n\"))types[i]=prev;prev=type;}\nfor(var i=0;i<len;++i){var type=types[i];if(type==\",\")types[i]=\"N\";else if(type==\"%\"){for(var end=i+1;end<len&&types[end]==\"%\";++end){}\nvar replace=(i&&types[i-1]==\"!\")||(end<len&&types[end]==\"1\")?\"1\":\"N\";for(var j=i;j<end;++j)types[j]=replace;i=end-1;}}\nfor(var i=0,cur=outerType;i<len;++i){var type=types[i];if(cur==\"L\"&&type==\"1\")types[i]=\"L\";else if(isStrong.test(type))cur=type;}\nfor(var i=0;i<len;++i){if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end){}\nvar before=(i?types[i-1]:outerType)==\"L\";var after=(end<len?types[end]:outerType)==\"L\";var replace=before||after?\"L\":\"R\";for(var j=i;j<end;++j)types[j]=replace;i=end-1;}}\nvar order=[],m;for(var i=0;i<len;){if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i){}\norder.push(new BidiSpan(0,start,i));}else{var pos=i,at=order.length;for(++i;i<len&&types[i]!=\"L\";++i){}\nfor(var j=pos;j<i;){if(countsAsNum.test(types[j])){if(pos<j)order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j){}\norder.splice(at,0,new BidiSpan(2,nstart,j));pos=j;}else++j;}\nif(pos<i)order.splice(at,0,new BidiSpan(1,pos,i));}}\nif(order[0].level==1&&(m=str.match(/^\\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length));}\nif(lst(order).level==1&&(m=str.match(/\\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len));}\nif(order[0].level!=lst(order).level)\norder.push(new BidiSpan(order[0].level,len,len));return order;};})();CodeMirror.version=\"5.0.1\";return CodeMirror;});","Amasty_Feed/js/feed/reset.min.js":"require(['jquery','prototype'],function(jQuery){'use strict';function resetForm(){jQuery('#edit_form').trigger('reset');var oEvent=document.createEvent('Event');oEvent.initEvent('change',true,true);$('feed_execute_mode').dispatchEvent(oEvent);$('feed_delivery_enabled').dispatchEvent(oEvent);}\nwindow.resetForm=resetForm;});","Amasty_Feed/js/feed/edit.min.js":"define(['jquery','prototype','Magento_Ui/js/modal/alert','mage/translate','Amasty_Feed/js/feed/amprogressbar','Amasty_Feed/js/feed/amsteps'],function(jQuery,prototype,alert,$translate,amprogressbar,amsteps){'use strict';return function(config,element){config=config||{};var validate=function(){var form='#edit_form';return jQuery(form).validation()&&jQuery(form).validation('isValid');};var stopGenerate=false,exported=0,timerInterval=0,requestSumTime=0,generationStartTime=0,generationEndTime=0;var feedGenerate=function(progress,generateUrl,useAjax,page){if(validate()){var params=$('edit_form').serialize(true),generationsErrorWrapper=progress.find('[data-amfeed-js=\"generation-error-wrapper\"]'),generationError=progress.find('[data-amfeed-js=\"generation-error\"]'),downloadLink=progress.find('[data-amfeed-js=\"download-link\"]'),ajaxCallTime;params.page=page;ajaxCallTime=new Date().getTime();new Ajax.Request(generateUrl,{parameters:params,onSuccess:function(transport){var response=transport.responseText,progressContent=jQuery('[data-amfeed-js=\"progress-content\"]'),activeStep=jQuery('[data-amsteps-js*=\"-active-step\"]'),newRequestTime=new Date().getTime()-ajaxCallTime;requestSumTime=requestSumTime+newRequestTime;if(response.isJSON()&&!response.evalJSON().error){response=response.evalJSON();if(!stopGenerate&&!response.isLastPage){amsteps.startStep(2);if(newRequestTime>1000){clearInterval(timerInterval);}\nexported+=response.exported;amprogressbar.progressBar(exported / response.total);var timeTotal=response.total*(requestSumTime / exported),timeLeft=timeTotal-requestSumTime;if(Math.floor((timeLeft / 1000))>0&&newRequestTime>1000){amprogressbar.progressTimer(timeLeft);timerInterval=setInterval(function(){timeLeft-=1000;amprogressbar.progressTimer(timeLeft,timeTotal);},1000);}\nfeedGenerate(progress,generateUrl,useAjax,++page);}else if(response.download){amsteps.startStep(3);generationEndTime=new Date().getTime();jQuery('[data-amfeed-js=\"generation-duration\"]').html(amprogressbar.durationToTime(generationEndTime-generationStartTime));jQuery('[data-amfeed-js=\"generation-count\"]').html(response.total);jQuery('[data-amfeed-js=\"copy-link\"]').on('click',function(){jQuery('[data-amfeed-js=\"download-link\"]').select();document.execCommand(\"copy\");});downloadLink.val(response.download);clearInterval(timerInterval);timerInterval=0;requestSumTime=0;amsteps.completeStep(3,true);}}else{amsteps.completeStep(activeStep.index()+1);progressContent.slideUp();clearInterval(timerInterval);generationsErrorWrapper.slideDown();generationError.html((response.isJSON())?$translate('Something went wrong:<br/>')+response.evalJSON().error:$translate('Something went wrong:<br/>')+response);}}});}};var progressFeedGenerate=function(url,useAjax){var progress=alert({modalClass:'amfeed-generation-progress',content:config.stepsHtml,title:jQuery('<div/>').text(config.profileTitle).html(),buttons:[]});stopGenerate=false;progress.bind('alertclosed',function(){stopGenerate=true;});generationStartTime=new Date().getTime();amsteps.variables.stepsContentPrefix='data-amfeed-js=\"progress-step-content-';amsteps.startStep(1);feedGenerate(progress,url,useAjax,0);};jQuery(element).on('click',function(event){exported=0;progressFeedGenerate(config.ajaxUrl,config.ajax);});if(window.location.hash==\"#forcegenerate\"){exported=0;window.location.hash=\"\";progressFeedGenerate(config.ajaxUrl,config.ajax);}};});","Amasty_Feed/js/feed/testConnection.min.js":"define(['jquery'],function(jQuery){'use strict';var testButton=jQuery(\".feed-connection-button\"),messageSpan=jQuery(\".feed-connection-result\"),xhr=null;function changeButtonState(){if(jQuery(\"#feed_delivery_enabled\").val()===\"1\"){testButton.show();messageSpan.show();}else{testButton.hide();messageSpan.hide();}}\nreturn function main(config){changeButtonState();jQuery(\"#feed_delivery_enabled\").change(changeButtonState);testButton.click(function(){if(!jQuery('form.feed-edit-form').validation('isValid')){return;}\nif(xhr){return;}\nmessageSpan.empty().attr('class','feed-connection-result');xhr=jQuery.ajax({showLoader:true,url:config.ajaxUrl,dataType:'JSON',data:{'feed_id':jQuery('#feed_entity_id').val(),'host':jQuery(\"#feed_delivery_host\").val(),'proto':jQuery(\"#feed_delivery_type\").val(),'user':jQuery(\"#feed_delivery_user\").val(),'pass':jQuery(\"#feed_delivery_password\").val(),'path':jQuery(\"#feed_delivery_path\").val(),'mode':jQuery(\"#feed_delivery_passive_mode\").val()},type:\"POST\",success:function(data){if(data.type==='error'){messageSpan.addClass('message message-error error').text(data.message);}else{messageSpan.addClass('message message-success success').text(data);}},complete:function(){xhr=null;}});})};});","Amasty_Feed/js/feed/amsteps.min.js":"define(['jquery','mage/translate'],function($,$translate){'use strict';return{variables:{stepDataPrefix:'[data-amsteps-js*=\"step-',stepsContentPrefix:''},startStep:function(stepNumber){var stepToStart=$(this.variables.stepDataPrefix+stepNumber+'\"]'),stepToStartTitle=$(this.variables.stepDataPrefix+'title-'+stepNumber+'\"]'),stepToStartContent=$('['+this.variables.stepsContentPrefix+stepNumber+'\"]'),isStarted=stepToStart.is('.-active');if(!isStarted){if(!stepToStart.is(':nth-of-type(1)')){this.completeStep(stepNumber-1,true);}\nstepToStart.addClass('-active').attr('data-amsteps-js',stepToStart.attr('data-amsteps-js')+' -active-step');stepToStartTitle.addClass('-active');stepToStartContent.show();}},completeStep:function(stepNumber,successStatus){var stepToComplete=$(this.variables.stepDataPrefix+stepNumber+'\"]'),stepToCompleteTitle=$(this.variables.stepDataPrefix+'title-'+stepNumber+'\"]'),stepToCompleteContent=$('['+this.variables.stepsContentPrefix+stepNumber+'\"]'),isCompleted=stepToComplete.is('.-done'),previousStepCompleteStatus=$(this.variables.stepDataPrefix+(stepNumber-1)+'\"]').is('.-done');if(stepNumber!=1&&!previousStepCompleteStatus){this.completeStep(stepNumber-1,true);}\nif(!isCompleted){if(successStatus){if(stepToComplete.is(':last-of-type')){stepToComplete.addClass('-done');}else{stepToComplete.removeClass('-active').addClass('-done').attr('data-amsteps-js','step-'+stepNumber);stepToCompleteTitle.removeClass('-active');stepToCompleteContent.hide();}}else{stepToComplete.addClass('-error');stepToCompleteTitle.addClass('-error').html($translate('Unsuccess'));}}}}});","Amasty_Feed/js/feed/searchCategory.min.js":"define(['jquery','underscore'],function($){'use strict';return function(config){$('[data-amfeed-js=\"amfeed-taxonomy-input\"]').click(function(){if($('#feed_category_use_taxonomy').val()=='1'){$(this).autocomplete({source:function(request,response){$.ajax({url:config.ajaxUrl,data:{category:request.term,source:$('#feed_category_taxonomy_source').val()},success:function(result){response(result);}});},appendTo:'[data-amfeed-js=\"amfeed-category-list\"]',messages:{results:function(){}}});}});}});","Amasty_Feed/js/feed/amprogressbar.min.js":"define(['jquery'],function($){'use strict';return{default:{variables:{hourInMilliseconds:3600000},selectors:{timerSelector:'[data-amprogressbar-js=\"timer\"]',progressBar:'[data-amprogressbar-js=\"bar\"]',progressBarValue:'[data-amprogressbar-js=\"progressbar-value\"]'}},progressTimer:function(timeLeft){var timer=$(this.default.selectors.timerSelector);if(timeLeft>0){timer.html(this.durationToTime(timeLeft));}else{timer.html(this.durationToTime(0));}},durationToTime:function(duration){var minutesOfDuration=Math.floor(((duration /(1000*60))%60)),secondsOfDuration=Math.floor(((duration / 1000)%60)),hours='',minutes,seconds;minutes=(minutesOfDuration>9)?minutesOfDuration+':':'0'+minutesOfDuration+':';seconds=(secondsOfDuration>9)?secondsOfDuration:'0'+secondsOfDuration;if(duration>=this.default.variables.hourInMilliseconds){var hoursOfDuration=Math.floor(((duration /(1000*60*60))%24));hours=(hoursOfDuration>9)?hoursOfDuration+':':'0'+hoursOfDuration+':';}\nreturn hours+minutes+seconds;},progressBar:function(value){$(this.default.selectors.progressBar).val(Math.floor(value*100));$(this.default.selectors.progressBarValue).html(Math.floor(value*100)+'%').css('left',Math.floor(value*100)+'%');}}});","Amasty_Feed/js/feed/preview.min.js":"define(['jquery','Magento_Ui/js/modal/modal'],function($,modal){return function(config,element){var ajaxUrl=config.ajaxUrl,contentElement=$('[data-amfeed-js=\"preview-content\"]'),errorElement=$('[data-amfeed-js=\"preview-error\"]'),downloadLink,showPreview=function(){previewModal.toggleModal();if(!contentElement.val()){ajaxRefresh()}},ajaxRefresh=function(){new Ajax.Request(ajaxUrl,{onSuccess:function(transport){var response=transport.responseText;if(response.isJSON()){response=response.evalJSON();if(response.error){errorElement.text(response.message).show();contentElement.hide();downloadButton.hide();}else if(response.fileType){switch(response.fileType){case'xml':contentElement.text(formatXml(response.content));break;case'csv':case'txt':contentElement.text(response.content);break;}\nerrorElement.hide();contentElement.show();downloadButton.show();createLink(response.content,response.fileType);}}}});},formatXml=function(xmlString){var formatted='',reg=/(>)(<)(\\/*)/g,pad=0;xmlString=xmlString.replace(reg,'$1\\r\\n$2$3');$.each(xmlString.split('\\r\\n'),function(index,node){var indent=0;if(node.match(/.+<\\/\\w[^>]*>$/)){indent=0;}else if(node.match(/^<\\/\\w/)){if(pad!=0){pad-=1;}}else if(node.match(/^<\\w([^>]*[^\\/])?>.*$/)){indent=1;}else{indent=0;}\nvar padding='';for(var i=0;i<pad;i++){padding+='  ';}\nformatted+=padding+node+'\\r\\n';pad+=indent;});return formatted;},createLink=function(content,type){if(downloadLink!==undefined){downloadLink.remove();}\ndownloadLink=document.createElement('a');downloadLink.setAttribute('href','data:application/octet-stream;charset=utf-8,'+encodeURIComponent(content));downloadLink.setAttribute('download','preview.'+type);downloadLink.style.display='none';document.body.appendChild(downloadLink);},downloadFile=function(){if(downloadLink!==undefined){downloadLink.click();}},modalParams={type:'slide',title:$.mage.__('Feed Preview'),buttons:[{text:$.mage.__('Download'),class:'amfeed-preview-download',attr:{'data-amfeed-js':'preview-download','style':'display:none'},click:downloadFile},{text:$.mage.__('Reload'),class:'',attr:{},click:ajaxRefresh},]},previewModal=modal(modalParams,$('[data-amfeed-js=\"preview-block\"]')),downloadButton=$('[data-amfeed-js=\"preview-download\"]');$(element).on('click',function(){showPreview();});}});","js/theme.min.js":"define('globalNavigationScroll',['jquery'],function($){'use strict';var win=$(window),subMenuClass='.submenu',fixedClassName='_fixed',menu=$('.menu-wrapper'),content=$('.page-wrapper'),menuItems=$('#nav').children('li'),winHeight,menuHeight=menu.height(),menuScrollMax=0,submenuHeight=0,contentHeight,winTop=0,winTopLast=0,scrollStep=0,nextTop=0;function isMenuFixed(){return menuHeight<contentHeight&&contentHeight>winHeight;}\nfunction checkAddClass(el,$class){if(!el.hasClass($class)){el.addClass($class);}}\nfunction checkRemoveClass(el,$class){if(el.hasClass($class)){el.removeClass($class);}}\nfunction positionMenu(){winHeight=win.height();contentHeight=content.height();winTop=win.scrollTop();scrollStep=winTop-winTopLast;if(isMenuFixed()){checkAddClass(menu,fixedClassName);if(menuHeight>winHeight){if(winTop>winTopLast){menuScrollMax=menuHeight-winHeight;nextTop<menuScrollMax-scrollStep?nextTop+=scrollStep:nextTop=menuScrollMax;menu.css('top',-nextTop);}else if(winTop<=winTopLast){nextTop>-scrollStep?nextTop+=scrollStep:nextTop=0;menu.css('top',-nextTop);}}}else{checkRemoveClass(menu,fixedClassName);menu.css('top','auto');}\nwinTopLast=winTop;}\npositionMenu();win.on('scroll',function(){positionMenu();});win.on('resize',function(){winHeight=win.height();if(menuHeight<contentHeight&&menuHeight<=winHeight){menu.removeAttr('style');menuItems.off();}});menuItems.on('click',function(){var submenu=$(this).children(subMenuClass),delta,logo=$('.logo')[0].offsetHeight;submenuHeight=submenu.height();if(submenuHeight>menuHeight&&menuHeight+logo>winHeight){menu.height(submenuHeight-logo);delta=-menu.position().top;window.scrollTo(0,0);positionMenu();window.scrollTo(0,delta);positionMenu();menuHeight=submenuHeight;}});});define('globalNavigation',['jquery','jquery/ui','globalNavigationScroll'],function($){'use strict';$.widget('mage.globalNavigation',{options:{selectors:{menu:'#nav',currentItem:'._current',topLevelItem:'.level-0',topLevelHref:'> a',subMenu:'> .submenu',closeSubmenuBtn:'[data-role=\"close-submenu\"]'},overlayTmpl:'<div class=\"admin__menu-overlay\"></div>'},_create:function(){var selectors=this.options.selectors;this.menu=this.element;this.menuLinks=$(selectors.topLevelHref,selectors.topLevelItem);this.closeActions=$(selectors.closeSubmenuBtn);this._initOverlay()._bind();},_initOverlay:function(){this.overlay=$(this.options.overlayTmpl).appendTo('body').hide(0);return this;},_bind:function(){var focus=this._focus.bind(this),open=this._open.bind(this),blur=this._blur.bind(this),keyboard=this._keyboard.bind(this);this.menuLinks.on('focus',focus).on('click',open);this.menuLinks.last().on('blur',blur);this.closeActions.on('keydown',keyboard);},_blur:function(e){var selectors=this.options.selectors,menuItem=$(e.target).closest(selectors.topLevelItem),currentItem=$(selectors.menu).find(selectors.currentItem);menuItem.removeClass('_active');currentItem.addClass('_active');},_keyboard:function(e){var selectors=this.options.selectors,menuItem=$(e.target).closest(selectors.topLevelItem);if(e.which===13){this._close(e);$(selectors.topLevelHref,menuItem).focus();}},_focus:function(e){var selectors=this.options.selectors,menuItem=$(e.target).closest(selectors.topLevelItem);menuItem.addClass('_active').siblings(selectors.topLevelItem).removeClass('_active');},_closeSubmenu:function(e){var selectors=this.options.selectors,currentItem=$(selectors.menu).find(selectors.currentItem);this._close(e);currentItem.addClass('_active');},_open:function(e){var selectors=this.options.selectors,menuItemSelector=selectors.topLevelItem,menuItem=$(e.target).closest(menuItemSelector),subMenu=$(selectors.subMenu,menuItem),close=this._closeSubmenu.bind(this),closeBtn=subMenu.find(selectors.closeSubmenuBtn);if(subMenu.length){e.preventDefault();}\ncloseBtn.on('click',close);if($(menuItem).hasClass('_show')){closeBtn.trigger('click');}else{menuItem.addClass('_show').siblings(menuItemSelector).removeClass('_show');subMenu.attr('aria-expanded','true');this.overlay.show(0).on('click',close);this.menuLinks.last().off('blur');}},_close:function(e){var selectors=this.options.selectors,menuItem=this.menu.find(selectors.topLevelItem+'._show'),subMenu=$(selectors.subMenu,menuItem),closeBtn=subMenu.find(selectors.closeSubmenuBtn),blur=this._blur.bind(this);e.preventDefault();this.overlay.hide(0).off('click');this.menuLinks.last().on('blur',blur);closeBtn.off('click');subMenu.attr('aria-expanded','false');menuItem.removeClass('_show _active');}});return $.mage.globalNavigation;});define('globalSearch',['jquery','Magento_Ui/js/lib/key-codes','jquery-ui-modules/widget'],function($,keyCodes){'use strict';$.widget('mage.globalSearch',{options:{field:'.search-global-field',fieldActiveClass:'_active',input:'#search-global'},_create:function(){this.field=$(this.options.field);this.input=$(this.options.input);this._events();},_events:function(){var self=this;this.input.on('blur.resetGlobalSearchForm',function(){if(!self.input.val()){self.field.removeClass(self.options.fieldActiveClass);}});this.input.on('focus.activateGlobalSearchForm',function(){self.field.addClass(self.options.fieldActiveClass);});$(document).on('keydown.activateGlobalSearchForm',function(event){var inputs=['input','select','textarea'];if(keyCodes[event.which]!=='forwardSlashKey'||inputs.indexOf(event.target.tagName.toLowerCase())!==-1||event.target.isContentEditable){return;}\nevent.preventDefault();self.input.focus();});}});return $.mage.globalSearch;});define('modalPopup',['jquery','jquery/ui'],function($){'use strict';$.widget('mage.modalPopup',{options:{popup:'.popup',btnDismiss:'[data-dismiss=\"popup\"]',btnHide:'[data-hide=\"popup\"]'},_create:function(){this.fade=this.element;this.popup=$(this.options.popup,this.fade);this.btnDismiss=$(this.options.btnDismiss,this.popup);this.btnHide=$(this.options.btnHide,this.popup);this._events();},_events:function(){var self=this;this.btnDismiss.on('click.dismissModalPopup',function(){self.fade.remove();});this.btnHide.on('click.hideModalPopup',function(){self.fade.hide();});}});return $.mage.modalPopup;});define('useDefault',['jquery','jquery/ui'],function($){'use strict';$.widget('mage.useDefault',{options:{field:'.field',useDefault:'.use-default',checkbox:'.use-default-control',label:'.use-default-label'},_create:function(){this.el=this.element;this.field=$(this.el).closest(this.options.field);this.useDefault=$(this.options.useDefault,this.field);this.checkbox=$(this.options.checkbox,this.useDefault);this.label=$(this.options.label,this.useDefault);this.origValue=this.el.attr('data-store-label');this._events();},_events:function(){var self=this;this.el.on('change.toggleUseDefaultVisibility keyup.toggleUseDefaultVisibility',$.proxy(this._toggleUseDefaultVisibility,this)).trigger('change.toggleUseDefaultVisibility');this.checkboxon('change.setOrigValue',function(){if($(this).prop('checked')){self.el.val(self.origValue).trigger('change.toggleUseDefaultVisibility');$(this).prop('checked',false);}});},_toggleUseDefaultVisibility:function(){var curValue=this.el.val(),origValue=this.origValue;this[curValue!=origValue?'_show':'_hide']();},_show:function(){this.useDefault.show();},_hide:function(){this.useDefault.hide();}});return $.mage.useDefault;});define('loadingPopup',['jquery','jquery/ui'],function($){'use strict';$.widget('mage.loadingPopup',{options:{message:'Please wait...',timeout:5000,timeoutId:null,callback:null,template:null},_create:function(){this.template='<div class=\"popup popup-loading\">'+'<div class=\"popup-inner\">'+this.options.message+'</div>'+'</div>';this.popup=$(this.template);this._show();this._events();},_events:function(){var self=this;this.element.on('showLoadingPopup',function(){self._show();}).on('hideLoadingPopup',function(){self._hide();});},_show:function(){var options=this.options,timeout=options.timeout;$('body').trigger('processStart');if(timeout){options.timeoutId=setTimeout(this._delayedHide.bind(this),timeout);}},_hide:function(){$('body').trigger('processStop');},_delayedHide:function(){this._hide();this.options.callback&&this.options.callback();this.options.timeoutId&&clearTimeout(this.options.timeoutId);}});return $.mage.loadingPopup;});define('collapsable',['jquery','jquery/ui','jquery/jquery.tabs'],function($){'use strict';$.widget('mage.collapsable',{options:{parent:null,openedClass:'opened',wrapper:'.fieldset-wrapper'},_create:function(){this._events();},_events:function(){var self=this;this.element.on('show',function(e){var fieldsetWrapper=$(this).closest(self.options.wrapper);fieldsetWrapper.addClass(self.options.openedClass);e.stopPropagation();}).on('hide',function(e){var fieldsetWrapper=$(this).closest(self.options.wrapper);fieldsetWrapper.removeClass(self.options.openedClass);e.stopPropagation();});}});return $.mage.collapsable;});define('js/theme',['jquery','mage/smart-keyboard-handler','mage/ie-class-fixer','collapsable','domReady!'],function($,keyboardHandler){'use strict';$('.collapse').collapsable();$.each($('.entry-edit'),function(i,entry){$('.collapse:first',entry).filter(function(){return $(this).data('collapsed')!==true;}).collapse('show');});keyboardHandler.apply();});","Amazon_Core/js/simplepath.min.js":"define(['jquery','uiComponent','mage/translate','jquery/ui','jquery/validate'],function($,Class,$t){'use strict';var pollTimer,windowOpen=false;return Class.extend({defaults:{$amazonFields:null,$amazonCredentialJson:null,$amazonSpBack:null,$amazonMerchantId:null,selector:'amazon_payment',$container:null,pollInterval:1500,$form:null,apSimplePathSelector:'#amazon_simplepath',apSimplePathBackSelector:'#amazon_simplepath_back',},initObservable:function(){var self=this;self.$amazonSimplepath=$(self.apSimplePathSelector);self.$amazonFields=$('#payment_'+self.getCountry()+'_'+self.selector+' .form-list');self.$amazonCredentialsHeader=$('#payment_'+self.getCountry()+'_'+self.selector\n+'_credentials-head');self.$amazonCredentialJson=$('#payment_'+self.getCountry()+'_'+self.selector\n+'_credentials_credentials_json');self.$amazonMerchantId=$('#payment_'+self.getCountry()+'_'+self.selector\n+'_credentials_merchant_id').val();self.$amazonSpBack=$(self.apSimplePathBackSelector);self.$container=$(self.apSimplePathSelector);if(this.isMultiCurrencyRegion){$('#row_payment_'+self.getCountry()+'_amazon_payment_advanced_sales_options_multicurrency').show();$('#row_payment_other_amazon_payment_advanced_sales_options_multicurrency').show();}\nelse{$('#row_payment_'+self.getCountry()+'_amazon_payment_advanced_sales_options_multicurrency').hide();$('#row_payment_other_amazon_payment_advanced_sales_options_multicurrency').hide();}\nif(self.$amazonMerchantId){self.hideAmazonConfig();}\nelse{self.showAmazonConfig();}\nif(!self.$form){self.generateSimplePathForm();}\nself._super();self.initEventHandlers();return self;},initEventHandlers:function(){var self=this;self.$amazonSpBack.click(function(){self.showAmazonConfig();return false;});$('#simplepath-skip').click(function(){self.hideAmazonConfig();return false;});$('#simplepath_form').on('submit',function(){$('#simplepath_form :input').each(function(){if($(this).attr('orig-name')){$(this).attr('name',$(this).attr('orig-name'));$(this).removeAttr('orig-name');}});self.setupWindowLaunch();});self.$amazonCredentialJson.on('input',function(){self.updateCredentials(self);});},updateCredentials:function(self){var elJson=self.$amazonCredentialJson.val(),obj=null,success=true,item=null;try{obj=$.parseJSON($.trim(elJson));}\ncatch(err){obj=null;self.$amazonCredentialJson.val('').attr('placeholder',$t('Invalid JSON credentials entered, please try again.')).focus();}\nif(obj&&typeof obj==='object'){for(var prop in obj){if(obj.hasOwnProperty(prop)){item=$('#payment_'+self.getCountry()+'_amazon_payment_credentials_'\n+$.trim(prop));if(item&&item.length){$('#payment_'+self.getCountry()+'_amazon_payment_credentials_'\n+$.trim(prop)).val($.trim(obj[prop]));}\nelse{success=false;}}}\nif(success){self.$amazonCredentialJson.val('').attr('placeholder',$t('Credential fields successfully updated and being saved.')).focus();$('#save').click();}\nelse{self.$amazonCredentialJson.val('').attr('placeholder',$t('One or more of your credential fields did not parse correctly. '+'Please review your entry and try again.')).focus();}}},setupWindowLaunch:function(){var self=this,heights=[660,720,810,900],popupWidth=this.getCountry()!=='us'?768:1050,popupHeight=heights[0],region=self.region,elCheckDefault=$('#payment_'+self.getCountry()\n+'_amazon_payment_credentials_payment_region_inherit:checked'),elRegion=$('payment_'+self.getCountry()+'_amazon_payment_credentials_payment_region'),elJson=self.$amazonCredentialJson.val();for(var i in heights){if(heights.hasOwnProperty(i)){popupHeight=window.innerHeight>=heights[i]?heights[i]:popupHeight;}}\nself.launchPopup(self.amazonUrl,popupWidth,popupHeight);windowOpen=true;pollTimer=setTimeout(self.pollForKeys(self),self.pollInterval);$('#save-json').click(function(e){e.stop();var json=$('#json-import').value;if(!json||!json.isJSON()){return;}\nelJson.value=json;$('#save').click();});if(self.region.indexOf('eu')!==-1){region='de';}\nif(elCheckDefault&&elCheckDefault.length){elCheckDefault[0].click();}\nif(elRegion){elRegion.value=region;}},pollForKeys:function(self){clearTimeout(pollTimer);if(windowOpen){$.ajax({url:self.pollUrl,data:{},type:'GET',cache:true,dataType:'json',context:this,success:function(response){if(response){$('#amazon_reload').show();document.location.replace(document.location+'#payment_amazon_payments-head');location.reload();}\nelse{pollTimer=setTimeout(self.pollForKeys(self),self.pollInterval);}}});}},generateSimplePathForm:function(){this.$form=new Element('form',{method:'post',action:this.amazonUrl,id:'simplepath_form',target:'simplepath',novalidate:'novalidate',});this.$container.wrap(this.$form);for(var key in this.formParams){if($.isPlainObject(this.formParams[key])||$.isArray(this.formParams[key])){for(var i in this.formParams[key]){if(typeof this.formParams[key][i]!=='function'){$(new Element('input',{type:'hidden',name:key,value:this.formParams[key][i],novalidate:'novalidate'})).appendTo($(\"#simplepath_form\"));}}}else{$(new Element('input',{type:'hidden',name:key,novalidate:'novalidate',value:this.formParams[key]})).appendTo($(\"#simplepath_form\"));}}\n$('#simplepath_form').validate({});},showAmazonConfig:function(){this.$amazonSimplepath.show();this.$amazonSpBack.hide();if(this.$amazonCredentialsHeader.hasClass('open')){this.$amazonCredentialsHeader.click();}},hideAmazonConfig:function(){this.$amazonSimplepath.hide();this.$amazonSpBack.show();if(!this.$amazonCredentialsHeader.hasClass('open')){this.$amazonCredentialsHeader.click();}},getCountry:function(){return this.co.toLowerCase();},launchPopup:function(url,requestedWidth,requestedHeight){var leftOffset=this.getLeftOffset(requestedWidth),topOffset=this.getTopOffset(requestedHeight),newWindow=window.open(url,'simplepath','scrollbars=yes, width='+requestedWidth\n+', height='+requestedHeight+', top='+topOffset+', left='+leftOffset);if(window.focus){newWindow.focus();}\nvar winTimer=window.setInterval(function(){if(newWindow.closed!==false){window.clearInterval(winTimer);windowOpen=false;}});},getLeftOffset:function(requestedWidth){var dualScreenLeft=window.screenLeft!==undefined?window.screenLeft:screen.left;return(this.windowWidth()/ 2)-(requestedWidth / 2)+dualScreenLeft;},getTopOffset:function(requestedHeight){var dualScreenTop=window.screenTop!==undefined?window.screenTop:screen.top;return(this.windowHeight()/ 2)-(requestedHeight / 2)+dualScreenTop;},windowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||screen.width;},windowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||screen.height;}});});","Mageplaza_BannerSlider/js/view/bannerslider.min.js":"define(['jquery'],function($){\"use strict\";$.widget('mageplaza.bannerslider',{_create:function(){this.templates=JSON.parse(this.options.templateHtml);this.imgUrls=JSON.parse(this.options.imgUrls);this.tplDropdown=$('#banner_default_template');this.initObserve();},initObserve:function(){this.loadTemplate();this.changeImageUrl();},loadTemplate:function(){var self=this;var toggleMCEEditor=$('#togglebanner_content');var bannerContent=$('#banner_content');var btnLoadContent=$('#banner_load_template');btnLoadContent.on('click',function(){var tplId=self.tplDropdown.val();var tpl=self.templates[tplId][\"tpl\"];var replaceBy=self.templates[tplId][\"var\"];var regEx=new RegExp(replaceBy,'g');var html=tpl.replace(regEx,tplId);if(bannerContent.css('display')==='none'){toggleMCEEditor.trigger('click');}\nbannerContent.val(html);});},changeImageUrl:function(){var imageUrls=this.imgUrls;var demoImg=$('#mp-demo-image');this.tplDropdown.on('change',function(){demoImg.attr('src',imageUrls[$(this).val()]);})}});return $.mageplaza.bannerslider;});","Magento_Ui/js/block-loader.min.js":"define(['ko','jquery','Magento_Ui/js/lib/knockout/template/loader','mage/template'],function(ko,$,templateLoader,template){'use strict';var blockLoaderTemplatePath='ui/block-loader',blockContentLoadingClass='_block-content-loading',blockLoader,blockLoaderClass,blockLoaderElement=$.Deferred(),loaderImageHref=$.Deferred();templateLoader.loadTemplate(blockLoaderTemplatePath).done(function(blockLoaderTemplate){loaderImageHref.done(function(loaderHref){blockLoader=template($.trim(blockLoaderTemplate),{loaderImageHref:loaderHref});blockLoader=$(blockLoader);blockLoaderClass='.'+blockLoader.attr('class');blockLoaderElement.resolve();});});function isLoadingClassRequired(element){var position=element.css('position');if(position==='absolute'||position==='fixed'){return false;}\nreturn true;}\nfunction addBlockLoader(element){element.find(':focus').blur();element.find('input:disabled, select:disabled').addClass('_disabled');element.find('input, select').prop('disabled',true);if(isLoadingClassRequired(element)){element.addClass(blockContentLoadingClass);}\nelement.append(blockLoader.clone());}\nfunction removeBlockLoader(element){if(!element.has(blockLoaderClass).length){return;}\nelement.find(blockLoaderClass).remove();element.find('input:not(\"._disabled\"), select:not(\"._disabled\")').prop('disabled',false);element.find('input:disabled, select:disabled').removeClass('_disabled');element.removeClass(blockContentLoadingClass);}\nreturn function(loaderHref){loaderImageHref.resolve(loaderHref);ko.bindingHandlers.blockLoader={update:function(element,displayBlockLoader){element=$(element);if(ko.unwrap(displayBlockLoader())){blockLoaderElement.done(addBlockLoader(element));}else{blockLoaderElement.done(removeBlockLoader(element));}}};};});","Magento_Ui/js/core/app.min.js":"define(['./renderer/types','./renderer/layout','../lib/knockout/bootstrap'],function(types,layout){'use strict';return function(data,merge){types.set(data.types);layout(data.components,undefined,true,merge);};});","Magento_Ui/js/core/renderer/layout.min.js":"define(['underscore','jquery','mageUtils','uiRegistry','./types','../../lib/logger/console-logger'],function(_,$,utils,registry,types,consoleLogger){'use strict';var templates=registry.create(),layout={},cachedConfig={};function getNodeName(parent,node,name){var parentName=parent&&parent.name;if(typeof name!=='string'){name=node.name||name;}\nreturn utils.fullPath(parentName,name);}\nfunction getNodeType(parent,node){return node.type||parent&&parent.childType;}\nfunction getDataScope(parent,node){var dataScope=node.dataScope,parentScope=parent&&parent.dataScope;return!utils.isEmpty(parentScope)?!utils.isEmpty(dataScope)?parentScope+'.'+dataScope:parentScope:dataScope||'';}\nfunction loadDeps(node){var loaded=$.Deferred(),loggerUtils=consoleLogger.utils;if(node.deps){consoleLogger.utils.asyncLog(loaded,{data:{component:node.name,deps:node.deps},messages:loggerUtils.createMessages('depsStartRequesting','depsFinishRequesting','depsLoadingFail')});}\nregistry.get(node.deps,function(deps){node.provider=node.extendProvider?deps&&deps.name:node.provider;loaded.resolve(node);});return loaded.promise();}\nfunction loadSource(node){var loaded=$.Deferred(),source=node.component;consoleLogger.info('componentStartLoading',{component:node.component});require([source],function(constr){consoleLogger.info('componentFinishLoading',{component:node.component});loaded.resolve(node,constr);},function(){consoleLogger.error('componentLoadingFail',{component:node.component});});return loaded.promise();}\nfunction initComponent(node,Constr){var component=new Constr(_.omit(node,'children'));consoleLogger.info('componentStartInitialization',{component:node.component,componentName:node.name});registry.set(node.name,component);}\nfunction run(nodes,parent,cached,merge){if(_.isBoolean(merge)&&merge){layout.merge(nodes);return false;}\nif(cached){cachedConfig[_.keys(nodes)[0]]=JSON.parse(JSON.stringify(nodes));}\n_.each(nodes||[],layout.iterator.bind(layout,parent));}\n_.extend(layout,{iterator:function(parent,node){var action=_.isString(node)?this.addChild:this.process;action.apply(this,arguments);},process:function(parent,node,name){if(!parent&&node.parent){return this.waitParent(node,name);}\nif(node.nodeTemplate){return this.waitTemplate.apply(this,arguments);}\nnode=this.build.apply(this,arguments);if(!registry.has(node.name)){this.addChild(parent,node).manipulate(node).initComponent(node);}\nif(node){run(node.children,node);}\nreturn this;},build:function(parent,node,name){var defaults=parent&&parent.childDefaults||{},children=this.filterDisabledChildren(node.children),type=getNodeType(parent,node),dataScope=getDataScope(parent,node),component,extendDeps=true,nodeName;node.children=false;node.extendProvider=true;if(node.config&&node.config.provider||node.provider){node.extendProvider=false;}\nif(node.config&&node.config.deps||node.deps){extendDeps=false;}\nnode=utils.extend({},types.get(type),defaults,node);nodeName=getNodeName(parent,node,name);if(registry.has(nodeName)){component=registry.get(nodeName);component.children=children;return component;}\nif(extendDeps&&parent&&parent.deps&&type){node.deps=parent.deps;}\n_.extend(node,node.config||{},{index:node.name||name,name:nodeName,dataScope:dataScope,parentName:utils.getPart(nodeName,-2),parentScope:utils.getPart(dataScope,-2)});node.children=children;node.componentType=node.type;delete node.type;delete node.config;if(children){node.initChildCount=_.size(children);}\nif(node.isTemplate){node.isTemplate=false;templates.set(node.name,node);registry.get(node.parentName,function(parentComp){parentComp.childTemplate=node;});return false;}\nif(node.componentDisabled===true){return false;}\nreturn node;},filterDisabledChildren:function(children){var cIds;if(children&&typeof children==='object'){cIds=Object.keys(children);if(cIds){_.each(cIds,function(cId){if(typeof children[cId]==='object'&&children[cId].hasOwnProperty('config')&&typeof children[cId].config==='object'&&children[cId].config.hasOwnProperty('componentDisabled')&&children[cId].config.componentDisabled===true){delete children[cId];}});}}\nreturn children;},initComponent:function(node){if(!node.component){return this;}\nloadDeps(node).then(loadSource).done(initComponent);return this;}});_.extend(layout,{waitTemplate:function(parent,node){var args=_.toArray(arguments);templates.get(node.nodeTemplate,function(){this.applyTemplate.apply(this,args);}.bind(this));return this;},waitParent:function(node,name){var process=this.process.bind(this);registry.get(node.parent,function(parent){process(parent,node,name);});return this;},applyTemplate:function(parent,node,name){var template=templates.get(node.nodeTemplate);node=utils.extend({},template,node);delete node.nodeTemplate;this.process(parent,node,name);}});_.extend(layout,{manipulate:function(node){var name=node.name;if(node.appendTo){this.insert(name,node.appendTo,-1);}\nif(node.prependTo){this.insert(name,node.prependTo,0);}\nif(node.insertTo){this.insertTo(name,node.insertTo);}\nreturn this;},insert:function(item,target,position){registry.get(target,function(container){container.insertChild(item,position);});return this;},insertTo:function(item,targets){_.each(targets,function(info,target){this.insert(item,target,info.position);},this);return this;},addChild:function(parent,child){var name;if(parent&&parent.component){name=child.name||child;this.insert(name,parent.name,child.sortOrder);}\nreturn this;},merge:function(components){var cachedKey=_.keys(components)[0],compared=utils.compare(cachedConfig[cachedKey],components),remove=this.filterComponents(this.getByProperty(compared.changes,'type','remove'),true),update=this.getByProperty(compared.changes,'type','update'),dataSources=this.getDataSources(components),names,index,name,component;_.each(dataSources,function(val,key){name=key.replace(/\\.children|\\.config/g,'');component=registry.get(name);component.cacheData();component.updateConfig(true,this.getFullConfig(key,components),this.getFullConfig(key,cachedConfig[cachedKey]));},this);_.each(remove,function(val){component=registry.get(val.path);if(component){component.destroy();}});update=_.compact(_.filter(update,function(val){return!_.isEqual(val.oldValue,val.value);}));_.each(update,function(val){names=val.path.split('.');index=Math.max(_.lastIndexOf(names,'config'),_.lastIndexOf(names,'children')+2);name=_.without(names.splice(0,index),'children','config').join('.');component=registry.get(name);if(val.name==='sortOrder'&&component){registry.get(component.parentName).insertChild(component,val.value);}else if(component){component.updateConfig(val.oldValue,val.value,val.path);}},this);run(components,undefined,true);},getDataSources:function(config,parentPath){var dataSources={},key,obj;for(key in config){if(config.hasOwnProperty(key)){if(key==='type'&&config[key]==='dataSource'&&config.hasOwnProperty('config')){dataSources[parentPath+'.config']=config.config;}else if(_.isObject(config[key])){obj=this.getDataSources(config[key],utils.fullPath(parentPath,key));_.each(obj,function(value,path){dataSources[path]=value;});}}}\nreturn dataSources;},getFullConfig:function(path,config){var index;path=path.split('.');index=_.lastIndexOf(path,'config');if(!~index){return false;}\npath=path.splice(0,index);_.each(path,function(val){config=config[val];});return config.config;},getByProperty:function(data,prop,propValue){return _.filter(data,function(value){return value[prop]===propValue;});},filterComponents:function(data,splitPath,index,separator,keyName){var result=[],names,length;index=-2;separator='.'||separator;keyName='children'||keyName;_.each(data,function(val){names=val.path.split(separator);length=names.length;if(names[length+index]===keyName){val.path=splitPath?_.without(names,keyName).join(separator):val.path;result.push(val);}});return result;}});return run;});","Magento_Ui/js/core/renderer/types.min.js":"define(['underscore','mageUtils'],function(_,utils){'use strict';var store={};function flatten(data){var extender=data.extends||[],result={};extender=utils.stringToArray(extender);extender.push(data);extender.forEach(function(item){if(_.isString(item)){item=store[item]||{};}\nutils.extend(result,item);});delete result.extends;return result;}\nreturn{set:function(types){types=types||{};utils.extend(store,types);_.each(types,function(data,type){store[type]=flatten(data);});},get:function(type){return store[type]||{};}};});","Magento_Ui/js/timeline/timeline.min.js":"define(['underscore','moment','uiLayout','Magento_Ui/js/grid/listing'],function(_,moment,layout,Listing){'use strict';var ONE_DAY=86400000;return Listing.extend({defaults:{recordTmpl:'ui/timeline/record',dateFormat:'YYYY-MM-DD HH:mm:ss',headerFormat:'ddd MM/DD',detailsFormat:'DD/MM/YYYY HH:mm:ss',scale:7,scaleStep:1,minScale:7,maxScale:28,minDays:28,displayMode:'timeline',displayModes:{timeline:{label:'Timeline',value:'timeline',template:'ui/timeline/timeline'}},viewConfig:{component:'Magento_Ui/js/timeline/timeline-view',name:'${ $.name }_view',model:'${ $.name }'},tracks:{scale:true},statefull:{scale:true},range:{}},initialize:function(){this._super().initView().updateRange();return this;},initConfig:function(){this._super();this.maxScale=Math.min(this.minDays,this.maxScale);this.minScale=Math.min(this.maxScale,this.minScale);return this;},initObservable:function(){this._super().observe.call(this.range,true,'hasToday');return this;},initView:function(){layout([this.viewConfig]);return this;},isActive:function(record){return Number(record.status)===1;},isUpcoming:function(record){return Number(record.status)===2;},isPermanent:function(record){return!this.getEndDate(record);},isToday:function(date){return moment().isSame(date,'day');},hasToday:function(){return this.range.hasToday;},getStartDate:function(record){return record['start_time'];},getEndDate:function(record){return record['end_time'];},getStartDelta:function(record){var start=this.createDate(this.getStartDate(record)),firstDay=this.range.firstDay;return start.diff(firstDay,'days',true);},getDaysLength:function(record){var start=this.createDate(this.getStartDate(record)),end=this.createDate(this.getEndDate(record));if(!end.isValid()){end=this.range.lastDay.endOf('day');}\nreturn end.diff(start,'days',true);},createDate:function(dateStr){return moment(dateStr,this.dateFormat);},daysToWeeks:function(days){var weeks=days / 7;if(weeks%1){weeks=weeks.toFixed(1);}\nreturn weeks;},updateRange:function(){var firstDay=this._getFirstDay(),lastDay=this._getLastDay(),totalDays=lastDay.diff(firstDay,'days'),days=[],i=-1;if(totalDays<this.minDays){totalDays+=this.minDays-totalDays-1;}\nwhile(++i<=totalDays){days.push(+firstDay+ONE_DAY*i);}\nreturn _.extend(this.range,{days:days,totalDays:totalDays,firstDay:firstDay,lastDay:moment(_.last(days)),hasToday:this.isToday(firstDay)});},_getDates:function(key){var dates=[];this.rows.forEach(function(record){if(record[key]){dates.push(this.createDate(record[key]));}},this);return dates;},_getFirstDay:function(){var dates=this._getDates('start_time'),first=moment.min(dates).subtract(1,'day'),today=moment();if(!first.isValid()||first<today){first=today;}\nreturn first.startOf('day');},_getLastDay:function(){var startDates=this._getDates('start_time'),endDates=this._getDates('end_time'),last=moment.max(startDates.concat(endDates));return last.add(1,'day').startOf('day');},formatHeader:function(timestamp){return moment(timestamp).format(this.headerFormat);},formatDetails:function(date){return moment(date).format(this.detailsFormat);}});});","Magento_Ui/js/timeline/timeline-view.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','Magento_Ui/js/lib/view/utils/raf','uiRegistry','uiClass'],function(ko,$,_,raf,registry,Class){'use strict';var hasClassList=(function(){var list=document.createElement('_').classList;return!!list&&!list.toggle('_test',false);})();function toggleClass(elem){var classList=elem.classList,args=Array.prototype.slice.call(arguments,1),$elem;if(hasClassList){classList.toggle.apply(classList,args);}else{$elem=$(elem);$elem.toggleClass.apply($elem,args);}}\nreturn Class.extend({defaults:{selectors:{content:'.timeline-content',timeUnit:'.timeline-unit',item:'.timeline-item:not([data-role=no-data-msg])',event:'.timeline-event'}},initialize:function(){_.bindAll(this,'refresh','initContent','initItem','initTimeUnit','getItemBindings','updateItemsPosition','onScaleChange','onEventElementRender','onWindowResize','onContentScroll','onDataReloaded','onToStartClick','onToEndClick');this._super().initModel().waitContent();return this;},initModel:function(){var model=registry.get(this.model);model.on('scale',this.onScaleChange);model.source.on('reloaded',this.onDataReloaded);this.model=model;return this;},waitContent:function(){$.async({selector:this.selectors.content,component:this.model},this.initContent);return this;},initContent:function(content){this.$content=content;$(content).on('scroll',this.onContentScroll);$(window).on('resize',this.onWindowResize);$.async(this.selectors.item,content,this.initItem);$.async(this.selectors.event,content,this.onEventElementRender);$.async(this.selectors.timeUnit,content,this.initTimeUnit);this.refresh();return this;},initItem:function(elem){$(elem).bindings(this.getItemBindings).on('click','._toend',this.onToEndClick).on('click','._tostart',this.onToStartClick);return this;},initTimeUnit:function(elem){$(elem).bindings(this.getTimeUnitBindings());return this;},refresh:function(){raf(this.refresh);if(this._update){this._update=false;this.updateItemsPosition();}},getTimeUnitBindings:function(){return{style:{width:ko.computed(function(){return this.getTimeUnitWidth()+'%';}.bind(this))}};},getItemBindings:function(ctx){return{style:{width:ko.computed(function(){return this.getItemWidth(ctx.$row())+'%';}.bind(this)),'margin-left':ko.computed(function(){return this.getItemMargin(ctx.$row())+'%';}.bind(this))}};},getTimeUnitWidth:function(){return 100 / this.model.scale;},getItemWidth:function(record){var days=0;if(record){days=this.model.getDaysLength(record);}\nreturn this.getTimeUnitWidth()*days;},getItemMargin:function(record){var offset=0;if(record){offset=this.model.getStartDelta(record);}\nreturn this.getTimeUnitWidth()*offset;},getItems:function(){var items=this.$content.querySelectorAll(this.selectors.item);return _.toArray(items);},updateItemsPosition:function(){this.getItems().forEach(this.updatePositionFor,this);return this;},updatePositionFor:function($elem){var $event=$elem.querySelector(this.selectors.event),leftEdge=this.getLeftEdgeFor($elem),rightEdge=this.getRightEdgeFor($elem);if($event){$event.style.left=Math.max(-leftEdge,0)+'px';$event.style.right=Math.max(rightEdge,0)+'px';}\ntoggleClass($elem,'_scroll-start',leftEdge<0);toggleClass($elem,'_scroll-end',rightEdge>0);return this;},toStartOf:function(elem){var leftEdge=this.getLeftEdgeFor(elem);this.$content.scrollLeft+=leftEdge;return this;},toEndOf:function(elem){var rightEdge=this.getRightEdgeFor(elem);this.$content.scrollLeft+=rightEdge+1;return this;},getLeftEdgeFor:function(elem){var leftOffset=elem.getBoundingClientRect().left;return leftOffset-this.$content.getBoundingClientRect().left;},getRightEdgeFor:function(elem){var elemWidth=elem.offsetWidth,leftEdge=this.getLeftEdgeFor(elem);return leftEdge+elemWidth-this.$content.offsetWidth;},onToStartClick:function(event){var elem=event.originalEvent.currentTarget;event.stopPropagation();this.toStartOf(elem);},onToEndClick:function(event){var elem=event.originalEvent.currentTarget;event.stopPropagation();this.toEndOf(elem);},onScaleChange:function(){this._update=true;},onEventElementRender:function(){this._update=true;},onWindowResize:function(){this._update=true;},onContentScroll:function(){this._update=true;},onDataReloaded:function(){this._update=true;}});});","Magento_Ui/js/lib/key-codes.min.js":"define([],function(){'use strict';return{13:'enterKey',27:'escapeKey',40:'pageDownKey',38:'pageUpKey',32:'spaceKey',9:'tabKey',37:'pageLeftKey',39:'pageRightKey',17:'ctrlKey',18:'altKey',16:'shiftKey',191:'forwardSlashKey',66:'bKey',73:'iKey',85:'uKey'};});","Magento_Ui/js/lib/collapsible.min.js":"define(['uiComponent'],function(Component){'use strict';return Component.extend({defaults:{opened:false,collapsible:true},initObservable:function(){this._super().observe('opened');return this;},toggleOpened:function(){this.opened()?this.close():this.open();return this;},close:function(){if(this.collapsible){this.opened(false);}\nreturn this;},open:function(){if(this.collapsible){this.opened(true);}\nreturn this;}});});","Magento_Ui/js/lib/spinner.min.js":"define(['jquery'],function($){'use strict';var selector='[data-role=\"spinner\"]',spinner=$(selector);return{show:function(){spinner.show();},hide:function(){spinner.hide();},get:function(id){return $(selector+'[data-component=\"'+id+'\"]');}};});","Magento_Ui/js/lib/step-wizard.min.js":"define(['uiRegistry','uiComponent','jquery','underscore','ko','mage/backend/notification','mage/translate'],function(uiRegistry,Component,$,_,ko){'use strict';var Wizard;ko.utils.domNodeDisposal.cleanExternalData=_.wrap(ko.utils.domNodeDisposal.cleanExternalData,function(func,node){if(!$(node).closest('[data-type=skipKO]').length){func(node);}});Wizard=function(steps,modalClass){this.steps=steps;this.index=0;this.data={};this.nextLabelText=$.mage.__('Next');this.prevLabelText=$.mage.__('Back');this.elementSelector='[data-role=steps-wizard-main]';this.element=modalClass?$('.'+modalClass+this.elementSelector):$(this.elementSelector);this.nextLabel='[data-role=\"step-wizard-next\"]';this.prevLabel='[data-role=\"step-wizard-prev\"]';this.element.notification();this.move=function(newIndex){if(!this.preventSwitch(newIndex)){if(newIndex>this.index){this._next(newIndex);}else if(newIndex<this.index){this._prev(newIndex);}}\nthis.updateLabels(this.getStep());this.showNotificationMessage();return this.getStep().name;};this.next=function(){this.move(this.index+1);return this.getStep().name;};this.prev=function(){this.move(this.index-1);return this.getStep().name;};this.preventSwitch=function(newIndex){return newIndex<0||(newIndex-this.index)>1;};this._next=function(newIndex){newIndex=_.isNumber(newIndex)?newIndex:this.index+1;try{this.getStep().force(this);if(newIndex>=steps.length){return false;}}catch(e){this.setNotificationMessage(e.message,true);return false;}\nthis.cleanErrorNotificationMessage();this.index=newIndex;this.cleanNotificationMessage();this.render();};this._prev=function(newIndex){newIndex=_.isNumber(newIndex)?newIndex:this.index-1;this.getStep().back(this);this.index=newIndex;};this.getStep=function(stepIndex){return this.steps[stepIndex||this.index]||{};};this.notifyMessage=function(message,error){$(this.element).notification('clear').notification('add',{error:error,message:message});};this.updateLabels=function(step){this.element.find(this.nextLabel).find('button').text(step.nextLabelText||this.nextLabelText);this.element.find(this.prevLabel).find('button').text(step.prevLabelText||this.prevLabelText);};this.showNotificationMessage=function(){if(!_.isEmpty(this.getStep())){this.hideNotificationMessage();if(this.getStep().notificationMessage.text!==null){this.notifyMessage(this.getStep().notificationMessage.text,this.getStep().notificationMessage.error);}}};this.cleanNotificationMessage=function(){this.getStep().notificationMessage.text=null;this.hideNotificationMessage();};this.cleanErrorNotificationMessage=function(){if(this.getStep().notificationMessage.error===true){this.cleanNotificationMessage();}};this.setNotificationMessage=function(text,error){error=error!==undefined;if(!_.isEmpty(this.getStep())){this.getStep().notificationMessage.text=text;this.getStep().notificationMessage.error=error;this.showNotificationMessage();}};this.hideNotificationMessage=function(){$(this.element).notification('clear');};this.render=function(){this.hideNotificationMessage();this.getStep().render(this);};this.init=function(){this.updateLabels(this.getStep());this.render();};this.init();};return Component.extend({defaults:{modalClass:'',initData:[],stepsNames:[],selectedStep:'',steps:[],disabled:true},initialize:function(){this._super();this.selectedStep.subscribe(this.wrapDisabledBackButton.bind(this));},initElement:function(step){step.initData=this.initData;step.mode=_.all(this.initData,_.isEmpty)?'create':'edit';this.steps[this.getStepIndexByName(step.name)]=step;},initObservable:function(){this._super().observe(['selectedStep','disabled']);return this;},destroy:function(){_.each(this.steps,function(step){step.destroy();});this._super();},wrapDisabledBackButton:function(stepName){if(_.first(this.stepsNames)===stepName){this.disabled(true);}else{this.disabled(false);}},getStepIndexByName:function(stepName){return _.indexOf(this.stepsNames,stepName);},next:function(){this.selectedStep(this.wizard.next());},back:function(){this.selectedStep(this.wizard.prev());},open:function(){this.selectedStep(this.stepsNames.first());this.wizard=new Wizard(this.steps,this.modalClass);},close:function(){var modal=uiRegistry.get(this.initData.configurableModal);if(!_.isUndefined(modal)){modal.closeModal();}},showSpecificStep:function(data,event){var index=_.indexOf(this.stepsNames,event.target.hash.substr(1)),stepName=this.wizard.move(index);this.selectedStep(stepName);}});});","Magento_Ui/js/lib/view/utils/dom-observer.min.js":"define(['jquery','underscore','domReady!'],function($,_){'use strict';var counter=1,watchers,globalObserver,disabledNodes=[];watchers={selectors:{},nodes:{}};function isElementNode(node){return node.nodeType===1;}\nfunction extractChildren(node){var children=node.querySelectorAll('*');return _.toArray(children);}\nfunction getNodeId(node){var id=node._observeId;if(!id){id=node._observeId=counter++;}\nreturn id;}\nfunction trigger(node,data){var id=getNodeId(node),ids=data.invoked;if(_.contains(ids,id)){return;}\ndata.callback(node);data.invoked.push(id);}\nfunction createNodeData(node){var nodes=watchers.nodes,id=getNodeId(node);nodes[id]=nodes[id]||{};return nodes[id];}\nfunction getNodeData(node){var nodeId=node._observeId;return watchers.nodes[nodeId];}\nfunction removeNodeData(node){var nodeId=node._observeId;delete watchers.nodes[nodeId];}\nfunction addRemovalListener(node,data){var nodeData=createNodeData(node);(nodeData.remove=nodeData.remove||[]).push(data);}\nfunction addSelectorListener(selector,data){var storage=watchers.selectors;(storage[selector]=storage[selector]||[]).push(data);}\nfunction processAdded(node){_.each(watchers.selectors,function(listeners,selector){listeners.forEach(function(data){if(!data.ctx.contains(node)||!$(node,data.ctx).is(selector)){return;}\nif(data.type==='add'){trigger(node,data);}else if(data.type==='remove'){addRemovalListener(node,data);}});});}\nfunction processRemoved(node){var nodeData=getNodeData(node),listeners=nodeData&&nodeData.remove;if(!listeners){return;}\nlisteners.forEach(function(data){trigger(node,data);});removeNodeData(node);}\nfunction formNodesList(nodes){var result=[],children;nodes=_.toArray(nodes).filter(isElementNode);nodes.forEach(function(node){result.push(node);children=extractChildren(node);result=result.concat(children);});return result;}\nfunction formChangesLists(mutations){var removed=[],added=[];mutations.forEach(function(record){removed=removed.concat(_.toArray(record.removedNodes));added=added.concat(_.toArray(record.addedNodes));});removed=removed.filter(function(node){var addIndex=added.indexOf(node),wasAdded=!!~addIndex;if(wasAdded){added.splice(addIndex,1);}\nreturn!wasAdded;});return{removed:formNodesList(removed),added:formNodesList(added)};}\nfunction shouldObserveMutation(mutation){var isDisabled;if(disabledNodes.length>0){isDisabled=_.find(disabledNodes,function(node){return node===mutation.target||$.contains(node,mutation.target);});return!isDisabled;}\nreturn true;}\nfunction shouldObserveMutations(mutations){var firstMutation,lastMutation;if(mutations.length>0){firstMutation=mutations[0];lastMutation=mutations[mutations.length-1];return shouldObserveMutation(firstMutation)&&shouldObserveMutation(lastMutation);}\nreturn true;}\nglobalObserver=new MutationObserver(function(mutations){var changes;if(shouldObserveMutations(mutations)){changes=formChangesLists(mutations);changes.removed.forEach(processRemoved);changes.added.forEach(processAdded);}});globalObserver.observe(document.body,{subtree:true,childList:true});return{disableNode:function(node){disabledNodes.push(node);},get:function(selector,callback,ctx){var data,nodes;data={ctx:ctx||document.body,type:'add',callback:callback,invoked:[]};nodes=$(selector,data.ctx).toArray();nodes.forEach(function(node){trigger(node,data);});addSelectorListener(selector,data);},remove:function(selector,callback,ctx){var nodes=[],data;data={ctx:ctx||document.body,type:'remove',callback:callback,invoked:[]};if(typeof selector==='object'){nodes=!_.isUndefined(selector.length)?_.toArray(selector):[selector];}else if(_.isString(selector)){nodes=$(selector,ctx).toArray();addSelectorListener(selector,data);}\nnodes.forEach(function(node){addRemovalListener(node,data);});},off:function(selector,fn){var selectors=watchers.selectors,listeners=selectors[selector];if(selector&&!fn){delete selectors[selector];}else if(listeners&&fn){selectors[selector]=listeners.filter(function(data){return data.callback!==fn;});}}};});","Magento_Ui/js/lib/view/utils/async.min.js":"define(['ko','jquery','underscore','uiRegistry','./dom-observer','Magento_Ui/js/lib/knockout/extender/bound-nodes','./bindings'],function(ko,$,_,registry,domObserver,boundedNodes){'use strict';function isDomElement(node){return typeof node==='object'&&node.tagName&&node.nodeType;}\nfunction parseSelector(str){var data=str.trim().split('->'),result={},componentData;if(data.length===1){if(!~data[0].indexOf(':')){result.selector=data[0];}else{componentData=data[0];}}else{componentData=data[0];result.selector=data[1];}\nif(componentData){componentData=componentData.split(':');result.component=componentData[0];result.ctx=componentData[1];}\n_.each(result,function(value,key){result[key]=value.trim();});return result;}\nfunction parseData(selector,ctx){var data={};if(arguments.length===2){data.selector=selector;if(isDomElement(ctx)){data.ctx=ctx;}else{data.component=ctx;data.ctx='*';}}else{data=_.isString(selector)?parseSelector(selector):selector;}\nreturn data;}\nfunction waitComponent(name){var deffer=$.Deferred();if(_.isString(name)){registry.get(name,function(component){deffer.resolve(component);});}else{deffer.resolve(name);}\nreturn deffer.promise();}\nfunction setRootListener(data,component){boundedNodes.get(component,function(root){if(!$(root).is(data.ctx||'*')){return;}\ndata.selector?domObserver.get(data.selector,data.fn,root):data.fn(root);});}\n$.async=function(selector,ctx,fn){var args=_.toArray(arguments),data=parseData.apply(null,_.initial(args));data.fn=_.last(args);if(data.component){waitComponent(data.component).then(setRootListener.bind(null,data));}else{domObserver.get(data.selector,data.fn,data.ctx);}};_.extend($.async,{get:function(selector,ctx){var data=parseData.apply(null,arguments),component=data.component,nodes;if(!component){return $(data.selector,data.ctx).toArray();}else if(_.isString(component)){component=registry.get(component);}\nif(!component){return[];}\nnodes=boundedNodes.get(component);nodes=$(nodes).filter(data.ctx).toArray();return data.selector?$(data.selector,nodes).toArray():nodes;},remove:function(nodes,fn){domObserver.remove(nodes,fn);},parseSelector:parseSelector});return $;});","Magento_Ui/js/lib/view/utils/bindings.min.js":"define(['ko','jquery','underscore'],function(ko,$,_){'use strict';function isDomElement(node){return typeof node==='object'&&node.tagName&&node.nodeType;}\nfunction normalize(nodes){var result;nodes=_.toArray(nodes);result=nodes.slice();nodes.forEach(function(node){if(node.nodeType===8){result=!ko.virtualElements.hasBindingValue(node)?_.without(result,node):_.difference(result,ko.virtualElements.childNodes(node));}});return result;}\n$.fn.extendCtx=function(){var nodes=normalize(this),extenders=_.toArray(arguments);nodes.forEach(function(node){var ctx=ko.contextFor(node),data=[ctx].concat(extenders);_.extend.apply(_,data);});return this;};$.fn.applyBindings=function(ctx){var nodes=normalize(this),nodeCtx;if(isDomElement(ctx)){ctx=ko.contextFor(ctx);}\nnodes.forEach(function(node){nodeCtx=ctx||ko.contextFor(node);ko.applyBindings(nodeCtx,node);});return this;};$.fn.bindings=function(data,ctx){var nodes=normalize(this),bindings=data,nodeCtx;if(isDomElement(ctx)){ctx=ko.contextFor(ctx);}\nnodes.forEach(function(node){nodeCtx=ctx||ko.contextFor(node);if(_.isFunction(data)){bindings=data(nodeCtx,node);}\nko.applyBindingsToNode(node,bindings,nodeCtx);});return this;};});","Magento_Ui/js/lib/view/utils/raf.min.js":"define([],function(){'use strict';var processMap=new WeakMap(),origRaf,raf;origRaf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.onRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){if(typeof callback!='function'){throw new Error('raf argument \"callback\" must be of type function');}\nwindow.setTimeout(callback,1000 / 60);};function getProcess(id,fps){var process=processMap.get(id);if(!process){process={};processMap.set(id,process);}\nif(process.fps!==fps){process.fps=fps;process.interval=1000 / fps;process.update=Date.now();}\nreturn process;}\nraf=function(callback,fps){var rafId=origRaf(callback);return fps?raf.tick(callback,fps):rafId;};raf.tick=function(id,fps){var process=getProcess(id,fps),now=Date.now(),delta=now-process.update,interval=process.interval;if(fps>=60||delta>=interval){process.update=now-delta%interval;return true;}\nreturn false;};return raf;});","Magento_Ui/js/lib/core/class.min.js":"define(['underscore','mageUtils','mage/utils/wrapper'],function(_,utils,wrapper){'use strict';var Class;function getOwn(obj,prop){return _.isObject(obj)&&obj.hasOwnProperty(prop)&&obj[prop];}\nfunction createConstructor(protoProps,constructor){var UiClass=constructor;if(!UiClass){UiClass=function(){var obj=this;if(!_.isObject(obj)||Object.getPrototypeOf(obj)!==UiClass.prototype){obj=Object.create(UiClass.prototype);}\nobj.initialize.apply(obj,arguments);return obj;};}\nUiClass.prototype=protoProps;UiClass.prototype.constructor=UiClass;return UiClass;}\nClass=createConstructor({initialize:function(options){this.initConfig(options);return this;},initConfig:function(options){var defaults=this.constructor.defaults,config=utils.extend({},defaults,options||{}),ignored=config.ignoreTmpls||{},cached=utils.omit(config,ignored);config=utils.template(config,this,false,true);_.each(cached,function(value,key){utils.nested(config,key,value);});return _.extend(this,config);}});_.extend(Class,{defaults:{ignoreTmpls:{templates:true}},extend:function(extender){var parent=this,parentProto=parent.prototype,childProto=Object.create(parentProto),child=createConstructor(childProto,getOwn(extender,'constructor')),defaults;extender=extender||{};defaults=extender.defaults;delete extender.defaults;_.each(extender,function(method,name){childProto[name]=wrapper.wrapSuper(parentProto[name],method);});child.defaults=utils.extend({},parent.defaults||{});if(defaults){utils.extend(child.defaults,defaults);extender.defaults=defaults;}\nreturn _.extend(child,{__super__:parentProto,extend:parent.extend});}});return Class;});","Magento_Ui/js/lib/core/collection.min.js":"define(['underscore','mageUtils','uiRegistry','uiElement'],function(_,utils,registry,Element){'use strict';function compact(container){return container.filter(utils.isObject);}\nreturn Element.extend({defaults:{template:'ui/collection',_elems:[],ignoreTmpls:{childDefaults:true}},initObservable:function(){this._super().observe({elems:[]});return this;},initElement:function(elem){elem.initContainer(this);return this;},getChild:function(index){return _.findWhere(this.elems(),{index:index});},insertChild:function(elems,position){var container=this._elems,insert=this._insert.bind(this),update;if(!Array.isArray(elems)){elems=[elems];}\nelems.map(function(item){return item.elem?utils.insert(item.elem,container,item.position):utils.insert(item,container,position);}).forEach(function(item){if(item===true){update=true;}else if(_.isString(item)){registry.get(item,insert);}else if(utils.isObject(item)){insert(item);}});if(update){this._updateCollection();}\nreturn this;},removeChild:function(elem,skipUpdate){if(_.isString(elem)){elem=this.getChild(elem);}\nif(elem){utils.remove(this._elems,elem);if(!skipUpdate){this._updateCollection();}}\nreturn this;},destroyChildren:function(){this.elems.each(function(elem){elem.destroy(true);});this._updateCollection();},clear:function(){var elems=this.elems();_.each(elems,function(elem){if(_.isFunction(elem.clear)){elem.clear();}},this);return this;},hasChild:function(index){return!!this.getChild(index);},requestChild:function(index){var name=this.formChildName(index);return this.requestModule(name);},formChildName:function(index){return this.name+'.'+index;},getRegion:function(name){var regions=this.regions=this.regions||{};if(!regions[name]){regions[name]=[];this.observe.call(regions,name);}\nreturn regions[name];},regionHasElements:function(name){var region=this.getRegion(name);return region().length>0;},updateRegion:function(items,name){this.getRegion(name)(items);return this;},destroy:function(){this._super();this.elems.each('destroy');},_insert:function(elem){var index=this._elems.indexOf(elem.name);if(~index){this._elems[index]=elem;}\nthis._updateCollection().initElement(elem);},_updateCollection:function(){var _elems=compact(this._elems),grouped;grouped=_elems.filter(function(elem){return elem.displayArea&&_.isString(elem.displayArea);});grouped=_.groupBy(grouped,'displayArea');_.each(grouped,this.updateRegion,this);_.each(this.regions,function(items){var hasObsoleteComponents=items().length&&!_.intersection(_elems,items()).length;if(hasObsoleteComponents){items.removeAll();}});this.elems(_elems);return this;},delegate:function(target){var args=_.toArray(arguments);target=this[target];if(_.isFunction(target)){return target.apply(this,args.slice(1));}\nreturn this._delegate(args);},_delegate:function(args){var result;result=this.elems.map(function(elem){var target;if(!_.isFunction(elem.delegate)){target=elem[args[0]];if(_.isFunction(target)){return target.apply(elem,args.slice(1));}}else{return elem.delegate.apply(elem,args);}});return _.flatten(result);}});});","Magento_Ui/js/lib/core/events.min.js":"define(['ko','underscore'],function(ko,_){'use strict';var eventsMap=new WeakMap();function getEvents(obj,name){var events=eventsMap.get(obj);if(!events){return false;}\nreturn name?events.get(name):events;}\nfunction addHandler(obj,ns,callback,name){var events=getEvents(obj),observable,data;observable=!ko.isObservable(obj[name])?ko.getObservable(obj,name):obj[name];if(observable){observable.subscribe(callback);return;}\nif(!events){events=new Map();eventsMap.set(obj,events);}\ndata={callback:callback,ns:ns};events.has(name)?events.get(name).push(data):events.set(name,[data]);}\nfunction trigger(handlers,args){var bubble=true,callback;handlers.forEach(function(handler){callback=handler.callback;if(callback.apply(null,args)===false){bubble=false;}});return bubble;}\nreturn{on:function(events,callback,ns){var iterator;if(arguments.length<2){ns=callback;}\niterator=addHandler.bind(null,this,ns);_.isObject(events)?_.each(events,iterator):iterator(callback,events);return this;},off:function(ns){var storage=getEvents(this);if(!storage){return this;}\nstorage.forEach(function(handlers,name){handlers=handlers.filter(function(handler){return!ns?false:handler.ns!==ns;});handlers.length?storage.set(name,handlers):storage.delete(name);});return this;},trigger:function(name){var handlers,args;handlers=getEvents(this,name),args=_.toArray(arguments).slice(1);if(!handlers||!name){return true;}\nreturn trigger(handlers,args);}};});","Magento_Ui/js/lib/core/element/links.min.js":"define(['ko','underscore','mageUtils','uiRegistry'],function(ko,_,utils,registry){'use strict';function parseData(placeholder,data,direction){if(typeof data!=='string'){return false;}\ndata=data.split(':');if(!data[0]){return false;}\nif(!data[1]){data[1]=data[0];data[0]=placeholder;}\nreturn{target:data[0],property:data[1],direction:direction};}\nfunction notEmpty(value){return typeof value!=='undefined'&&value!=null;}\nfunction updateValue(data,owner,target,value){var component=target.component,property=target.property,linked=data.linked;if(data.mute){return;}\nif(linked){linked.mute=true;}\nif(owner.component!==target.component){value=data.inversionValue?!utils.copy(value):utils.copy(value);}\ncomponent.set(property,value,owner);if(property==='disabled'&&value){component.set('validate',value,owner);}\nif(linked){linked.mute=false;}}\nfunction getValue(owner){var component=owner.component,property=owner.property;return component.get(property);}\nfunction form(ownerComponent,targetComponent,ownerProp,targetProp,direction){var result,tmp;result={owner:{component:ownerComponent,property:ownerProp},target:{component:targetComponent,property:targetProp}};if(direction==='exports'){tmp=result.owner;result.owner=result.target;result.target=tmp;}\nreturn result;}\nfunction setLinked(map,data){var match;if(!map){return;}\nmatch=_.findWhere(map,{linked:false,target:data.target,property:data.property});if(match){match.linked=data;data.linked=match;}}\nfunction setData(maps,property,data){var direction=data.direction,map=maps[direction];data.linked=false;(map[property]=map[property]||[]).push(data);direction=direction==='imports'?'exports':'imports';setLinked(maps[direction][property],data);}\nfunction setLink(target,owner,data,property,immediate){var direction=data.direction,formated=form(target,owner,data.property,property,direction),callback,value;owner=formated.owner;target=formated.target;callback=updateValue.bind(null,data,owner,target);owner.component.on(owner.property,callback,target.component.name);if(immediate){value=getValue(owner);if(notEmpty(value)){updateValue(data,owner,target,value);}}}\nfunction transfer(owner,data){var args=_.toArray(arguments);if(data.target.substr(0,1)==='!'){data.target=data.target.substr(1);data.inversionValue=true;}\nif(owner.name===data.target){args.unshift(owner);setLink.apply(null,args);}else{registry.get(data.target,function(target){args.unshift(target);setLink.apply(null,args);});}}\nreturn{setListeners:function(listeners){var owner=this,data;_.each(listeners,function(callbacks,sources){sources=sources.split(' ');callbacks=callbacks.split(' ');sources.forEach(function(target){callbacks.forEach(function(callback){data=parseData(owner.name,target,'imports');if(data){setData(owner.maps,callback,data);transfer(owner,data,callback);}});});});return this;},setLinks:function(links,direction){var owner=this,property,data;for(property in links){if(links.hasOwnProperty(property)){data=parseData(owner.name,links[property],direction);if(data){setData(owner.maps,property,data);transfer(owner,data,property,true);}}}\nreturn this;}};});","Magento_Ui/js/lib/core/element/element.min.js":"define(['ko','underscore','mageUtils','uiRegistry','uiEvents','uiClass','./links','../storage/local'],function(ko,_,utils,registry,Events,Class,links){'use strict';var Element;function observable(obj,key,value){var method=Array.isArray(value)?'observableArray':'observable';if(_.isFunction(obj[key])&&!ko.isObservable(obj[key])){return;}\nif(ko.isObservable(value)){value=value();}\nko.isObservable(obj[key])?obj[key](value):obj[key]=ko[method](value);}\nfunction accessor(obj,key,value){if(_.isFunction(obj[key])||ko.isObservable(obj[key])){return;}\nobj[key]=value;if(!ko.es5.isTracked(obj,key)){ko.track(obj,[key]);}}\nElement=_.extend({defaults:{_requested:{},containers:[],exports:{},imports:{},links:{},listens:{},name:'',ns:'${ $.name.split(\".\")[0] }',provider:'',registerNodes:true,source:null,statefull:{},template:'',tracks:{},storageConfig:{provider:'localStorage',namespace:'${ $.name }',path:'${ $.storageConfig.provider }:${ $.storageConfig.namespace }'},maps:{imports:{},exports:{}},modules:{storage:'${ $.storageConfig.provider }'}},initialize:function(){this._super().initObservable().initModules().initStatefull().initLinks().initUnique();return this;},initObservable:function(){_.each(this.tracks,function(enabled,key){if(enabled){this.track(key);}},this);return this;},initModules:function(){_.each(this.modules,function(name,property){if(name){this[property]=this.requestModule(name);}},this);if(!_.isFunction(this.source)){this.source=registry.get(this.provider);}\nreturn this;},initContainer:function(parent){this.containers.push(parent);return this;},initStatefull:function(){_.each(this.statefull,function(path,key){if(path){this.setStatefull(key,path);}},this);return this;},initLinks:function(){return this.setListeners(this.listens).setLinks(this.links,'imports').setLinks(this.links,'exports').setLinks(this.exports,'exports').setLinks(this.imports,'imports');},initUnique:function(){var update=this.onUniqueUpdate.bind(this),uniqueNs=this.uniqueNs;this.hasUnique=this.uniqueProp&&uniqueNs;if(this.hasUnique){this.source.on(uniqueNs,update,this.name);}\nreturn this;},setStatefull:function(key,path){var link={};path=!_.isString(path)||!path?key:path;link[key]=this.storageConfig.path+'.'+path;this.setLinks(link,'imports').setLinks(link,'exports');return this;},setUnique:function(){var property=this.uniqueProp;if(this[property]()){this.source.set(this.uniqueNs,this.name);}\nreturn this;},requestModule:function(name){var requested=this._requested;if(!requested[name]){requested[name]=registry.async(name);}\nreturn requested[name];},getTemplate:function(){return this.template;},hasTemplate:function(){return!!this.template;},get:function(path){return utils.nested(this,path);},set:function(path,value){var data=this.get(path),diffs;diffs=!_.isFunction(data)&&!this.isTracked(path)?utils.compare(data,value,path):false;utils.nested(this,path,value);if(diffs){this._notifyChanges(diffs);}\nreturn this;},remove:function(path){var data=utils.nested(this,path),diffs;if(_.isUndefined(data)||_.isFunction(data)){return this;}\ndiffs=utils.compare(data,undefined,path);utils.nestedRemove(this,path);this._notifyChanges(diffs);return this;},observe:function(useAccessors,properties){var model=this,trackMethod;if(typeof useAccessors!=='boolean'){properties=useAccessors;useAccessors=false;}\ntrackMethod=useAccessors?accessor:observable;if(_.isString(properties)){properties=properties.split(' ');}\nif(Array.isArray(properties)){properties.forEach(function(key){trackMethod(model,key,model[key]);});}else if(typeof properties==='object'){_.each(properties,function(value,key){trackMethod(model,key,value);});}\nreturn this;},track:function(properties){this.observe(true,properties);return this;},isTracked:function(property){return ko.es5.isTracked(this,property);},_notifyChanges:function(diffs){diffs.changes.forEach(function(change){this.trigger(change.path,change.value,change);},this);_.each(diffs.containers,function(changes,name){var value=utils.nested(this,name);this.trigger(name,value,changes);},this);return this;},restore:function(){var ns=this.storageConfig.namespace,storage=this.storage();if(storage){utils.extend(this,storage.get(ns));}\nreturn this;},store:function(property,data){var ns=this.storageConfig.namespace,path=utils.fullPath(ns,property);if(arguments.length<2){data=this.get(property);}\nthis.storage('set',path,data);return this;},getStored:function(property){var ns=this.storageConfig.namespace,path=utils.fullPath(ns,property),storage=this.storage(),data;if(storage){data=storage.get(path);}\nreturn data;},removeStored:function(property){var ns=this.storageConfig.namespace,path=utils.fullPath(ns,property);this.storage('remove',path);return this;},destroy:function(skipUpdate){this._dropHandlers()._clearRefs(skipUpdate);},_dropHandlers:function(){this.off();if(_.isFunction(this.source)){this.source().off(this.name);}else if(this.source){this.source.off(this.name);}\nreturn this;},_clearRefs:function(skipUpdate){registry.remove(this.name);this.containers.forEach(function(parent){parent.removeChild(this,skipUpdate);},this);return this;},bubble:function(){var args=_.toArray(arguments),bubble=this.trigger.apply(this,args),result;if(!bubble){return false;}\nthis.containers.forEach(function(parent){result=parent.bubble.apply(parent,args);if(result===false){bubble=false;}});return!!bubble;},onUniqueUpdate:function(name){var active=name===this.name,property=this.uniqueProp;this[property](active);},cleanData:function(){if(this.source&&this.source.componentType==='dataSource'){if(this.elems){_.each(this.elems(),function(val){val.cleanData();});}else{this.source.remove(this.dataScope);}}\nreturn this;},cacheData:function(){this.cachedComponent=utils.copy(this);},updateConfig:function(oldValue,newValue,path){var names=path.split('.'),index=_.lastIndexOf(names,'config')+1;names=names.splice(index,names.length-index).join('.');this.set(names,newValue);return this;}},Events,links);return Class.extend(Element);});","Magento_Ui/js/lib/core/storage/local.min.js":"define(['underscore','uiRegistry','mageUtils','uiEvents'],function(_,registry,utils,EventsBus){'use strict';var root='appData',localStorage,hasSupport,storage;hasSupport=(function(){var key='_storageSupported';try{localStorage=window.localStorage;localStorage.setItem(key,'true');if(localStorage.getItem(key)==='true'){localStorage.removeItem(key);return true;}\nreturn false;}catch(e){return false;}})();if(!hasSupport){localStorage={_data:{},setItem:function(key,value){this._data[key]=value+'';},getItem:function(key){return this._data[key];},removeItem:function(key){delete this._data[key];},clear:function(){this._data={};}};}\nfunction getRoot(){var data=localStorage.getItem(root),result={};if(!_.isNull(data)&&typeof data!='undefined'){result=JSON.parse(data);}\nreturn result;}\nfunction setRoot(data){localStorage.setItem(root,JSON.stringify(data));}\nstorage=_.extend({get:function(path){var data=getRoot();return utils.nested(data,path);},set:function(path,value){var data=getRoot();utils.nested(data,path,value);setRoot(data);},remove:function(path){var data=getRoot();utils.nestedRemove(data,path);setRoot(data);}},EventsBus);registry.set('localStorage',storage);return storage;});","Magento_Ui/js/lib/knockout/bootstrap.min.js":"define(['ko','./template/engine','knockoutjs/knockout-es5','./bindings/bootstrap','./extender/observable_array','./extender/bound-nodes','domReady!'],function(ko,templateEngine){'use strict';ko.uid=0;ko.setTemplateEngine(templateEngine);ko.applyBindings();});","Magento_Ui/js/lib/knockout/bindings/mage-init.min.js":"define(['ko','underscore','mage/apply/main'],function(ko,_,mage){'use strict';ko.bindingHandlers.mageInit={init:function(el,valueAccessor){var data=valueAccessor();_.each(data,function(config,component){mage.applyFor(el,config,component);});}};});","Magento_Ui/js/lib/knockout/bindings/fadeVisible.min.js":"define(['jquery','ko'],function($,ko){'use strict';ko.bindingHandlers.fadeVisible={init:function(element,valueAccessor){var value=valueAccessor();$(element).toggle(ko.unwrap(value));},update:function(element,valueAccessor){var value=valueAccessor();ko.unwrap(value)?$(element).fadeIn():$(element).fadeOut();}};});","Magento_Ui/js/lib/knockout/bindings/color-picker.min.js":"define(['ko','jquery','../template/renderer','spectrum','tinycolor'],function(ko,$,renderer,spectrum,tinycolor){'use strict';function changeColorPickerStateBasedOnViewModel(element,viewModel){$(element).spectrum(viewModel.disabled()?'disable':'enable');}\nko.bindingHandlers.colorPicker={init:function(element,valueAccessor,allBindings,viewModel){var config=valueAccessor(),changeValue=function(value){if(value==null){value='';}\nconfig.value(value.toString());};config.change=changeValue;config.hide=changeValue;config.show=function(){if(!viewModel.focused()){viewModel.focused(true);}\nreturn true;};$(element).spectrum(config);changeColorPickerStateBasedOnViewModel(element,viewModel);},update:function(element,valueAccessor,allBindings,viewModel){var config=valueAccessor();if(config.value()===undefined){config.value('');}\nif(tinycolor(config.value()).isValid()||config.value()===''){$(element).spectrum('set',config.value());if(config.value()!==''){config.value($(element).spectrum('get').toString());}}\nchangeColorPickerStateBasedOnViewModel(element,viewModel);}};renderer.addAttribute('colorPicker');});","Magento_Ui/js/lib/knockout/bindings/after-render.min.js":"define(['ko','../template/renderer'],function(ko,renderer){'use strict';ko.bindingHandlers.afterRender={init:function(element,valueAccessor,allBindings,viewModel){var callback=valueAccessor();if(typeof callback==='function'){callback.call(viewModel,element,viewModel);}}};renderer.addAttribute('afterRender');});","Magento_Ui/js/lib/knockout/bindings/datepicker.min.js":"define(['ko','underscore','jquery','mage/translate'],function(ko,_,$,$t){'use strict';var defaults={dateFormat:'mm\\/dd\\/yyyy',showsTime:false,timeFormat:null,buttonImage:null,buttonImageOnly:null,buttonText:$t('Select Date')};ko.bindingHandlers.datepicker={init:function(el,valueAccessor){var config=valueAccessor(),observable,options={};_.extend(options,defaults);if(typeof config==='object'){observable=config.storage;_.extend(options,config.options);}else{observable=config;}\nrequire(['mage/calendar'],function(){$(el).calendar(options);ko.utils.registerEventHandler(el,'change',function(){observable(this.value);});});},update:function(element,valueAccessor){var config=valueAccessor(),$element=$(element),observable,options={},newVal;_.extend(options,defaults);if(typeof config==='object'){observable=config.storage;_.extend(options,config.options);}else{observable=config;}\nrequire(['moment','mage/utils/misc','mage/calendar'],function(moment,utils){if(_.isEmpty(observable())){newVal=null;}else{newVal=moment(observable(),utils.convertToMomentFormat(options.dateFormat+(options.showsTime?' '+options.timeFormat:''))).toDate();}\nif(!options.timeOnly){$element.datepicker('setDate',newVal);$element.blur();}});}};});","Magento_Ui/js/lib/knockout/bindings/outer_click.min.js":"define(['ko','jquery','underscore','../template/renderer'],function(ko,$,_,renderer){'use strict';var defaults={onlyIfVisible:true};function isVisible(el){var style=window.getComputedStyle(el),visibility={display:'none',visibility:'hidden',opacity:'0'},visible=true;_.each(visibility,function(val,key){if(style[key]===val){visible=false;}});return visible;}\nfunction onOuterClick(container,config,e){var target=e.target,callback=config.callback;if(container===target||container.contains(target)){return;}\nif(config.onlyIfVisible){if(!_.isNull(container.offsetParent)&&isVisible(container)){callback();}}else{callback();}}\nfunction buildConfig(options){var config={};if(_.isFunction(options)){options={callback:options};}else if(!_.isObject(options)){options={};}\nreturn _.extend(config,defaults,options);}\nko.bindingHandlers.outerClick={init:function(element,valueAccessor){var config=buildConfig(valueAccessor()),outerClick=onOuterClick.bind(null,element,config),isTouchDevice=typeof document.ontouchstart!=='undefined';if(isTouchDevice){$(document).on('touchstart',outerClick);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(document).off('touchstart',outerClick);});}else{$(document).on('click',outerClick);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(document).off('click',outerClick);});}}};renderer.addAttribute('outerClick');});","Magento_Ui/js/lib/knockout/bindings/keyboard.min.js":"define(['ko','../template/renderer'],function(ko,renderer){'use strict';ko.bindingHandlers.keyboard={init:function(el,valueAccessor,allBindings,viewModel){var map=valueAccessor();ko.utils.registerEventHandler(el,'keyup',function(e){var callback=map[e.keyCode];if(callback){return callback.call(viewModel,e);}});}};renderer.addAttribute('keyboard');});","Magento_Ui/js/lib/knockout/bindings/tooltip.min.js":"define(['jquery','ko','underscore','mage/template','text!ui/template/tooltip/tooltip.html','../template/renderer'],function($,ko,_,template,tooltipTmpl,renderer){'use strict';var tooltip,defaults,positions,transformProp,checkedPositions={},iterator=0,previousTooltip,tooltipData,positionData={},tooltipsCollection={},isTouchDevice=(function(){return'ontouchstart'in document.documentElement;})(),CLICK_EVENT=(function(){return isTouchDevice?'touchstart':'click';})();defaults={tooltipWrapper:'[data-tooltip=tooltip-wrapper]',tooltipContentBlock:'data-tooltip-content',closeButtonClass:'action-close',tailClass:'data-tooltip-tail',action:'hover',delay:300,track:false,step:20,position:'top',closeButton:false,showed:false,strict:true,center:false,closeOnScroll:true};tooltipData={tooltipClasses:'',trigger:false,timeout:0,element:false,event:false,targetElement:{},showed:false,currentID:0};transformProp=(function(){var style=document.createElement('div').style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!=='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!=='undefined'){return property;}}})();positions={map:{horizontal:{s:'w',p:'left'},vertical:{s:'h',p:'top'}},top:function(s){return positions._topLeftChecker(s,positions.map,'vertical','_bottom','top','right');},left:function(s){return positions._topLeftChecker(s,positions.map,'horizontal','_right','left','top');},bottom:function(s){return positions._bottomRightChecker(s,positions.map,'vertical','_top','bottom','left');},right:function(s){return positions._bottomRightChecker(s,positions.map,'horizontal','_left','right','bottom');},_topLeftChecker:function(s,map,direction,className,side,delegate){var result={position:{}},config=tooltip.getTooltip(tooltipData.currentID),startPosition=!config.strict?s.eventPosition:s.elementPosition,changedDirection;checkedPositions[side]=true;if(startPosition[map[direction].p]-s.tooltipSize[map[direction].s]-config.step>s.scrollPosition[map[direction].p]){result.position[map[direction].p]=startPosition[map[direction].p]-s.tooltipSize[map[direction].s]-\nconfig.step;result.className=className;result.side=side;changedDirection=direction==='vertical'?'horizontal':'vertical';result=positions._normalize(s,result,config,delegate,map,changedDirection);}else if(!checkedPositions[delegate]){result=positions[delegate].apply(null,arguments);}else{result=positions.positionCenter(s,result);}\nreturn result;},_bottomRightChecker:function(s,map,direction,className,side,delegate){var result={position:{}},config=tooltip.getTooltip(tooltipData.currentID),startPosition=!config.strict?s.eventPosition:{top:s.elementPosition.top+s.elementSize.h,left:s.elementPosition.left+s.elementSize.w},changedDirection;checkedPositions[side]=true;if(startPosition[map[direction].p]+s.tooltipSize[map[direction].s]+config.step<s.scrollPosition[map[direction].p]+s.windowSize[map[direction].s]){result.position[map[direction].p]=startPosition[map[direction].p]+config.step;result.className=className;result.side=side;changedDirection=direction==='vertical'?'horizontal':'vertical';result=positions._normalize(s,result,config,delegate,map,changedDirection);}else if(!checkedPositions[delegate]){result=positions[delegate].apply(null,arguments);}else{result=positions.positionCenter(s,result);}\nreturn result;},positionCenter:function(s,data){data=positions._positionCenter(s,data,'horizontal',positions.map);data=positions._positionCenter(s,data,'vertical',positions.map);return data;},_positionCenter:function(s,data,direction,map){if(s.tooltipSize[map[direction].s]<s.windowSize[map[direction].s]){data.position[map[direction].p]=(s.windowSize[map[direction].s]-\ns.tooltipSize[map[direction].s])/ 2+s.scrollPosition[map[direction].p];}else{data.position[map[direction].p]=s.scrollPosition[map[direction].p];data.tooltipSize={};data.tooltipSize[map[direction].s]=s.windowSize[map[direction].s];}\nreturn data;},_normalize:function(s,data,config,delegate,map,direction){var startPosition=!config.center?s.eventPosition:{left:s.elementPosition.left+s.elementSize.w / 2,top:s.elementPosition.top+s.elementSize.h / 2},depResult;if(startPosition[map[direction].p]-s.tooltipSize[map[direction].s]/ 2>s.scrollPosition[map[direction].p]&&startPosition[map[direction].p]+\ns.tooltipSize[map[direction].s]/ 2<s.scrollPosition[map[direction].p]+s.windowSize[map[direction].s]){data.position[map[direction].p]=startPosition[map[direction].p]-s.tooltipSize[map[direction].s]/ 2;}else{if(!checkedPositions[delegate]){depResult=positions[delegate].apply(null,arguments);if(depResult.hasOwnProperty('className')){data=depResult;}else{data=positions._normalizeTail(s,data,config,delegate,map,direction,startPosition);}}else{data=positions._normalizeTail(s,data,config,delegate,map,direction,startPosition);}}\nreturn data;},_normalizeTail:function(s,data,config,delegate,map,direction,startPosition){data.tail={};if(s.tooltipSize[map[direction].s]<s.windowSize[map[direction].s]){if(startPosition[map[direction].p]>s.windowSize[map[direction].s]/ 2+s.scrollPosition[map[direction].p]){data.position[map[direction].p]=s.windowSize[map[direction].s]+\ns.scrollPosition[map[direction].p]-s.tooltipSize[map[direction].s];data.tail[map[direction].p]=startPosition[map[direction].p]-\ns.tooltipSize[map[direction].s]/ 2-data.position[map[direction].p];}else{data.position[map[direction].p]=s.scrollPosition[map[direction].p];data.tail[map[direction].p]=startPosition[map[direction].p]-\ns.tooltipSize[map[direction].s]/ 2-data.position[map[direction].p];}}else{data.position[map[direction].p]=s.scrollPosition[map[direction].p];data.tail[map[direction].p]=s.eventPosition[map[direction].p]-s.windowSize[map[direction].s]/ 2;data.tooltipSize={};data.tooltipSize[map[direction].s]=s.windowSize[map[direction].s];}\nreturn data;}};tooltip={setTooltip:function(config){var property='id-'+iterator;tooltipsCollection[property]=config;iterator++;return property;},getTooltip:function(id){return tooltipsCollection[id];},setContent:function(tooltipElement,viewModel,id,bindingCtx,event){var html=$(tooltipElement).html(),config=tooltip.getTooltip(id),body=$('body');tooltipData.currentID=id;tooltipData.trigger=$(event.currentTarget);tooltip.setTargetData(event);body.on('mousemove.setTargetData',tooltip.setTargetData);tooltip.clearTimeout(id);tooltipData.timeout=_.delay(function(){body.off('mousemove.setTargetData',tooltip.setTargetData);if(tooltipData.trigger[0]===tooltipData.targetElement){tooltip.destroy(id);event.stopPropagation();tooltipElement=tooltip.createTooltip(id);tooltipElement.find('.'+defaults.tooltipContentBlock).append(html);tooltipElement.applyBindings(bindingCtx);tooltip.setHandlers(id);tooltip.setPosition(tooltipElement,id);previousTooltip=id;}},config.delay);},setPosition:function(tooltipElement,id){var config=tooltip.getTooltip(id);tooltip.sizeData={windowSize:{h:$(window).outerHeight(),w:$(window).outerWidth()},scrollPosition:{top:$(window).scrollTop(),left:$(window).scrollLeft()},tooltipSize:{h:tooltipElement.outerHeight(),w:tooltipElement.outerWidth()},elementSize:{h:tooltipData.trigger.outerHeight(),w:tooltipData.trigger.outerWidth()},elementPosition:tooltipData.trigger.offset(),eventPosition:this.getEventPosition(tooltipData.event)};_.extend(positionData,positions[config.position](tooltip.sizeData));tooltipElement.css(positionData.position);tooltipElement.addClass(positionData.className);tooltip._setTooltipSize(positionData,tooltipElement);tooltip._setTailPosition(positionData,tooltipElement);checkedPositions={};},_setTooltipSize:function(data,tooltipElement){if(data.tooltipSize){data.tooltipSize.w?tooltipElement.css('width',data.tooltipSize.w):tooltipElement.css('height',data.tooltipSize.h);}},_setTailPosition:function(data,tooltipElement){var tail,tailMargin;if(data.tail){tail=tooltipElement.find('.'+defaults.tailClass);if(data.tail.left){tailMargin=parseInt(tail.css('margin-left'),10);tail.css('margin-left',tailMargin+data.tail.left);}else{tailMargin=parseInt(tail.css('margin-top'),10);tail.css('margin-top',tailMargin+data.tail.top);}}},getEventPosition:function(event){var position={left:event.originalEvent&&event.originalEvent.pageX||0,top:event.originalEvent&&event.originalEvent.pageY||0};if(position.left===0&&position.top===0){_.extend(position,event.target.getBoundingClientRect());}\nreturn position;},outerClick:function(id,event){var tooltipElement=$(event.target).parents(defaults.tooltipWrapper)[0],isTrigger=event.target===tooltipData.trigger[0]||$.contains(tooltipData.trigger[0],event.target);if(tooltipData.showed&&tooltipElement!==tooltipData.element[0]&&!isTrigger){tooltip.destroy(id);}},keydownHandler:function(event){if(tooltipData.showed&&event.keyCode===27){tooltip.destroy(tooltipData.currentID);}},track:function(event){var inequality={},map=positions.map,translate={left:'translateX',top:'translateY'},eventPosition={left:event.pageX,top:event.pageY},tooltipSize={w:tooltipData.element.outerWidth(),h:tooltipData.element.outerHeight()},direction=positionData.side==='bottom'||positionData.side==='top'?'horizontal':'vertical';inequality[map[direction].p]=eventPosition[map[direction].p]-(positionData.position[map[direction].p]+\ntooltipSize[map[direction].s]/ 2);if(positionData.position[map[direction].p]+inequality[map[direction].p]+\ntooltip.sizeData.tooltipSize[map[direction].s]>tooltip.sizeData.windowSize[map[direction].s]+tooltip.sizeData.scrollPosition[map[direction].p]||inequality[map[direction].p]+positionData.position[map[direction].p]<tooltip.sizeData.scrollPosition[map[direction].p]){return false;}\ntooltipData.element[0].style[transformProp]=translate[map[direction].p]+'('+inequality[map[direction].p]+'px)';},setHandlers:function(id){var config=tooltip.getTooltip(id);if(config.track){tooltipData.trigger.on('mousemove.track',tooltip.track);}\nif(config.action==='click'){$(window).on(CLICK_EVENT+'.outerClick',tooltip.outerClick.bind(null,id));}\nif(config.closeButton){$('.'+config.closeButtonClass).on('click.closeButton',tooltip.destroy.bind(null,id));}\nif(config.closeOnScroll){document.addEventListener('scroll',tooltip.destroy,true);$(window).on('scroll.tooltip',tooltip.outerClick.bind(null,id));}\n$(window).on('keydown.tooltip',tooltip.keydownHandler);$(window).on('resize.outerClick',tooltip.outerClick.bind(null,id));},toggleTooltip:function(tooltipElement,viewModel,id){if(previousTooltip===id&&tooltipData.showed){tooltip.destroy(id);return false;}\ntooltip.setContent.apply(null,arguments);return false;},createTooltip:function(id){var body=$('body'),config=tooltip.getTooltip(id);$(template(tooltipTmpl,{data:config})).appendTo(body);tooltipData.showed=true;tooltipData.element=$(config.tooltipWrapper);return tooltipData.element;},clearTimeout:function(id){var config=tooltip.getTooltip(id);if(config.action==='hover'){clearTimeout(tooltipData.timeout);}},checkPreviousTooltip:function(){if(!tooltipData.timeout){tooltip.destroy();}},destroy:function(){if(tooltipData.element){tooltipData.element.remove();tooltipData.showed=false;}\npositionData={};tooltipData.timeout=false;tooltip.removeHandlers();},removeHandlers:function(){$('.'+defaults.closeButtonClass).off('click.closeButton');tooltipData.trigger.off('mousemove.track');document.removeEventListener('scroll',tooltip.destroy,true);$(window).off('scroll.tooltip');$(window).off(CLICK_EVENT+'.outerClick');$(window).off('keydown.tooltip');$(window).off('resize.outerClick');},setTargetData:function(event){tooltipData.event=event;if(event.timeStamp-(tooltipData.timestamp||0)<1){return;}\nif(event.type==='mousemove'){tooltipData.targetElement=event.target;}else{tooltipData.targetElement=event.currentTarget;tooltipData.timestamp=event.timeStamp;}},processingConfig:function(config){return _.extend({},defaults,config);}};ko.bindingHandlers.tooltip={init:function(elem,valueAccessor,allBindings,viewModel,bindingCtx){var config=tooltip.processingConfig(valueAccessor()),$parentScope=config.parentScope?$(config.parentScope):$(elem).parent(),tooltipId;$(elem).addClass('hidden');if(isTouchDevice){config.action='click';}\ntooltipId=tooltip.setTooltip(config);if(config.action==='hover'){$parentScope.on('mouseenter',config.trigger,tooltip.setContent.bind(null,elem,viewModel,tooltipId,bindingCtx));$parentScope.on('mouseleave',config.trigger,tooltip.checkPreviousTooltip.bind(null,tooltipId));}else if(config.action==='click'){$parentScope.on('click',config.trigger,tooltip.toggleTooltip.bind(null,elem,viewModel,tooltipId,bindingCtx));}\nreturn{controlsDescendantBindings:true};}};renderer.addAttribute('tooltip');});","Magento_Ui/js/lib/knockout/bindings/scope.min.js":"define(['ko','uiRegistry','mage/translate','../template/renderer','jquery','../../logger/console-logger'],function(ko,registry,$t,renderer,$,consoleLogger){'use strict';function applyComponents(el,bindingContext,promise,component){promise.resolve();component=bindingContext.createChildContext(component);ko.utils.extend(component,{$t:$t});ko.utils.arrayForEach(ko.virtualElements.childNodes(el),ko.cleanNode);ko.applyBindingsToDescendants(component,el);}\nko.bindingHandlers.scope={init:function(){return{controlsDescendantBindings:true};},update:function(el,valueAccessor,allBindings,viewModel,bindingContext){var component=valueAccessor(),promise=$.Deferred(),apply=applyComponents.bind(this,el,bindingContext,promise),loggerUtils=consoleLogger.utils;if(typeof component==='string'){loggerUtils.asyncLog(promise,{data:{component:component},messages:loggerUtils.createMessages('requestingComponent','requestingComponentIsLoaded','requestingComponentIsFailed')});registry.get(component,apply);}else if(typeof component==='function'){component(apply);}}};ko.virtualElements.allowedBindings.scope=true;renderer.addNode('scope').addAttribute('scope',{name:'ko-scope'});});","Magento_Ui/js/lib/knockout/bindings/simple-checked.min.js":"define(['ko','../template/renderer'],function(ko,renderer){'use strict';ko.bindingHandlers.simpleChecked={'after':['attr'],init:function(element,valueAccessor){var isCheckbox=element.type==='checkbox',isRadio=element.type==='radio',updateView,updateModel;if(!isCheckbox&&!isRadio){return;}\nupdateModel=function(){var modelValue=ko.dependencyDetection.ignore(valueAccessor),isChecked=element.checked;if(ko.computedContext.isInitial()){return;}\nif(modelValue.peek()===isChecked){return;}\nif(isRadio&&!isChecked){return;}\nmodelValue(isChecked);};updateView=function(){var modelValue=ko.utils.unwrapObservable(valueAccessor());element.checked=!!modelValue;};ko.utils.registerEventHandler(element,'change',updateModel);ko.computed(updateModel,null,{disposeWhenNodeIsRemoved:element});ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});}};ko.expressionRewriting._twoWayBindings.simpleChecked=true;renderer.addAttribute('simpleChecked');renderer.addAttribute('simple-checked',{binding:'simpleChecked'});});","Magento_Ui/js/lib/knockout/bindings/bootstrap.min.js":"define(function(require){'use strict';var renderer=require('../template/renderer');renderer.addAttribute('repeat',renderer.handlers.wrapAttribute);renderer.addAttribute('outerfasteach',{binding:'fastForEach',handler:renderer.handlers.wrapAttribute});renderer.addNode('repeat').addNode('fastForEach');return{resizable:require('./resizable'),i18n:require('./i18n'),scope:require('./scope'),range:require('./range'),mageInit:require('./mage-init'),keyboard:require('./keyboard'),optgroup:require('./optgroup'),afterRender:require('./after-render'),autoselect:require('./autoselect'),datepicker:require('./datepicker'),outerClick:require('./outer_click'),fadeVisible:require('./fadeVisible'),collapsible:require('./collapsible'),staticChecked:require('./staticChecked'),simpleChecked:require('./simple-checked'),bindHtml:require('./bind-html'),tooltip:require('./tooltip'),repeat:require('knockoutjs/knockout-repeat'),fastForEach:require('knockoutjs/knockout-fast-foreach'),colorPicker:require('./color-picker')};});","Magento_Ui/js/lib/knockout/bindings/staticChecked.min.js":"define(['ko','../template/renderer'],function(ko,renderer){'use strict';ko.bindingHandlers.staticChecked={'after':['value','attr'],init:function(element,valueAccessor,allBindings){var isCheckbox=element.type==='checkbox',isRadio=element.type==='radio',isValueArray,oldElemValue,useCheckedValue,checkedValue,updateModel,updateView;if(!isCheckbox&&!isRadio){return;}\ncheckedValue=ko.pureComputed(function(){if(allBindings.has('checkedValue')){return ko.utils.unwrapObservable(allBindings.get('checkedValue'));}else if(allBindings.has('value')){return ko.utils.unwrapObservable(allBindings.get('value'));}\nreturn element.value;});isValueArray=isCheckbox&&ko.utils.unwrapObservable(valueAccessor())instanceof Array;oldElemValue=isValueArray?checkedValue():undefined;useCheckedValue=isRadio||isValueArray;updateModel=function(){var isChecked=element.checked,elemValue=useCheckedValue?checkedValue():isChecked,modelValue;if(ko.computedContext.isInitial()){return;}\nif(isRadio&&!isChecked){return;}\nmodelValue=ko.dependencyDetection.ignore(valueAccessor);if(isValueArray){if(oldElemValue!==elemValue){oldElemValue=elemValue;}else{ko.utils.addOrRemoveItem(modelValue,elemValue,isChecked);}}else{ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,'checked',elemValue,true);}};updateView=function(){var modelValue=ko.utils.unwrapObservable(valueAccessor());if(isValueArray){element.checked=ko.utils.arrayIndexOf(modelValue,checkedValue())>=0;}else if(isCheckbox){element.checked=modelValue;}else{element.checked=checkedValue()===modelValue;}};ko.computed(updateModel,null,{disposeWhenNodeIsRemoved:element});ko.utils.registerEventHandler(element,'click',updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});}};ko.expressionRewriting._twoWayBindings.staticChecked=true;renderer.addAttribute('staticChecked');});","Magento_Ui/js/lib/knockout/bindings/collapsible.min.js":"define(['ko','jquery','underscore','../template/renderer'],function(ko,$,_,renderer){'use strict';var collapsible,defaults;defaults={closeOnOuter:true,onTarget:false,openClass:'_active',as:'$collapsible'};collapsible={open:function(){this.opened(true);},close:function(){this.opened(false);},toggle:function(){this.opened(!this.opened());}};function onOuterClick(container,model,e){var target=e.target;if(target!==container&&!container.contains(target)){model.close();}}\nfunction getClassBinding(model,name){var binding={};binding[name]=model.opened;return{css:binding};}\nfunction buildConfig(options){if(typeof options!=='object'){options={};}\nreturn _.extend({},defaults,options);}\nko.bindingHandlers.collapsible={init:function(element,valueAccessor,allBindings,viewModel,bindingCtx){var $collapsible=Object.create(collapsible),config=buildConfig(valueAccessor()),outerClick,bindings;_.bindAll($collapsible,'open','close','toggle');$collapsible.opened=ko.observable(!!config.opened);bindingCtx[config.as]=$collapsible;if(config.closeOnOuter){outerClick=onOuterClick.bind(null,element,$collapsible);$(document).on('click',outerClick);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(document).off('click',outerClick);});}\nif(config.openClass){bindings=getClassBinding($collapsible,config.openClass);ko.applyBindingsToNode(element,bindings,bindingCtx);}\nif(config.onTarget){$(element).on('click',$collapsible.toggle);}\nif(viewModel&&_.isFunction(viewModel.on)){viewModel.on({close:$collapsible.close,open:$collapsible.open,toggleOpened:$collapsible.toggle});}}};ko.bindingHandlers.closeCollapsible={init:function(element,valueAccessor,allBindings,viewModel,bindingCtx){var name=valueAccessor()||defaults.as,$collapsible=bindingCtx[name];if($collapsible){$(element).on('click',$collapsible.close);}}};ko.bindingHandlers.openCollapsible={init:function(element,valueAccessor,allBindings,viewModel,bindingCtx){var name=valueAccessor()||defaults.as,$collapsible=bindingCtx[name];if($collapsible){$(element).on('click',$collapsible.open);}}};ko.bindingHandlers.toggleCollapsible={init:function(element,valueAccessor,allBindings,viewModel,bindingCtx){var name=valueAccessor()||defaults.as,$collapsible=bindingCtx[name];if($collapsible){$(element).on('click',$collapsible.toggle);}}};renderer.addAttribute('collapsible').addAttribute('openCollapsible').addAttribute('closeCollapsible').addAttribute('toggleCollapsible');});","Magento_Ui/js/lib/knockout/bindings/optgroup.min.js":"define(['ko','mageUtils'],function(ko,utils){'use strict';var captionPlaceholder={},optgroupTmpl='<optgroup label=\"${ $.label }\"></optgroup>',nbspRe=/&nbsp;/g,optionsText,optionsValue,optionTitle;ko.bindingHandlers.optgroup={init:function(element){if(ko.utils.tagNameLower(element)!=='select'){throw new Error('options binding applies only to SELECT elements');}\nwhile(element.length>0){element.remove(0);}},update:function(element,valueAccessor,allBindings){var selectWasPreviouslyEmpty=element.length===0,previousScrollTop=!selectWasPreviouslyEmpty&&element.multiple?element.scrollTop:null,includeDestroyed=allBindings.get('optionsIncludeDestroyed'),arrayToDomNodeChildrenOptions={},captionValue,unwrappedArray=ko.utils.unwrapObservable(valueAccessor()),filteredArray,previousSelectedValues,itemUpdate=false,callback=setSelectionCallback,nestedOptionsLevel=-1;optionsText=ko.utils.unwrapObservable(allBindings.get('optionsText'))||'text';optionsValue=ko.utils.unwrapObservable(allBindings.get('optionsValue'))||'value';optionTitle=optionsText+'title';if(element.multiple){previousSelectedValues=ko.utils.arrayMap(selectedOptions(),ko.selectExtensions.readValue);}else{previousSelectedValues=element.selectedIndex>=0?[ko.selectExtensions.readValue(element.options[element.selectedIndex])]:[];}\nif(unwrappedArray){if(typeof unwrappedArray.length==='undefined'){unwrappedArray=[unwrappedArray];}\nfilteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){if(item&&!item.label){return false;}\nreturn includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy);});filteredArray.map(recursivePathBuilder,null);}\narrayToDomNodeChildrenOptions.beforeRemove=function(option){element.removeChild(option);};if(allBindings.has('optionsAfterRender')){callback=function(arrayEntry,newOptions){setSelectionCallback(arrayEntry,newOptions);ko.dependencyDetection.ignore(allBindings.get('optionsAfterRender'),null,[newOptions[0],arrayEntry!==captionPlaceholder?arrayEntry:undefined]);};}\nfilteredArray=formatOptions(filteredArray);ko.utils.setDomNodeChildrenFromArrayMapping(element,filteredArray,optionNodeFromArray,arrayToDomNodeChildrenOptions,callback);ko.dependencyDetection.ignore(function(){var selectionChanged;if(allBindings.get('valueAllowUnset')&&allBindings.has('value')){ko.selectExtensions.writeValue(element,ko.utils.unwrapObservable(allBindings.get('value')),true);}else{if(element.multiple){selectionChanged=previousSelectedValues.length&&selectedOptions().length<previousSelectedValues.length;}else{selectionChanged=previousSelectedValues.length&&element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex])!==previousSelectedValues[0]:previousSelectedValues.length||element.selectedIndex>=0;}\nif(selectionChanged){ko.utils.triggerEvent(element,'change');}}});if(previousScrollTop&&Math.abs(previousScrollTop-element.scrollTop)>20){element.scrollTop=previousScrollTop;}\nfunction selectedOptions(){return ko.utils.arrayFilter(element.options,function(node){return node.selected;});}\nfunction applyToObject(object,predicate,defaultValue){var predicateType=typeof predicate;if(predicateType==='function'){return predicate(object);}else if(predicateType==='string'){return object[predicate];}\nreturn defaultValue;}\nfunction recursivePathBuilder(obj){obj[optionTitle]=(this&&this[optionTitle]?this[optionTitle]+'/':'')+obj[optionsText].trim();if(Array.isArray(obj[optionsValue])){obj[optionsValue].map(recursivePathBuilder,obj);}}\nfunction optionNodeFromArray(arrayEntry,oldOptions){var option;if(oldOptions.length){previousSelectedValues=oldOptions[0].selected?[ko.selectExtensions.readValue(oldOptions[0])]:[];itemUpdate=true;}\nif(arrayEntry===captionPlaceholder){option=element.ownerDocument.createElement('option');ko.utils.setTextContent(option,allBindings.get('optionsCaption'));ko.selectExtensions.writeValue(option,undefined);}else if(typeof arrayEntry[optionsValue]==='undefined'){if(arrayEntry.__disableTmpl){option='<optgroup label=\"'+arrayEntry[optionsText]+'\"></optgroup>';}else{option=utils.template(optgroupTmpl,{label:arrayEntry[optionsText],title:arrayEntry[optionsText+'title']});}\noption=ko.utils.parseHtmlFragment(option)[0];}else{option=element.ownerDocument.createElement('option');option.setAttribute('data-title',arrayEntry[optionsText+'title']);ko.selectExtensions.writeValue(option,arrayEntry[optionsValue]);ko.utils.setTextContent(option,arrayEntry[optionsText]);}\nreturn[option];}\nfunction setSelectionCallback(newOptions){var isSelected;if(previousSelectedValues.length&&newOptions.value){isSelected=ko.utils.arrayIndexOf(previousSelectedValues,ko.selectExtensions.readValue(newOptions.value))>=0;ko.utils.setOptionNodeSelectionState(newOptions.value,isSelected);if(itemUpdate&&!isSelected){ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,'change']);}}}\nfunction strPad(string,times){return(new Array(times+1)).join(string);}\nfunction formatOptions(options){var res=[];nestedOptionsLevel++;if(!nestedOptionsLevel){if(allBindings.has('optionsCaption')){captionValue=ko.utils.unwrapObservable(allBindings.get('optionsCaption'));if(captionValue!==null&&captionValue!==undefined&&captionValue!==false){res.push(captionPlaceholder);}}}\nko.utils.arrayForEach(options,function(option){var value=applyToObject(option,optionsValue,option),label=applyToObject(option,optionsText,value)||'',disabled=applyToObject(option,'disabled',false)||false,obj={},space='\\u2007\\u2007\\u2007';obj[optionTitle]=applyToObject(option,optionsText+'title',value);if(disabled){obj.disabled=disabled;}\nif(option.hasOwnProperty('__disableTmpl')){obj.__disableTmpl=option.__disableTmpl;}\nlabel=label.replace(nbspRe,'').trim();if(Array.isArray(value)){obj[optionsText]=strPad('&nbsp;',nestedOptionsLevel*4)+label;res.push(obj);res=res.concat(formatOptions(value));}else{obj[optionsText]=strPad(space,nestedOptionsLevel*2)+label;obj[optionsValue]=value;res.push(obj);}});nestedOptionsLevel--;return res;}}};});","Magento_Ui/js/lib/knockout/bindings/i18n.min.js":"define(['jquery','ko','module','../template/renderer','mage/translate'],function($,ko,module,renderer){'use strict';var locations={'legend':'Caption for the fieldset element','label':'Label for an input element.','button':'Push button','a':'Link label','b':'Bold text','strong':'Strong emphasized text','i':'Italic text','em':'Emphasized text','u':'Underlined text','sup':'Superscript text','sub':'Subscript text','span':'Span element','small':'Smaller text','big':'Bigger text','address':'Contact information','blockquote':'Long quotation','q':'Short quotation','cite':'Citation','caption':'Table caption','abbr':'Abbreviated phrase','acronym':'An acronym','var':'Variable part of a text','dfn':'Term','strike':'Strikethrough text','del':'Deleted text','ins':'Inserted text','h1':'Heading level 1','h2':'Heading level 2','h3':'Heading level 3','h4':'Heading level 4','h5':'Heading level 5','h6':'Heading level 6','center':'Centered text','select':'List options','img':'Image','input':'Form element'},composeTranslateAttr=function(translationData,location){var obj=[{'shown':translationData.shown,'translated':translationData.translated,'original':translationData.original,'location':locations[location]||'Text'}];return JSON.stringify(obj);},setText=function(el,text){$(el).text(text);},setTranslateProp=function(el,original){var location=$(el).prop('tagName').toLowerCase(),translated=$.mage.__(original),translationData={shown:translated,translated:translated,original:original},translateAttr=composeTranslateAttr(translationData,location);$(el).attr('data-translate',translateAttr);setText(el,translationData.shown);},isVirtualElement=function(node){return node.nodeType===8;},getRealElement=function(el,isUpdate){if(isVirtualElement(el)){if(isUpdate){return $(el).next('span');}\nreturn $('<span/>').insertAfter(el);}\nreturn el;},execute=function(element,valueAccessor,isUpdate){var original=ko.unwrap(valueAccessor()||''),el=getRealElement(element,isUpdate),inlineTranslation=(module.config()||{}).inlineTranslation;if(inlineTranslation){setTranslateProp(el,original);}else{setText(el,$.mage.__(original));}};ko.bindingHandlers.i18n={init:function(element,valueAccessor){execute(element,valueAccessor);},update:function(element,valueAccessor){execute(element,valueAccessor,true);}};ko.virtualElements.allowedBindings.i18n=true;renderer.addNode('translate',{binding:'i18n'}).addAttribute('translate',{binding:'i18n'});});","Magento_Ui/js/lib/knockout/bindings/resizable.min.js":"define(['ko','jquery','Magento_Ui/js/lib/view/utils/async','uiRegistry','underscore','../template/renderer','jquery-ui-modules/resizable'],function(ko,$,async,registry,_,renderer){'use strict';var sizeOptions=['minHeight','maxHeight','minWidth','maxWidth'],handles={height:'.ui-resizable-s, .ui-resizable-n',width:'.ui-resizable-w, .ui-resizable-e'};function adjustSize(element){var maxHeight,maxWidth;element=$(element);maxHeight=element.resizable('option').maxHeight;maxWidth=element.resizable('option').maxWidth;if(maxHeight&&element.height()>maxHeight){element.height(maxHeight+1);$(handles.height).hide();}else{$(handles.height).show();}\nif(maxWidth&&element.width()>maxWidth){element.width(maxWidth+1);$(handles.width).hide();}else{$(handles.width).show();}}\nfunction recalcAllowedSize(sizeConstraints,componentName,element,hasWidthUpdate){var size;element=$(element);if(!element.data('resizable')){return;}\nif(!hasWidthUpdate){element.css('width','auto');}\n_.each(sizeConstraints,function(selector,key){async.async({component:componentName,selector:selector},function(elem){size=key.indexOf('Height')!==-1?$(elem).outerHeight(true):$(elem).outerWidth(true);if(element.data('resizable')){element.resizable('option',key,size+1);}});},this);adjustSize(element);}\nfunction processConfig(config,viewModel,element){var sizeConstraint,sizeConstraints={},recalc,hasWidthUpdate;if(_.isEmpty(config)){return{};}\n_.each(sizeOptions,function(key){sizeConstraint=config[key];if(sizeConstraint&&!_.isNumber(sizeConstraint)){sizeConstraints[key]=sizeConstraint;delete config[key];}});hasWidthUpdate=_.some(sizeConstraints,function(value,key){return key.indexOf('Width')!==-1;});recalc=recalcAllowedSize.bind(null,sizeConstraints,viewModel.name,element,hasWidthUpdate);config.start=recalc;$(window).on('resize.resizable',recalc);registry.get(viewModel.provider).on('reloaded',recalc);return config;}\nko.bindingHandlers.resizable={init:function(element,valueAccessor,allBindings,viewModel){var config=processConfig(valueAccessor(),viewModel,element);$(element).resizable(config);}};renderer.addAttribute('resizable');});","Magento_Ui/js/lib/knockout/bindings/range.min.js":"define(['ko','jquery','underscore','../template/renderer'],function(ko,$,_,renderer){'use strict';var isTouchDevice=!_.isUndefined(document.ontouchstart),sliderFn='slider',sliderModule='jquery-ui-modules/slider';if(isTouchDevice){sliderFn='touchSlider';sliderModule='mage/touch-slider';}\nko.bindingHandlers.range={init:function(element,valueAccessor){var config=valueAccessor(),value=config.value;_.extend(config,{value:value(),slide:function(event,ui){value(ui.value);}});require([sliderModule],function(){$(element)[sliderFn](config);});},update:function(element,valueAccessor){var config=valueAccessor();config.value=ko.unwrap(config.value);require([sliderModule],function(){$(element)[sliderFn]('option',config);});}};renderer.addAttribute('range');});","Magento_Ui/js/lib/knockout/bindings/bind-html.min.js":"define(['ko','underscore','mage/apply/main','../template/renderer'],function(ko,_,mage,renderer){'use strict';function setHtml(el,html){ko.utils.emptyDomNode(el);html=ko.utils.unwrapObservable(html);if(!_.isNull(html)&&!_.isUndefined(html)){if(!_.isString(html)){html=html.toString();}\nel.innerHTML=html;}}\nfunction applyComponents(el,ctx){ko.utils.arrayForEach(el.childNodes,ko.cleanNode);ko.applyBindingsToDescendants(ctx,el);mage.apply();}\nko.bindingHandlers.bindHtml={init:function(){return{controlsDescendantBindings:true};},update:function(el,valueAccessor,allBindings,viewModel,bindingContext){setHtml(el,valueAccessor());applyComponents(el,bindingContext);}};renderer.addAttribute('bindHtml');});","Magento_Ui/js/lib/knockout/bindings/autoselect.min.js":"define(['ko','jquery','../template/renderer'],function(ko,$,renderer){'use strict';function onFocus(e){e.target.select();}\nko.bindingHandlers.autoselect={init:function(element,valueAccessor){var enabled=ko.unwrap(valueAccessor());if(enabled!==false){$(element).on('focus',onFocus);}}};renderer.addAttribute('autoselect');});","Magento_Ui/js/lib/knockout/extender/observable_array.min.js":"define(['ko','underscore'],function(ko,_){'use strict';function iterator(callback,args,elem){callback=elem[callback];if(_.isFunction(callback)){return callback.apply(elem,args);}\nreturn callback;}\nfunction wrapper(method){return function(iteratee){var callback=iteratee,elems=this(),args=_.toArray(arguments);if(_.isString(iteratee)){callback=iterator.bind(null,iteratee,args.slice(1));args.unshift(callback);}\nargs.unshift(elems);return _[method].apply(_,args);};}\n_.extend(ko.observableArray.fn,{each:wrapper('each'),map:wrapper('map'),filter:wrapper('filter'),some:wrapper('some'),every:wrapper('every'),groupBy:wrapper('groupBy'),sortBy:wrapper('sortBy'),findWhere:function(properties){return _.findWhere(this(),properties);},contains:function(value){return _.contains(this(),value);},hasNo:function(){return!this.contains.apply(this,arguments);},getLength:function(){return this().length;},indexBy:function(key){return _.indexBy(this(),key);},without:function(){var args=Array.prototype.slice.call(arguments);args.unshift(this());return _.without.apply(_,args);},first:function(){return _.first(this());},last:function(){return _.last(this());},pluck:function(){var args=Array.prototype.slice.call(arguments);args.unshift(this());return _.pluck.apply(_,args);}});});","Magento_Ui/js/lib/knockout/extender/bound-nodes.min.js":"define(['ko','underscore','mage/utils/wrapper','uiEvents'],function(ko,_,wrapper,Events){'use strict';var nodesMap=new WeakMap();function getBounded(model){return nodesMap.get(model);}\nfunction addBounded(model,node){var nodes=getBounded(model),isRoot;if(!nodes){nodesMap.set(model,[node]);Events.trigger.call(model,'addNode',node);return;}\nisRoot=nodes.every(function(bounded){return!bounded.contains(node);});if(isRoot){nodes.push(node);Events.trigger.call(model,'addNode',node);}}\nfunction removeBounded(model,node){var nodes=getBounded(model),index;if(!nodes){return;}\nindex=nodes.indexOf(node);if(~index){nodes.splice(index,0);Events.trigger.call(model,'removeNode',node);}\nif(!nodes.length){nodesMap.delete(model);}}\nfunction getElement(node,data){var elem;while(node.nextElementSibling){node=node.nextElementSibling;if(node.nodeType===1&&ko.dataFor(node)===data){elem=node;break;}}\nreturn elem;}\nwrapper.extend(ko,{applyBindings:function(orig,ctx,node){var result=orig(),data=ctx&&(ctx.$data||ctx);if(node&&node.nodeType===8){node=getElement(node,data);}\nif(!node||node.nodeType!==1){return result;}\nif(data&&data.registerNodes){addBounded(data,node);}\nreturn result;},cleanNode:function(orig,node){var result=orig(),data;if(node.nodeType!==1){return result;}\ndata=ko.dataFor(node);if(data&&data.registerNodes){removeBounded(data,node);}\nreturn result;}});return{get:function(model,callback){var nodes=getBounded(model)||[];if(!_.isFunction(callback)){return nodes;}\nnodes.forEach(function(node){callback(node);});this.add.apply(this,arguments);},add:function(model){var args=_.toArray(arguments).slice(1);args.unshift('addNode');Events.on.apply(model,args);},remove:function(model){var args=_.toArray(arguments).slice(1);args.unshift('removeNode');Events.on.apply(model,args);},off:function(model){var args=_.toArray(arguments).slice(1);Events.off.apply(model,args);}};});","Magento_Ui/js/lib/knockout/template/loader.min.js":"define(['jquery'],function($){'use strict';var licenseRegExp=/<!--[\\s\\S]*?-->/,defaultPlugin='text',defaultExt='html';function hasFileExtension(str){return!!~str.indexOf('.')&&!!str.split('.').pop();}\nfunction hasPlugin(str){return!!~str.indexOf('!');}\nfunction isFullPath(str){return!!~str.indexOf('://');}\nfunction removeLicense(content){return content.replace(licenseRegExp,function(match){return~match.indexOf('/**')?'':match;});}\nreturn{loadTemplate:function(path){var content=this.loadFromNode(path),defer;if(content){defer=$.Deferred();defer.resolve(content);return defer.promise();}\nreturn this.loadFromFile(path);},loadFromFile:function(path){var loading=$.Deferred();path=this.formatPath(path);require([path],function(template){template=removeLicense(template);loading.resolve(template);},function(err){loading.reject(err);});return loading.promise();},loadFromNode:function(selector){var node;try{node=document.getElementById(selector)||document.querySelector(selector);return node?node.innerHTML:false;}catch(e){return false;}},formatPath:function(path){var result=path;if(!hasPlugin(path)){result=defaultPlugin+'!'+result;}\nif(isFullPath(path)){return result;}\nif(!hasFileExtension(path)){result+='.'+defaultExt;}\nreturn result.replace(/^([^\\/]+)/g,'$1/template');}};});","Magento_Ui/js/lib/knockout/template/renderer.min.js":"define(['jquery','underscore','./loader'],function($,_,loader){'use strict';var colonReg=/\\\\:/g,renderedTemplatePromises={},attributes={},elements={},globals=[],renderer,preset;renderer={render:function(tmplPath){var cachedPromise=renderedTemplatePromises[tmplPath];if(!cachedPromise){cachedPromise=renderedTemplatePromises[tmplPath]=loader.loadTemplate(tmplPath).then(renderer.parseTemplate);}\nreturn cachedPromise;},getRendered:function(tmplPath){return renderer.render(tmplPath);},parseTemplate:function(html){var fragment=document.createDocumentFragment();$(fragment).append(html);return renderer.normalize(fragment);},normalize:function(content){globals.forEach(function(handler){handler(content);});return _.toArray(content.childNodes);},addGlobal:function(handler){if(!_.contains(globals,handler)){globals.push(handler);}\nreturn this;},removeGlobal:function(handler){var index=globals.indexOf(handler);if(~index){globals.splice(index,1);}\nreturn this;},addAttribute:function(id,config){var data={name:id,binding:id,handler:renderer.handlers.attribute};if(_.isFunction(config)){data.handler=config;}else if(_.isObject(config)){_.extend(data,config);}\ndata.id=id;attributes[id]=data;return this;},removeAttribute:function(id){delete attributes[id];return this;},addNode:function(id,config){var data={name:id,binding:id,handler:renderer.handlers.node};if(_.isFunction(config)){data.handler=config;}else if(_.isObject(config)){_.extend(data,config);}\ndata.id=id;elements[id]=data;return this;},removeNode:function(id){delete elements[id];return this;},isCustomNode:function(node){return _.some(elements,function(elem){return elem.name.toUpperCase()===node.tagName;});},processAttributes:function(content){var repeat;repeat=_.some(attributes,function(attr){var attrName=attr.name,nodes=content.querySelectorAll('['+attrName+']'),handler=attr.handler;return _.toArray(nodes).some(function(node){var data=node.getAttribute(attrName);return handler(node,data,attr)===true;});});if(repeat){renderer.processAttributes(content);}},processNodes:function(content){var repeat;repeat=_.some(elements,function(element){var nodes=content.querySelectorAll(element.name),handler=element.handler;return _.toArray(nodes).some(function(node){var data=node.getAttribute('args');return handler(node,data,element)===true;});});if(repeat){renderer.processNodes(content);}},wrapArgs:function(args){if(~args.indexOf('\\\\:')){args=args.replace(colonReg,':');}else if(~args.indexOf(':')&&!~args.indexOf('}')){args='{'+args+'}';}\nreturn args;},wrapChildren:function(node,binding,data){var tag=this.createComment(binding,data),$node=$(node);$node.prepend(tag.open);$node.append(tag.close);},wrapNode:function(node,binding,data){var tag=this.createComment(binding,data),$node=$(node);$node.before(tag.open);$node.after(tag.close);},createComment:function(binding,data){return{open:document.createComment(' ko '+binding+': '+data+' '),close:document.createComment(' /ko ')};}};renderer.handlers={node:function(node,data,element){data=renderer.wrapArgs(data);renderer.wrapNode(node,element.binding,data);$(node).replaceWith(node.childNodes);return true;},attribute:function(node,data,attr){data=renderer.wrapArgs(data);renderer.bindings.add(node,attr.binding,data);node.removeAttribute(attr.name);},wrapAttribute:function(node,data,attr){data=renderer.wrapArgs(data);renderer.wrapNode(node,attr.binding,data);node.removeAttribute(attr.name);}};renderer.bindings={add:function(node,name,data){var bindings=this.get(node);if(bindings){bindings+=', ';}\nbindings+=name;if(data){bindings+=': '+data;}\nthis.set(node,bindings);},get:function(node){return node.getAttribute('data-bind')||'';},set:function(node,bindings){node.setAttribute('data-bind',bindings);}};renderer.addGlobal(renderer.processAttributes).addGlobal(renderer.processNodes);preset={nodes:_.object(['if','text','with','scope','ifnot','foreach','component'],Array.prototype),attributes:_.object(['css','attr','html','with','text','click','event','submit','enable','disable','options','visible','template','hasFocus','textInput','component','uniqueName','optionsText','optionsValue','checkedValue','selectedOptions'],Array.prototype)};_.extend(preset.attributes,{if:renderer.handlers.wrapAttribute,ifnot:renderer.handlers.wrapAttribute,innerif:{binding:'if'},innerifnot:{binding:'ifnot'},outereach:{binding:'foreach',handler:renderer.handlers.wrapAttribute},foreach:{name:'each'},value:{name:'ko-value'},style:{name:'ko-style'},checked:{name:'ko-checked'},disabled:{name:'ko-disabled',binding:'disable'},focused:{name:'ko-focused',binding:'hasFocus'},render:function(node,data){data=data||'getTemplate()';data=renderer.wrapArgs(data);renderer.wrapChildren(node,'template',data);node.removeAttribute('render');}});_.extend(preset.nodes,{foreach:{name:'each'},render:function(node,data){data=data||'getTemplate()';data=renderer.wrapArgs(data);renderer.wrapNode(node,'template',data);$(node).replaceWith(node.childNodes);}});_.each(preset.attributes,function(data,id){renderer.addAttribute(id,data);});_.each(preset.nodes,function(data,id){renderer.addNode(id,data);});return renderer;});","Magento_Ui/js/lib/knockout/template/observable_source.min.js":"define(['ko','uiClass'],function(ko,Class){'use strict';return Class.extend({initialize:function(template){this.templateName=template;this._data={};this.nodes=ko.observable([]);},data:function(key,value){if(arguments.length===1){return this._data[key];}\nthis._data[key]=value;}});});","Magento_Ui/js/lib/knockout/template/engine.min.js":"define(['jquery','ko','underscore','./observable_source','./renderer','../../logger/console-logger'],function($,ko,_,Source,renderer,consoleLogger){'use strict';var RemoteTemplateEngine,NativeTemplateEngine=ko.nativeTemplateEngine,sources={};RemoteTemplateEngine=function(){var engine=this,origUpdate=ko.bindingHandlers.template.update;this._rendersOutstanding=0;this._events=$(this);this._templatesRendered={};ko.bindingHandlers.template.update=function(element,valueAccessor,allBindings,viewModel,bindingContext){var options=ko.utils.peekObservable(valueAccessor()),templateName,isSync,updated;if(typeof options==='object'){if(options.templateEngine&&options.templateEngine!==engine){return origUpdate.apply(this,arguments);}\nif(!options.name){consoleLogger.error('Could not find template name',options);}\ntemplateName=options.name;}else if(typeof options==='string'){templateName=options;}else{consoleLogger.error('Could not build a template binding',options);}\nengine._trackRender(templateName);isSync=engine._hasTemplateLoaded(templateName);updated=origUpdate.apply(this,arguments);if(isSync){engine._releaseRender(templateName,'sync');}\nreturn updated;};};function createTemplateIdentifier(templateName){return templateName;}\nRemoteTemplateEngine.prototype=new NativeTemplateEngine;RemoteTemplateEngine.prototype.constructor=RemoteTemplateEngine;RemoteTemplateEngine.prototype._trackRender=function(templateName){var rendersForTemplate=this._templatesRendered[templateName]!==undefined?this._templatesRendered[templateName]:0;this._rendersOutstanding++;this._templatesRendered[templateName]=rendersForTemplate+1;this._resolveRenderWaits();};RemoteTemplateEngine.prototype._releaseRender=function(templateName){var rendersForTemplate=this._templatesRendered[templateName];this._rendersOutstanding--;this._templatesRendered[templateName]=rendersForTemplate-1;this._resolveRenderWaits();};RemoteTemplateEngine.prototype._resolveRenderWaits=function(){if(this._rendersOutstanding===0){this._events.triggerHandler('finishrender');}};RemoteTemplateEngine.prototype.waitForFinishRender=function(){var defer=$.Deferred();this._events.one('finishrender',defer.resolve);return defer.promise();};RemoteTemplateEngine.prototype._hasTemplateLoaded=function(templateName){return sources.hasOwnProperty(templateName);};RemoteTemplateEngine.prototype.makeTemplateSource=function(template,templateDocument,options,bindingContext){var engine=this,source,templateId;if(typeof template==='string'){templateId=createTemplateIdentifier(template);source=sources[templateId];if(!source){source=new Source(template);source.requestedBy=bindingContext.$data.name;sources[templateId]=source;consoleLogger.info('templateStartLoading',{template:templateId,component:bindingContext.$data.name});renderer.render(template).then(function(rendered){consoleLogger.info('templateLoadedFromServer',{template:templateId,component:bindingContext.$data.name});source.nodes(rendered);engine._releaseRender(templateId,'async');}).fail(function(){consoleLogger.error('templateLoadingFail',{template:templateId,component:bindingContext.$data.name});});}\nif(source.requestedBy!==bindingContext.$data.name){consoleLogger.info('templateLoadedFromCache',{template:templateId,component:bindingContext.$data.name});}\nreturn source;}else if(template.nodeType===1||template.nodeType===8){source=new ko.templateSources.anonymousTemplate(template);return source;}\nthrow new Error('Unknown template type: '+template);};RemoteTemplateEngine.prototype.renderTemplateSource=function(templateSource){var nodes=templateSource.nodes();return ko.utils.cloneNodes(nodes);};RemoteTemplateEngine.prototype.renderTemplate=function(template,bindingContext,options,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument,options,bindingContext);return this.renderTemplateSource(templateSource);};return new RemoteTemplateEngine;});","Magento_Ui/js/lib/logger/entry.min.js":"define(['./levels-pool'],function(logLevels){'use strict';function LogEntry(message,level,data){this.timestamp=Date.now();this.level=level;this.levelName=logLevels.getNameByCode(level);this.data=data;this.message=message;}\nreturn LogEntry;});","Magento_Ui/js/lib/logger/logger-utils.min.js":"define([],function(){'use strict';function LogUtils(logger){this.logger=logger;}\nLogUtils.prototype.asyncLog=function(promise,config){var levels,messages,wait;config=config||{};levels=config.levels||this.createLevels();messages=config.messages||this.createMessages();wait=config.wait||5000;this.logger[levels.requested](messages.requested,config.data);setTimeout(function(){promise.state()==='pending'?this.logger[levels.failed](messages.failed,config.data):this.logger[levels.loaded](messages.loaded,config.data);}.bind(this),wait);};LogUtils.prototype.createMessages=function(requested,loaded,failed){return{requested:requested||'',loaded:loaded||'',failed:failed||''};};LogUtils.prototype.createLevels=function(requested,loaded,failed){return{requested:requested||'info',loaded:loaded||'info',failed:failed||'warn'};};return LogUtils;});","Magento_Ui/js/lib/logger/entry-factory.min.js":"define(['./entry'],function(LogEntry){'use strict';return{createEntry:function(message,level,messageData){return new LogEntry(message,level,messageData);}};});","Magento_Ui/js/lib/logger/console-output-handler.min.js":"define(['./levels-pool'],function(logLevels){'use strict';var levels=logLevels.getLevels();function ConsoleOutputHandler(formatter){this.formatter_=formatter;}\nConsoleOutputHandler.prototype.show=function(entry){var displayString=this.formatter_.process(entry);switch(entry.level){case levels.ERROR:console.error(displayString);break;case levels.WARN:console.warn(displayString);break;case levels.INFO:console.info(displayString);break;case levels.DEBUG:console.log(displayString);break;}};ConsoleOutputHandler.prototype.dump=function(entries){entries.forEach(this.show,this);};return ConsoleOutputHandler;});","Magento_Ui/js/lib/logger/levels-pool.min.js":"define(['underscore'],function(_){'use strict';var LEVELS,CODE_MAP;LEVELS={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,ALL:5};CODE_MAP=_.invert(LEVELS);return{getLevels:function(){return LEVELS;},getNameByCode:function(code){return CODE_MAP[code];}};});","Magento_Ui/js/lib/logger/logger.min.js":"define(['./levels-pool'],function(logLevels){'use strict';var levels=logLevels.getLevels();function Logger(outputHandler,entryFactory){this.entries_=[];this.displayLevel_=levels.ERROR;this.displayCriteria_=[];this.entryFactory_=entryFactory;this.outputHandlers_=[outputHandler];this.addDisplayCriteria(this.matchesLevel_);}\nLogger.prototype.setDisplayLevel=function(level){var levelName=logLevels.getNameByCode(level);if(!levelName){throw new TypeError('The provided level is not defined in the levels list.');}\nthis.displayLevel_=level;};Logger.prototype.addDisplayCriteria=function(criteria){this.displayCriteria_.push(criteria);};Logger.prototype.removeDisplayCriteria=function(criteria){var index=this.displayCriteria_.indexOf(criteria);if(~index){this.displayCriteria_.splice(index,1);}};Logger.prototype.error=function(message,messageData){return this.log_(message,levels.ERROR,messageData);};Logger.prototype.warn=function(message,messageData){return this.log_(message,levels.WARN,messageData);};Logger.prototype.info=function(message,messageData){return this.log_(message,levels.INFO,messageData);};Logger.prototype.debug=function(message,messageData){return this.log_(message,levels.DEBUG,messageData);};Logger.prototype.log_=function(message,level,messageData){var entry=this.createEntry_(message,level,messageData);this.entries_.push(entry);if(this.matchesCriteria_(entry)){this.processOutput_(entry);}\nreturn entry;};Logger.prototype.createEntry_=function(message,level,messageData){return this.entryFactory_.createEntry(message,level,messageData);};Logger.prototype.getEntries=function(criteria){if(criteria){return this.entries_.filter(criteria);}\nreturn this.entries_;};Logger.prototype.dump=function(criteria){var entries;if(!criteria){criteria=this.matchesCriteria_;}\nentries=this.entries_.filter(criteria,this);this.outputHandlers_.forEach(function(handler){handler.dump(entries);});};Logger.prototype.processOutput_=function(entry){this.outputHandlers_.forEach(function(handler){handler.show(entry);});};Logger.prototype.matchesCriteria_=function(entry){return this.displayCriteria_.every(function(criteria){return criteria.call(this,entry);},this);};Logger.prototype.matchesLevel_=function(entry){return entry.level<=this.displayLevel_;};return Logger;});","Magento_Ui/js/lib/logger/formatter.min.js":"define(['moment','mage/utils/template'],function(moment,mageTemplate){'use strict';function LogFormatter(dateFormat,template){this.dateFormat_='YYYY-MM-DD hh:mm:ss';this.template_='[${ $.date }] [${ $.entry.levelName }] ${ $.message }';if(dateFormat){this.dateFormat_=dateFormat;}\nif(template){this.template_=template;}}\nLogFormatter.prototype.process=function(entry){var message=mageTemplate.template(entry.message,entry.data),date=moment(entry.timestamp).format(this.dateFormat_);return mageTemplate.template(this.template_,{date:date,entry:entry,message:message});};return LogFormatter;});","Magento_Ui/js/lib/logger/message-pool.min.js":"define(function(){'use strict';var MESSAGES={templateStartLoading:'The \"${ $.template }\" template requested by  the \"${$.component}\" component started loading.',templateLoadedFromServer:'The \"${ $.template }\" template requested by the \"${$.component}\" component  was loaded from server.\"',templateLoadedFromCache:'The \"${ $.template }\" template  requested by the \"${$.component}\" component was loaded from cache.\"',templateLoadingFail:'Failed to load the \"${ $.template }\" template requested by \"${$.component}\".',componentStartInitialization:'Component \"${$.component}\" start initialization with instance name \"${$.componentName}\".',componentStartLoading:' Started loading the \"${$.component}\" component.',componentFinishLoading:'The \"${$.component}\" component was loaded.',componentLoadingFail:'Failed to load the \"${$.component}\" component.',depsLoadingFail:'Could not get the declared \"${$.deps}\" dependency for the \"${$.component}\" instance.',depsStartRequesting:'Requesting the \"${$.deps}\" dependency for the \"${$.component}\" instance.',depsFinishRequesting:'The \"${$.deps}\" dependency for the \"${$.component}\" instance was received.',requestingComponent:'Requesting the \"${$.component}\" component.',requestingComponentIsLoaded:'The requested \"${$.component}\" component was received.',requestingComponentIsFailed:'Could not get the requested \"${$.component}\" component.'};return{getMessage:function(code){return MESSAGES[code];},addMessage:function(code,message){MESSAGES[code]=message;},hasMessage:function(code){return MESSAGES.hasOwnProperty(code);}};});","Magento_Ui/js/lib/logger/console-logger.min.js":"define(['./logger','./entry-factory','./console-output-handler','./formatter','./message-pool','./levels-pool','Magento_Ui/js/lib/core/storage/local','underscore','./logger-utils'],function(Logger,entryFactory,ConsoleHandler,Formatter,messagePoll,levelsPoll,storage,_,LoggerUtils){'use strict';var STORAGE_NAMESPACE='CONSOLE_LOGGER';function ConsoleLogger(){var formatter=new Formatter(),consoleHandler=new ConsoleHandler(formatter),savedLevel=storage.get(STORAGE_NAMESPACE),utils=new LoggerUtils(this);Logger.call(this,consoleHandler,entryFactory);if(savedLevel){this.displayLevel_=savedLevel;}\nthis.utils=utils;this.messages=messagePoll;this.levels=levelsPoll.getLevels();}\n_.extend(ConsoleLogger,Logger);ConsoleLogger.prototype=Object.create(Logger.prototype);ConsoleLogger.prototype.constructor=ConsoleLogger;ConsoleLogger.prototype.setDisplayLevel=function(level){Logger.prototype.setDisplayLevel.call(this,level);storage.set(STORAGE_NAMESPACE,level);};ConsoleLogger.prototype.createEntry_=function(message,level,data){var code;if(messagePoll.hasMessage(message)){data=data||{};code=message;message=messagePoll.getMessage(code);data.messageCode=code;}\nreturn Logger.prototype.createEntry_.call(this,message,level,data);};return new ConsoleLogger();});","Magento_Ui/js/lib/validation/utils.min.js":"define(function(){'use strict';var utils={isEmpty:function(value){return value===''||value==null||value.length===0||/^\\s+$/.test(value);},isEmptyNoTrim:function(value){return value===''||value==null||value.length===0;},isBetween:function(value,from,to){return(from===null||from===''||value>=utils.parseNumber(from))&&(to===null||to===''||value<=utils.parseNumber(to));},parseNumber:function(value){var isDot,isComa;if(typeof value!=='string'){return parseFloat(value);}\nisDot=value.indexOf('.');isComa=value.indexOf(',');if(isDot!==-1&&isComa!==-1){if(isComa>isDot){value=value.replace('.','').replace(',','.');}else{value=value.replace(',','');}}else if(isComa!==-1){value=value.replace(',','.');}\nreturn parseFloat(value);},stripHtml:function(value){return value.replace(/<.[^<>]*?>/g,' ').replace(/&nbsp;|&#160;/gi,' ').replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g,'');}};return utils;});","Magento_Ui/js/lib/validation/rules.min.js":"define(['jquery','underscore','./utils','moment','tinycolor','jquery/validate','mage/translate'],function($,_,utils,moment,tinycolor){'use strict';function validateCreditCard(s){var v='0123456789',w='',i,j,k,m,c,a,x;for(i=0;i<s.length;i++){x=s.charAt(i);if(v.indexOf(x,0)!==-1){w+=x;}}\nj=w.length / 2;k=Math.floor(j);m=Math.ceil(j)-k;c=0;for(i=0;i<k;i++){a=w.charAt(i*2+m)*2;c+=a>9?Math.floor(a / 10+a%10):a;}\nfor(i=0;i<k+m;i++){c+=w.charAt(i*2+1-m)*1;}\nreturn c%10===0;}\nreturn _.mapObject({'min_text_length':[function(value,params){return _.isUndefined(value)||value.length===0||value.length>=+params;},$.mage.__('Please enter more or equal than {0} symbols.')],'max_text_length':[function(value,params){return!_.isUndefined(value)&&value.length<=+params;},$.mage.__('Please enter less or equal than {0} symbols.')],'max-words':[function(value,params){return utils.isEmpty(value)||utils.stripHtml(value).match(/\\b\\w+\\b/g).length<params;},$.mage.__('Please enter {0} words or less.')],'min-words':[function(value,params){return utils.isEmpty(value)||utils.stripHtml(value).match(/\\b\\w+\\b/g).length>=params;},$.mage.__('Please enter at least {0} words.')],'range-words':[function(value,params){var match=utils.stripHtml(value).match(/\\b\\w+\\b/g)||[];return utils.isEmpty(value)||match.length>=params[0]&&match.length<=params[1];},$.mage.__('Please enter between {0} and {1} words.')],'letters-with-basic-punc':[function(value){return utils.isEmpty(value)||/^[a-z\\-.,()\\u0027\\u0022\\s]+$/i.test(value);},$.mage.__('Letters or punctuation only please')],'alphanumeric':[function(value){return utils.isEmpty(value)||/^\\w+$/i.test(value);},$.mage.__('Letters, numbers, spaces or underscores only please')],'letters-only':[function(value){return utils.isEmpty(value)||/^[a-z]+$/i.test(value);},$.mage.__('Letters only please')],'no-whitespace':[function(value){return utils.isEmpty(value)||/^\\S+$/i.test(value);},$.mage.__('No white space please')],'no-marginal-whitespace':[function(value){return!/^\\s+|\\s+$/i.test(value);},$.mage.__('No marginal white space please')],'zip-range':[function(value){return utils.isEmpty(value)||/^90[2-5]-\\d{2}-\\d{4}$/.test(value);},$.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')],'integer':[function(value){return utils.isEmpty(value)||/^-?\\d+$/.test(value);},$.mage.__('A positive or negative non-decimal number please')],'vinUS':[function(value){if(utils.isEmpty(value)){return true;}\nif(value.length!==17){return false;}\nvar i,n,d,f,cd,cdv,LL=['A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z'],VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],rs=0;for(i=0;i<17;i++){f=FL[i];d=value.slice(i,i+1);if(i===8){cdv=d;}\nif(!isNaN(d)){d*=f;}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n];}\nbreak;}}}\nrs+=d;}\ncd=rs%11;if(cd===10){cd='X';}\nif(cd===cdv){return true;}\nreturn false;},$.mage.__('The specified vehicle identification number (VIN) is invalid.')],'dateITA':[function(value){var check=false,re=/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split('/');gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(aaaa,mm-1,gg);if(xdata.getFullYear()===aaaa&&xdata.getMonth()===mm-1&&xdata.getDate()===gg){check=true;}else{check=false;}}else{check=false;}\nreturn check;},$.mage.__('Please enter a correct date')],'dateNL':[function(value){return /^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);},$.mage.__('Vul hier een geldige datum in.')],'time':[function(value){return utils.isEmpty(value)||/^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);},$.mage.__('Please enter a valid time, between 00:00 and 23:59')],'time12h':[function(value){return utils.isEmpty(value)||/^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);},$.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')],'phoneUS':[function(value){value=value.replace(/\\s+/g,'');return utils.isEmpty(value)||value.length>9&&value.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);},$.mage.__('Please specify a valid phone number')],'phoneUK':[function(value){return utils.isEmpty(value)||value.length>9&&value.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);},$.mage.__('Please specify a valid phone number')],'mobileUK':[function(value){return utils.isEmpty(value)||value.length>9&&value.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);},$.mage.__('Please specify a valid mobile number')],'stripped-min-length':[function(value,param){return _.isUndefined(value)||value.length===0||utils.stripHtml(value).length>=param;},$.mage.__('Please enter at least {0} characters')],'email2':[function(value){return utils.isEmpty(value)||/^((([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\u0022)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\u0022)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);},$.validator.messages.email],'url2':[function(value){return utils.isEmpty(value)||/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);},$.validator.messages.url],'credit-card-types':[function(value,param){var validTypes;if(utils.isEmpty(value)){return true;}\nif(/[^0-9-]+/.test(value)){return false;}\nvalue=value.replace(/\\D/g,'');validTypes=0x0000;if(param.mastercard){validTypes|=0x0001;}\nif(param.visa){validTypes|=0x0002;}\nif(param.amex){validTypes|=0x0004;}\nif(param.dinersclub){validTypes|=0x0008;}\nif(param.enroute){validTypes|=0x0010;}\nif(param.discover){validTypes|=0x0020;}\nif(param.jcb){validTypes|=0x0040;}\nif(param.unknown){validTypes|=0x0080;}\nif(param.all){validTypes=0x0001|0x0002|0x0004|0x0008|0x0010|0x0020|0x0040|0x0080;}\nif(validTypes&0x0001&&/^(51|52|53|54|55)/.test(value)){return value.length===16;}\nif(validTypes&0x0002&&/^(4)/.test(value)){return value.length===16;}\nif(validTypes&0x0004&&/^(34|37)/.test(value)){return value.length===15;}\nif(validTypes&0x0008&&/^(300|301|302|303|304|305|36|38)/.test(value)){return value.length===14;}\nif(validTypes&0x0010&&/^(2014|2149)/.test(value)){return value.length===15;}\nif(validTypes&0x0020&&/^(6011)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(3)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(2131|1800)/.test(value)){return value.length===15;}\nif(validTypes&0x0080){return true;}\nreturn false;},$.mage.__('Please enter a valid credit card number.')],'ipv4':[function(value){return utils.isEmpty(value)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);},$.mage.__('Please enter a valid IP v4 address.')],'ipv6':[function(value){return utils.isEmpty(value)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);},$.mage.__('Please enter a valid IP v6 address.')],'pattern':[function(value,param){return utils.isEmpty(value)||new RegExp(param).test(value);},$.mage.__('Invalid format.')],'validate-no-html-tags':[function(value){return!/<(\\/)?\\w+/.test(value);},$.mage.__('HTML tags are not allowed.')],'validate-select':[function(value){return value!=='none'&&value!=null&&value.length!==0;},$.mage.__('Please select an option.')],'validate-no-empty':[function(value){return!utils.isEmpty(value);},$.mage.__('Empty Value.')],'validate-alphanum-with-spaces':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z0-9 ]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')],'validate-data':[function(value){return utils.isEmptyNoTrim(value)||/^[A-Za-z]+[A-Za-z0-9_]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-street':[function(value){return utils.isEmptyNoTrim(value)||/^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')],'validate-phoneStrict':[function(value){return utils.isEmptyNoTrim(value)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-phoneLax':[function(value){return utils.isEmptyNoTrim(value)||/^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(value);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-fax':[function(value){return utils.isEmptyNoTrim(value)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);},$.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')],'validate-email':[function(value){return utils.isEmptyNoTrim(value)||/^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(value);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-emailSender':[function(value){return utils.isEmptyNoTrim(value)||/^[\\S ]+$/.test(value);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-password':[function(value){var pass;if(value==null){return false;}\npass=$.trim(value);if(!pass.length){return true;}\nreturn!(pass.length>0&&pass.length<6);},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-admin-password':[function(value){var pass;if(value==null){return false;}\npass=$.trim(value);if(pass.length===0){return true;}\nif(!/[a-z]/i.test(value)||!/[0-9]/.test(value)){return false;}\nif(pass.length<7){return false;}\nreturn true;},$.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')],'validate-customer-password':[function(v,elm){var validator=this,counter=0,passwordMinLength=$(elm).data('password-min-length'),passwordMinCharacterSets=$(elm).data('password-min-character-sets'),pass=$.trim(v),result=pass.length>=passwordMinLength;if(result===false){validator.passwordErrorMessage=$.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1',passwordMinLength);return result;}\nif(pass.match(/\\d+/)){counter++;}\nif(pass.match(/[a-z]+/)){counter++;}\nif(pass.match(/[A-Z]+/)){counter++;}\nif(pass.match(/[^a-zA-Z0-9]+/)){counter++;}\nif(counter<passwordMinCharacterSets){result=false;validator.passwordErrorMessage=$.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1',passwordMinCharacterSets);}\nreturn result;},function(){return this.passwordErrorMessage;}],'validate-url':[function(value){if(utils.isEmptyNoTrim(value)){return true;}\nvalue=(value||'').replace(/^\\s+/,'').replace(/\\s+$/,'');return(/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(value);},$.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')],'validate-clean-url':[function(value){return utils.isEmptyNoTrim(value)||/^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value)||/^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value);},$.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')],'validate-xml-identifier':[function(value){return utils.isEmptyNoTrim(value)||/^[A-Z][A-Z0-9_\\/-]*$/i.test(value);},$.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')],'validate-ssn':[function(value){return utils.isEmptyNoTrim(value)||/^\\d{3}-?\\d{2}-?\\d{4}$/.test(value);},$.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')],'validate-zip-us':[function(value){return utils.isEmptyNoTrim(value)||/(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(value);},$.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')],'validate-date-au':[function(value){var regex=/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/,d;if(utils.isEmptyNoTrim(value)){return true;}\nif(utils.isEmpty(value)||!regex.test(value)){return false;}\nd=new Date(value.replace(regex,'$2/$1/$3'));return parseInt(RegExp.$2,10)===1+d.getMonth()&&parseInt(RegExp.$1,10)===d.getDate()&&parseInt(RegExp.$3,10)===d.getFullYear();},$.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')],'validate-currency-dollar':[function(value){return utils.isEmptyNoTrim(value)||/^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(value);},$.mage.__('Please enter a valid $ amount. For example $100.00.')],'validate-not-negative-number':[function(value){if(utils.isEmptyNoTrim(value)){return true;}\nvalue=utils.parseNumber(value);return!isNaN(value)&&value>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-zero-or-greater':[function(value){if(utils.isEmptyNoTrim(value)){return true;}\nvalue=utils.parseNumber(value);return!isNaN(value)&&value>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-greater-than-zero':[function(value){if(utils.isEmptyNoTrim(value)){return true;}\nvalue=utils.parseNumber(value);return!isNaN(value)&&value>0;},$.mage.__('Please enter a number greater than 0 in this field.')],'validate-css-length':[function(value){if(value!==''){return(/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(value);}\nreturn true;},$.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')],'validate-number':[function(value){return utils.isEmptyNoTrim(value)||!isNaN(utils.parseNumber(value))&&/^\\s*-?\\d*(?:[.,|'|\\s]\\d+)*(?:[.,|'|\\s]\\d{2})?-?\\s*$/.test(value);},$.mage.__('Please enter a valid number in this field.')],'validate-integer':[function(value){return utils.isEmptyNoTrim(value)||!isNaN(utils.parseNumber(value))&&/^\\s*-?\\d*\\s*$/.test(value);},$.mage.__('Please enter a valid integer in this field.')],'validate-number-range':[function(value,param){var numValue,dataAttrRange,result,range,m;if(utils.isEmptyNoTrim(value)){return true;}\nnumValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;result=true;range=param;if(range){m=dataAttrRange.exec(range);if(m){result=result&&utils.isBetween(numValue,m[1],m[2]);}}\nreturn result;},$.mage.__('The value is not within the specified range.')],'validate-positive-percent-decimal':[function(value){var numValue;if(utils.isEmptyNoTrim(value)||!/^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(value)){return false;}\nnumValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}\nreturn utils.isBetween(numValue,0.01,100);},$.mage.__('Please enter a valid percentage discount value greater than 0.')],'validate-digits':[function(value){return utils.isEmptyNoTrim(value)||!/[^\\d]/.test(value);},$.mage.__('Please enter a valid number in this field.')],'validate-digits-range':[function(value,param){var numValue,dataAttrRange,result,range,m;if(utils.isEmptyNoTrim(value)){return true;}\nnumValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?\\d+)?-(-?\\d+)?$/;result=true;range=param;if(range){m=dataAttrRange.exec(range);if(m){result=result&&utils.isBetween(numValue,m[1],m[2]);}}\nreturn result;},$.mage.__('The value is not within the specified range.')],'validate-range':[function(value){var minValue,maxValue,ranges;if(utils.isEmptyNoTrim(value)){return true;}else if($.validator.methods['validate-digits']&&$.validator.methods['validate-digits'](value)){minValue=maxValue=utils.parseNumber(value);}else{ranges=/^(-?\\d+)?-(-?\\d+)?$/.exec(value);if(ranges){minValue=utils.parseNumber(ranges[1]);maxValue=utils.parseNumber(ranges[2]);if(minValue>maxValue){return false;}}else{return false;}}},$.mage.__('The value is not within the specified range.')],'validate-alpha':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z]+$/.test(value);},$.mage.__('Please use letters only (a-z or A-Z) in this field.')],'validate-code':[function(value){return utils.isEmptyNoTrim(value)||/^[a-z]+[a-z0-9_]+$/.test(value);},$.mage.__('Please use only lowercase letters (a-z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-alphanum':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z0-9]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')],'validate-not-number-first':[function(value){return utils.isEmptyNoTrim(value)||/^[^0-9-\\.].*$/.test(value.trim());},$.mage.__('First character must be letter.')],'validate-date':[function(value,params,additionalParams){var test=moment(value,additionalParams.dateFormat);return utils.isEmptyNoTrim(value)||test.isValid();},$.mage.__('Please enter a valid date.')],'validate-date-range':[function(value,params){var fromDate=$('input[name*=\"'+params+'\"]').val();return moment.utc(value).unix()>=moment.utc(fromDate).unix()||isNaN(moment.utc(value).unix());},$.mage.__('Make sure the To Date is later than or the same as the From Date.')],'validate-identifier':[function(value){return utils.isEmptyNoTrim(value)||/^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(value);},$.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").')],'validate-zip-international':[function(){return true;},$.mage.__('Please enter a valid zip code.')],'validate-state':[function(value){return value!==0;},$.mage.__('Please select State/Province.')],'less-than-equals-to':[function(value,params){value=utils.parseNumber(value);if(isNaN(parseFloat(params))){params=$(params).val();}\nparams=utils.parseNumber(params);if(!isNaN(params)&&!isNaN(value)){this.lteToVal=params;return value<=params;}\nreturn true;},function(){return $.mage.__('Please enter a value less than or equal to %s.').replace('%s',this.lteToVal);}],'greater-than-equals-to':[function(value,params){value=utils.parseNumber(value);if(isNaN(parseFloat(params))){params=$(params).val();}\nparams=utils.parseNumber(params);if(!isNaN(params)&&!isNaN(value)){this.gteToVal=params;return value>=params;}\nreturn true;},function(){return $.mage.__('Please enter a value greater than or equal to %s.').replace('%s',this.gteToVal);}],'validate-emails':[function(value){var validRegexp,emails,i;if(utils.isEmpty(value)){return true;}\nvalidRegexp=/^[a-z0-9\\._-]{1,30}@([a-z0-9_-]{1,30}\\.){1,5}[a-z]{2,4}$/i;emails=value.split(/[\\s\\n\\,]+/g);for(i=0;i<emails.length;i++){if(!validRegexp.test(emails[i].strip())){return false;}}\nreturn true;},$.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')],'validate-cc-number':[function(value){if(value){return validateCreditCard(value);}\nreturn true;},$.mage.__('Please enter a valid credit card number.')],'validate-cc-ukss':[function(value){return value;},$.mage.__('Please enter issue number or start date for switch/solo card type.')],'required-entry':[function(value){return!utils.isEmpty(value);},$.mage.__('This is a required field.')],'checked':[function(value){return value;},$.mage.__('This is a required field.')],'not-negative-amount':[function(value){if(value.length){return(/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);}\nreturn true;},$.mage.__('Please enter positive number in this field.')],'validate-per-page-value-list':[function(value){var isValid=true,values=value.split(','),i;if(utils.isEmpty(value)){return isValid;}\nfor(i=0;i<values.length;i++){if(!/^[0-9]+$/.test(values[i])){isValid=false;}}\nreturn isValid;},$.mage.__('Please enter a valid value, ex: 10,20,30')],'validate-new-password':[function(value){if($.validator.methods['validate-password']&&!$.validator.methods['validate-password'](value)){return false;}\nif(utils.isEmpty(value)&&value!==''){return false;}\nreturn true;},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-item-quantity':[function(value,params){var validator=this,result=false,qty=utils.parseNumber(value),isMinAllowedValid=typeof params.minAllowed==='undefined'||qty>=utils.parseNumber(params.minAllowed),isMaxAllowedValid=typeof params.maxAllowed==='undefined'||qty<=utils.parseNumber(params.maxAllowed),isQtyIncrementsValid=typeof params.qtyIncrements==='undefined'||qty%utils.parseNumber(params.qtyIncrements)===0;result=qty>0;if(result===false){validator.itemQtyErrorMessage=$.mage.__('Please enter a quantity greater than 0.');return result;}\nresult=isMinAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The fewest you may purchase is %1.').replace('%1',params.minAllowed);return result;}\nresult=isMaxAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The maximum you may purchase is %1.').replace('%1',params.maxAllowed);return result;}\nresult=isQtyIncrementsValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1',params.qtyIncrements);return result;}\nreturn result;},function(){return this.itemQtyErrorMessage;}],'equalTo':[function(value,param){return value===$(param).val();},$.validator.messages.equalTo],'validate-file-type':[function(name,types){var extension=name.split('.').pop().toLowerCase();if(types&&typeof types==='string'){types=types.split(' ');}\nreturn!types||!types.length||~types.indexOf(extension);},$.mage.__('We don\\'t recognize or support this file extension type.')],'validate-max-size':[function(size,maxSize){return maxSize===false||size<maxSize;},$.mage.__('File you are trying to upload exceeds maximum file size limit.')],'validate-if-tag-script-exist':[function(value){return!value||(/<script\\b[^>]*>([\\s\\S]*?)<\\/script>$/ig).test(value);},$.mage.__('Please use tag SCRIPT with SRC attribute or with proper content to include JavaScript to the document.')],'date_range_min':[function(value,minValue,params){return moment.utc(value,params.dateFormat).unix()>=minValue;},$.mage.__('The date is not within the specified range.')],'date_range_max':[function(value,maxValue,params){return moment.utc(value,params.dateFormat).unix()<=maxValue;},$.mage.__('The date is not within the specified range.')],'validate-color':[function(value){if(value===''){return true;}\nreturn tinycolor(value).isValid();},$.mage.__('Wrong color format. Please specify color in HEX, RGBa, HSVa, HSLa or use color name.')],'blacklist-url':[function(value,param){return new RegExp(param).test(value);},$.mage.__('This link is not allowed.')],'validate-dob':[function(value,param,params){if(value===''){return true;}\nreturn moment.utc(value,params.dateFormat).isSameOrBefore(moment.utc());},$.mage.__('The Date of Birth should not be greater than today.')]},function(data){return{handler:data[0],message:data[1]};});});","Magento_Ui/js/lib/validation/validator.min.js":"define(['underscore','./rules'],function(_,rulesList){'use strict';function validate(id,value,params,additionalParams){var rule,message,valid,result={rule:id,passed:true,message:''};if(_.isObject(params)){message=params.message||'';}\nif(!rulesList[id]){return result;}\nrule=rulesList[id];message=message||rule.message;valid=rule.handler(value,params,additionalParams);if(!valid){params=Array.isArray(params)?params:[params];if(typeof message==='function'){message=message.call(rule);}\nmessage=params.reduce(function(msg,param,idx){return msg.replace(new RegExp('\\\\{'+idx+'\\\\}','g'),param);},message);result.passed=false;result.message=message;}\nreturn result;}\nfunction validator(rules,value,additionalParams){var result;if(typeof rules==='object'){result={passed:true};_.every(rules,function(ruleParams,id){if(ruleParams.validate||ruleParams!==false||additionalParams){result=validate(id,value,ruleParams,additionalParams);return result.passed;}\nreturn true;});return result;}\nreturn validate.apply(null,arguments);}\nvalidator.addRule=function(id,handler,message){rulesList[id]={handler:handler,message:message};};validator.getRule=function(id){return rulesList[id];};return validator;});","Magento_Ui/js/lib/registry/registry.min.js":"define(['jquery','underscore'],function($,_){'use strict';var privateData=new WeakMap();function getItems(container){return privateData.get(container).items;}\nfunction getRequests(container){return privateData.get(container).requests;}\nfunction async(name,registry,method){var args=_.toArray(arguments).slice(3);if(_.isString(method)){registry.get(name,function(component){component[method].apply(component,args);});}else if(_.isFunction(method)){registry.get(name,method);}else if(!args.length){return registry.get(name);}}\nfunction compare(query,target){var matches=true,index,keys,key;if(!_.isObject(query)||!_.isObject(target)){return false;}\nkeys=Object.getOwnPropertyNames(query);index=keys.length;while(matches&&index--){key=keys[index];if(target[key]!=query[key]){matches=false;}}\nreturn matches;}\nfunction explode(query){var result={},index,data;if(typeof query!=='string'||!~query.indexOf('=')){return query;}\nquery=query.split(',');index=query.length;while(index--){data=query[index].split('=');result[data[0].trim()]=data[1].trim();}\nreturn result;}\nfunction find(data,query,findAll){var iterator,item;query=explode(query);if(typeof query==='string'){item=data[query];if(findAll){return item?[item]:[];}\nreturn item;}\niterator=!_.isFunction(query)?compare.bind(null,query):query;return findAll?_.filter(data,iterator):_.find(data,iterator);}\nfunction Registry(){var data={items:{},requests:[]};this._updateRequests=_.debounce(this._updateRequests.bind(this),10);privateData.set(this,data);}\nRegistry.prototype={constructor:Registry,get:function(query,callback){if(typeof callback!=='function'){return find(getItems(this),query);}\nthis._addRequest(query,callback);},set:function(id,item){getItems(this)[id]=item;this._updateRequests();return this;},remove:function(id){delete getItems(this)[id];return this;},filter:function(query){return find(getItems(this),query,true);},has:function(query){return!!this.get(query);},contains:function(item){return _.contains(getItems(this),item);},indexOf:function(item){return _.findKey(getItems(this),function(elem){return item===elem;});},promise:function(query){var defer=$.Deferred(),callback=defer.resolve.bind(defer);this.get(query,callback);return defer.promise();},async:function(query){return async.bind(null,query,this);},create:function(){return new Registry;},_addRequest:function(queries,callback){var request;if(!Array.isArray(queries)){queries=queries?[queries]:[];}\nrequest={queries:queries.map(explode),callback:callback};this._canResolve(request)?this._resolveRequest(request):getRequests(this).push(request);return this;},_updateRequests:function(){getRequests(this).filter(this._canResolve,this).forEach(this._resolveRequest,this);return this;},_resolveRequest:function(request){var requests=getRequests(this),items=request.queries.map(this.get,this),index=requests.indexOf(request);request.callback.apply(null,items);if(~index){requests.splice(index,1);}\nreturn this;},_canResolve:function(request){var queries=request.queries;return queries.every(this.has,this);}};return new Registry;});","Magento_Ui/js/modal/modalToggle.min.js":"define(['jquery','Magento_Ui/js/modal/modal'],function($){'use strict';return function(config,el){var widget,content;if(config.contentSelector){content=$(config.contentSelector);}else if(config.content){content=$('<div />').html(config.content);}else{content=$('<div />');}\nwidget=content.modal(config);$(el).on(config.toggleEvent,function(){var state=widget.data('mage-modal').options.isOpen;if(state){widget.modal('closeModal');}else{widget.modal('openModal');}\nreturn false;});return widget;};});","Magento_Ui/js/modal/modal-component.min.js":"define(['Magento_Ui/js/lib/view/utils/async','uiCollection','uiRegistry','underscore','./modal'],function($,Collection,registry,_){'use strict';return Collection.extend({defaults:{template:'ui/modal/modal-component',title:'',subTitle:'',options:{modalClass:'',title:'',subTitle:'',buttons:[],keyEventHandlers:{}},valid:true,links:{title:'options.title',subTitle:'options.subTitle'},listens:{state:'onState',title:'setTitle','options.subTitle':'setSubTitle'},modalClass:'modal-component',onCancel:'closeModal'},initialize:function(){this._super();_.bindAll(this,'initModal','openModal','closeModal','toggleModal','setPrevValues','validate');this.initializeContent();return this;},initConfig:function(){return this._super().initSelector().initModalEvents();},initSelector:function(){var modalClass=this.name.replace(/\\./g,'_');this.contentSelector='.'+this.modalClass;this.options.modalClass=this.options.modalClass+' '+modalClass;this.rootSelector='.'+modalClass;return this;},initModalEvents:function(){this.options.keyEventHandlers.escapeKey=this.options.outerClickHandler=this[this.onCancel].bind(this);return this;},initializeContent:function(){$.async({component:this.name},this.initModal);},initToolbarSection:function(){this.set('toolbarSection',this.modal.data('mage-modal').modal.find('header').get(0));},initObservable:function(){this._super();this.observe(['state','focused']);return this;},initModal:function(element){if(!this.modal){this.overrideModalButtonCallback();this.options.modalCloseBtnHandler=this[this.onCancel].bind(this);this.modal=$(element).modal(this.options);this.initToolbarSection();if(this.waitCbk){this.waitCbk();this.waitCbk=null;}}\nreturn this;},openModal:function(){if(this.modal){this.state(true);}else{this.waitCbk=this.openModal;}},closeModal:function(){if(this.modal){this.state(false);}else{this.waitCbk=this.closeModal;}},toggleModal:function(){if(this.modal){this.state(!this.state());}else{this.waitCbk=this.toggleModal;}},setTitle:function(title){if(this.title!==title){this.title=title;}\nif(this.modal){this.modal.modal('setTitle',title);}},setSubTitle:function(subTitle){if(this.subTitle!==subTitle){this.subTitle=subTitle;}\nif(this.modal){this.modal.modal('setSubTitle',subTitle);}},onState:function(state){if(state){this.modal.modal('openModal');this.applyData();}else{this.modal.modal('closeModal');}},validate:function(elem){if(typeof elem==='undefined'){return;}\nif(typeof elem.validate==='function'){this.valid=this.valid&elem.validate().valid;}else if(elem.elems){elem.elems().forEach(this.validate,this);}},resetData:function(){this.elems().forEach(this.resetValue,this);},applyData:function(){var applied={};this.elems().forEach(this.gatherValues.bind(this,applied),this);this.applied=applied;},gatherValues:function(applied,elem){if(typeof elem.value==='function'){applied[elem.name]=elem.value();}else if(elem.elems){elem.elems().forEach(this.gatherValues.bind(this,applied),this);}},setPrevValues:function(elem){if(typeof elem.value==='function'){this.modal.focus();elem.value(this.applied[elem.name]);}else if(elem.elems){elem.elems().forEach(this.setPrevValues,this);}},triggerAction:function(action){var targetName=action.targetName,params=action.params||[],actionName=action.actionName,target;target=registry.async(targetName);if(target&&typeof target==='function'&&actionName){params.unshift(actionName);target.apply(target,params);}},overrideModalButtonCallback:function(){var buttons=this.options.buttons;if(buttons&&buttons.length){buttons.forEach(function(button){button.click=this.getButtonClickHandler(button.actions);},this);}},getButtonClickHandler:function(actionsConfig){var actions=actionsConfig.map(function(actionConfig){if(_.isObject(actionConfig)){return this.triggerAction.bind(this,actionConfig);}\nreturn this[actionConfig]?this[actionConfig].bind(this):function(){};},this);return function(){actions.forEach(function(action){action();});};},actionCancel:function(){this.elems().forEach(this.setPrevValues,this);this.closeModal();},actionDone:function(){this.valid=true;this.elems().forEach(this.validate,this);if(this.valid){this.closeModal();}}});});","Magento_Ui/js/modal/alert.min.js":"define(['jquery','underscore','jquery-ui-modules/widget','Magento_Ui/js/modal/confirm','mage/translate'],function($,_){'use strict';$.widget('mage.alert',$.mage.confirm,{options:{modalClass:'confirm',title:$.mage.__('Attention'),actions:{always:function(){}},buttons:[{text:$.mage.__('OK'),class:'action-primary action-accept',click:function(){this.closeModal(true);}}]},closeModal:function(){this.options.actions.always();this.element.on('alertclosed',_.bind(this._remove,this));return this._super();}});return function(config){return $('<div></div>').html(config.content).alert(config);};});","Magento_Ui/js/modal/confirm.min.js":"define(['jquery','underscore','mage/translate','jquery-ui-modules/widget','Magento_Ui/js/modal/modal'],function($,_,$t){'use strict';$.widget('mage.confirm',$.mage.modal,{options:{modalClass:'confirm',title:'',focus:'.action-accept',actions:{always:function(){},confirm:function(){},cancel:function(){}},buttons:[{text:$t('Cancel'),class:'action-secondary action-dismiss',click:function(event){this.closeModal(event);}},{text:$t('OK'),class:'action-primary action-accept',click:function(event){this.closeModal(event,true);}}]},_create:function(){this._super();this.modal.find(this.options.modalCloseBtn).off().on('click',_.bind(this.closeModal,this));this.openModal();},_remove:function(){this.modal.remove();},openModal:function(){return this._super();},closeModal:function(event,result){result=result||false;if(result){this.options.actions.confirm(event);}else{this.options.actions.cancel(event);}\nthis.options.actions.always(event);this.element.on('confirmclosed',_.bind(this._remove,this));return this._super();}});return function(config){return $('<div></div>').html(config.content).confirm(config);};});","Magento_Ui/js/modal/modal.min.js":"define(['jquery','underscore','mage/template','text!ui/template/modal/modal-popup.html','text!ui/template/modal/modal-slide.html','text!ui/template/modal/modal-custom.html','Magento_Ui/js/lib/key-codes','jquery-ui-modules/widget','jquery-ui-modules/core','mage/translate'],function($,_,template,popupTpl,slideTpl,customTpl,keyCodes){'use strict';var transitionEvent=(function(){var transition,elementStyle=document.createElement('div').style,transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'};for(transition in transitions){if(elementStyle[transition]!==undefined&&transitions.hasOwnProperty(transition)){return transitions[transition];}}})();$.widget('mage.modal',{options:{id:null,type:'popup',title:'',subTitle:'',modalClass:'',focus:'[data-role=\"closeBtn\"]',autoOpen:false,clickableOverlay:true,popupTpl:popupTpl,slideTpl:slideTpl,customTpl:customTpl,modalVisibleClass:'_show',parentModalClass:'_has-modal',innerScrollClass:'_inner-scroll',responsive:false,innerScroll:false,modalTitle:'[data-role=\"title\"]',modalSubTitle:'[data-role=\"subTitle\"]',modalBlock:'[data-role=\"modal\"]',modalCloseBtn:'[data-role=\"closeBtn\"]',modalContent:'[data-role=\"content\"]',modalAction:'[data-role=\"action\"]',focusableScope:'[data-role=\"focusable-scope\"]',focusableStart:'[data-role=\"focusable-start\"]',focusableEnd:'[data-role=\"focusable-end\"]',appendTo:'body',wrapperClass:'modals-wrapper',overlayClass:'modals-overlay',responsiveClass:'modal-slide',trigger:'',modalLeftMargin:45,closeText:$.mage.__('Close'),buttons:[{text:$.mage.__('Ok'),class:'',attr:{},click:function(event){this.closeModal(event);}}],keyEventHandlers:{tabKey:function(){if(document.activeElement===this.modal[0]){this._setFocus('start');}},escapeKey:function(event){if(this.options.isOpen&&this.modal.find(document.activeElement).length||this.options.isOpen&&this.modal[0]===document.activeElement){this.closeModal(event);}}}},_create:function(){_.bindAll(this,'keyEventSwitcher','_tabSwitcher','closeModal');this.options.id=this.uuid;this.options.transitionEvent=transitionEvent;this._createWrapper();this._renderModal();this._createButtons();if(this.options.trigger){$(document).on('click',this.options.trigger,_.bind(this.toggleModal,this));}\nthis._on(this.modal.find(this.options.modalCloseBtn),{'click':this.options.modalCloseBtnHandler?this.options.modalCloseBtnHandler:this.closeModal});this._on(this.element,{'openModal':this.openModal,'closeModal':this.closeModal});this.options.autoOpen?this.openModal():false;},_getElem:function(elem){return this.modal.find(elem);},_getVisibleCount:function(){var modals=this.modalWrapper.find(this.options.modalBlock);return modals.filter('.'+this.options.modalVisibleClass).length;},_getVisibleSlideCount:function(){var elems=this.modalWrapper.find('[data-type=\"slide\"]');return elems.filter('.'+this.options.modalVisibleClass).length;},keyEventSwitcher:function(event){var key=keyCodes[event.keyCode];if(this.options.keyEventHandlers.hasOwnProperty(key)){this.options.keyEventHandlers[key].apply(this,arguments);}},setTitle:function(title){var $title=this.modal.find(this.options.modalTitle),$subTitle=this.modal.find(this.options.modalSubTitle);$title.text(title);$title.append($subTitle);},setSubTitle:function(subTitle){this.options.subTitle=subTitle;this.modal.find(this.options.modalSubTitle).html(subTitle);},toggleModal:function(){if(this.options.isOpen===true){this.closeModal();}else{this.openModal();}},openModal:function(){this.options.isOpen=true;this.focussedElement=document.activeElement;this._createOverlay();this._setActive();this._setKeyListener();this.modal.one(this.options.transitionEvent,_.bind(this._setFocus,this,'end','opened'));this.modal.one(this.options.transitionEvent,_.bind(this._trigger,this,'opened'));this.modal.addClass(this.options.modalVisibleClass);if(!this.options.transitionEvent){this._trigger('opened');}\nreturn this.element;},_setFocus:function(position,type){var focusableElements,infelicity;if(type==='opened'&&this.options.focus){this.modal.find($(this.options.focus)).focus();}else if(type==='opened'&&!this.options.focus){this.modal.find(this.options.focusableScope).focus();}else if(position==='end'){this.modal.find(this.options.modalCloseBtn).focus();}else if(position==='start'){infelicity=2;focusableElements=this.modal.find(':focusable');focusableElements.eq(focusableElements.length-infelicity).focus();}},_setKeyListener:function(){this.modal.find(this.options.focusableStart).on('focusin',this._tabSwitcher);this.modal.find(this.options.focusableEnd).on('focusin',this._tabSwitcher);this.modal.on('keydown',this.keyEventSwitcher);},_removeKeyListener:function(){this.modal.find(this.options.focusableStart).off('focusin',this._tabSwitcher);this.modal.find(this.options.focusableEnd).off('focusin',this._tabSwitcher);this.modal.off('keydown',this.keyEventSwitcher);},_tabSwitcher:function(e){var target=$(e.target);if(target.is(this.options.focusableStart)){this._setFocus('start');}else if(target.is(this.options.focusableEnd)){this._setFocus('end');}},closeModal:function(){var that=this;this._removeKeyListener();this.options.isOpen=false;this.modal.one(this.options.transitionEvent,function(){that._close();});this.modal.removeClass(this.options.modalVisibleClass);if(!this.options.transitionEvent){that._close();}\nreturn this.element;},_close:function(){var trigger=_.bind(this._trigger,this,'closed',this.modal);$(this.focussedElement).focus();this._destroyOverlay();this._unsetActive();_.defer(trigger,this);},_setActive:function(){var zIndex=this.modal.zIndex(),baseIndex=zIndex+this._getVisibleCount();if(this.modal.data('active')){return;}\nthis.modal.data('active',true);this.overlay.zIndex(++baseIndex);this.prevOverlayIndex=this.overlay.zIndex();this.modal.zIndex(this.overlay.zIndex()+1);if(this._getVisibleSlideCount()){this.modal.css('marginLeft',this.options.modalLeftMargin*this._getVisibleSlideCount());}},_unsetActive:function(){this.modal.removeAttr('style');this.modal.data('active',false);if(this.overlay){this.overlay.zIndex(this.prevOverlayIndex-1);}},_createWrapper:function(){this.modalWrapper=$(this.options.appendTo).find('.'+this.options.wrapperClass);if(!this.modalWrapper.length){this.modalWrapper=$('<div></div>').addClass(this.options.wrapperClass).appendTo(this.options.appendTo);}},_renderModal:function(){$(template(this.options[this.options.type+'Tpl'],{data:this.options})).appendTo(this.modalWrapper);this.modal=this.modalWrapper.find(this.options.modalBlock).last();this.element.appendTo(this._getElem(this.options.modalContent));if(this.element.is(':hidden')){this.element.show();}},_createButtons:function(){this.buttons=this._getElem(this.options.modalAction);_.each(this.options.buttons,function(btn,key){var button=this.buttons[key];if(btn.attr){$(button).attr(btn.attr);}\nif(btn.class){$(button).addClass(btn.class);}\nif(!btn.click){btn.click=this.closeModal;}\n$(button).on('click',_.bind(btn.click,this));},this);},_createOverlay:function(){var events,outerClickHandler=this.options.outerClickHandler||this.closeModal;this.overlay=$('.'+this.options.overlayClass);if(!this.overlay.length){$(this.options.appendTo).addClass(this.options.parentModalClass);this.overlay=$('<div></div>').addClass(this.options.overlayClass).appendTo(this.modalWrapper);}\nevents=$._data(this.overlay.get(0),'events');events?this.prevOverlayHandler=events.click[0].handler:false;this.options.clickableOverlay?this.overlay.off().on('click',outerClickHandler):false;},_destroyOverlay:function(){if(this._getVisibleCount()){this.overlay.off().on('click',this.prevOverlayHandler);}else{$(this.options.appendTo).removeClass(this.options.parentModalClass);this.overlay.remove();this.overlay=null;}}});return $.mage.modal;});","Magento_Ui/js/modal/prompt.min.js":"define(['jquery','underscore','mage/template','text!ui/template/modal/modal-prompt-content.html','jquery-ui-modules/widget','Magento_Ui/js/modal/modal','mage/translate'],function($,_,template,promptContentTmpl){'use strict';$.widget('mage.prompt',$.mage.modal,{options:{modalClass:'prompt',promptContentTmpl:promptContentTmpl,promptField:'[data-role=\"promptField\"]',attributesForm:{},attributesField:{},value:'',validation:false,validationRules:[],keyEventHandlers:{enterKey:function(event){if(this.options.isOpen&&this.modal.find(document.activeElement).length||this.options.isOpen&&this.modal[0]===document.activeElement){this.closeModal(true);event.preventDefault();}},tabKey:function(){if(document.activeElement===this.modal[0]){this._setFocus('start');}},escapeKey:function(event){if(this.options.isOpen&&this.modal.find(document.activeElement).length||this.options.isOpen&&this.modal[0]===document.activeElement){this.closeModal();event.preventDefault();}}},actions:{always:function(){},confirm:function(){},cancel:function(){}},buttons:[{text:$.mage.__('Cancel'),class:'action-secondary action-dismiss',click:function(){this.closeModal();}},{text:$.mage.__('OK'),class:'action-primary action-accept',click:function(){this.closeModal(true);}}]},_create:function(){this.options.focus=this.options.promptField;this.options.validation=this.options.validation&&this.options.validationRules.length;this.options.outerClickHandler=this.options.outerClickHandler||_.bind(this.closeModal,this,false);this._super();this.modal.find(this.options.modalContent).append(this.getFormTemplate());this.modal.find(this.options.modalCloseBtn).off().on('click',_.bind(this.closeModal,this,false));if(this.options.validation){this.setValidationClasses();}\nthis.openModal();},getFormTemplate:function(){var formTemplate,formAttr='',inputAttr='',attributeName;for(attributeName in this.options.attributesForm){if(this.options.attributesForm.hasOwnProperty(attributeName)){formAttr=formAttr+' '+attributeName+'=\"'+\nthis.options.attributesForm[attributeName]+'\"';}}\nfor(attributeName in this.options.attributesField){if(this.options.attributesField.hasOwnProperty(attributeName)){inputAttr=inputAttr+' '+attributeName+'=\"'+\nthis.options.attributesField[attributeName]+'\"';}}\nformTemplate=$(template(this.options.promptContentTmpl,{data:this.options,formAttr:formAttr,inputAttr:inputAttr}));return formTemplate;},_remove:function(){this.modal.remove();},validate:function(){return $.validator.validateSingleElement(this.options.promptField);},setValidationClasses:function(){this.modal.find(this.options.promptField).attr('class',$.proxy(function(i,val){return val+' '+this.options.validationRules.join(' ');},this));},openModal:function(){this._super();this.modal.find(this.options.promptField).val(this.options.value);},closeModal:function(result){var value;if(result){if(this.options.validation&&!this.validate()){return false;}\nvalue=this.modal.find(this.options.promptField).val();this.options.actions.confirm.call(this,value);}else{this.options.actions.cancel.call(this,result);}\nthis.options.actions.always();this.element.on('promptclosed',_.bind(this._remove,this));return this._super();}});return function(config){return $('<div class=\"prompt-message\"></div>').html(config.content).prompt(config);};});","Magento_Ui/js/form/client.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';function beforeSave(data,url,selectorPrefix,messagesClass){var save=$.Deferred();data=utils.serialize(utils.filterFormData(data));data['form_key']=window.FORM_KEY;if(!url||url==='undefined'){return save.resolve();}\n$('body').trigger('processStart');$.ajax({url:url,data:data,success:function(resp){if(!resp.error){save.resolve();return true;}\n$('body').notification('clear');$.each(resp.messages||[resp.message]||[],function(key,message){$('body').notification('add',{error:resp.error,message:message,insertMethod:function(msg){var $wrapper=$('<div/>').addClass(messagesClass).html(msg);$('.page-main-actions',selectorPrefix).after($wrapper);$('html, body').animate({scrollTop:$('.page-main-actions',selectorPrefix).offset().top});}});});},complete:function(){$('body').trigger('processStop');}});return save.promise();}\nreturn Class.extend({save:function(data,options){var url=this.urls.beforeSave,save=this._save.bind(this,data,options);beforeSave(data,url,this.selectorPrefix,this.messagesClass).then(save);return this;},_save:function(data,options){var url=this.urls.save;$('body').trigger('processStart');options=options||{};if(!options.redirect){url+='back/edit';}\nif(options.ajaxSave){utils.ajaxSubmit({url:url,data:data},options);$('body').trigger('processStop');return this;}\nutils.submit({url:url,data:data},options.attributes);return this;}});});","Magento_Ui/js/form/form.min.js":"define(['underscore','Magento_Ui/js/lib/spinner','rjsResolver','./adapter','uiCollection','mageUtils','jquery','Magento_Ui/js/core/app','mage/validation'],function(_,loader,resolver,adapter,Collection,utils,$,app){'use strict';function prepareParams(params){var result='?';_.each(params,function(value,key){result+=key+'='+value+'&';});return result.slice(0,-1);}\nfunction collectData(items){var result={},name;items=Array.prototype.slice.call(items);items.forEach(function(item){switch(item.type){case'checkbox':result[item.name]=+!!item.checked;break;case'radio':if(item.checked){result[item.name]=item.value;}\nbreak;case'select-multiple':name=item.name.substring(0,item.name.length-2);result[name]=_.pluck(item.selectedOptions,'value');break;default:result[item.name]=item.value;}});return result;}\nfunction makeRequest(params,data,url){var save=$.Deferred();data=utils.serialize(data);data['form_key']=window.FORM_KEY;if(!url){save.resolve();}\n$('body').trigger('processStart');$.ajax({url:url+prepareParams(params),data:data,dataType:'json',success:function(resp){if(resp.ajaxExpired){window.location.href=resp.ajaxRedirect;}\nif(!resp.error){save.resolve(resp);return true;}\n$('body').notification('clear');$.each(resp.messages,function(key,message){$('body').notification('add',{error:resp.error,message:message,insertMethod:function(msg){$('.page-main-actions').after(msg);}});});},complete:function(){$('body').trigger('processStop');}});return save.promise();}\nfunction isValidFields(items){var result=true;_.each(items,function(item){if(!$.validator.validateSingleElement(item)){result=false;}});return result;}\nreturn Collection.extend({defaults:{additionalFields:[],additionalInvalid:false,selectorPrefix:'.page-content',messagesClass:'messages',errorClass:'.admin__field._error',eventPrefix:'.${ $.index }',ajaxSave:false,ajaxSaveType:'default',imports:{reloadUrl:'${ $.provider}:reloadUrl'},listens:{selectorPrefix:'destroyAdapter initAdapter','${ $.name }.${ $.reloadItem }':'params.set reload'},exports:{selectorPrefix:'${ $.provider }:client.selectorPrefix',messagesClass:'${ $.provider }:client.messagesClass'}},initialize:function(){this._super().initAdapter();resolver(this.hideLoader,this);return this;},initObservable:function(){return this._super().observe(['responseData','responseStatus']);},initConfig:function(){this._super();this.selector='[data-form-part='+this.namespace+']';return this;},initAdapter:function(){adapter.on({'reset':this.reset.bind(this),'save':this.save.bind(this,true,{}),'saveAndContinue':this.save.bind(this,false,{})},this.selectorPrefix,this.eventPrefix);return this;},destroyAdapter:function(){adapter.off(['reset','save','saveAndContinue'],this.eventPrefix);return this;},hideLoader:function(){loader.get(this.name).hide();return this;},save:function(redirect,data){this.validate();if(!this.additionalInvalid&&!this.source.get('params.invalid')){this.setAdditionalData(data).submit(redirect);}else{this.focusInvalid();}},focusInvalid:function(){var invalidField=_.find(this.delegate('checkInvalid'));if(!_.isUndefined(invalidField)&&_.isFunction(invalidField.focused)){invalidField.focused(true);}\nreturn this;},setAdditionalData:function(data){_.each(data,function(value,name){this.source.set('data.'+name,value);},this);return this;},submit:function(redirect){var additional=collectData(this.additionalFields),source=this.source;_.each(additional,function(value,name){source.set('data.'+name,value);});source.save({redirect:redirect,ajaxSave:this.ajaxSave,ajaxSaveType:this.ajaxSaveType,response:{data:this.responseData,status:this.responseStatus},attributes:{id:this.namespace}});},validate:function(){this.additionalFields=document.querySelectorAll(this.selector);this.source.set('params.invalid',false);this.source.trigger('data.validate');this.set('additionalInvalid',!isValidFields(this.additionalFields));},reset:function(){this.source.trigger('data.reset');$('[data-bind*=datepicker]').val('');},overload:function(){this.source.trigger('data.overload');},reload:function(){makeRequest(this.params,this.data,this.reloadUrl).then(function(data){app(data,true);});}});});","Magento_Ui/js/form/button-adapter.min.js":"define(['uiClass','jquery','underscore','uiRegistry'],function(Class,$,_,registry){'use strict';return Class.extend({initialize:function(config,elem){return this._super().initActions().initAdapter(elem);},initActions:function(){var callbacks=[];_.each(this.actions,function(action){callbacks.push({action:registry.async(action.targetName),args:_.union([action.actionName],action.params)});});this.callback=function(){_.each(callbacks,function(callback){callback.action.apply(callback.action,callback.args);});};return this;},initAdapter:function(elem){$(elem).on('click',this.callback);return this;}});});","Magento_Ui/js/form/adapter.min.js":"define(['jquery','underscore','Magento_Ui/js/form/adapter/buttons'],function($,_,buttons){'use strict';var selectorPrefix='',eventPrefix;function initListener(callback,action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}\nif(elem.onclick){elem.onclick=null;}\n$(elem).on('click'+eventPrefix,callback);}\nfunction destroyListener(action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}\nif(elem.onclick){elem.onclick=null;}\n$(elem).off('click'+eventPrefix);}\nreturn{on:function(handlers,selectorPref,eventPref){selectorPrefix=selectorPrefix||selectorPref;eventPrefix=eventPref;_.each(handlers,initListener);selectorPrefix='';},off:function(handlers,eventPref){eventPrefix=eventPref;_.each(handlers,destroyListener);}};});","Magento_Ui/js/form/switcher.min.js":"define(['underscore','uiRegistry','uiClass'],function(_,registry,Class){'use strict';return Class.extend({defaults:{rules:[]},initialize:function(){this._super().initRules();return this;},initRules:function(){this.rules.forEach(this.initRule,this);return this;},initRule:function(rule){var handler=this.onValueChange.bind(this,rule);if(!rule.target){rule.target=this.target;}\nif(!rule.property){rule.property=this.property;}\nregistry.get(rule.target,function(target){this.applyRule(rule,target.get(rule.property));target.on(rule.property,handler);}.bind(this));return this;},addRule:function(rule){this.rules.push(rule);this.initRule(rule);return this;},applyRule:function(rule,value){var actions=rule.actions;if(rule.value!=value){return;}else if(rule.strict){return;}\nactions.forEach(this.applyAction,this);},applyAction:function(action){registry.get(action.target,function(target){var callback=target[action.callback];callback.apply(target,action.params||[]);});},onValueChange:function(rule,value){this.applyRule(rule,value);}});});","Magento_Ui/js/form/provider.min.js":"define(['underscore','uiElement','./client','mageUtils'],function(_,Element,Client,utils){'use strict';return Element.extend({defaults:{clientConfig:{urls:{save:'${ $.submit_url }',beforeSave:'${ $.validate_url }'}},ignoreTmpls:{data:true}},initialize:function(){this._super().initClient();return this;},initClient:function(){this.client=new Client(this.clientConfig);return this;},save:function(options){var data=this.get('data');this.client.save(data,options);return this;},updateConfig:function(isProvider,newData,oldData){if(isProvider===true){this.setData(oldData,newData,this);}\nreturn this;},setData:function(oldData,newData,current,parentPath){_.each(newData,function(val,key){if(_.isObject(val)||_.isArray(val)){this.setData(oldData[key],val,current[key],utils.fullPath(parentPath,key));}else if(val!=oldData[key]&&oldData[key]==current[key]){this.set(utils.fullPath(parentPath,key),val);}},this);}});});","Magento_Ui/js/form/components/tab.min.js":"define(['uiCollection'],function(Collection){'use strict';return Collection.extend({defaults:{uniqueProp:'active',active:false,wasActivated:false},initialize:function(){this._super().setUnique();},initObservable:function(){this._super().observe('active wasActivated');return this;},activate:function(){this.active(true);this.wasActivated(true);this.setUnique();return true;}});});","Magento_Ui/js/form/components/fieldset.min.js":"define(['Magento_Ui/js/lib/collapsible','underscore'],function(Collapsible,_){'use strict';return Collapsible.extend({defaults:{template:'ui/form/fieldset',collapsible:false,changed:false,loading:false,error:false,opened:false,level:0,visible:true,initializeFieldsetDataByDefault:false,disabled:false,listens:{'opened':'onVisibilityChange'},additionalClasses:{}},initialize:function(){_.bindAll(this,'onChildrenUpdate','onChildrenError','onContentLoading');return this._super()._setClasses();},initConfig:function(){this._super();this._wasOpened=this.opened||!this.collapsible;return this;},initObservable:function(){this._super().observe('changed loading error visible');return this;},initElement:function(elem){elem.initContainer(this);elem.on({'update':this.onChildrenUpdate,'loading':this.onContentLoading,'error':this.onChildrenError});if(this.disabled){try{elem.disabled(true);}\ncatch(e){}}\nreturn this;},onChildrenUpdate:function(hasChanged){if(!hasChanged){hasChanged=_.some(this.delegate('hasChanged'));}\nthis.bubble('update',hasChanged);this.changed(hasChanged);},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__collapsible-block-wrapper':this.collapsible,_show:this.opened,_hide:!this.opened,_disabled:this.disabled});return this;},onVisibilityChange:function(isOpened){if(!this._wasOpened){this._wasOpened=isOpened;}},onChildrenError:function(message){var hasErrors=false;if(!message){hasErrors=this._isChildrenHasErrors(hasErrors,this);}\nthis.error(hasErrors||message);if(hasErrors||message){this.open();}},_isChildrenHasErrors:function(hasErrors,container){var self=this;if(hasErrors===false&&container.hasOwnProperty('elems')){hasErrors=container.elems.some('error');if(hasErrors===false&&container.hasOwnProperty('_elems')){container._elems.forEach(function(child){if(hasErrors===false){hasErrors=self._isChildrenHasErrors(hasErrors,child);}});}}\nreturn hasErrors;},onContentLoading:function(isLoading){this.loading(isLoading);}});});","Magento_Ui/js/form/components/insert.min.js":"define(['uiElement','jquery','mage/translate','mageUtils','underscore','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/view/utils/bindings','Magento_Ui/js/lib/view/utils/async'],function(Element,$,$t,utils,_,alert){'use strict';return Element.extend({defaults:{content:'',template:'ui/form/insert',showSpinner:true,loading:false,autoRender:true,visible:true,contentSelector:'${$.name}',externalData:[],params:{namespace:'${ $.ns }'},renderSettings:{url:'${ $.render_url }',dataType:'html'},updateSettings:{url:'${ $.update_url }',dataType:'json'},imports:{},exports:{},listens:{},links:{value:'${ $.provider }:${ $.dataScope}'},modules:{externalSource:'${ $.externalProvider }'}},initialize:function(){this._super();_.bindAll(this,'onRender','onUpdate');if(this.autoRender){this.render();}\nreturn this;},initObservable:function(){return this._super().observe(['visible','content','value','loading']);},initConfig:function(config){this.initDataLink(config)._super();this.contentSelector=this.contentSelector.replace(/\\./g,'_');return this;},initDataLink:function(config){var key,value;if(config.dataLinks){_.each(config.externalData,function(val){value=val;key='externalValue.'+val.replace('data.','');if(config.dataLinks.imports){this.imports[key]='${ $.externalProvider }:'+value;}\nif(config.dataLinks.exports){this.exports[key]='${ $.externalProvider }:'+value;}\nthis.links[key]='${ $.externalProvider }:'+value;},this.constructor.defaults);}\nif(config.realTimeLink){this.constructor.defaults.links.externalValue='value';}\nreturn this;},render:function(params){var self=this,request;if(this.isRendered){return this;}\nself.previousParams=params||{};$.async({component:this.name,ctx:'.'+this.contentSelector},function(el){self.contentEl=$(el);self.startRender=true;params=_.extend({},self.params,params||{});request=self.requestData(params,self.renderSettings);request.done(self.onRender).fail(self.onError);});return this;},destroy:function(){this.destroyInserted()._super();},destroyInserted:function(){if(this.isRendered){this.isRendered=false;this.content('');if(this.externalSource()){this.externalSource().destroy();}\nthis.initExternalLinks();}\nreturn this;},initExternalLinks:function(){var imports=this.filterExternalLinks(this.imports,this.ns),exports=this.filterExternalLinks(this.exports,this.ns),links=this.filterExternalLinks(this.links,this.ns);this.setLinks(links,'imports').setLinks(links,'exports');_.each({exports:exports,imports:imports},this.setLinks,this);return this;},filterExternalLinks:function(data,ns){var links={};_.each(data,function(value,key){if(typeof value==='string'&&value.split('.')[0]===ns){links[key]=value;}});return links;},requestData:function(params,ajaxSettings){var query=utils.copy(params);ajaxSettings=_.extend({url:this['update_url'],method:'GET',data:query,dataType:'json'},ajaxSettings);this.loading(true);return $.ajax(ajaxSettings);},onRender:function(data){var resp;this.loading(false);try{resp=JSON.parse(data);if(resp.ajaxExpired){window.location.href=resp.ajaxRedirect;}}catch(e){this.set('content',data);this.isRendered=true;this.startRender=false;}},onError:function(xhr){if(xhr.statusText==='abort'){return;}\nalert({content:$t('Something went wrong.')});},getExternalData:function(){var data={};_.each(this.externalData,function(path){utils.nested(data,path.replace('data.',''),this.externalSource().get(path));},this);return data;},updateData:function(params){var request;params=_.extend(params||{},this.params);if(!this.startRender&&!this.isRendered){return this.render(params);}\nrequest=this.requestData(params,this.updateSettings);request.done(this.onUpdate).fail(this.onError);return request;},onUpdate:function(data){this.externalSource().set('data',data);this.externalSource().trigger('data.overload');this.loading(false);}});});","Magento_Ui/js/form/components/insert-form.min.js":"define(['./insert','mageUtils','jquery'],function(Insert,utils,$){'use strict';function getPageActions(elem,actionsClass){var el=document.createElement('div');el.innerHTML=elem;return el.getElementsByClassName(actionsClass)[0];}\nfunction removePageActions(elem,actionsClass){var el=document.createElement('div'),actions;el.innerHTML=elem;actions=el.getElementsByClassName(actionsClass)[0];if(actions){el.removeChild(actions);}\nreturn el.innerHTML;}\nreturn Insert.extend({defaults:{externalFormName:'${ $.ns }.${ $.ns }',pageActionsClass:'page-actions',actionsContainerClass:'page-main-actions',exports:{prefix:'${ $.externalFormName }:selectorPrefix'},imports:{toolbarSection:'${ $.toolbarContainer }:toolbarSection',prefix:'${ $.toolbarContainer }:rootSelector',messagesClass:'${ $.externalFormName }:messagesClass'},settings:{ajax:{ajaxSave:true,exports:{ajaxSave:'${ $.externalFormName }:ajaxSave'},imports:{responseStatus:'${ $.externalFormName }:responseStatus',responseData:'${ $.externalFormName }:responseData'}}},modules:{externalForm:'${ $.externalFormName }'}},initObservable:function(){return this._super().observe('responseStatus');},initConfig:function(config){var defaults=this.constructor.defaults;utils.extend(defaults,defaults.settings[config.formSubmitType]||{});return this._super();},destroyInserted:function(){if(this.isRendered&&this.externalForm()){this.externalForm().delegate('destroy');this.removeActions();this.responseStatus(undefined);this.responseData={};}\nreturn this._super();},onRender:function(data){var actions=getPageActions(data,this.pageActionsClass);if(!data.length){return this;}\ndata=removePageActions(data,this.pageActionsClass);this.renderActions(actions);this._super(data);},renderActions:function(actions){var $container=$('<div/>');$container.addClass(this.actionsContainerClass).append(actions);this.formHeader=$container;$(this.toolbarSection).append(this.formHeader);},removeActions:function(){$(this.formHeader).siblings('.'+this.messagesClass).remove();$(this.formHeader).remove();this.formHeader=$();},resetForm:function(){if(this.externalSource()){this.externalSource().trigger('data.reset');this.responseStatus(undefined);}}});});","Magento_Ui/js/form/components/collection.min.js":"define(['underscore','mageUtils','uiRegistry','uiComponent','uiLayout','Magento_Ui/js/modal/confirm'],function(_,utils,registry,Component,layout,confirm){'use strict';var childTemplate={parent:'${ $.$data.name }',name:'${ $.$data.childIndex }',dataScope:'${ $.name }',nodeTemplate:'${ $.$data.name }.${ $.$data.itemTemplate }'};return Component.extend({defaults:{lastIndex:0,template:'ui/form/components/collection'},initialize:function(){this._super().initChildren();return this;},initElement:function(elem){this._super();elem.activate();this.bubble('update');return this;},initChildren:function(){var children=this.source.get(this.dataScope),initial=this.initialItems=[];_.each(children,function(item,index){initial.push(index);this.addChild(index);},this);return this;},addChild:function(index){this.childIndex=!_.isString(index)?'new_'+this.lastIndex++:index;layout([utils.template(childTemplate,this)]);return this;},hasChanged:function(){var initial=this.initialItems,current=this.elems.pluck('index'),changed=!utils.equalArrays(initial,current);return changed||this.elems.some(function(elem){return _.some(elem.delegate('hasChanged'));});},validate:function(){var elems;this.allValid=true;elems=this.elems.sortBy(function(elem){return!elem.active();});elems=elems.map(this._validate,this);return _.flatten(elems);},_validate:function(elem){var result=elem.delegate('validate'),invalid;invalid=_.some(result,function(item){return!item.valid;});if(this.allValid&&invalid){this.allValid=false;elem.activate();}\nreturn result;},removeAddress:function(elem){var self=this;confirm({content:this.removeMessage,actions:{confirm:function(){self._removeAddress(elem);}}});},_removeAddress:function(elem){var isActive=elem.active(),first;elem.destroy();first=this.elems.first();if(first&&isActive){first.activate();}\nthis.bubble('update');}});});","Magento_Ui/js/form/components/insert-listing.min.js":"define(['jquery','./insert','mageUtils','underscore'],function($,Insert,utils,_){'use strict';return Insert.extend({defaults:{externalListingName:'${ $.ns }.${ $.ns }',behaviourType:'simple',externalFilterMode:false,requestConfig:{method:'POST'},externalCondition:'nin',settings:{edit:{imports:{'onChangeRecord':'${ $.editorProvider }:changed'}},filter:{exports:{'requestConfig':'${ $.externalProvider }:requestConfig'}}},imports:{onSelectedChange:'${ $.selectionsProvider }:selected','update_url':'${ $.externalProvider }:update_url','indexField':'${ $.selectionsProvider }:indexField'},exports:{externalFiltersModifier:'${ $.externalProvider }:params.filters_modifier'},listens:{externalValue:'updateExternalFiltersModifier updateSelections',indexField:'initialUpdateListing'},modules:{selections:'${ $.selectionsProvider }',externalListing:'${ $.externalListingName }'}},initialize:function(){this._super();_.bindAll(this,'updateValue','updateExternalValueByEditableData');return this;},initConfig:function(config){var defaults=this.constructor.defaults;if(config.behaviourType==='edit'){defaults.editableData={};_.map(defaults.settings.edit.imports,function(value,key){this.imports[key]=value;},defaults);}\nif(config.externalFilterMode===true){_.map(defaults.settings.filter.exports,function(value,key){this.exports[key]=value;},defaults);}\nreturn this._super();},initObservable:function(){return this._super().observe(['externalValue']);},destroyInserted:function(){if(this.isRendered&&this.externalListing()){this.externalListing().source.storage().clearRequests();this.externalListing().delegate('destroy');}\nreturn this._super();},onChangeRecord:function(record){this.updateEditableData(record);if(!this.dataLinks.imports){return;}\nthis.updateExternalValueByEditableData();},onSelectedChange:function(){if(!this.dataLinks.imports||this.suppressDataLinks||_.isBoolean(this.initialExportDone)&&!this.initialExportDone){this.suppressDataLinks=false;return;}\nthis.suppressDataLinks=true;this.updateExternalValue();},updateEditableData:function(record){var id=_.keys(record[0])[0];this.editableData[id]=record[0][id];},updateExternalValueByEditableData:function(){var updatedExtValue;if(!(this.behaviourType==='edit')||_.isEmpty(this.editableData)||_.isEmpty(this.externalValue())){return;}\nupdatedExtValue=this.externalValue();updatedExtValue.map(function(item){_.extend(item,this.editableData[item[this.indexField]]);},this);this.setExternalValue(updatedExtValue);},updateExternalValue:function(){var result=$.Deferred(),provider=this.selections(),selections,totalSelected,itemsType,rows;if(!provider){return result;}\nselections=provider&&provider.getSelections();totalSelected=provider.totalSelected();itemsType=selections&&selections.excludeMode?'excluded':'selected';rows=provider&&provider.rows();if(this.canUpdateFromClientData(totalSelected,selections.selected,rows)){this.updateFromClientData(selections.selected,rows);this.updateExternalValueByEditableData();result.resolve();}else{this.updateFromServerData(selections,itemsType).done(function(){this.updateExternalValueByEditableData();result.resolve();}.bind(this));}\nreturn result;},canUpdateFromClientData:function(totalSelected,selected,rows){var alreadySavedSelectionsIds=_.pluck(this.externalValue(),this.indexField),rowsOnCurrentPageIds=_.pluck(rows,this.indexField);return totalSelected===selected.length&&_.intersection(_.union(alreadySavedSelectionsIds,rowsOnCurrentPageIds),selected).length===selected.length;},updateFromClientData:function(selected,rows){var value,rowIds,valueIds;if(!selected||!selected.length){this.setExternalValue([]);return;}\nvalue=this.externalValue();rowIds=_.pluck(rows,this.indexField);valueIds=_.pluck(value,this.indexField);value=_.map(selected,function(item){if(_.contains(rowIds,item)){return _.find(rows,function(row){return row[this.indexField]===item;},this);}else if(_.contains(valueIds,item)){return _.find(value,function(row){return row[this.indexField]===item;},this);}},this);this.setExternalValue(value);},updateFromServerData:function(selections,itemsType){var filterType=selections&&selections.excludeMode?'nin':'in',selectionsData={},request;_.extend(selectionsData,this.params||{},selections.params);if(selections[itemsType]&&selections[itemsType].length){selectionsData.filters={};selectionsData['filters_modifier']={};selectionsData['filters_modifier'][this.indexField]={'condition_type':filterType,value:selections[itemsType]};}\nselectionsData.paging={notLimits:1};request=this.requestData(selectionsData,{method:this.requestConfig.method});request.done(function(data){this.setExternalValue(data.items||data);this.loading(false);}.bind(this)).fail(this.onError);return request;},setExternalValue:function(newValue){var keys=this.externalData,value=this.externalValue(),selectedIds=_.pluck(newValue,this.indexField);if(_.isArray(keys)&&!_.isEmpty(keys)){newValue=_.map(newValue,function(item){return _.pick(item,keys);},this);}else if(keys&&_.isString(keys)&&!_.isEmpty(newValue)){newValue=newValue[0][keys];}\nif(this.externalFilterMode){newValue=_.union(newValue,_.filter(value,function(item){return!_.contains(selectedIds,item[this.indexField]);},this));}\nthis.set('externalValue',newValue);},updateExternalFiltersModifier:function(items){var provider,filter={};if(!this.externalFilterMode){return;}\nprovider=this.selections();if(!provider){this.needInitialListingUpdate=true;return;}\nfilter[this.indexField]={'condition_type':this.externalCondition,value:_.pluck(items,this.indexField)};this.set('externalFiltersModifier',filter);},updateSelections:function(items){var provider,ids;if(!this.dataLinks.exports||this.suppressDataLinks){this.suppressDataLinks=false;this.initialExportDone=true;return;}\nprovider=this.selections();if(!provider){this.needInitialListingUpdate=true;return;}\nthis.suppressDataLinks=true;provider.deselectAll();if(_.isString(items)){provider.selected([items]||[]);}else{ids=_.pluck(items||[],this.indexField).map(function(item){return item.toString();});provider.selected(ids||[]);}\nthis.initialExportDone=true;},initialUpdateListing:function(){var items=this.externalValue();if(this.needInitialListingUpdate&&items){this.updateExternalFiltersModifier(items);this.updateSelections(items);this.needInitialListingUpdate=false;}},reload:function(){this.externalSource().set('params.t',new Date().getTime());},updateValue:function(){this.set('value',this.externalValue());},save:function(){this.updateExternalValue().done(function(){if(!this.realTimeLink){this.updateValue();}}.bind(this));}});});","Magento_Ui/js/form/components/group.min.js":"define(['underscore','uiCollection'],function(_,Collection){'use strict';return Collection.extend({defaults:{visible:true,label:'',showLabel:true,required:false,template:'ui/group/group',fieldTemplate:'ui/form/field',breakLine:true,validateWholeGroup:false,additionalClasses:{}},initialize:function(){this._super()._setClasses();return this;},initObservable:function(){this._super().observe('visible').observe({required:!!+this.required});return this;},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__control-grouped':!this.breakLine,'admin__control-fields':this.breakLine,required:this.required,_error:this.error,_disabled:this.disabled});return this;},isSingle:function(){return this.elems.getLength()===1;},isMultiple:function(){return this.elems.getLength()>1;},getPreview:function(){return this.elems.map('getPreview');}});});","Magento_Ui/js/form/components/button.min.js":"define(['uiElement','uiRegistry','uiLayout','mageUtils','underscore'],function(Element,registry,layout,utils,_){'use strict';return Element.extend({defaults:{buttonClasses:{},additionalClasses:{},displayArea:'outsideGroup',displayAsLink:false,elementTmpl:'ui/form/element/button',template:'ui/form/components/button/simple',visible:true,disabled:false,title:''},initialize:function(){return this._super()._setClasses()._setButtonClasses();},initObservable:function(){return this._super().observe(['visible','disabled','title','childError']);},action:function(){this.actions.forEach(this.applyAction,this);},applyAction:function(action){var targetName=action.targetName,params=utils.copy(action.params)||[],actionName=action.actionName,target;if(!registry.has(targetName)){this.getFromTemplate(targetName);}\ntarget=registry.async(targetName);if(target&&typeof target==='function'&&actionName){params.unshift(actionName);target.apply(target,params);}},getFromTemplate:function(targetName){var parentName=targetName.split('.'),index=parentName.pop(),child;parentName=parentName.join('.');child=utils.template({parent:parentName,name:index,nodeTemplate:targetName});layout([child]);},_setClasses:function(){if(typeof this.additionalClasses==='string'){if(this.additionalClasses===''){this.additionalClasses={};return this;}\nthis.additionalClasses=this.additionalClasses.trim().split(' ').reduce(function(classes,name){classes[name]=true;return classes;},{});}\nreturn this;},_setButtonClasses:function(){var additional=this.buttonClasses;if(_.isString(additional)){this.buttonClasses={};if(additional.trim().length){additional=additional.trim().split(' ');additional.forEach(function(name){if(name.length){this.buttonClasses[name]=true;}},this);}}\n_.extend(this.buttonClasses,{'action-basic':!this.displayAsLink,'action-additional':this.displayAsLink});return this;}});});","Magento_Ui/js/form/components/area.min.js":"define(['underscore','./tab'],function(_,Tab){'use strict';return Tab.extend({defaults:{uniqueNs:'params.activeArea',template:'ui/area',changed:false,loading:false},initialize:function(){_.bindAll(this,'onChildrenUpdate','onContentLoading');return this._super();},initObservable:function(){this._super().observe('changed loading');return this;},initElement:function(elem){this._super();elem.on({'update':this.onChildrenUpdate,'loading':this.onContentLoading});return this;},onChildrenUpdate:function(hasChanged){if(!hasChanged){hasChanged=_.some(this.delegate('hasChanged'));}\nthis.changed(hasChanged);},onContentLoading:function(isLoading){this.loading(isLoading);}});});","Magento_Ui/js/form/components/html.min.js":"define(['jquery','underscore','uiComponent'],function($,_,Component){'use strict';return Component.extend({defaults:{content:'',showSpinner:false,loading:false,visible:true,template:'ui/content/content',additionalClasses:{},ignoreTmpls:{content:true}},initialize:function(){_.bindAll(this,'onContainerToggle','onDataLoaded');this._super()._setClasses().initAjaxConfig();return this;},initObservable:function(){this._super().observe('content loading visible');return this;},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__scope-old':!!additional});return this;},initContainer:function(parent){this._super();parent.on('active',this.onContainerToggle);return this;},initAjaxConfig:function(){this.ajaxConfig={url:this.url,data:{FORM_KEY:window.FORM_KEY},success:this.onDataLoaded};return this;},onContainerToggle:function(active){if(active&&this.shouldLoad()){this.loadData();}},hasData:function(){return!!this.content();},shouldLoad:function(){return this.url&&!this.hasData()&&!this.loading();},loadData:function(){this.loading(true);$.ajax(this.ajaxConfig);return this;},onDataLoaded:function(data){this.updateContent(data).loading(false);},updateContent:function(content){this.content(content);return this;}});});","Magento_Ui/js/form/components/tab_group.min.js":"define(['underscore','Magento_Ui/js/lib/collapsible'],function(_,Collapsible){'use strict';return Collapsible.extend({defaults:{listens:{'${ $.provider }:data.validate':'onValidate'},collapsible:false,opened:true},initElement:function(elem){this._super().initActivation(elem);return this;},initActivation:function(elem){var elems=this.elems(),isFirst=!elems.indexOf(elem);if(isFirst||elem.active()){elem.activate();}\nreturn this;},validate:function(elem){var result=elem.delegate('validate'),invalid;invalid=_.find(result,function(item){return typeof item!=='undefined'&&!item.valid;});if(invalid){elem.activate();invalid.target.focused(true);}\nreturn invalid;},onValidate:function(){this.elems.sortBy(function(elem){return!elem.active();}).some(this.validate,this);}});});","Magento_Ui/js/form/components/multiline.min.js":"define(['./group'],function(Group){'use strict';return Group.extend({defaults:{links:{value:'${ $.provider }:${ $.dataScope }'}},initialize:function(){return this._super()._prepareValue();},initObservable:function(){this._super().observe('value');return this;},_prepareValue:function(){var value=this.value();if(typeof value==='string'){this.value(value.split('\\n'));}\nreturn this;}});});","Magento_Ui/js/form/components/collection/item.min.js":"define(['underscore','mageUtils','../tab'],function(_,utils,Tab){'use strict';var previewConfig={separator:' ',prefix:''};function parsePreview(data){if(typeof data=='string'){data={items:data};}\ndata.items=utils.stringToArray(data.items);return _.defaults(data,previewConfig);}\nreturn Tab.extend({defaults:{label:'',uniqueNs:'activeCollectionItem',previewTpl:'ui/form/components/collection/preview'},initialize:function(){_.bindAll(this,'buildPreview','hasPreview');return this._super();},initConfig:function(){this._super();this.displayed=[];return this;},initObservable:function(){this._super().observe({noPreview:true,indexed:{}});return this;},initElement:function(elem){this._super().insertToIndexed(elem);return this;},insertToIndexed:function(elem){var indexed=this.indexed();indexed[elem.index]=elem;this.indexed(indexed);return this;},destroy:function(){this._super();this._clearData();},_clearData:function(){this.source.remove(this.dataScope);return this;},formatPreviews:function(previews){return previews.map(parsePreview);},buildPreview:function(data){var preview=this.getPreview(data.items),prefix=data.prefix;return prefix+preview.join(data.separator);},hasPreview:function(data){return!!this.getPreview(data.items).length;},getPreview:function(items){var elems=this.indexed(),displayed=this.displayed,preview;items=items.map(function(index){var elem=elems[index];preview=elem&&elem.visible()?elem.getPreview():'';preview=Array.isArray(preview)?_.compact(preview).join(', '):preview;utils.toggle(displayed,index,!!preview);return preview;});this.noPreview(!displayed.length);return _.compact(items);}});});","Magento_Ui/js/form/element/color-picker-palette.min.js":"define([],function(){'use strict';return[['rgb(0,0,0)','rgb(52,52,52)','rgb(83,83,83)','rgb(135,135,135)','rgb(193,193,193)','rgb(234,234,234)','rgb(240,240,240)','rgb(255,255,255)'],['rgb(252,0,9)','rgb(253,135,10)','rgb(255,255,13)','rgb(35,255,9)','rgb(33,255,255)','rgb(0,0,254)','rgb(132,0,254)','rgb(251,0,255)'],['rgb(240,192,194)','rgb(251,223,194)','rgb(255,241,193)','rgb(210,230,201)','rgb(199,217,220)','rgb(197,219,240)','rgb(208,200,227)','rgb(229,199,212)'],['rgb(228,133,135)','rgb(246,193,139)','rgb(254,225,136)','rgb(168,208,152)','rgb(146,184,190)','rgb(143,184,227)','rgb(165,148,204)','rgb(202,147,175)'],['rgb(214,78,83)','rgb(243,163,88)','rgb(254,211,83)','rgb(130,187,106)','rgb(99,149,159)','rgb(93,150,211)','rgb(123,100,182)','rgb(180,100,142)'],['rgb(190,0,5)','rgb(222,126,44)','rgb(236,183,39)','rgb(89,155,61)','rgb(55,110,123)','rgb(49,112,185)','rgb(83,55,150)','rgb(147,55,101)'],['rgb(133,0,3)','rgb(163,74,10)','rgb(177,127,7)','rgb(45,101,23)','rgb(18,62,74)','rgb(14,62,129)','rgb(40,15,97)','rgb(95,16,55)'],['rgb(81,0,1)','rgb(100,48,7)','rgb(107,78,3)','rgb(31,63,16)','rgb(13,39,46)','rgb(10,40,79)','rgb(24,12,59)','rgb(59,10,36)']];});","Magento_Ui/js/form/element/media.min.js":"define(['mageUtils','./abstract'],function(utils,Abstract){'use strict';return Abstract.extend({defaults:{links:{value:''}},initialize:function(){this._super().initFormId();return this;},initFormId:function(){var namespace;if(this.formId){return this;}\nnamespace=this.name.split('.');this.formId=namespace[0];return this;}});});","Magento_Ui/js/form/element/textarea.min.js":"define(['./abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{cols:15,rows:2,elementTmpl:'ui/form/element/textarea'}});});","Magento_Ui/js/form/element/wysiwyg.min.js":"define(['wysiwygAdapter','Magento_Ui/js/lib/view/utils/async','underscore','ko','./abstract','mage/adminhtml/events','Magento_Variable/variables'],function(wysiwyg,$,_,ko,Abstract,varienGlobalEvents){'use strict';return Abstract.extend({currentWysiwyg:undefined,defaults:{elementSelector:'textarea',suffixRegExpPattern:'${ $.wysiwygUniqueSuffix }',$wysiwygEditorButton:'',links:{value:'${ $.provider }:${ $.dataScope }'},template:'ui/form/field',elementTmpl:'ui/form/element/wysiwyg',content:'',showSpinner:false,loading:false,listens:{disabled:'setDisabled'}},initialize:function(){this._super().initNodeListener();$.async({component:this,selector:'button'},function(element){this.$wysiwygEditorButton=this.$wysiwygEditorButton?this.$wysiwygEditorButton.add($(element)):$(element);}.bind(this));varienGlobalEvents.attachEventHandler('wysiwygEditorInitialized',function(){if(!_.isUndefined(window.tinyMceEditors)){this.currentWysiwyg=window.tinyMceEditors[this.wysiwygId];}\nif(this.disabled()){this.setDisabled(true);}}.bind(this));return this;},initConfig:function(config){var pattern=config.suffixRegExpPattern||this.constructor.defaults.suffixRegExpPattern;pattern=pattern.replace(/\\$/g,'\\\\$&');config.content=config.content.replace(new RegExp(pattern,'g'),this.getUniqueSuffix(config));this._super();return this;},getUniqueSuffix:function(config){return config.name.replace(/(\\.|-)/g,'_');},destroy:function(){this._super();wysiwyg.removeEvents(this.wysiwygId);},initObservable:function(){this._super().observe('value');return this;},initNodeListener:function(){$.async({component:this,selector:this.elementSelector},this.setElementNode.bind(this));return this;},setElementNode:function(node){$(node).bindings({value:this.value});},setDisabled:function(disabled){if(this.$wysiwygEditorButton&&disabled){this.$wysiwygEditorButton.prop('disabled','disabled');}else if(this.$wysiwygEditorButton){this.$wysiwygEditorButton.removeProp('disabled');}\nif(!_.isUndefined(this.currentWysiwyg)&&this.currentWysiwyg.activeEditor()){this.currentWysiwyg.setEnabledStatus(!disabled);this.currentWysiwyg.getPluginButtons().prop('disabled',disabled);}}});});","Magento_Ui/js/form/element/file-uploader.min.js":"define(['jquery','underscore','mageUtils','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/validation/validator','Magento_Ui/js/form/element/abstract','mage/backend/notification','mage/translate','jquery/file-uploader','mage/adminhtml/tools'],function($,_,utils,uiAlert,validator,Element,notification,$t){'use strict';return Element.extend({defaults:{value:[],aggregatedErrors:[],maxFileSize:false,isMultipleFiles:false,placeholderType:'document',allowedExtensions:false,previewTmpl:'ui/form/element/uploader/preview',dropZone:'[data-role=drop-zone]',isLoading:false,uploaderConfig:{dataType:'json',sequentialUploads:true,formData:{'form_key':window.FORM_KEY}},tracks:{isLoading:true}},initUploader:function(fileInput){this.$fileInput=fileInput;_.extend(this.uploaderConfig,{dropZone:$(fileInput).closest(this.dropZone),change:this.onFilesChoosed.bind(this),drop:this.onFilesChoosed.bind(this),add:this.onBeforeFileUpload.bind(this),fail:this.onFail.bind(this),done:this.onFileUploaded.bind(this),start:this.onLoadingStart.bind(this),stop:this.onLoadingStop.bind(this)});$(fileInput).fileupload(this.uploaderConfig);return this;},setInitialValue:function(){var value=this.getInitialValue();value=value.map(this.processFile,this);this.initialValue=value.slice();this.value(value);this.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},clear:function(){this.value.removeAll();return this;},hasData:function(){return!!this.value().length;},reset:function(){var value=this.initialValue.slice();this.value(value);return this;},addFile:function(file){file=this.processFile(file);this.isMultipleFiles?this.value.push(file):this.value([file]);return this;},getFile:function(fn){return _.find(this.value(),fn);},removeFile:function(file){this.value.remove(file);return this;},processFile:function(file){file.previewType=this.getFilePreviewType(file);if(!file.id&&file.name){file.id=Base64.mageEncode(file.name);}\nthis.observe.call(file,true,['previewWidth','previewHeight']);return file;},formatSize:function(bytes){var sizes=['Bytes','KB','MB','GB','TB'],i;if(bytes===0){return'0 Byte';}\ni=window.parseInt(Math.floor(Math.log(bytes)/ Math.log(1024)));return Math.round(bytes / Math.pow(1024,i),2)+' '+sizes[i];},getFilePreview:function(file){return file.url;},getPreviewTmpl:function(){return this.previewTmpl;},isFileAllowed:function(file){var result;_.every([this.isExtensionAllowed(file),this.isSizeExceeded(file)],function(value){result=value;return value.passed;});return result;},isExtensionAllowed:function(file){return validator('validate-file-type',file.name,this.allowedExtensions);},getFilePreviewType:function(file){var type;if(!file.type){return'document';}\ntype=file.type.split('/')[0];return type!=='image'&&type!=='video'?'document':type;},isSizeExceeded:function(file){return validator('validate-max-size',file.size,this.maxFileSize);},notifyError:function(msg){var data={content:msg};if(this.isMultipleFiles){data.modalClass='_image-box';}\nuiAlert(data);return this;},normalizeData:function(value){return utils.isEmpty(value)?[]:value;},hasChanged:function(){var value=this.value(),initial=this.initialValue;return!utils.equalArrays(value,initial);},onFilesChoosed:function(event,data){if(!this.isMultipleFiles){data.files.splice(1);}},onBeforeFileUpload:function(event,data){var file=data.files[0],allowed=this.isFileAllowed(file),target=$(event.target);if(this.disabled()){this.notifyError($t('The file upload field is disabled.'));return;}\nif(allowed.passed){target.on('fileuploadsend',function(eventBound,postData){postData.data.append('param_name',this.paramName);}.bind(data));target.fileupload('process',data).done(function(){data.submit();});}else{this.aggregateError(file.name,allowed.message);if(this.aggregatedErrors.length===data.originalFiles.length){this.uploaderConfig.stop();}}},aggregateError:function(filename,message){this.aggregatedErrors.push({filename:filename,message:message});},onFail:function(event,data){console.error(data.jqXHR.responseText);console.error(data.jqXHR.status);},onFileUploaded:function(event,data){var uploadedFilename=data.files[0].name,file=data.result,error=file.error;error?this.aggregateError(uploadedFilename,error):this.addFile(file);},onLoadingStart:function(){this.isLoading=true;},onLoadingStop:function(){var aggregatedErrorMessages=[];this.isLoading=false;if(!this.aggregatedErrors.length){return;}\nif(!this.isMultipleFiles){aggregatedErrorMessages.push(this.aggregatedErrors[0].message);}else{_.each(this.aggregatedErrors,function(error){notification().add({error:true,message:'%s'+error.message,insertMethod:function(constructedMessage){var escapedFileName=$('<div>').text(error.filename).html(),errorMsgBodyHtml='<strong>%s</strong> %s.<br>'.replace('%s',escapedFileName).replace('%s',$t('was not uploaded'));constructedMessage=constructedMessage.replace('%s',errorMsgBodyHtml);aggregatedErrorMessages.push(constructedMessage);}});});}\nthis.notifyError(aggregatedErrorMessages.join(''));this.aggregatedErrors=[];},onElementRender:function(fileInput){this.initUploader(fileInput);},onPreviewLoad:function(file,event){var img=event.currentTarget;file.previewWidth=img.naturalWidth;file.previewHeight=img.naturalHeight;},restoreToDefault:function(){var defaultValue=utils.copy(this.default);defaultValue.map(this.processFile,this);this.value(defaultValue);},setDifferedFromDefault:function(){var value=utils.copy(this.value());this.isDifferedFromDefault(!_.isEqual(value,this.default));}});});","Magento_Ui/js/form/element/color-picker.min.js":"define(['mage/translate','Magento_Ui/js/form/element/abstract','Magento_Ui/js/form/element/color-picker-palette'],function($t,Abstract,palette){'use strict';return Abstract.extend({defaults:{colorPickerConfig:{chooseText:$t('Apply'),cancelText:$t('Cancel'),maxSelectionSize:8,clickoutFiresChange:true,allowEmpty:true,localStorageKey:'magento.spectrum',palette:palette}},initialize:function(){this._super();this.colorPickerConfig.value=this.value;return this;}});});","Magento_Ui/js/form/element/url-input.min.js":"define(['underscore','uiLayout','mage/translate','Magento_Ui/js/form/element/abstract'],function(_,layout,$t,Abstract){'use strict';return Abstract.extend({defaults:{linkedElement:{},settingTemplate:'ui/form/element/urlInput/setting',typeSelectorTemplate:'ui/form/element/urlInput/typeSelector',options:[],linkedElementInstances:{},isDisplayAdditionalSettings:true,settingValue:false,settingLabel:$t('Open in new tab'),tracks:{linkedElement:true},baseLinkSetting:{namePrefix:'${$.name}.',dataScopePrefix:'${$.dataScope}.',provider:'${$.provider}'},urlTypes:{},listens:{settingValue:'checked',disabled:'hideLinkedElement',linkType:'createChildUrlInputComponent'},links:{linkType:'${$.provider}:${$.dataScope}.type',settingValue:'${$.provider}:${$.dataScope}.setting'}},initConfig:function(config){var processedLinkTypes={},baseLinkType=this.constructor.defaults.baseLinkSetting;_.each(config.urlTypes,function(linkSettingsArray,linkName){linkSettingsArray.name=baseLinkType.namePrefix+linkName;linkSettingsArray.dataScope=baseLinkType.dataScopePrefix+linkName;linkSettingsArray.type=linkName;linkSettingsArray.disabled=config.disabled;linkSettingsArray.visible=config.visible;processedLinkTypes[linkName]={};_.extend(processedLinkTypes[linkName],baseLinkType,linkSettingsArray);});_.extend(this.constructor.defaults.urlTypes,processedLinkTypes);this._super();},initObservable:function(){this._super().observe('componentTemplate options value linkType settingValue checked isDisplayAdditionalSettings').setOptions();return this;},setOptions:function(){var result=[];_.each(this.urlTypes,function(option,key){result.push({value:key,label:option.label,sortOrder:option.sortOrder||0});});result.sort(function(a,b){return a.sortOrder>b.sortOrder?1:-1;});this.options(result);return this;},setPreview:function(visible){this.linkedElement().visible(visible);},hideLinkedElement:function(disabled){this.linkedElement().disabled(disabled);},destroy:function(){_.each(this.linkedElementInstances,function(value){value().destroy();});this._super();},createChildUrlInputComponent:function(value){var elementConfig;if(!_.isEmpty(value)&&_.isUndefined(this.linkedElementInstances[value])){elementConfig=this.urlTypes[value];layout([elementConfig]);this.linkedElementInstances[value]=this.requestModule(elementConfig.name);}\nthis.linkedElement=this.linkedElementInstances[value];},getLinkedElementName:function(){return this.linkedElement;},checkboxClick:function(){if(!this.disabled()){this.settingValue(!this.settingValue());}}});});","Magento_Ui/js/form/element/abstract.min.js":"define(['underscore','mageUtils','uiLayout','uiElement','Magento_Ui/js/lib/validation/validator'],function(_,utils,layout,Element,validator){'use strict';return Element.extend({defaults:{visible:true,preview:'',focused:false,required:false,disabled:false,valueChangedByUser:false,elementTmpl:'ui/form/element/input',tooltipTpl:'ui/form/element/helper/tooltip',fallbackResetTpl:'ui/form/element/helper/fallback-reset','input_type':'input',placeholder:false,description:'',labelVisible:true,label:'',error:'',warn:'',notice:'',customScope:'',default:'',isDifferedFromDefault:false,showFallbackReset:false,additionalClasses:{},isUseDefault:'',serviceDisabled:false,valueUpdate:false,switcherConfig:{component:'Magento_Ui/js/form/switcher',name:'${ $.name }_switcher',target:'${ $.name }',property:'value'},listens:{visible:'setPreview',value:'setDifferedFromDefault','${ $.provider }:data.reset':'reset','${ $.provider }:data.overload':'overload','${ $.provider }:${ $.customScope ? $.customScope + \".\" : \"\"}data.validate':'validate','isUseDefault':'toggleUseDefault'},ignoreTmpls:{value:true},links:{value:'${ $.provider }:${ $.dataScope }'}},initialize:function(){_.bindAll(this,'reset');this._super().setInitialValue()._setClasses().initSwitcher();return this;},checkInvalid:function(){return this.error()&&this.error().length?this:null;},initObservable:function(){var rules=this.validation=this.validation||{};this._super();this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault').observe('isUseDefault serviceDisabled').observe({'required':!!rules['required-entry']});return this;},initConfig:function(){var uid=utils.uniqueid(),name,valueUpdate,scope;this._super();scope=this.dataScope.split('.');name=scope.length>1?scope.slice(1):scope;valueUpdate=this.showFallbackReset?'afterkeydown':this.valueUpdate;_.extend(this,{uid:uid,noticeId:'notice-'+uid,errorId:'error-'+uid,inputName:utils.serializeName(name.join('.')),valueUpdate:valueUpdate});return this;},initSwitcher:function(){if(this.switcherConfig.enabled){layout([this.switcherConfig]);}\nreturn this;},setInitialValue:function(){this.initialValue=this.getInitialValue();if(this.value.peek()!==this.initialValue){this.value(this.initialValue);}\nthis.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},_setClasses:function(){var additional=this.additionalClasses;if(_.isString(additional)){this.additionalClasses={};if(additional.trim().length){additional=additional.trim().split(' ');additional.forEach(function(name){if(name.length){this.additionalClasses[name]=true;}},this);}}\n_.extend(this.additionalClasses,{_required:this.required,_error:this.error,_warn:this.warn,_disabled:this.disabled});return this;},getInitialValue:function(){var values=[this.value(),this.default],value;values.some(function(v){if(v!==null&&v!==undefined){value=v;return true;}\nreturn false;});return this.normalizeData(value);},setVisible:function(isVisible){this.visible(isVisible);return this;},show:function(){this.visible(true);return this;},hide:function(){this.visible(false);return this;},disable:function(){this.disabled(true);return this;},enable:function(){this.disabled(false);return this;},setValidation:function(rule,options){var rules=utils.copy(this.validation),changed;if(_.isObject(rule)){_.extend(this.validation,rule);}else{this.validation[rule]=options;}\nchanged=!utils.compare(rules,this.validation).equal;if(changed){this.required(!!rules['required-entry']);this.validate();}\nreturn this;},getPreview:function(){return this.value();},hasAddons:function(){return this.addbefore||this.addafter;},hasService:function(){return this.service&&this.service.template;},hasChanged:function(){var notEqual=this.value()!==this.initialValue;return!this.visible()?false:notEqual;},hasData:function(){return!utils.isEmpty(this.value());},reset:function(){this.value(this.initialValue);this.error(false);return this;},overload:function(){this.setInitialValue();this.bubble('update',this.hasChanged());},clear:function(){this.value('');return this;},normalizeData:function(value){return utils.isEmpty(value)?'':value;},validate:function(){var value=this.value(),result=validator(this.validation,value,this.validationParams),message=!this.disabled()&&this.visible()?result.message:'',isValid=this.disabled()||!this.visible()||result.passed;this.error(message);this.error.valueHasMutated();this.bubble('error',message);if(this.source&&!isValid){this.source.set('params.invalid',true);}\nreturn{valid:isValid,target:this};},onUpdate:function(){this.bubble('update',this.hasChanged());this.validate();},restoreToDefault:function(){this.value(this.default);this.focused(true);},setDifferedFromDefault:function(){var value=typeof this.value()!='undefined'&&this.value()!==null?this.value():'',defaultValue=typeof this.default!='undefined'&&this.default!==null?this.default:'';this.isDifferedFromDefault(value!==defaultValue);},toggleUseDefault:function(state){this.disabled(state);if(this.source&&this.hasService()){this.source.set('data.use_default.'+this.index,Number(state));}},userChanges:function(){this.valueChangedByUser=true;},getDescriptionId:function(){var id=false;if(this.error()){id=this.errorId;}else if(this.notice()){id=this.noticeId;}\nreturn id;}});});","Magento_Ui/js/form/element/checkbox-set.min.js":"define(['underscore','mageUtils','./abstract'],function(_,utils,Abstract){'use strict';return Abstract.extend({defaults:{template:'ui/form/element/checkbox-set',multiple:false,multipleScopeValue:null},initConfig:function(){this._super();this.value=this.normalizeData(this.value);return this;},initLinks:function(){var scope=this.source.get(this.dataScope);this.multipleScopeValue=this.multiple&&_.isArray(scope)?utils.copy(scope):undefined;return this._super();},reset:function(){this.value(utils.copy(this.initialValue));this.error(false);return this;},clear:function(){var value=this.multiple?[]:'';this.value(value);this.error(false);return this;},normalizeData:function(value){if(!this.multiple){return this._super();}\nreturn _.isArray(value)?utils.copy(value):[];},setInitialValue:function(){this._super();this.initialValue=utils.copy(this.initialValue);return this;},getInitialValue:function(){var values=[this.multipleScopeValue,this.default,this.value.peek(),[]],value;if(!this.multiple){return this._super();}\nvalues.some(function(v){return _.isArray(v)&&(value=utils.copy(v));});return value;},getPreview:function(){var option;if(!this.multiple){option=this.getOption(this.value());return option?option.label:'';}\nreturn this.value.map(function(value){return this.getOption(value).label;},this);},getOption:function(value){return _.findWhere(this.options,{value:value});},hasChanged:function(){var value=this.value(),initial=this.initialValue;return this.multiple?!utils.equalArrays(value,initial):this._super();}});});","Magento_Ui/js/form/element/multiselect.min.js":"define(['underscore','mageUtils','./select'],function(_,utils,Select){'use strict';return Select.extend({defaults:{size:5,elementTmpl:'ui/form/element/multiselect',listens:{value:'setDifferedFromDefault setPrepareToSendData'}},setInitialValue:function(){this._super();this.initialValue=utils.copy(this.initialValue);return this;},normalizeData:function(value){if(utils.isEmpty(value)){value=[];}\nreturn _.isString(value)?value.split(','):value;},setPrepareToSendData:function(data){if(_.isUndefined(data)||!data.length){data='';}\nthis.source.set(this.dataScope+'-prepared-for-send',data);},getInitialValue:function(){var values=[this.normalizeData(this.source.get(this.dataScope)),this.normalizeData(this.default)],value;values.some(function(v){return _.isArray(v)&&(value=utils.copy(v))&&!_.isEmpty(v);});return value;},hasChanged:function(){var value=this.value(),initial=this.initialValue;return!utils.equalArrays(value,initial);},reset:function(){this.value(utils.copy(this.initialValue));this.error(false);return this;},clear:function(){this.value([]);this.error(false);return this;}});});","Magento_Ui/js/form/element/image-uploader.min.js":"define(['jquery','underscore','mageUtils','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/validation/validator','Magento_Ui/js/form/element/file-uploader','mage/adminhtml/browser'],function($,_,utils,uiAlert,validator,Element,browser){'use strict';return Element.extend({initialize:function(){this._super();$(window).on('fileDeleted.mediabrowser',this.onDeleteFile.bind(this));},initConfig:function(){var mediaGalleryUid=utils.uniqueid();this._super();_.extend(this,{mediaGalleryUid:mediaGalleryUid});return this;},addFileFromMediaGallery:function(imageUploader,e){var $buttonEl=$(e.target),fileSize=$buttonEl.data('size'),fileMimeType=$buttonEl.data('mime-type'),filePathname=$buttonEl.val(),fileBasename=filePathname.split('/').pop();this.addFile({type:fileMimeType,name:fileBasename,size:fileSize,url:filePathname});},openMediaBrowserDialog:function(imageUploader,e){var $buttonEl=$(e.target),openDialogUrl=this.mediaGallery.openDialogUrl+'target_element_id/'+$buttonEl.attr('id')+'/store/'+this.mediaGallery.storeId+'/type/image/?isAjax=true';if(this.mediaGallery.initialOpenSubpath){openDialogUrl+='&current_tree_path='+Base64.idEncode(this.mediaGallery.initialOpenSubpath);}\nbrowser.openDialog(openDialogUrl,null,null,this.mediaGallery.openDialogTitle,{targetElementId:$buttonEl.attr('id')});},onDeleteFile:function(e,data){var fileId=this.getFileId(),deletedFileIds=data.ids;if(fileId&&$.inArray(fileId,deletedFileIds)>-1){this.clear();}\nreturn this;},clear:function(){this.value([]);return this;},getFileId:function(){return this.hasData()?this.value()[0].id:null;},triggerImageUpload:function(imageUploader,e){$(e.target).closest('.file-uploader').find('input[type=\"file\"]').click();},getAllowedFileExtensionsInCommaDelimitedFormat:function(){var allowedExtensions=this.allowedExtensions.toUpperCase().split(' ');if(allowedExtensions.indexOf('JPG')!==-1&&allowedExtensions.indexOf('JPEG')!==-1){allowedExtensions.splice(allowedExtensions.indexOf('JPEG'),1);}\nreturn allowedExtensions.join(', ');}});});","Magento_Ui/js/form/element/post-code.min.js":"define(['underscore','./abstract'],function(_,Abstract){'use strict';return Abstract.extend({defaults:{imports:{countryOptions:'${ $.parentName }.country_id:indexedOptions',update:'${ $.parentName }.country_id:value'}},initObservable:function(){this._super();this.value.equalityComparer=function(oldValue,newValue){return!oldValue&&!newValue||oldValue===newValue;};return this;},update:function(value){var isZipCodeOptional,option;if(!value){return;}\noption=_.isObject(this.countryOptions)&&this.countryOptions[value];if(!option){return;}\nisZipCodeOptional=!!option['is_zipcode_optional'];if(isZipCodeOptional){this.error(false);}\nthis.validation['required-entry']=!isZipCodeOptional;this.required(!isZipCodeOptional);}});});","Magento_Ui/js/form/element/single-checkbox-use-config.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Component){'use strict';return Component.extend({defaults:{isUseDefault:false,isUseConfig:false,listens:{'isUseConfig':'toggleElement','isUseDefault':'toggleElement'}},initObservable:function(){return this._super().observe('isUseConfig');},toggleElement:function(){this.disabled(this.isUseDefault()||this.isUseConfig());if(this.source){this.source.set('data.use_default.'+this.index,Number(this.isUseDefault()));}}});});","Magento_Ui/js/form/element/single-checkbox-toggle-notice.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(SingleCheckbox){'use strict';return SingleCheckbox.extend({defaults:{notices:[],tracks:{notice:true}},initialize:function(){this._super().chooseNotice();return this;},chooseNotice:function(){var checkedNoticeNumber=Number(this.checked());this.notice=this.notices[checkedNoticeNumber];},onUpdate:function(){this._super();this.chooseNotice();}});});","Magento_Ui/js/form/element/text.min.js":"define(['uiElement','mageUtils'],function(Element,utils){'use strict';return Element.extend({defaults:{visible:true,label:'',error:'',uid:utils.uniqueid(),disabled:false,links:{value:'${ $.provider }:${ $.dataScope }'}},hasService:function(){return false;},hasAddons:function(){return false;},initObservable:function(){this._super().observe('disabled visible value');return this;}});});","Magento_Ui/js/form/element/country.min.js":"define(['underscore','uiRegistry','./select'],function(_,registry,Select){'use strict';return Select.extend({defaults:{imports:{update:'${ $.parentName }.website_id:value'}},filter:function(value,field){var result,defaultCountry,defaultValue;if(!field){field=this.filterBy.field;}\nthis._super(value,field);result=_.filter(this.initialOptions,function(item){if(item[field]){return~item[field].indexOf(value);}\nreturn false;});this.setOptions(result);this.reset();if(!this.value()){defaultCountry=_.filter(result,function(item){return item['is_default']&&_.contains(item['is_default'],value);});if(defaultCountry.length){defaultValue=defaultCountry.shift();this.value(defaultValue.value);}}}});});","Magento_Ui/js/form/element/website.min.js":"define(['underscore','uiRegistry','./select'],function(_,registry,Select){'use strict';return Select.extend({defaults:{customerId:null,isGlobalScope:0},initialize:function(){this._super();return this;}});});","Magento_Ui/js/form/element/single-checkbox.min.js":"define(['Magento_Ui/js/form/element/abstract','underscore','mage/translate'],function(AbstractField,_,$t){'use strict';return AbstractField.extend({defaults:{template:'ui/form/components/single/field',checked:false,initialChecked:false,multiple:false,prefer:'checkbox',valueMap:{},templates:{radio:'ui/form/components/single/radio',checkbox:'ui/form/components/single/checkbox',toggle:'ui/form/components/single/switcher'},listens:{'checked':'onCheckedChanged','value':'onExtendedValueChanged'}},initConfig:function(config){this._super();if(!config.elementTmpl){if(!this.prefer&&!this.multiple){this.elementTmpl=this.templates.radio;}else if(this.prefer==='radio'){this.elementTmpl=this.templates.radio;}else if(this.prefer==='checkbox'){this.elementTmpl=this.templates.checkbox;}else if(this.prefer==='toggle'){this.elementTmpl=this.templates.toggle;}else{this.elementTmpl=this.templates.checkbox;}}\nif(this.prefer==='toggle'&&_.isEmpty(this.toggleLabels)){this.toggleLabels={'on':$t('Yes'),'off':$t('No')};}\nif(typeof this.default==='undefined'||this.default===null){this.default='';}\nif(typeof this.value==='undefined'||this.value===null){this.value=_.isEmpty(this.valueMap)||this.default!==''?this.default:this.valueMap.false;this.initialValue=this.value;}else{this.initialValue=this.value;}\nif(this.multiple&&!_.isArray(this.value)){this.value=[];}\nthis.initialChecked=this.checked;return this;},initObservable:function(){return this._super().observe('checked');},getReverseValueMap:function getReverseValueMap(value){var bool=false;_.some(this.valueMap,function(iValue,iBool){if(iValue===value){bool=iBool==='true';return true;}});return bool;},setInitialValue:function(){if(_.isEmpty(this.valueMap)){this.on('value',this.onUpdate.bind(this));}else{this._super();this.checked(this.getReverseValueMap(this.value()));}\nreturn this;},onExtendedValueChanged:function(newExportedValue){var isMappedUsed=!_.isEmpty(this.valueMap),oldChecked=this.checked.peek(),oldValue=this.initialValue,newChecked;if(this.multiple){newChecked=newExportedValue.indexOf(oldValue)!==-1;}else if(isMappedUsed){newChecked=this.getReverseValueMap(newExportedValue);}else if(typeof newExportedValue==='boolean'){newChecked=newExportedValue;}else{newChecked=newExportedValue===oldValue;}\nif(newChecked!==oldChecked){this.checked(newChecked);}},onCheckedChanged:function(newChecked){var isMappedUsed=!_.isEmpty(this.valueMap),oldValue=this.initialValue,newValue;if(isMappedUsed){newValue=this.valueMap[newChecked];}else{newValue=oldValue;}\nif(!this.multiple&&newChecked){this.value(newValue);}else if(!this.multiple&&!newChecked){if(typeof newValue==='boolean'){this.value(newChecked);}else if(newValue===this.value.peek()){this.value('');}\nif(isMappedUsed){this.value(newValue);}}else if(this.multiple&&newChecked&&this.value.indexOf(newValue)===-1){this.value.push(newValue);}else if(this.multiple&&!newChecked&&this.value.indexOf(newValue)!==-1){this.value.splice(this.value.indexOf(newValue),1);}},onUpdate:function(){if(this.hasUnique){this.setUnique();}\nreturn this._super();},reset:function(){if(this.multiple&&this.initialChecked){this.value.push(this.initialValue);}else if(this.multiple&&!this.initialChecked){this.value.splice(this.value.indexOf(this.initialValue),1);}else{this.value(this.initialValue);}\nthis.error(false);return this;},clear:function(){if(this.multiple){this.value([]);}else{this.value('');}\nthis.error(false);return this;}});});","Magento_Ui/js/form/element/date.min.js":"define(['moment','mageUtils','./abstract','moment-timezone-with-data'],function(moment,utils,Abstract){'use strict';return Abstract.extend({defaults:{options:{},storeTimeZone:'UTC',validationParams:{dateFormat:'${ $.outputDateFormat }'},inputDateFormat:'y-MM-dd',outputDateFormat:'MM/dd/y',pickerDateTimeFormat:'',pickerDefaultDateFormat:'MM/dd/y',pickerDefaultTimeFormat:'h:mm a',elementTmpl:'ui/form/element/date',timezoneFormat:'YYYY-MM-DD HH:mm',listens:{'value':'onValueChange','shiftedValue':'onShiftedValueChange'},shiftedValue:''},initConfig:function(){this._super();if(!this.options.dateFormat){this.options.dateFormat=this.pickerDefaultDateFormat;}\nif(!this.options.timeFormat){this.options.timeFormat=this.pickerDefaultTimeFormat;}\nthis.prepareDateTimeFormats();return this;},initObservable:function(){return this._super().observe(['shiftedValue']);},getPreview:function(){return this.shiftedValue();},onValueChange:function(value){var shiftedValue;if(value){if(this.options.showsTime&&!this.options.timeOnly){shiftedValue=moment.tz(value,'UTC').tz(this.storeTimeZone);}else{shiftedValue=moment(value,this.outputDateFormat,true);}\nif(!shiftedValue.isValid()){shiftedValue=moment(value,this.inputDateFormat);}\nshiftedValue=shiftedValue.format(this.pickerDateTimeFormat);}else{shiftedValue='';}\nif(shiftedValue!==this.shiftedValue()){this.shiftedValue(shiftedValue);}},onShiftedValueChange:function(shiftedValue){var value,formattedValue,momentValue;if(shiftedValue){momentValue=moment(shiftedValue,this.pickerDateTimeFormat);if(this.options.showsTime&&!this.options.timeOnly){formattedValue=moment(momentValue).format(this.timezoneFormat);value=moment.tz(formattedValue,this.storeTimeZone).tz('UTC').toISOString();}else{value=momentValue.format(this.outputDateFormat);}}else{value='';}\nif(value!==this.value()){this.value(value);}},prepareDateTimeFormats:function(){if(this.options.timeOnly){this.pickerDateTimeFormat=this.options.timeFormat;}else{this.pickerDateTimeFormat=this.options.dateFormat;if(this.options.showsTime){this.pickerDateTimeFormat+=' '+this.options.timeFormat;}}\nthis.pickerDateTimeFormat=utils.convertToMomentFormat(this.pickerDateTimeFormat);if(this.options.dateFormat){this.outputDateFormat=this.options.dateFormat;}\nthis.inputDateFormat=this.options.timeOnly?utils.convertToMomentFormat(this.pickerDefaultTimeFormat):utils.convertToMomentFormat(this.inputDateFormat);this.outputDateFormat=this.options.timeOnly?utils.convertToMomentFormat(this.options.timeFormat):utils.convertToMomentFormat(this.outputDateFormat);this.validationParams.dateFormat=this.outputDateFormat;}});});","Magento_Ui/js/form/element/select.min.js":"define(['underscore','mageUtils','uiRegistry','./abstract','uiLayout'],function(_,utils,registry,Abstract,layout){'use strict';var inputNode={parent:'${ $.$data.parentName }',component:'Magento_Ui/js/form/element/abstract',template:'${ $.$data.template }',provider:'${ $.$data.provider }',name:'${ $.$data.index }_input',dataScope:'${ $.$data.customEntry }',customScope:'${ $.$data.customScope }',sortOrder:{after:'${ $.$data.name }'},displayArea:'body',label:'${ $.$data.label }'};function parseOptions(nodes,captionValue){var caption,value;nodes=_.map(nodes,function(node){value=node.value;if(value===null||value===captionValue){if(_.isUndefined(caption)){caption=node.label;}}else{return node;}});return{options:_.compact(nodes),caption:_.isString(caption)?caption:false};}\nfunction findFirst(data){var value;data.some(function(node){value=node.value;if(Array.isArray(value)){value=findFirst(value);}\nreturn!_.isUndefined(value);});return value;}\nfunction indexOptions(data,result){var value;result=result||{};data.forEach(function(item){value=item.value;if(Array.isArray(value)){indexOptions(value,result);}else{result[value]=item;}});return result;}\nreturn Abstract.extend({defaults:{customName:'${ $.parentName }.${ $.index }_input',elementTmpl:'ui/form/element/select',caption:'',options:[]},initialize:function(){this._super();if(this.customEntry){registry.get(this.name,this.initInput.bind(this));}\nif(this.filterBy){this.initFilter();}\nreturn this;},initObservable:function(){this._super();this.initialOptions=this.options;this.observe('options caption').setOptions(this.options());return this;},initFilter:function(){var filter=this.filterBy;this.filter(this.default,filter.field);this.setLinks({filter:filter.target},'imports');return this;},initInput:function(){layout([utils.template(inputNode,this)]);return this;},normalizeData:function(){var value=this._super(),option;if(value!==''){option=this.getOption(value);return option&&option.value;}\nif(!this.caption()){return findFirst(this.options);}},filter:function(value,field){var source=this.initialOptions,result;field=field||this.filterBy.field;result=_.filter(source,function(item){return item[field]===value||item.value==='';});this.setOptions(result);},toggleInput:function(isVisible){registry.get(this.customName,function(input){input.setVisible(isVisible);});},setOptions:function(data){var captionValue=this.captionValue||'',result=parseOptions(data,captionValue),isVisible;this.indexedOptions=indexOptions(result.options);this.options(result.options);if(!this.caption()){this.caption(result.caption);}\nif(this.customEntry){isVisible=!!result.options.length;this.setVisible(isVisible);this.toggleInput(!isVisible);}\nreturn this;},getPreview:function(){var value=this.value(),option=this.indexedOptions[value],preview=option?option.label:'';this.preview(preview);return preview;},getOption:function(value){return this.indexedOptions[value];},clear:function(){var value=this.caption()?'':findFirst(this.options);this.value(value);return this;},setInitialValue:function(){if(_.isUndefined(this.value())&&!this.default){this.clear();}\nreturn this._super();}});});","Magento_Ui/js/form/element/region.min.js":"define(['underscore','uiRegistry','./select','Magento_Checkout/js/model/default-post-code-resolver'],function(_,registry,Select,defaultPostCodeResolver){'use strict';return Select.extend({defaults:{skipValidation:false,imports:{countryOptions:'${ $.parentName }.country_id:indexedOptions',update:'${ $.parentName }.country_id:value'}},initialize:function(){var option;this._super();option=_.find(this.countryOptions,function(row){return row['is_default']===true;});this.hideRegion(option);return this;},update:function(value){var isRegionRequired,option;if(!value){return;}\noption=_.isObject(this.countryOptions)&&this.countryOptions[value];if(!option){return;}\nthis.hideRegion(option);defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);isRegionRequired=!this.skipValidation&&!!option['is_region_required'];if(!isRegionRequired){this.error(false);}\nthis.required(isRegionRequired);this.validation['required-entry']=isRegionRequired;registry.get(this.customName,function(input){input.required(isRegionRequired);input.validation['required-entry']=isRegionRequired;input.validation['validate-not-number-first']=!this.options().length;}.bind(this));},hideRegion:function(option){if(!option||option['is_region_visible']!==false){return;}\nthis.setVisible(false);if(this.customEntry){this.toggleInput(false);}}});});","Magento_Ui/js/form/element/ui-select.min.js":"define(['underscore','./abstract','Magento_Ui/js/lib/key-codes','mage/translate','ko','jquery','Magento_Ui/js/lib/view/utils/async'],function(_,Abstract,keyCodes,$t,ko,$){'use strict';var isTouchDevice=typeof document.ontouchstart!=='undefined';function flattenCollection(array,separator,created){var i=0,length,childCollection;array=_.compact(array);length=array.length;created=created||[];for(i;i<length;i++){created.push(array[i]);if(array[i].hasOwnProperty(separator)){childCollection=array[i][separator];delete array[i][separator];flattenCollection.call(this,childCollection,separator,created);}}\nreturn created;}\nfunction setProperty(array,separator,level,path){var i=0,length,nextLevel,nextPath;array=_.compact(array);length=array.length;level=level||0;path=path||'';for(i;i<length;i++){if(array[i]){_.extend(array[i],{level:level,path:path});}\nif(array[i].hasOwnProperty(separator)){nextLevel=level+1;nextPath=path?path+'.'+array[i].label:array[i].label;setProperty.call(this,array[i][separator],separator,nextLevel,nextPath);}}\nreturn array;}\nfunction parseOptions(nodes){var caption,value,cacheNodes,copyNodes;nodes=setProperty(nodes,'optgroup');copyNodes=JSON.parse(JSON.stringify(nodes));cacheNodes=flattenCollection(copyNodes,'optgroup');nodes=_.map(nodes,function(node){value=node.value;if(value==null||value===''){if(_.isUndefined(caption)){caption=node.label;}}else{return node;}});return{options:_.compact(nodes),cacheOptions:{plain:_.compact(cacheNodes),tree:_.compact(nodes)}};}\nreturn Abstract.extend({defaults:{options:[],total:0,listVisible:false,value:[],filterOptions:false,chipsEnabled:true,itemsQuantity:'',filterInputValue:'',filterOptionsFocus:false,multiselectFocus:false,multiple:true,selectType:'tree',lastSelectable:false,showFilteredQuantity:true,showCheckbox:true,levelsVisibility:true,openLevelsAction:true,showOpenLevelsActionIcon:true,optgroupLabels:false,closeBtn:true,showPath:true,labelsDecoration:false,disableLabel:false,filterRateLimit:500,filterRateLimitMethod:'notifyAtFixedRate',closeBtnLabel:$t('Done'),optgroupTmpl:'ui/grid/filters/elements/ui-select-optgroup',quantityPlaceholder:$t('options'),hoverClass:'_hover',rootListSelector:'ul.admin__action-multiselect-menu-inner._root',visibleOptionSelector:'li.admin__action-multiselect-menu-inner-item:visible',actionTargetSelector:'.action-menu-item',selectedPlaceholders:{defaultPlaceholder:$t('Select...'),lotPlaceholders:$t('Selected')},separator:'optgroup',searchOptions:false,loading:false,searchUrl:false,lastSearchKey:'',lastSearchPage:1,filterPlaceholder:'',emptyOptionsHtml:'',cachedSearchResults:{},pageLimit:50,deviation:30,validationLoading:false,isRemoveSelectedIcon:false,debounce:300,missingValuePlaceholder:$t('Entity with ID: %s doesn\\'t exist'),isDisplayMissingValuePlaceholder:false,currentSearchKey:'',listens:{listVisible:'cleanHoveredElement',filterInputValue:'filterOptionsList',options:'checkOptionsList'},presets:{single:{showCheckbox:false,chipsEnabled:false,closeBtn:false},optgroup:{showCheckbox:false,lastSelectable:true,optgroupLabels:true,openLevelsAction:false,labelsDecoration:true,showOpenLevelsActionIcon:false}}},initialize:function(){this._super();$.async(this.rootListSelector,this,this.onRootListRender.bind(this));return this;},initConfig:function(config){var result=parseOptions(config.options),defaults=this.constructor.defaults,multiple=_.isBoolean(config.multiple)?config.multiple:defaults.multiple,type=config.selectType||defaults.selectType,showOpenLevelsActionIcon=_.isBoolean(config.showOpenLevelsActionIcon)?config.showOpenLevelsActionIcon:defaults.showOpenLevelsActionIcon,openLevelsAction=_.isBoolean(config.openLevelsAction)?config.openLevelsAction:defaults.openLevelsAction;multiple=!multiple?'single':false;config.showOpenLevelsActionIcon=showOpenLevelsActionIcon&&openLevelsAction;_.extend(config,result,defaults.presets[multiple],defaults.presets[type]);this._super();return this;},hasChildList:function(){return _.find(this.options(),function(option){return!!option[this.separator];},this);},isTree:function(){return this.hasChildList()&&this.selectType!=='optgroup';},addLastElement:function(data){if(!data.hasOwnProperty(this.separator)){!this.cacheOptions.lastOptions?this.cacheOptions.lastOptions=[]:false;if(!_.findWhere(this.cacheOptions.lastOptions,{value:data.value})){this.cacheOptions.lastOptions.push(data);}\nreturn true;}\nreturn false;},getEmptyOptionsUnsanitizedHtml:function(){return this.emptyOptionsHtml;},checkOptionsList:function(options){if(options.length>this.cacheOptions.plain.length){this.cacheOptions.plain=options;this.setCaption();}},isLabelDecoration:function(data){return data.hasOwnProperty(this.separator)&&this.labelsDecoration;},initObservable:function(){this._super();this.observe(['listVisible','placeholder','multiselectFocus','options','itemsQuantity','filterInputValue','filterOptionsFocus','loading','validationLoading','isDisplayMissingValuePlaceholder']);this.filterInputValue.extend({rateLimit:{timeout:this.filterRateLimit,method:this.filterRateLimitMethod}});return this;},keyDownHandlers:function(){return{enterKey:this.enterKeyHandler,escapeKey:this.escapeKeyHandler,spaceKey:this.enterKeyHandler,pageUpKey:this.pageUpKeyHandler,pageDownKey:this.pageDownKeyHandler};},showLevels:function(data){var curLevel=++data.level,isVisible;if(data.visible){isVisible=data.visible();}else{isVisible=!!data.hasOwnProperty(this.separator)&&_.isBoolean(this.levelsVisibility)&&this.levelsVisibility||data.hasOwnProperty(this.separator)&&parseInt(this.levelsVisibility,10)>=curLevel;data.visible=ko.observable(isVisible);data.isVisited=isVisible;}\nreturn isVisible;},getLevelVisibility:function(data){if(data.visible){return data.visible();}\nreturn this.showLevels(data);},setOption:function(option,options){var copyOptionsTree;options=options||this.cacheOptions.tree;_.each(options,function(opt){if(opt.value==option.parent){delete option.parent;opt[this.separator]?opt[this.separator].push(option):opt[this.separator]=[option];copyOptionsTree=JSON.parse(JSON.stringify(this.cacheOptions.tree));this.cacheOptions.plain=flattenCollection(copyOptionsTree,this.separator);this.options(this.cacheOptions.tree);}else if(opt[this.separator]){this.setOption(option,opt[this.separator]);}},this);},outerClick:function(){this.listVisible()?this.listVisible(false):false;if(isTouchDevice){this.multiselectFocus(false);}},filterOptionsKeydown:function(data,event){var key=keyCodes[event.keyCode];!this.isTabKey(event)?event.stopPropagation():false;if(key==='pageDownKey'||key==='pageUpKey'){event.preventDefault();this.filterOptionsFocus(false);this.cacheUiSelect.focus();}\nthis.keydownSwitcher(data,event);return true;},filterOptionsList:function(){var value=this.filterInputValue().trim().toLowerCase(),array=[];if(this.searchOptions){return this.loadOptions(value);}\nthis.cleanHoveredElement();if(!value){this.renderPath=false;this.options(this.cacheOptions.tree);this._setItemsQuantity(false);return false;}\nthis.showPath?this.renderPath=true:false;if(this.filterInputValue()){array=this.selectType==='optgroup'?this._getFilteredArray(this.cacheOptions.lastOptions,value):this._getFilteredArray(this.cacheOptions.plain,value);if(!value.length){this.options(this.cacheOptions.plain);this._setItemsQuantity(this.cacheOptions.plain.length);}else{this.options(array);this._setItemsQuantity(array.length);}\nreturn false;}\nthis.options(this.cacheOptions.plain);},_getFilteredArray:function(list,value){var i=0,array=[],curOption;for(i;i<list.length;i++){curOption=list[i].label.toLowerCase();if(curOption.indexOf(value)>-1){array.push(list[i]);}}\nreturn array;},getPath:function(data){var pathParts,createdPath='';if(this.renderPath){pathParts=data.path.split('.');_.each(pathParts,function(curData){createdPath=createdPath?createdPath+' / '+curData:curData;});return createdPath;}},_setItemsQuantity:function(data){if(this.showFilteredQuantity){data||parseInt(data,10)===0?this.itemsQuantity(this.getItemsPlaceholder(data)):this.itemsQuantity('');}},getItemsPlaceholder:function(data){return data+' '+this.quantityPlaceholder;},removeSelected:function(value,data,event){event?event.stopPropagation():false;this.value.remove(value);},isTabKey:function(event){return keyCodes[event.keyCode]==='tabKey';},cleanHoveredElement:function(){if(this.hoveredElement){$(this.hoveredElement).children(this.actionTargetSelector).removeClass(this.hoverClass);this.hoveredElement=null;}\nreturn this;},isSelected:function(value){return this.multiple?_.contains(this.value(),value):this.value()===value;},isSelectedValue:function(option){if(_.isUndefined(option)){return false;}\nreturn this.isSelected(option.value);},isOptgroupLabels:function(data){return data.hasOwnProperty(this.separator)&&this.optgroupLabels;},isHovered:function(data){var element=this.hoveredElement,elementData;if(!element){return false;}\nelementData=ko.dataFor(this.hoveredElement);if(_.isUndefined(elementData)){return false;}\nreturn data.value===elementData.value;},toggleListVisible:function(){this.listVisible(!this.disabled()&&!this.listVisible());return this;},getSelected:function(){var selected=this.value();return this.cacheOptions.plain.filter(function(opt){return _.isArray(selected)?_.contains(selected,opt.value):selected==opt.value;});},toggleOptionSelected:function(data){var isSelected=this.isSelected(data.value);if(this.lastSelectable&&data.hasOwnProperty(this.separator)){return this;}\nif(!this.multiple){if(!isSelected){this.value(data.value);}\nthis.listVisible(false);}else{if(!isSelected){this.value.push(data.value);}else{this.value(_.without(this.value(),data.value));}}\nreturn this;},openChildLevel:function(data){var contextElement=data,isVisible;if(this.openLevelsAction&&data.hasOwnProperty(this.separator)&&_.isBoolean(this.levelsVisibility)||this.openLevelsAction&&data.hasOwnProperty(this.separator)&&parseInt(this.levelsVisibility,10)<=data.level){isVisible=!contextElement.visible();if(isVisible&&!contextElement.isVisited){contextElement.isVisited=true;}\ncontextElement.visible(isVisible);}},hasData:function(){if(!this.value()){this.value([]);}\nreturn this.value()?!!this.value().length:false;},onDelegatedMouseMove:function(event){var target=$(event.currentTarget).closest(this.visibleOptionSelector)[0];if(this.isCursorPositionChange(event)||this.hoveredElement===target){return;}\nthis._hoverTo(target);this.setCursorPosition(event);},getOptionIndex:function(data){var index;_.each(this.cacheOptions.plain,function(opt,id){if(data.value===opt.value){index=id;}});return index;},setCursorPosition:function(event){this.cursorPosition={x:event.pageX,y:event.pageY};},isCursorPositionChange:function(event){return this.cursorPosition&&this.cursorPosition.x===event.pageX&&this.cursorPosition.y===event.pageY;},onFocusIn:function(ctx,event){!this.cacheUiSelect?this.cacheUiSelect=event.target:false;this.multiselectFocus(true);},onFocusOut:function(){this.multiselectFocus(false);},enterKeyHandler:function(){if(this.filterOptionsFocus()){return false;}\nif(this.listVisible()){if(this.hoveredElement){this.toggleOptionSelected(ko.dataFor(this.hoveredElement));}}else{this.setListVisible(true);}},escapeKeyHandler:function(){this.listVisible()?this.setListVisible(false):false;},pageDownKeyHandler:function(){this._setHoverToElement(1);},_getElemByData:function(data){var i=0,list=$(this.cacheUiSelect).find('li'),length=this.options().length,result;for(i;i<length;i++){if(this.options()[i].value===data.value){result=$(list[i]);}}\nreturn result;},_setHoverToElement:function(direction){var element;if(direction===1){element=this._getNextElement();}else if(direction===-1){element=this._getPreviousElement();}\nif(element){this._hoverTo(element);this._scrollTo(element);}},_scrollTo:function(element){var curEl=$(element).children(this.actionTargetSelector),wrapper=$(this.rootList),curElPos={},wrapperPos={};curElPos.start=curEl.offset().top;curElPos.end=curElPos.start+curEl.outerHeight();wrapperPos.start=wrapper.offset().top;wrapperPos.end=wrapperPos.start+wrapper.height();if(curElPos.start<wrapperPos.start){wrapper.scrollTop(wrapper.scrollTop()-(wrapperPos.start-curElPos.start));}else if(curElPos.end>wrapperPos.end){wrapper.scrollTop(wrapper.scrollTop()+curElPos.end-wrapperPos.end);}},pageUpKeyHandler:function(){this._setHoverToElement(-1);},keydownSwitcher:function(data,event){var keyName=keyCodes[event.keyCode];if(this.isTabKey(event)){if(!this.filterOptionsFocus()&&this.listVisible()&&this.filterOptions){this.cacheUiSelect.blur();this.filterOptionsFocus(true);this.cleanHoveredElement();return false;}\nthis.listVisible(false);return true;}\nif(this.keyDownHandlers().hasOwnProperty(keyName)){this.keyDownHandlers()[keyName].apply(this,arguments);}else{return true;}},setCaption:function(){var length,caption='';if(!_.isArray(this.value())&&this.value()){length=1;}else if(this.value()){length=this.value().length;}else{this.value([]);length=0;}\nthis.warn(caption);if(this.isDisplayMissingValuePlaceholder&&length&&!this.getSelected().length){caption=this.missingValuePlaceholder.replace('%s',this.value());this.placeholder(caption);this.warn(caption);return this.placeholder();}\nif(length>1){this.placeholder(length+' '+this.selectedPlaceholders.lotPlaceholders);}else if(length&&this.getSelected().length){this.placeholder(this.getSelected()[0].label);}else{this.placeholder(this.selectedPlaceholders.defaultPlaceholder);}\nreturn this.placeholder();},setListVisible:function(value){this.listVisible(value);},getPreview:function(){var selected=this.getSelected();return selected.map(function(option){return option.label;}).join(', ');},_getPreviousElement:function(){var currentElement=this.hoveredElement,lastElement=this._getLastIn(this.rootList),previousElement;if(!currentElement){return lastElement;}\npreviousElement=$(currentElement).prev()[0];return this._getLastIn(previousElement)||previousElement||this._getFirstParentOf(currentElement)||lastElement;},_getNextElement:function(){var currentElement=this.hoveredElement,firstElement=this._getFirstIn(this.rootList);if(!currentElement){return firstElement;}\nreturn this._getFirstIn(currentElement)||$(currentElement).next()[0]||this._getParentsOf(currentElement).next()[0]||firstElement;},_getFirstIn:function(scope){return $(scope).find(this.visibleOptionSelector)[0];},_getLastIn:function(scope){return $(scope).find(this.visibleOptionSelector).last()[0];},_getParentsOf:function(scope){return $(scope).parents(this.visibleOptionSelector);},_getFirstParentOf:function(scope){return this._getParentsOf(scope)[0];},_hoverTo:function(element){if(this.hoveredElement){$(this.hoveredElement).children(this.actionTargetSelector).removeClass(this.hoverClass);}\n$(element).children(this.actionTargetSelector).addClass(this.hoverClass);this.hoveredElement=element;},onRootListRender:function(element){var targetSelector='li > '+this.actionTargetSelector;this.rootList=element;$(this.rootList).on('mousemove',targetSelector,this.onDelegatedMouseMove.bind(this));},loadOptions:function(searchKey){var currentPage=searchKey===this.lastSearchKey?this.lastSearchPage+1:1,cachedSearchResult;this.renderPath=!!this.showPath;if(this.isSearchKeyCached(searchKey)){cachedSearchResult=this.getCachedSearchResults(searchKey);this.cacheOptions.plain=cachedSearchResult.options;this.options(cachedSearchResult.options);this.afterLoadOptions(searchKey,cachedSearchResult.lastPage,cachedSearchResult.total);return;}\nif(currentPage===1){this.options([]);}\nthis.processRequest(searchKey,currentPage);},onScrollDown:function(data,event){var clientHight=event.target.scrollTop+event.target.clientHeight,scrollHeight=event.target.scrollHeight;if(!this.searchOptions){return;}\nif(clientHight>scrollHeight-this.deviation&&!this.isSearchKeyCached(data.filterInputValue())){this.loadOptions(data.filterInputValue());}},getCachedSearchResults:function(searchKey){if(this.cachedSearchResults.hasOwnProperty(searchKey)){return this.cachedSearchResults[searchKey];}\nreturn{options:[],lastPage:1,total:0};},setCachedSearchResults:function(searchKey,optionsArray,page,total){var cachedData={};cachedData.options=optionsArray;cachedData.lastPage=page;cachedData.total=total;this.cachedSearchResults[searchKey]=cachedData;},isSearchKeyCached:function(searchKey){var totalCached=this.cachedSearchResults.hasOwnProperty(searchKey)?this.deviation*this.cachedSearchResults[searchKey].lastPage:0;return totalCached>0&&totalCached>=this.cachedSearchResults[searchKey].total;},processRequest:function(searchKey,page){this.loading(true);this.currentSearchKey=searchKey;$.ajax({url:this.searchUrl,type:'get',dataType:'json',context:this,data:{searchKey:searchKey,page:page,limit:this.pageLimit},success:$.proxy(this.success,this),error:$.proxy(this.error,this),beforeSend:$.proxy(this.beforeSend,this),complete:$.proxy(this.complete,this,searchKey,page)});},success:function(response){var existingOptions=this.options();_.each(response.options,function(opt){existingOptions.push(opt);});this.total=response.total;this.cacheOptions.plain=existingOptions;this.options(existingOptions);},beforeSend:function(){},error:function(){this.options([]);},complete:function(searchKey,page){this.setCachedSearchResults(searchKey,this.options(),page,this.total);this.afterLoadOptions(searchKey,page,this.total);},afterLoadOptions:function(searchKey,page,total){this.lastSearchKey=searchKey;this.lastSearchPage=page;this._setItemsQuantity(total);this.loading(false);}});});","Magento_Ui/js/form/element/boolean.min.js":"define(['./abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{checked:false,links:{checked:'value'}},initObservable:function(){return this._super().observe('checked');},normalizeData:function(){return!!+this._super();},onUpdate:function(){if(this.hasUnique){this.setUnique();}\nreturn this._super();}});});","Magento_Ui/js/form/adapter/buttons.min.js":"define(function(){'use strict';return{'reset':'#reset','save':'#save','saveAndContinue':'#save_and_continue'};});","Magento_Ui/js/grid/dnd.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','uiRegistry','uiClass'],function(ko,$,_,registry,Class){'use strict';var isTouchDevice=typeof document.ontouchstart!=='undefined',transformProp;transformProp=(function(){var style=document.body.style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!='undefined'){return property;}}})();function getTouch(e){return e.touches?e.touches[0]:e;}\nfunction locate(elem,x,y){var value='translate('+x+'px,'+y+'px)';elem.style[transformProp]=value;}\nfunction isInside(x,y,area){return(area&&x>=area.left&&x<=area.right&&y>=area.top&&y<=area.bottom);}\nfunction distance(x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;dx*=dx;dy*=dy;return Math.sqrt(dx+dy);}\nfunction getModel(elem){return ko.dataFor(elem);}\nfunction compareCols(c1,c2){return c1.cellIndex===c2.cellIndex;}\nreturn Class.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table.data-grid',mainTableSelector:'[data-role=\"grid\"]',columnSelector:'${ $.tableSelector } thead tr th',noSelectClass:'_no-select',hiddenClass:'_hidden',fixedX:false,fixedY:true,minDistance:2,columns:[]},initialize:function(){_.bindAll(this,'initTable','initColumn','removeColumn','onMouseMove','onMouseUp','onMouseDown');this.$body=$('body');this._super().initListeners();$.async(this.tableSelector,this.initTable);$.async(this.columnSelector,this.initColumn);return this;},initListeners:function(){if(isTouchDevice){$(document).on({touchmove:this.onMouseMove,touchend:this.onMouseUp,touchleave:this.onMouseUp});}else{$(document).on({mousemove:this.onMouseMove,mouseup:this.onMouseUp});}\nreturn this;},initTable:function(table){this.table=$(table).is(this.mainTableSelector)?table:this.table;$(table).addClass('data-grid-draggable');return this;},initColumn:function(column){var model=getModel(column),eventName;if(!model||!model.draggable){return this;}\nif(!ko.es5.isTracked(model,'dragover')){model.track('dragover');}\nthis.columns.push(column);$(column).bindings({css:{'_dragover-left':ko.computed(function(){return model.dragover==='right';}),'_dragover-right':ko.computed(function(){return model.dragover==='left';})}});eventName=isTouchDevice?'touchstart':'mousedown';$(column).on(eventName,this.onMouseDown);$.async.remove(column,this.removeColumn);return this;},removeColumn:function(column){var columns=this.columns,index=columns.indexOf(column);if(~index){columns.splice(index,1);}\nreturn this;},_getColumnIndex:function(elem){return _.toArray(elem.parentNode.cells).indexOf(elem);},_cacheCoords:function(){var container=this.table.getBoundingClientRect(),bodyRect=document.body.getBoundingClientRect(),grabbed=this.grabbed,dragElem=grabbed.elem,cells=_.toArray(dragElem.parentNode.cells),rect;this.coords=this.columns.map(function(column){var data,colIndex=_.findIndex(cells,function(cell){return compareCols(cell,column);});rect=column.getBoundingClientRect();data={index:colIndex,target:column,orig:rect,left:rect.left-bodyRect.left,right:rect.right-bodyRect.left,top:rect.top-bodyRect.top,bottom:container.bottom-bodyRect.top};if(column===dragElem){this.dragArea=data;grabbed.shiftX=rect.left-grabbed.x;grabbed.shiftY=rect.top-grabbed.y;}\nreturn data;},this);return this;},_cloneTable:function(elem){var clone=this.table.cloneNode(true),columnIndex=this._getColumnIndex(elem),headRow=clone.tHead.firstElementChild,headCells=_.toArray(headRow.cells),tableBody=clone.tBodies[0],bodyRows=_.toArray(tableBody.children),origTrs=this.table.tBodies[0].children;clone.style.width=elem.offsetWidth+'px';headCells.forEach(function(th,index){if(index!==columnIndex){headRow.removeChild(th);}});headRow.cells[0].style.height=elem.offsetHeight+'px';bodyRows.forEach(function(row,rowIndex){var cells=row.cells,cell;if(cells.length!==headCells.length){tableBody.removeChild(row);return;}\ncell=row.cells[columnIndex].cloneNode(true);while(row.firstElementChild){row.removeChild(row.firstElementChild);}\ncell.style.height=origTrs[rowIndex].cells[columnIndex].offsetHeight+'px';row.appendChild(cell);});this.dragTable=clone;$(clone).addClass('_dragging-copy').appendTo('body');return this;},_getDropArea:function(x,y){return _.find(this.coords,function(area){return isInside(x,y,area);});},_updateAreas:function(x,y){var leavedArea=this.dropArea,area=this.dropArea=this._getDropArea(x,y);if(leavedArea){this.dragleave(leavedArea);}\nif(area&&!compareCols(area.target,this.dragArea.target)){this.dragenter(area);}},grab:function(x,y,elem){this.initDrag=true;this.grabbed={x:x,y:y,elem:elem};this.$body.addClass(this.noSelectClass);},dragstart:function(elem){this.initDrag=false;this.dropArea=false;this.dragging=true;getModel(elem).dragging(true);this._cacheCoords()._cloneTable(elem);},drag:function(x,y){var grabbed=this.grabbed,dragArea=this.dragArea,posX=x+grabbed.shiftX,posY=y+grabbed.shiftY;if(this.fixedX){x=dragArea.left;posX=dragArea.orig.left;}\nif(this.fixedY){y=dragArea.top;posY=dragArea.orig.top;}\nlocate(this.dragTable,posX,posY);if(!isInside(x,y,this.dropArea)){this._updateAreas(x,y);}},dragenter:function(dropArea){var direction=this.dragArea.index<dropArea.index?'left':'right';getModel(dropArea.target).dragover=direction;},dragleave:function(dropArea){getModel(dropArea.target).dragover=false;},dragend:function(dragArea){var dropArea=this.dropArea,dragElem=dragArea.target;this.dragging=false;document.body.removeChild(this.dragTable);getModel(dragElem).dragging(false);if(dropArea&&!compareCols(dropArea.target,dragElem)){this.drop(dropArea,dragArea);}},drop:function(dropArea,dragArea){var dropModel=getModel(dropArea.target),dragModel=getModel(dragArea.target);getModel(this.table).insertChild(dragModel,dropModel);dropModel.dragover=false;},onMouseMove:function(e){var grab=this.grabbed,touch=getTouch(e),x=touch.pageX,y=touch.pageY;if(this.initDrag||this.dragging){e.preventDefault();}\nif(this.initDrag&&distance(x,y,grab.x,grab.y)>=this.minDistance){this.dragstart(grab.elem);}\nif(this.dragging){this.drag(x,y);}},onMouseUp:function(){if(this.initDrag||this.dragging){this.initDrag=false;this.$body.removeClass(this.noSelectClass);}\nif(this.dragging){this.dragend(this.dragArea);}},onMouseDown:function(e){var touch=getTouch(e);this.grab(touch.pageX,touch.pageY,e.currentTarget);}});});","Magento_Ui/js/grid/export.min.js":"define(['jquery','underscore','uiElement'],function($,_,Element){'use strict';return Element.extend({defaults:{template:'ui/grid/exportButton',selectProvider:'ns = ${ $.ns }, index = ids',checked:'',additionalParams:[],modules:{selections:'${ $.selectProvider }'}},initialize:function(){this._super().initChecked();},initConfig:function(){this._super();_.each(this.additionalParams,function(value,key){key='additionalParams.'+key;this.imports[key]=value;},this);return this;},initObservable:function(){this._super().observe('checked');return this;},initChecked:function(){if(!this.checked()){this.checked(this.options[0].value);}\nreturn this;},getParams:function(){var selections=this.selections(),data=selections?selections.getSelections():null,itemsType,result={};if(data){itemsType=data.excludeMode?'excluded':'selected';result.filters=data.params.filters;result.search=data.params.search;result.namespace=data.params.namespace;result[itemsType]=data[itemsType];_.each(this.additionalParams,function(param,key){result[key]=param;});if(!result[itemsType].length){result[itemsType]=false;}}\nreturn result;},getActiveOption:function(){return _.findWhere(this.options,{value:this.checked()});},buildOptionUrl:function(option){var params=this.getParams();if(!params){return'javascript:void(0);';}\nreturn option.url+'?'+$.param(params);},applyOption:function(){var option=this.getActiveOption(),url=this.buildOptionUrl(option);location.href=url;}});});","Magento_Ui/js/grid/massactions.min.js":"define(['underscore','uiRegistry','mageUtils','Magento_Ui/js/lib/collapsible','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert','mage/translate'],function(_,registry,utils,Collapsible,confirm,alert,$t){'use strict';return Collapsible.extend({defaults:{template:'ui/grid/actions',stickyTmpl:'ui/grid/sticky/actions',selectProvider:'ns = ${ $.ns }, index = ids',actions:[],noItemsMsg:$t('You haven\\'t selected any items!'),modules:{selections:'${ $.selectProvider }'}},initObservable:function(){this._super().observe('actions');return this;},applyAction:function(actionIndex){var data=this.getSelections(),action,callback;if(!data.total){alert({content:this.noItemsMsg});return this;}\naction=this.getAction(actionIndex);callback=this._getCallback(action,data);action.confirm?this._confirm(action,callback):callback();return this;},getSelections:function(){var provider=this.selections(),selections=provider&&provider.getSelections();return selections;},getAction:function(actionIndex){return _.findWhere(this.actions(),{type:actionIndex});},addAction:function(action){var actions=this.actions(),index=_.findIndex(actions,{type:action.type});~index?actions[index]=action:actions.push(action);this.actions(actions);return this;},_getCallback:function(action,selections){var callback=action.callback,args=[action,selections];if(utils.isObject(callback)){args.unshift(callback.target);callback=registry.async(callback.provider);}else if(typeof callback!='function'){callback=this.defaultCallback.bind(this);}\nreturn function(){callback.apply(null,args);};},defaultCallback:function(action,data){var itemsType=data.excludeMode?'excluded':'selected',selections={};selections[itemsType]=data[itemsType];if(!selections[itemsType].length){selections[itemsType]=false;}\n_.extend(selections,data.params||{});utils.submit({url:action.url,data:selections});},_confirm:function(action,callback){var confirmData=action.confirm,data=this.getSelections(),total=data.total?data.total:0,confirmMessage=confirmData.message+' ('+total+' record'+(total>1?'s':'')+')';confirm({title:confirmData.title,content:confirmMessage,actions:{confirm:callback}});}});});","Magento_Ui/js/grid/listing.min.js":"define(['ko','underscore','Magento_Ui/js/lib/spinner','rjsResolver','uiLayout','uiCollection'],function(ko,_,loader,resolver,layout,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/listing',listTemplate:'ui/list/listing',stickyTmpl:'ui/grid/sticky/listing',viewSwitcherTmpl:'ui/grid/view-switcher',positions:false,displayMode:'grid',displayModes:{grid:{value:'grid',label:'Grid',template:'${ $.template }'},list:{value:'list',label:'List',template:'${ $.listTemplate }'}},dndConfig:{name:'${ $.name }_dnd',component:'Magento_Ui/js/grid/dnd',columnsProvider:'${ $.name }',enabled:true},editorConfig:{name:'${ $.name }_editor',component:'Magento_Ui/js/grid/editing/editor',columnsProvider:'${ $.name }',dataProvider:'${ $.provider }',enabled:false},resizeConfig:{name:'${ $.name }_resize',columnsProvider:'${ $.name }',component:'Magento_Ui/js/grid/resize',enabled:false},imports:{rows:'${ $.provider }:data.items'},listens:{elems:'updatePositions updateVisible','${ $.provider }:reload':'onBeforeReload','${ $.provider }:reloaded':'onDataReloaded'},modules:{dnd:'${ $.dndConfig.name }',resize:'${ $.resizeConfig.name }'},tracks:{displayMode:true},statefull:{displayMode:true}},initialize:function(){_.bindAll(this,'updateVisible');this._super().initDnd().initEditor().initResize();return this;},initObservable:function(){this._super().track({rows:[],visibleColumns:[]});return this;},initDnd:function(){if(this.dndConfig.enabled){layout([this.dndConfig]);}\nreturn this;},initResize:function(){if(this.resizeConfig.enabled){layout([this.resizeConfig]);}\nreturn this;},initEditor:function(){if(this.editorConfig.enabled){layout([this.editorConfig]);}\nreturn this;},initElement:function(element){var currentCount=this.elems().length,totalCount=this.initChildCount;if(totalCount===currentCount){this.initPositions();}\nelement.on('visible',this.updateVisible);return this._super();},initPositions:function(){this.on('positions',this.applyPositions.bind(this));this.setStatefull('positions');return this;},updatePositions:function(){var positions={};this.elems.each(function(elem,index){positions[elem.index]=index;});this.set('positions',positions);return this;},applyPositions:function(positions){var sorting;sorting=this.elems.map(function(elem){return{elem:elem,position:positions[elem.index]};});this.insertChild(sorting);return this;},getVisible:function(){var observable=ko.getObservable(this,'visibleColumns');return observable||this.visibleColumns;},getTemplate:function(){var mode=this.displayModes[this.displayMode];return mode.template;},getDisplayModes:function(){var modes=this.displayModes;return _.values(modes);},setDisplayMode:function(index){this.displayMode=index;return this;},countVisible:function(){return this.visibleColumns.length;},updateVisible:function(){this.visibleColumns=this.elems.filter('visible');return this;},hasData:function(){return!!this.rows&&!!this.rows.length;},hideLoader:function(){loader.get(this.name).hide();},showLoader:function(){loader.get(this.name).show();},onBeforeReload:function(){this.showLoader();},onDataReloaded:function(){resolver(this.hideLoader,this);}});});","Magento_Ui/js/grid/sortBy.min.js":"define(['uiElement'],function(Element){'use strict';return Element.extend({defaults:{template:'ui/grid/sortBy',options:[],applied:{},sorting:'asc',columnsProvider:'ns = ${ $.ns }, componentType = columns',selectedOption:'',isVisible:true,listens:{'selectedOption':'applyChanges'},statefull:{selectedOption:true,applied:true},exports:{applied:'${ $.provider }:params.sorting'},imports:{preparedOptions:'${ $.columnsProvider }:elems'},modules:{columns:'${ $.columnsProvider }'}},initObservable:function(){return this._super().observe(['applied','selectedOption','isVisible']);},preparedOptions:function(columns){if(columns&&columns.length>0){columns.map(function(column){if(column.sortable===true){this.options.push({value:column.index,label:column.label});this.isVisible(true);}else{this.isVisible(false);}}.bind(this));}},applyChanges:function(){this.applied({field:this.selectedOption(),direction:this.sorting});}});});","Magento_Ui/js/grid/resize.min.js":"define(['Magento_Ui/js/lib/view/utils/async','ko','underscore','mageUtils','uiRegistry','Magento_Ui/js/lib/knockout/extender/bound-nodes','uiElement'],function($,ko,_,utils,registry,boundedNodes,Element){'use strict';return Element.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table.data-grid',mainTableSelector:'[data-role=\"grid\"]',columnSelector:'${ $.tableSelector } thead tr th',fieldSelector:'${ $.tableSelector } tbody tr td',imports:{storageColumnsData:'${ $.storageConfig.path }.storageColumnsData'},storageColumnsData:{},columnsElements:{},tableWidth:0,sumColumnsWidth:0,showLines:4,resizableElementClass:'shadow-div',resizingColumnClass:'_resizing',fixedLayoutClass:'_layout-fixed',inResizeClass:'_in-resize',visibleClass:'_resize-visible',cellContentElement:'div.data-grid-cell-content',minColumnWidth:40,layoutFixedPolyfillIterator:0,windowResize:false,resizable:false,resizeConfig:{maxRowsHeight:[],curResizeElem:{},depResizeElem:{},previousWidth:null}},initialize:function(){_.bindAll(this,'initTable','initColumn','mousedownHandler','mousemoveHandler','mouseupHandler','refreshLastColumn','refreshMaxRowHeight','preprocessingWidth','_eventProxy','checkAfterResize');this._super();this.observe(['maxRowsHeight']);this.maxRowsHeight([]);$.async(this.tableSelector,this.initTable);$.async(this.columnSelector,this.initColumn);return this;},initTable:function(table){if($(table).is(this.mainTableSelector)){this.table=table;this.tableWidth=$(table).outerWidth();$(window).resize(this.checkAfterResize);}\nif(navigator.userAgent.search(/Firefox/)>-1){this._layoutFixedPolyfill();}\n$(table).addClass(this.fixedLayoutClass);return this;},checkAfterResize:function(){var tableWidth,self=this;setTimeout(function(){tableWidth=$(self.table).outerWidth();if(self.tableWidth!==tableWidth){self.tableWidth=tableWidth;}else{self.preprocessingWidth();}},300);},checkSumColumnsWidth:function(){var table=$(this.table),elems=table.find('th:not([style*=\"width: auto\"]):visible'),elemsWidthMin=table.find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible'),elemsWidthAuto=table.find('th[style*=\"width: auto\"]:visible'),model;this.sumColumnsWidth=0;_.each(elems,function(elem){model=ko.dataFor(elem);model.width&&model.width!=='auto'?this.sumColumnsWidth+=model.width:false;},this);if(this.sumColumnsWidth+elemsWidthAuto.length*this.minColumnWidth+elemsWidthMin.length*this.minColumnWidth>this.tableWidth){return true;}\nreturn false;},setWidthToColumnsWidthAuto:function(){var elemsWidthAuto=$(this.table).find('th[style*=\"width: auto\"]:visible');_.each(elemsWidthAuto,function(elem){$(elem).outerWidth(this.minColumnWidth-1);},this);},hasMinimal:function(){var table=$(this.table),elemsWidthMin=table.find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible'),elemsWidthAuto=table.find('th[style*=\"width: auto\"]:visible');if(elemsWidthAuto&&this.sumColumnsWidth+elemsWidthAuto.length*this.minColumnWidth+elemsWidthMin.length*this.minColumnWidth+5<this.tableWidth){return true;}\nreturn false;},setAuto:function(){var elemsWidthAuto=$(this.table).find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible');_.each(elemsWidthAuto,function(elem){$(elem).outerWidth('auto');},this);},preprocessingWidth:function(){if(this.checkSumColumnsWidth()){this.setWidthToColumnsWidthAuto();}else if(this.hasMinimal()){this.setAuto();}},initColumn:function(column){var model=ko.dataFor(column),ctxIndex=this.getCtxIndex(ko.contextFor(column));model.width=this.getDefaultWidth(column);if(!this.hasColumn(model,ctxIndex,false)){this.columnsElements[model.index]=this.columnsElements[model.index]||{};this.columnsElements[model.index][ctxIndex]=column;this.initResizableElement(column);this.setStopPropagationHandler(column);$(column).outerWidth(model.width);}\nthis.refreshLastColumn(column);this.preprocessingWidth();model.on('visible',this.refreshLastColumn.bind(this,column));model.on('visible',this.preprocessingWidth.bind(this));},_layoutFixedPolyfill:function(){var self=this;setTimeout(function(){if(self.layoutFixedPolyfillIterator<20){$(window).resize();self.layoutFixedPolyfillIterator++;self._layoutFixedPolyfill();}else{return false;}},500);},initResizableElement:function(column){var model=ko.dataFor(column),templateDragElement='<div class=\"'+this.resizableElementClass+'\"></div>';if(_.isUndefined(model.resizeEnabled)||model.resizeEnabled){$(column).append(templateDragElement);return true;}\nreturn false;},setStopPropagationHandler:function(column){var events,click,mousedown;$(column).on('click',this._eventProxy);$(column).on('mousedown',this._eventProxy);events=$._data(column,'events');click=events.click;mousedown=events.mousedown;click.unshift(click.pop());mousedown.unshift(mousedown.pop());return this;},_eventProxy:function(event){if($(event.target).is('.'+this.resizableElementClass)){if(event.type==='click'){event.stopImmediatePropagation();}else if(event.type==='mousedown'){this.mousedownHandler(event);}}},refreshLastColumn:function(column){var i=0,columns=$(column).parent().children().not(':hidden'),length=columns.length;$('.'+this.visibleClass).removeClass(this.visibleClass);$(column).parent().children().not(':hidden').last().addClass(this.visibleClass);for(i;i<length;i++){if(!columns.eq(i).find('.'+this.resizableElementClass).length&&i){columns.eq(i-1).addClass(this.visibleClass);}}},refreshMaxRowHeight:function(elem){var rowsH=this.maxRowsHeight(),curEL=$(elem).find('div'),height,obj=this.hasRow($(elem).parent()[0],true);curEL.css('white-space','nowrap');height=curEL.height()*this.showLines;curEL.css('white-space','normal');if(obj){if(obj.maxHeight<height){rowsH[_.indexOf(rowsH,obj)].maxHeight=height;}else{return false;}}else{rowsH.push({elem:$(elem).parent()[0],maxHeight:height});}\n$(elem).parent().children().find(this.cellContentElement).css('max-height',height+'px');this.maxRowsHeight(rowsH);},_setResizeClass:function(){var rowElements=$(this.table).find('tr');rowElements.find('td:eq('+this.resizeConfig.curResizeElem.ctx.$index()+')').addClass(this.resizingColumnClass);rowElements.find('td:eq('+this.resizeConfig.depResizeElem.ctx.$index()+')').addClass(this.resizingColumnClass);},_removeResizeClass:function(){var rowElements=$(this.table).find('tr');rowElements.find('td:eq('+this.resizeConfig.curResizeElem.ctx.$index()+')').removeClass(this.resizingColumnClass);rowElements.find('td:eq('+this.resizeConfig.depResizeElem.ctx.$index()+')').removeClass(this.resizingColumnClass);},_canResize:function(column){if($(column).hasClass(this.visibleClass)||!$(this.resizeConfig.depResizeElem.elems[0]).find('.'+this.resizableElementClass).length){return false;}\nreturn true;},mousedownHandler:function(event){var target=event.target,column=$(target).parent()[0],cfg=this.resizeConfig,body=$('body');event.stopImmediatePropagation();cfg.curResizeElem.model=ko.dataFor(column);cfg.curResizeElem.ctx=ko.contextFor(column);cfg.curResizeElem.elems=this.hasColumn(cfg.curResizeElem.model,false,true);cfg.curResizeElem.position=event.pageX;cfg.depResizeElem.elems=this.getNextElements(cfg.curResizeElem.elems[0]);cfg.depResizeElem.model=ko.dataFor(cfg.depResizeElem.elems[0]);cfg.depResizeElem.ctx=ko.contextFor(cfg.depResizeElem.elems[0]);this._setResizeClass();if(!this._canResize(column)){return false;}\nevent.stopPropagation();this.resizable=true;cfg.curResizeElem.model.width=$(cfg.curResizeElem.elems[0]).outerWidth();cfg.depResizeElem.model.width=$(cfg.depResizeElem.elems[0]).outerWidth();body.addClass(this.inResizeClass);body.on('mousemove',this.mousemoveHandler);$(window).on('mouseup',this.mouseupHandler);},mousemoveHandler:function(event){var cfg=this.resizeConfig,width=event.pageX-cfg.curResizeElem.position,self=this;event.stopPropagation();event.preventDefault();if(this.resizable&&this.minColumnWidth<cfg.curResizeElem.model.width+width&&this.minColumnWidth<cfg.depResizeElem.model.width-width&&cfg.previousWidth!==width){cfg.curResizeElem.model.width+=width;cfg.depResizeElem.model.width-=width;cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.curResizeElem.model.width);});cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.depResizeElem.model.width);});cfg.previousWidth=width;cfg.curResizeElem.position=event.pageX;}else if(width<=-(cfg.curResizeElem.model.width-this.minColumnWidth)){cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(self.minColumnWidth);});cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.depResizeElem.model.width+\ncfg.curResizeElem.model.width-\nself.minColumnWidth);});}else if(width>=cfg.depResizeElem.model.width-this.minColumnWidth){cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(self.minColumnWidth);});cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.curResizeElem.model.width+\ncfg.depResizeElem.model.width-\nself.minColumnWidth);});}},mouseupHandler:function(event){var cfg=this.resizeConfig,body=$('body');event.stopPropagation();event.preventDefault();this._removeResizeClass();this.storageColumnsData[cfg.curResizeElem.model.index]=cfg.curResizeElem.model.width;this.storageColumnsData[cfg.depResizeElem.model.index]=cfg.depResizeElem.model.width;this.resizable=false;this.store('storageColumnsData');body.removeClass(this.inResizeClass);body.off('mousemove',this.mousemoveHandler);$(window).off('mouseup',this.mouseupHandler);},getNextElements:function(element){var nextElem=$(element).next()[0],nextElemModel=ko.dataFor(nextElem),nextElemData=this.hasColumn(nextElemModel,false,true);if(nextElemData){if(nextElemModel.visible){return nextElemData;}\nreturn this.getNextElements(nextElem);}},getDefaultWidth:function(column){var model=ko.dataFor(column);if(this.storageColumnsData[model.index]){return this.storageColumnsData[model.index];}\nif(model.resizeDefaultWidth){return parseInt(model.resizeDefaultWidth,10);}\nreturn'auto';},hasColumn:function(model,ctxIndex,returned){var colElem=this.columnsElements[model.index]||{},getFromAllCtx=ctxIndex===false;if(colElem&&(getFromAllCtx||colElem.hasOwnProperty(ctxIndex))){if(returned){return getFromAllCtx?_.values(colElem):colElem[ctxIndex];}\nreturn true;}\nreturn false;},hasRow:function(elem,returned){var i=0,el=this.maxRowsHeight(),length=el.length;for(i;i<length;i++){if(this.maxRowsHeight()[i].elem===elem){if(returned){return this.maxRowsHeight()[i];}\nreturn true;}}\nreturn false;},getCtxIndex:function(ctx){return ctx?ctx.$parents.reduce(function(pv,cv){return(pv.index||pv)+(cv||{}).index;}):ctx;}});});","Magento_Ui/js/grid/toolbar.min.js":"define(['underscore','Magento_Ui/js/lib/view/utils/async','Magento_Ui/js/lib/view/utils/raf','rjsResolver','uiCollection'],function(_,$,raf,resolver,Collection){'use strict';var transformProp;transformProp=(function(){var style=document.documentElement.style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!='undefined'){return property;}}})();function locate(elem,x,y){var value='translate('+x+'px,'+y+'px)';elem.style[transformProp]=value;}\nreturn Collection.extend({defaults:{template:'ui/grid/toolbar',stickyTmpl:'ui/grid/sticky/sticky',tableSelector:'table',columnsProvider:'ns = ${ $.ns }, componentType = columns',refreshFPS:15,sticky:false,visible:false,_resized:true,_scrolled:true,_tableScrolled:true,_requiredNodes:{'$stickyToolbar':true,'$stickyTable':true,'$table':true,'$sticky':true},stickyClass:{'sticky-header':true}},initialize:function(){this._super();if(this.sticky){this.waitDOMElements().then(this.run.bind(this));}\nreturn this;},waitDOMElements:function(){var _domPromise=$.Deferred();_.bindAll(this,'setStickyTable','setTableNode');$.async({ctx:':not([data-role=\"sticky-el-root\"])',component:this.columnsProvider,selector:this.tableSelector},this.setTableNode);$.async({ctx:'[data-role=\"sticky-el-root\"]',component:this.columnsProvider,selector:this.tableSelector},this.setStickyTable);this._domPromise=_domPromise;return _domPromise.promise();},setLeftCap:function(node){this.$leftCap=node;},setRightCap:function(node){this.$rightCap=node;},setTableNode:function(node){this.$cols=node.tHead.children[0].cells;this.$tableContainer=node.parentNode;this.setNode('$table',node);},setStickyTable:function(node){this.$stickyCols=node.tHead.children[0].cells;this.setNode('$stickyTable',node);},setStickyToolbarNode:function(node){this.setNode('$stickyToolbar',node);},setStickyNode:function(node){this.setNode('$sticky',node);},setToolbarNode:function(node){this.$toolbar=node;},setNode:function(key,node){var nodes=this._requiredNodes,promise=this._domPromise,defined;this[key]=node;defined=_.every(nodes,function(enabled,name){return enabled?this[name]:true;},this);if(defined){resolver(promise.resolve,promise);}},run:function(){_.bindAll(this,'refresh','_onWindowResize','_onWindowScroll','_onTableScroll');$(window).on({scroll:this._onWindowScroll,resize:this._onWindowResize});$(this.$tableContainer).on('scroll',this._onTableScroll);this.refresh();this.checkTableWidth();},refresh:function(){if(!raf(this.refresh,this.refreshFPS)){return;}\nif(this._scrolled){this.onWindowScroll();}\nif(this._tableScrolled){this.onTableScroll();}\nif(this._resized){this.onWindowResize();}\nif(this.visible){this.checkTableWidth();}},show:function(){this.visible=true;if($('.page-main-actions').length===0){this.$sticky.style.top=0;}\nthis.$sticky.style.display='';this.$toolbar.style.visibility='hidden';return this;},hide:function(){this.visible=false;this.$sticky.style.display='none';this.$toolbar.style.visibility='';return this;},isCovered:function(){var stickyTop=this._stickyTableTop+this._wScrollTop;return stickyTop>this._tableTop;},updateStickyTableOffset:function(){var style,top;if(this.visible){top=this.$stickyTable.getBoundingClientRect().top;}else{style=this.$sticky.style;style.visibility='hidden';style.display='';top=this.$stickyTable.getBoundingClientRect().top;style.display='none';style.visibility='';}\nthis._stickyTableTop=top;return this;},updateTableOffset:function(){var box=this.$table.getBoundingClientRect(),top=box.top+this._wScrollTop;if(this._tableTop!==top){this._tableTop=top;this.onTableTopChange(top);}\nreturn this;},checkTableWidth:function(){var cols=this.$cols,total=cols.length,rightBorder=cols[total-2].offsetLeft,tableWidth=this.$table.offsetWidth;if(this._tableWidth!==tableWidth){this._tableWidth=tableWidth;this.onTableWidthChange(tableWidth);}\nif(this._rightBorder!==rightBorder){this._rightBorder=rightBorder;this.onColumnsWidthChange();}\nreturn this;},updateTableWidth:function(){this.$stickyTable.style.width=this._tableWidth+'px';if(this._tableWidth<this._toolbarWidth){this.checkToolbarSize();}\nreturn this;},updateColumnsWidth:function(){var cols=this.$cols,index=cols.length,stickyCols=this.$stickyCols;while(index--){stickyCols[index].width=cols[index].offsetWidth;}\nreturn this;},checkToolbarSize:function(){var width=this.$tableContainer.offsetWidth;if(this._toolbarWidth!==width){this._toolbarWidth=width;this.onToolbarWidthChange(width);}\nreturn this;},updateVisibility:function(){if(this.visible!==this.isCovered()){this.visible?this.hide():this.show();}\nreturn this;},updateLeftCap:function(){locate(this.$leftCap,-this._wScrollLeft,0);return this;},updateRightCap:function(){var left=this._toolbarWidth-this._wScrollLeft;locate(this.$rightCap,left,0);return this;},updateTableScroll:function(){var container=this.$tableContainer,left=container.scrollLeft+this._wScrollLeft;locate(this.$stickyTable,-left,0);return this;},updateToolbarWidth:function(){this.$stickyToolbar.style.width=this._toolbarWidth+'px';return this;},onToolbarWidthChange:function(){this.updateToolbarWidth().updateRightCap();},onTableTopChange:function(){this.updateStickyTableOffset();},onTableWidthChange:function(){this.updateTableWidth();},onColumnsWidthChange:function(){this.updateColumnsWidth();},onWindowResize:function(){this.checkToolbarSize();this._resized=false;},onTableScroll:function(){this.updateTableScroll();this._tableScrolled=false;},onWindowScroll:function(){var scrollTop=window.pageYOffset,scrollLeft=window.pageXOffset;if(this._wScrollTop!==scrollTop){this._wScrollTop=scrollTop;this.onWindowScrollTop(scrollTop);}\nif(this._wScrollLeft!==scrollLeft){this._wScrollLeft=scrollLeft;this.onWindowScrollLeft(scrollLeft);}\nthis._scrolled=false;},onWindowScrollTop:function(){this.updateTableOffset().updateVisibility();},onWindowScrollLeft:function(){this.updateRightCap().updateLeftCap().updateTableScroll();},_onWindowScroll:function(){this._scrolled=true;},_onWindowResize:function(){this._resized=true;},_onTableScroll:function(){this._tableScrolled=true;}});});","Magento_Ui/js/grid/tree-massactions.min.js":"define(['ko','underscore','Magento_Ui/js/grid/massactions'],function(ko,_,Massactions){'use strict';return Massactions.extend({defaults:{template:'ui/grid/tree-massactions',submenuTemplate:'ui/grid/submenu',listens:{opened:'hideSubmenus'}},initObservable:function(){this._super().recursiveObserveActions(this.actions());return this;},recursiveObserveActions:function(actions,prefix){_.each(actions,function(action){if(prefix){action.type=prefix+'.'+action.type;}\nif(action.actions){action.visible=ko.observable(false);action.parent=actions;this.recursiveObserveActions(action.actions,action.type);}},this);return this;},applyAction:function(actionIndex){var action=this.getAction(actionIndex),visibility;if(action.visible){visibility=action.visible();this.hideSubmenus(action.parent);action.visible(!visibility);return this;}\nreturn this._super(actionIndex);},getAction:function(actionIndex,actions){var currentActions=actions||this.actions(),result=false;_.find(currentActions,function(action){if(action.type===actionIndex){result=action;return true;}\nif(action.actions){result=this.getAction(actionIndex,action.actions);return result;}},this);return result;},hideSubmenus:function(actions){var currentActions=actions||this.actions();_.each(currentActions,function(action){if(action.visible&&action.visible()){action.visible(false);}\nif(action.actions){this.hideSubmenus(action.actions);}},this);return this;}});});","Magento_Ui/js/grid/data-storage.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';return Class.extend({defaults:{cacheRequests:true,cachedRequestDelay:50,indexField:'entity_id',requestConfig:{url:'${ $.updateUrl }',method:'GET',dataType:'json'},dataScope:'',data:{}},initConfig:function(){var scope;this._super();scope=this.dataScope;if(typeof scope==='string'){this.dataScope=scope?[scope]:[];}\nthis._requests=[];return this;},getByIds:function(ids){var result=[],hasData;hasData=ids.every(function(id){var item=this.data[id];return item?result.push(item):false;},this);return hasData?result:false;},getIds:function(data){data=data||this.data;return _.pluck(data,this.indexField);},getData:function(params,options){var cachedRequest;if(this.hasScopeChanged(params)){this.clearRequests();}else{cachedRequest=this.getRequest(params);}\noptions=options||{};return!options.refresh&&cachedRequest?this.getRequestData(cachedRequest):this.requestData(params);},hasScopeChanged:function(params){var lastRequest=_.last(this._requests),keys,diff;if(!lastRequest){return false;}\ndiff=utils.compare(lastRequest.params,params);keys=_.pluck(diff.changes,'path');keys=keys.concat(Object.keys(diff.containers));return _.intersection(this.dataScope,keys).length>0;},updateData:function(data){var records=_.indexBy(data||[],this.indexField);_.extend(this.data,records);return this;},requestData:function(params){var query=utils.copy(params),handler=this.onRequestComplete.bind(this,query),request;this.requestConfig.data=query;request=$.ajax(this.requestConfig).done(handler);return request;},getRequest:function(params){return _.find(this._requests,function(request){return _.isEqual(params,request.params);},this);},getRequestData:function(request){var defer=$.Deferred(),resolve=defer.resolve.bind(defer),delay=this.cachedRequestDelay,result;result={items:this.getByIds(request.ids),totalRecords:request.totalRecords,errorMessage:request.errorMessage};delay?_.delay(resolve,delay,result):resolve(result);return defer.promise();},cacheRequest:function(data,params){var cached=this.getRequest(params);if(cached){this.removeRequest(cached);}\nthis._requests.push({ids:this.getIds(data.items),params:params,totalRecords:data.totalRecords,errorMessage:data.errorMessage});return this;},clearRequests:function(){this._requests.splice(0);return this;},removeRequest:function(request){var requests=this._requests,index=requests.indexOf(request);if(~index){requests.splice(index,1);}\nreturn this;},wasRequested:function(params){return!!this.getRequest(params);},onRequestComplete:function(params,data){this.updateData(data.items);if(this.cacheRequests){this.cacheRequest(data,params);}}});});","Magento_Ui/js/grid/provider.min.js":"define(['jquery','underscore','mageUtils','rjsResolver','uiLayout','Magento_Ui/js/modal/alert','mage/translate','uiElement','Magento_Ui/js/grid/data-storage'],function($,_,utils,resolver,layout,alert,$t,Element){'use strict';return Element.extend({defaults:{firstLoad:true,lastError:false,storageConfig:{component:'Magento_Ui/js/grid/data-storage',provider:'${ $.storageConfig.name }',name:'${ $.name }_storage',updateUrl:'${ $.update_url }'},listens:{params:'onParamsChange',requestConfig:'updateRequestConfig'},ignoreTmpls:{data:true}},initialize:function(){utils.limit(this,'onParamsChange',5);_.bindAll(this,'onReload');this._super().initStorage().clearData();resolver(this.reload,this);return this;},initStorage:function(){layout([this.storageConfig]);return this;},clearData:function(){this.setData({items:[],totalRecords:0});return this;},setData:function(data){data=this.processData(data);this.set('data',data);return this;},processData:function(data){var items=data.items;_.each(items,function(record,index){record._rowIndex=index;});return data;},reload:function(options){var request=this.storage().getData(this.params,options);this.trigger('reload');request.done(this.onReload).fail(this.onError.bind(this));return request;},onParamsChange:function(){if(!this.firstLoad){this.reload();}},onError:function(xhr){if(xhr.statusText==='abort'){return;}\nthis.set('lastError',true);this.firstLoad=false;alert({content:$t('Something went wrong.')});},onReload:function(data){this.firstLoad=false;this.set('lastError',false);this.setData(data).trigger('reloaded');},updateRequestConfig:function(requestConfig){if(this.storage()){_.extend(this.storage().requestConfig,requestConfig);}}});});","Magento_Ui/js/grid/masonry.min.js":"define(['Magento_Ui/js/grid/listing','Magento_Ui/js/lib/view/utils/raf','jquery','ko','underscore'],function(Listing,raf,$,ko,_){'use strict';return Listing.extend({defaults:{template:'ui/grid/masonry',imports:{rows:'${ $.provider }:data.items',errorMessage:'${ $.provider }:data.errorMessage'},listens:{rows:'initComponent'},containerId:null,minRatio:null,containerWidth:window.innerWidth,imageMargin:20,maxImageHeight:240,containerWidthToMinRatio:{640:3,1280:5,1920:8},defaultMinRatio:10,refreshFPS:60},initObservable:function(){this._super().observe(['rows','errorMessage']);return this;},initComponent:function(rows){if(!rows.length){return;}\nthis.imageMargin=parseInt(this.imageMargin,10);this.container=$('[data-id=\"'+this.containerId+'\"]')[0];this.setLayoutStyles();this.setEventListener();return this;},setEventListener:function(){window.addEventListener('resize',function(){this.updateStyles();}.bind(this));},updateStyles:function(){raf(function(){this.containerWidth=window.innerWidth;this.setLayoutStyles();}.bind(this),this.refreshFPS);},setLayoutStyles:function(){var containerWidth=parseInt(this.container.clientWidth,10),rowImages=[],ratio=0,rowHeight=0,calcHeight=0,isLastRow=false,rowNumber=1;this.setMinRatio();this.rows().forEach(function(image,index){ratio+=parseFloat((image.width / image.height).toFixed(2));rowImages.push(image);if(ratio<this.minRatio&&index+1!==this.rows().length){return;}\nratio=Math.max(ratio,this.minRatio);calcHeight=(containerWidth-this.imageMargin*rowImages.length)/ ratio;rowHeight=calcHeight<this.maxImageHeight?calcHeight:this.maxImageHeight;isLastRow=index+1===this.rows().length;this.assignImagesToRow(rowImages,rowNumber,rowHeight,isLastRow);rowImages=[];ratio=0;rowNumber++;}.bind(this));},assignImagesToRow:function(images,rowNumber,rowHeight,isLastRow){var imageWidth;images.forEach(function(img){imageWidth=rowHeight*(img.width / img.height).toFixed(2);this.setImageStyles(img,imageWidth,rowHeight);this.setImageClass(img,{bottom:isLastRow});img.rowNumber=rowNumber;}.bind(this));images[0].firstInRow=true;images[images.length-1].lastInRow=true;},waitForContainer:function(callback){if(typeof this.container==='undefined'){setTimeout(function(){this.waitForContainer(callback);}.bind(this),500);}else{setTimeout(callback,0);}},setLayoutStylesWhenLoaded:function(){this.waitForContainer(function(){this.setLayoutStyles();}.bind(this));},setImageStyles:function(img,width,height){if(!img.styles){img.styles=ko.observable();}\nimg.styles({width:parseInt(width,10)+'px',height:parseInt(height,10)+'px'});},setImageClass:function(image,classes){if(!image.css){image.css=ko.observable(classes);}\nimage.css(classes);},setMinRatio:function(){var minRatio=_.find(this.containerWidthToMinRatio,function(ratio,width){return this.containerWidth<=width;},this);this.minRatio=minRatio?minRatio:this.defaultMinRatio;},hasData:function(){return!!this.rows()&&!!this.rows().length;},getErrorMessageUnsanitizedHtml:function(){return this.errorMessage();}});});","Magento_Ui/js/grid/url-filter-applier.min.js":"define(['uiComponent','underscore','jquery'],function(Component,_,$){'use strict';return Component.extend({defaults:{listingNamespace:null,bookmarkProvider:'componentType = bookmark, ns = ${ $.listingNamespace }',filterProvider:'componentType = filters, ns = ${ $.listingNamespace }',filterKey:'filters',searchString:location.search,modules:{bookmarks:'${ $.bookmarkProvider }',filterComponent:'${ $.filterProvider }'}},initialize:function(){this._super();this.apply();return this;},apply:function(){var urlFilter=this.getFilterParam(this.searchString),applied,filters;if(_.isUndefined(this.filterComponent())){setTimeout(function(){this.apply();}.bind(this),100);return;}\nif(!_.isUndefined(this.bookmarks())){if(!_.size(this.bookmarks().getViewData(this.bookmarks().defaultIndex))){setTimeout(function(){this.apply();}.bind(this),500);return;}}\nif(Object.keys(urlFilter).length){applied=this.filterComponent().get('applied');filters=$.extend({},applied,urlFilter);this.filterComponent().set('applied',filters);}},getFilterParam:function(url){var searchString=decodeURI(url),itemArray;return _.chain(searchString.slice(1).split('&')).map(function(item){if(item&&item.search(this.filterKey)!==-1){itemArray=item.split('=');if(itemArray[1].search('\\\\[')===0){itemArray[1]=itemArray[1].replace(/[\\[\\]]/g,'').split(',');}\nitemArray[0]=itemArray[0].replace(this.filterKey,'').replace(/[\\[\\]]/g,'');return itemArray;}}.bind(this)).compact().object().value();}});});","Magento_Ui/js/grid/sticky/sticky.min.js":"define(['Magento_Ui/js/lib/view/utils/async','underscore','uiComponent','Magento_Ui/js/lib/view/utils/raf'],function($,_,Component,raf){'use strict';return Component.extend({defaults:{listingSelector:'${ $.listingProvider }::not([data-role = \"sticky-el-root\"])',toolbarSelector:'${ $.toolbarProvider }::not([data-role = \"sticky-el-root\"])',bulkRowSelector:'[data-role = \"data-grid-bulk-row\"]',bulkRowHeaderSelector:'.data-grid-info-panel:visible',tableSelector:'table',columnSelector:'thead tr th',rowSelector:'tbody tr',toolbarCollapsiblesSelector:'[data-role=\"toolbar-menu-item\"]',toolbarCollapsiblesActiveClass:'_active',template:'ui/grid/sticky/sticky',stickyContainerSelector:'.sticky-header',stickyElementSelector:'[data-role = \"sticky-el-root\"]',leftDataGridCapSelector:'.data-grid-cap-left',rightDataGridCapSelector:'.data-grid-cap-right',visible:false,enableToolbar:true,enableHeader:true,modules:{toolbar:'${ $.toolbarProvider }',listing:'${ $.listingProvider }'},otherStickyElsSize:77,containerNode:null,listingNode:null,toolbarNode:null,stickyListingNode:null,stickyToolbarNode:null,storedOriginalToolbarElements:[],cache:{},flags:{},dirtyFlag:'dirty'},initialize:function(){this._super();_.bindAll(this,'adjustStickyElems','initListingNode','initToolbarNode','initContainerNode','initColumns','initStickyListingNode','initStickyToolbarNode','initLeftDataGridCap','initRightDataGridCap');$.async(this.listingSelector,this.initListingNode);$.async(this.toolbarSelector,this.initToolbarNode);$.async(this.stickyContainerSelector,this,this.initContainerNode);return this;},initObservable:function(){this._super().track('visible');return this;},initListingNode:function(node){if($(node).is(this.stickyElementSelector)){return;}\nthis.listingNode=$(node);$.async(this.columnSelector,node,this.initColumns);},initToolbarNode:function(node){if($(node).is(this.stickyElementSelector)){return;}\nthis.toolbarNode=$(node);},initStickyListingNode:function(node){this.stickyListingNode=$(node);this.checkPos();this.initListeners();},initStickyToolbarNode:function(node){this.stickyToolbarNode=$(node);},initContainerNode:function(node){this.containerNode=$(node);$.async(this.leftDataGridCapSelector,node,this.initLeftDataGridCap);$.async(this.rightDataGridCapSelector,node,this.initRightDataGridCap);$.async(this.stickyElementSelector,this.listing(),this.initStickyListingNode);$.async(this.stickyElementSelector,this.toolbar(),this.initStickyToolbarNode);},initColumns:function(){this.columns=this.listingNode.find(this.columnSelector);},initLeftDataGridCap:function(node){this.leftDataGridCap=$(node);},initRightDataGridCap:function(node){this.rightDataGridCap=$(node);},initListeners:function(){this.adjustStickyElems();this.initOnResize().initOnScroll().initOnListingScroll();return this;},initOnScroll:function(){this.lastHorizontalScrollPos=$(window).scrollLeft();document.addEventListener('scroll',function(){this.flags.scrolled=true;}.bind(this));return this;},initOnListingScroll:function(){$(this.listingNode).scroll(function(e){this.flags.listingScrolled=true;this.flags.listingScrolledValue=$(e.target).scrollLeft();}.bind(this));return this;},initOnResize:function(){$(window).resize(function(){this.flags.resized=true;}.bind(this));return this;},adjustStickyElems:function(){if(this.flags.resized||this.flags.scrolled){this.checkPos();}\nif(this.visible){this.checkTableElemsWidth();if(this.flags.originalWidthChanged){this.adjustContainerElemsWidth();}\nif(this.flags.resized){this.onResize();}\nif(this.flags.scrolled){this.onWindowScroll();}\nif(this.flags.listingScrolled){this.onListingScroll(this.flags.listingScrolledValue);}}\n_.each(this.flags,function(val,key){if(val===this.dirtyFlag){this.flags[key]=false;}else if(val){this.flags[key]=this.dirtyFlag;}},this);raf(this.adjustStickyElems);},onWindowScroll:function(){var scrolled=$(window).scrollLeft(),horizontal=this.lastHorizontalScrollPos!==scrolled;if(horizontal){this.adjustOffset().adjustDataGridCapPositions();this.lastHorizontalScrollPos=scrolled;}else{this.checkPos();}},onListingScroll:function(scrolled){this.adjustOffset(scrolled);},onResize:function(){this.checkPos();this.adjustContainerElemsWidth().adjustDataGridCapPositions();},checkTableElemsWidth:function(){var newWidth=this.getTableWidth();if(this.cache.tableWidth!==newWidth){this.cache.tableWidth=newWidth;this.flags.originalWidthChanged=true;}else if(this.cache.colChecksum!==this.getColsChecksum()){this.cache.colChecksum=this.getColsChecksum();this.flags.originalWidthChanged=true;}},getColsChecksum:function(){return _.reduce(this.columns,function(pv,cv){return($(pv).width()||pv)+''+$(cv).width();});},getListingWidth:function(){return this.listingNode.width();},getTableWidth:function(){return this.listingNode.find(this.tableSelector).width();},getTopElement:function(){return this.toolbarNode||this.listingNode;},getOtherStickyElementsSize:function(){return this.otherStickyElsSize;},getBulkRowHeight:function(){return this.listingNode.find(this.bulkRowSelector).filter(':visible').height();},getListingTopYCoord:function(){var bulkRowHeight=this.getBulkRowHeight();return this.listingNode.find('tbody').offset().top-\nthis.containerNode.height()-\n$(window).scrollTop()+\nbulkRowHeight;},getMustBeSticky:function(){var stickyTopCondition=this.getListingTopYCoord()-this.getOtherStickyElementsSize(),stickyBottomCondition=this.listingNode.offset().top+\nthis.listingNode.height()-\n$(window).scrollTop()+\nthis.getBulkRowHeight()-\nthis.getOtherStickyElementsSize();return stickyTopCondition<0&&stickyBottomCondition>0;},adjustContainerElemsWidth:function(){this.resizeContainer().resizeCols().resizeBulk();return this;},resizeContainer:function(){var listingWidth=this.getListingWidth();this.stickyListingNode.innerWidth(listingWidth);this.stickyListingNode.find(this.tableSelector).innerWidth(this.getTableWidth());if(this.stickyToolbarNode){this.stickyToolbarNode.innerWidth(listingWidth);}\nreturn this;},resizeCols:function(){var cols=this.listingNode.find(this.columnSelector);this.stickyListingNode.find(this.columnSelector).each(function(ind){var originalColWidth=$(cols[ind]).width();$(this).width(originalColWidth);});return this;},resizeBulk:function(){var bulk=this.containerNode.find(this.bulkRowHeaderSelector)[0];if(bulk){$(bulk).innerWidth(this.getListingWidth());}\nreturn this;},resetToTop:function(){var posOfTopEl=this.getTopElement().offset().top-this.getOtherStickyElementsSize()||0;$(window).scrollTop(posOfTopEl);},adjustOffset:function(val){val=val||this.listingNode.scrollLeft();this.stickyListingNode.offset({left:this.listingNode.offset().left-val});return this;},adjustDataGridCapPositions:function(){this.adjustLeftDataGridCapPos().adjustRightDataGridCapPos();return this;},adjustLeftDataGridCapPos:function(){this.leftDataGridCap.offset({left:this.listingNode.offset().left-this.leftDataGridCap.width()});return this;},adjustRightDataGridCapPos:function(){this.rightDataGridCap.offset({left:this.listingNode.offset().left+this.listingNode.width()});return this;},collapseOriginalElements:function(){this.toolbarNode.find(this.toolbarCollapsiblesSelector).css('visibility','hidden');$(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility','hidden');},restoreOriginalElements:function(){this.toolbarNode.find(this.toolbarCollapsiblesSelector).css('visibility','visible');$(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility','visible');},toggleContainerVisibility:function(){this.visible=!this.visible;return this;},checkPos:function(){var isSticky=this.visible,mustBeSticky=this.getMustBeSticky(),needChange=isSticky!==mustBeSticky;if(needChange){if(mustBeSticky){this.collapseOriginalElements();this.toggleContainerVisibility();this.adjustContainerElemsWidth().adjustOffset().adjustDataGridCapPositions();}else{this.toggleContainerVisibility();this.restoreOriginalElements();}}\nreturn needChange;}});});","Magento_Ui/js/grid/cells/sanitizedHtml.min.js":"define(['Magento_Ui/js/grid/columns/column','escaper'],function(Column,escaper){'use strict';return Column.extend({defaults:{allowedTags:['div','span','b','strong','i','em','u','a']},getSafeHtml:function(label){return escaper.escapeHtml(label,this.allowedTags);}});});","Magento_Ui/js/grid/columns/image-preview.min.js":"define(['jquery','Magento_Ui/js/grid/columns/column','Magento_Ui/js/lib/key-codes'],function($,Column,keyCodes){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/image-preview',previewImageSelector:'[data-image-preview]',visibleRecord:null,height:0,displayedRecord:{},lastOpenedImage:false,fields:{previewUrl:'preview_url',title:'title'},modules:{masonry:'${ $.parentName }',thumbnailComponent:'${ $.parentName }.thumbnail_url'},statefull:{sorting:true,lastOpenedImage:true},listens:{'${ $.provider }:params.filters':'hide','${ $.provider }:params.search':'hide','${ $.provider }:params.paging':'hide','${ $.provider }:data.items':'updateDisplayedRecord'},exports:{height:'${ $.parentName }.thumbnail_url:previewHeight'}},initialize:function(){this._super();$(document).on('keydown',this.handleKeyDown.bind(this));this.lastOpenedImage.subscribe(function(newValue){if(newValue===false&&_.isNull(this.visibleRecord())){return;}\nif(newValue===this.visibleRecord()){return;}\nif(newValue===false){this.hide();return;}\nthis.show(this.masonry().rows()[newValue]);}.bind(this));return this;},initObservable:function(){this._super().observe(['visibleRecord','height','displayedRecord','lastOpenedImage']);return this;},next:function(record){var recordToShow;if(record._rowIndex+1===this.masonry().rows().length){return;}\nrecordToShow=this.getRecord(record._rowIndex+1);recordToShow.rowNumber=record.lastInRow?record.rowNumber+1:record.rowNumber;this.show(recordToShow);},prev:function(record){var recordToShow;if(record._rowIndex===0){return;}\nrecordToShow=this.getRecord(record._rowIndex-1);recordToShow.rowNumber=record.firstInRow?record.rowNumber-1:record.rowNumber;this.show(recordToShow);},getRecord:function(recordIndex){return this.masonry().rows()[recordIndex];},_selectRow:function(rowId){this.thumbnailComponent().previewRowId(rowId);},show:function(record){if(record._rowIndex===this.visibleRecord()){this.hide();return;}\nthis.hide();this.displayedRecord(record);this._selectRow(record.rowNumber||null);this.visibleRecord(record._rowIndex);this.lastOpenedImage(record._rowIndex);this.updateImageData();},updateImageData:function(){var img=$(this.previewImageSelector+' img');if(!img.get(0)){setTimeout(function(){this.updateImageData();}.bind(this),100);}else if(img.get(0).complete){this.updateHeight();this.scrollToPreview();}else{img.load(function(){this.updateHeight();this.scrollToPreview();}.bind(this));}},updateDisplayedRecord:function(items){if(!_.isNull(this.visibleRecord())){this.displayedRecord(items[this.visibleRecord()]);}},updateHeight:function(){this.height($(this.previewImageSelector).height()+'px');},hide:function(){this.lastOpenedImage(false);this.visibleRecord(null);this.height(0);this._selectRow(null);},isVisible:function(record){if(this.lastOpenedImage()===record._rowIndex&&this.visibleRecord()===null){this.show(record);}\nreturn this.visibleRecord()===record._rowIndex||false;},getUrl:function(record){return record[this.fields.previewUrl];},getTitle:function(record){return record[this.fields.title];},getStyles:function(){return{'margin-top':'-'+this.height()};},scrollToPreview:function(){$(this.previewImageSelector).get(0).scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});},handleKeyDown:function(e){var key=keyCodes[e.keyCode];if(this.visibleRecord()!==null&&document.activeElement.tagName!=='INPUT'){if(key==='pageLeftKey'){this.prev(this.displayedRecord());}else if(key==='pageRightKey'){this.next(this.displayedRecord());}}}});});","Magento_Ui/js/grid/columns/actions.min.js":"define(['underscore','mageUtils','uiRegistry','./column','Magento_Ui/js/modal/confirm','mage/dataPost'],function(_,utils,registry,Column,confirm,dataPost){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/actions',sortable:false,draggable:false,actions:[],rows:[],rowsProvider:'${ $.parentName }',fieldClass:{'data-grid-actions-cell':true},templates:{actions:{}},imports:{rows:'${ $.rowsProvider }:rows'},listens:{rows:'updateActions'}},initObservable:function(){this._super().track('actions');return this;},getAction:function(rowIndex,actionIndex){var rowActions=this.actions[rowIndex];return rowActions&&actionIndex?rowActions[actionIndex]:rowActions;},getVisibleActions:function(rowIndex){var rowActions=this.getAction(rowIndex);return _.filter(rowActions,this.isActionVisible,this);},addAction:function(index,action){var actionTmpls=this.templates.actions;actionTmpls[index]=action;this.updateActions();return this;},updateActions:function(){this.actions=this.rows.map(this._formatActions,this);return this;},_formatActions:function(row,rowIndex){var rowActions=row[this.index]||{},recordId=row[this.indexField],customActions=this.templates.actions;function iterate(action,index){action=utils.extend({index:index,rowIndex:rowIndex,recordId:recordId},action);return utils.template(action,row,true);}\nrowActions=_.mapObject(rowActions,iterate);customActions=_.map(customActions,iterate);customActions.forEach(function(action){rowActions[action.index]=action;});return rowActions;},applyAction:function(actionIndex,rowIndex){var action=this.getAction(rowIndex,actionIndex),callback=this._getCallback(action);action.confirm?this._confirm(action,callback):callback();return this;},getActionHandler:function(action){var index=action.index,rowIndex=action.rowIndex;if(this.isHandlerRequired(index,rowIndex)){return this.applyAction.bind(this,index,rowIndex);}},getTarget:function(action){if(action.target){return action.target;}\nreturn'_self';},isHandlerRequired:function(actionIndex,rowIndex){var action=this.getAction(rowIndex,actionIndex);return _.isObject(action.callback)||action.confirm||!action.href;},_getCallback:function(action){var args=[action.index,action.recordId,action],callback=action.callback;if(utils.isObject(callback)){args.unshift(callback.target);callback=registry.async(callback.provider);}else if(_.isArray(callback)){return this._getCallbacks(action);}else if(!_.isFunction(callback)){callback=this.defaultCallback.bind(this);}\nreturn function(){callback.apply(callback,args);};},_getCallbacks:function(action){var callback=action.callback,callbacks=[],tmpCallback;_.each(callback,function(cb){tmpCallback={action:registry.async(cb.provider),args:_.compact([cb.target,cb.params])};callbacks.push(tmpCallback);});return function(){_.each(callbacks,function(cb){cb.action.apply(cb.action,cb.args);});};},defaultCallback:function(actionIndex,recordId,action){if(action.post){dataPost().postData({action:action.href,data:{}});}else{window.location.href=action.href;}},_confirm:function(action,callback){var confirmData=action.confirm;confirm({title:confirmData.title,content:confirmData.message,actions:{confirm:callback}});},isSingle:function(rowIndex){return this.getVisibleActions(rowIndex).length===1;},isMultiple:function(rowIndex){return this.getVisibleActions(rowIndex).length>1;},isActionVisible:function(action){return action.hidden!==true;},hasFieldAction:function(){return false;}});});","Magento_Ui/js/grid/columns/onoff.min.js":"define(['underscore','mage/translate','./multiselect','uiRegistry'],function(_,$t,Column,registry){'use strict';return Column.extend({defaults:{headerTmpl:'ui/grid/columns/onoff',bodyTmpl:'ui/grid/cells/onoff',fieldClass:{'admin__scope-old':true,'data-grid-onoff-cell':true,'data-grid-checkbox-cell':false},imports:{selectedData:'${ $.provider }:data.selectedData'},listens:{'${ $.provider }:reloaded':'setDefaultSelections'}},getLabel:function(id){return this.selected.indexOf(id)!==-1?$t('On'):$t('Off');},setDefaultSelections:function(){var positionCacheValid=registry.get('position_cache_valid'),selectedFromCache=registry.get('selected_cache'),key,i;if(positionCacheValid&&this.selected().length===0){selectedFromCache=JSON.parse(selectedFromCache);for(i=0;i<selectedFromCache.length;i++){this.selected.push(selectedFromCache[i]);}\nregistry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));return;}\nif(positionCacheValid&&this.selected().length>0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));return;}\nif(this.selectedData.length===0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify([]));return;}\nfor(key in this.selectedData){if(this.selectedData.hasOwnProperty(key)&&this.selected().indexOf(key)===-1){this.selected.push(key);}}\nfor(i=0;i<this.selected().length;i++){key=this.selected()[i];this.selectedData.hasOwnProperty(key)||this.selected.splice(this.selected().indexOf(key),1);this.selectedData.hasOwnProperty(key)||i--;}\nregistry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));},isActionRelevant:function(actionId){var relevant=true;switch(actionId){case'selectPage':relevant=!this.isPageSelected(true);break;case'deselectPage':relevant=this.isPageSelected();break;}\nreturn relevant;},updateState:function(){var positionCacheValid=registry.get('position_cache_valid'),totalRecords=this.totalRecords(),selected=this.selected().length,excluded=this.excluded().length,totalSelected=this.totalSelected(),allSelected;if(positionCacheValid&&this.selected().length>0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));}\nif(this.getFiltering()){if(this.getFiltering().search!==''){totalRecords=-1;}}\nallSelected=totalRecords&&totalSelected===totalRecords;if(this.excludeMode()){if(excluded===totalRecords){this.deselectAll();}}else if(totalRecords&&selected===totalRecords){this.selectAll();}\nthis.allSelected(allSelected);this.indetermine(totalSelected&&!allSelected);return this;}});});","Magento_Ui/js/grid/columns/column.min.js":"define(['underscore','uiRegistry','mageUtils','uiElement'],function(_,registry,utils,Element){'use strict';return Element.extend({defaults:{headerTmpl:'ui/grid/columns/text',bodyTmpl:'ui/grid/cells/text',disableAction:false,controlVisibility:true,sortable:true,sorting:false,visible:true,draggable:true,fieldClass:{},ignoreTmpls:{fieldAction:true},statefull:{visible:true,sorting:true},imports:{exportSorting:'sorting'},listens:{'${ $.provider }:params.sorting.field':'onSortChange'},modules:{source:'${ $.provider }'}},initialize:function(){this._super().initFieldClass();return this;},initObservable:function(){this._super().track(['visible','sorting','disableAction']).observe(['dragging']);return this;},initFieldClass:function(){_.extend(this.fieldClass,{_dragging:this.dragging});return this;},applyState:function(state,property){var namespace=this.storageConfig.root;if(property){namespace+='.'+property;}\nthis.storage('applyStateOf',state,namespace);return this;},sort:function(enable){if(!this.sortable){return this;}\nenable!==false?this.toggleSorting():this.sorting=false;return this;},sortDescending:function(){if(this.sortable){this.sorting='desc';}\nreturn this;},sortAscending:function(){if(this.sortable){this.sorting='asc';}\nreturn this;},toggleSorting:function(){this.sorting==='asc'?this.sortDescending():this.sortAscending();return this;},isSorted:function(){return!!this.sorting;},exportSorting:function(){if(!this.sorting){return;}\nthis.source('set','params.sorting',{field:this.index,direction:this.sorting});},hasFieldAction:function(){return!!this.fieldAction||!!this.fieldActions;},applyFieldAction:function(rowIndex){if(!this.hasFieldAction()||this.disableAction){return this;}\nif(this.fieldActions){this.fieldActions.forEach(this.applySingleAction.bind(this,rowIndex),this);}else{this.applySingleAction(rowIndex);}\nreturn this;},applySingleAction:function(rowIndex,action){var callback;action=action||this.fieldAction;action=utils.template(action,{column:this,rowIndex:rowIndex},true);callback=this._getFieldCallback(action);if(_.isFunction(callback)){callback();}},getFieldHandler:function(record){if(this.hasFieldAction()){return this.applyFieldAction.bind(this,record._rowIndex);}},_getFieldCallback:function(action){var args=action.params||[],callback=action.target;if(action.provider&&action.target){args.unshift(action.target);callback=registry.async(action.provider);}\nif(!_.isFunction(callback)){return false;}\nreturn function(){callback.apply(callback,args);};},getLabel:function(record){return record[this.index];},getFieldClass:function(){return this.fieldClass;},getHeader:function(){return this.headerTmpl;},getBody:function(){return this.bodyTmpl;},onSortChange:function(field){if(field!==this.index){this.sort(false);}}});});","Magento_Ui/js/grid/columns/multiselect.min.js":"define(['underscore','mage/translate','./column'],function(_,$t,Column){'use strict';return Column.extend({defaults:{headerTmpl:'ui/grid/columns/multiselect',bodyTmpl:'ui/grid/cells/multiselect',controlVisibility:false,sortable:false,draggable:false,menuVisible:false,excludeMode:false,allSelected:false,indetermine:false,preserveSelectionsOnFilter:false,disabled:[],selected:[],excluded:[],fieldClass:{'data-grid-checkbox-cell':true},actions:[{value:'selectAll',label:$t('Select All')},{value:'deselectAll',label:$t('Deselect All')},{value:'selectPage',label:$t('Select All on This Page')},{value:'deselectPage',label:$t('Deselect All on This Page')}],imports:{totalRecords:'${ $.provider }:data.totalRecords',rows:'${ $.provider }:data.items'},listens:{'${ $.provider }:params.filters':'onFilter','${ $.provider }:params.search':'onSearch',selected:'onSelectedChange',rows:'onRowsChange'},modules:{source:'${ $.provider }'}},initObservable:function(){this._super().observe(['disabled','selected','excluded','excludeMode','totalSelected','allSelected','indetermine','totalRecords','rows']);return this;},select:function(id,isIndex){this._setSelection(id,isIndex,true);return this;},deselect:function(id,isIndex){this._setSelection(id,isIndex,false);return this;},toggleSelect:function(id,isIndex){this._setSelection(id,isIndex,!this.isSelected(id,isIndex));return this;},isSelected:function(id,isIndex){id=this.getId(id,isIndex);return this.selected.contains(id);},_setSelection:function(id,isIndex,select){var selected=this.selected;id=this.getId(id,isIndex);if(!select&&this.isSelected(id)){selected.remove(id);}else if(select){selected.push(id);}\nreturn this;},selectAll:function(){this.excludeMode(true);this.clearExcluded().selectPage();return this;},deselectAll:function(){this.excludeMode(false);this.clearExcluded();this.selected.removeAll();return this;},toggleSelectAll:function(){this.allSelected()?this.deselectAll():this.selectAll();return this;},selectPage:function(){var selected=_.union(this.selected(),this.getIds());selected=_.difference(selected,this.disabled());this.selected(selected);return this;},deselectPage:function(){var pageIds=this.getIds();this.selected.remove(function(value){return!!~pageIds.indexOf(value);});return this;},togglePage:function(){return this.isPageSelected()&&!this.excluded().length?this.deselectPage():this.selectPage();},clearExcluded:function(){this.excluded.removeAll();return this;},getIds:function(exclude){var items=this.rows(),ids=_.pluck(items,this.indexField);return exclude?_.difference(ids,this.excluded()):ids;},getId:function(id,isIndex){var record=this.rows()[id];if(isIndex&&record){id=record[this.indexField];}\nreturn id;},updateExcluded:function(selected){var excluded=this.excluded(),fromPage=_.difference(this.getIds(),selected);excluded=_.union(excluded,fromPage);excluded=_.difference(excluded,selected);this.excluded(excluded);return this;},countSelected:function(){var total=this.totalRecords(),excluded=this.excluded().length,selected=this.selected().length;if(this.excludeMode()){selected=total-excluded;}\nthis.totalSelected(selected);return this;},getPageSelections:function(){var ids=this.getIds();return this.selected.filter(function(id){return _.contains(ids,id);});},getSelections:function(){return{excluded:this.excluded(),selected:this.selected(),total:this.totalSelected(),excludeMode:this.excludeMode(),params:this.getFiltering()};},getFiltering:function(){var source=this.source(),keys=['filters','search','namespace'];if(!source){return{};}\nreturn _.pick(source.get('params'),keys);},isActionRelevant:function(actionId){var pageIds=this.getIds().length,multiplePages=pageIds<this.totalRecords(),relevant=true;switch(actionId){case'selectPage':relevant=multiplePages&&!this.isPageSelected(true);break;case'deselectPage':relevant=multiplePages&&this.isPageSelected();break;case'selectAll':relevant=!this.allSelected();break;case'deselectAll':relevant=this.totalSelected()>0;}\nreturn relevant;},isPageSelected:function(all){var pageIds=this.getIds(),selected=this.selected(),excluded=this.excluded(),iterator=all?'every':'some';if(this.allSelected()){return true;}\nif(this.excludeMode()){return pageIds[iterator](function(id){return!~excluded.indexOf(id);});}\nreturn pageIds[iterator](function(id){return!!~selected.indexOf(id);});},updateState:function(){var selected=this.selected().length,excluded=this.excluded().length,totalSelected=this.totalSelected(),totalRecords=this.totalRecords(),allSelected=totalRecords&&totalSelected===totalRecords;if(this.excludeMode()){if(excluded===totalRecords&&!this.preserveSelectionsOnFilter){this.deselectAll();}}else if(totalRecords&&selected===totalRecords&&!this.preserveSelectionsOnFilter){this.selectAll();}\nthis.allSelected(allSelected);this.indetermine(totalSelected&&!allSelected);return this;},hasFieldAction:function(){return false;},onSelectedChange:function(selected){this.updateExcluded(selected).countSelected().updateState();},onRowsChange:function(){var newSelections;if(this.excludeMode()){newSelections=_.union(this.getIds(true),this.selected());this.selected(newSelections);}},onFilter:function(){if(!this.preserveSelectionsOnFilter){this.deselectAll();}},onSearch:function(){this.onFilter();}});});","Magento_Ui/js/grid/columns/image.min.js":"define(['Magento_Ui/js/grid/columns/column'],function(Column){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/image',modules:{masonry:'${ $.parentName }',previewComponent:'${ $.parentName }.preview'},previewRowId:null,previewHeight:0,fields:{id:'id',url:'url'}},initObservable:function(){this._super().observe(['previewRowId','previewHeight']);return this;},updateStyles:function(record){!record.lastInRow||this.masonry().updateStyles();},getUrl:function(record){return record[this.fields.url];},getId:function(record){return record[this.fields.id];},getStyles:function(record){var styles=record.styles();styles['margin-bottom']=this.previewRowId()===record.rowNumber?this.previewHeight:0;record.styles(styles);return record.styles;},getClasses:function(record){return record.css||{};},getIsActive:function(record){return this.previewComponent().visibleRecord()===record._rowIndex||false;},expandPreview:function(record){this.previewComponent().show(record);}});});","Magento_Ui/js/grid/columns/expandable.min.js":"define(['./column','underscore'],function(Column,_){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/expandable',tooltipTmpl:'ui/grid/cells/expandable/content',visibeItemsLimit:5,tooltipTitle:''},getFullLabel:function(record){return this.getLabelsArray(record).join(', ');},getShortLabel:function(record){return this.getLabelsArray(record).slice(0,this.visibeItemsLimit).join(', ');},getLabelsArray:function(record){var values=this.getLabel(record),options=this.options||[],labels=[];if(_.isString(values)){values=values.split(',');}\nif(!Array.isArray(values)){values=[values];}\nvalues=values.map(function(value){return value+'';});options=this.flatOptions(options);options.forEach(function(item){if(_.contains(values,item.value+'')){labels.push(item.label);}});return labels.sort(function(labelFirst,labelSecond){return labelFirst.toLowerCase().localeCompare(labelSecond.toLowerCase());});},flatOptions:function(options){var self=this;return options.reduce(function(opts,option){if(_.isArray(option.value)){opts=opts.concat(self.flatOptions(option.value));}else{opts.push(option);}\nreturn opts;},[]);},isExpandable:function(record){return this.getLabel(record).length>this.visibeItemsLimit;}});});","Magento_Ui/js/grid/columns/thumbnail.min.js":"define(['./column','jquery','mage/template','text!Magento_Ui/templates/grid/cells/thumbnail/preview.html','underscore','Magento_Ui/js/modal/modal','mage/translate'],function(Column,$,mageTemplate,thumbnailPreviewTemplate,_){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/thumbnail',fieldClass:{'data-grid-thumbnail-cell':true}},getSrc:function(row){return row[this.index+'_src'];},getOrigSrc:function(row){return row[this.index+'_orig_src'];},getLink:function(row){return row[this.index+'_link'];},getAlt:function(row){return _.escape(row[this.index+'_alt']);},isPreviewAvailable:function(){return this['has_preview']||false;},preview:function(row){var modalHtml=mageTemplate(thumbnailPreviewTemplate,{src:this.getOrigSrc(row),alt:this.getAlt(row),link:this.getLink(row),linkText:$.mage.__('Go to Details Page')}),previewPopup=$('<div/>').html(modalHtml);previewPopup.modal({title:this.getAlt(row),innerScroll:true,modalClass:'_image-box',buttons:[]}).trigger('openModal');},getFieldHandler:function(row){if(this.isPreviewAvailable()){return this.preview.bind(this,row);}}});});","Magento_Ui/js/grid/columns/date.min.js":"define(['mageUtils','moment','./column','underscore','moment-timezone-with-data'],function(utils,moment,Column,_){'use strict';return Column.extend({defaults:{dateFormat:'MMM d, YYYY h:mm:ss A',calendarConfig:[]},initConfig:function(){this._super();this.dateFormat=utils.normalizeDate(this.dateFormat?this.dateFormat:this.options.dateFormat);return this;},getLabel:function(value,format){var date;if(this.storeLocale!==undefined){moment.locale(this.storeLocale,utils.extend({},this.calendarConfig));}\ndate=moment.utc(this._super());if(!_.isUndefined(this.timezone)){date=date.tz(this.timezone);}\ndate=date.isValid()&&value[this.index]?date.format(format||this.dateFormat):'';return date;}});});","Magento_Ui/js/grid/columns/overlay.min.js":"define(['Magento_Ui/js/grid/columns/column'],function(Column){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/overlay'},isVisible:function(row){return!!row[this.index];},getLabel:function(row){return row[this.index];}});});","Magento_Ui/js/grid/columns/select.min.js":"define(['underscore','./column'],function(_,Column){'use strict';return Column.extend({getLabel:function(){var options=this.options||[],values=this._super(),label=[];if(_.isString(values)){values=values.split(',');}\nif(!_.isArray(values)){values=[values];}\nvalues=values.map(function(value){return value+'';});options=this.flatOptions(options);options.forEach(function(item){if(_.contains(values,item.value+'')){label.push(item.label);}});return label.join(', ');},flatOptions:function(options){var self=this;if(!_.isArray(options)){options=_.values(options);}\nreturn options.reduce(function(opts,option){if(_.isArray(option.value)){opts=opts.concat(self.flatOptions(option.value));}else{opts.push(option);}\nreturn opts;},[]);}});});","Magento_Ui/js/grid/columns/link.min.js":"define(['./column','mageUtils'],function(Column,utils){'use strict';return Column.extend({defaults:{link:'link',bodyTmpl:'ui/grid/cells/link'},getLink:function(record){return utils.nested(record,this.link);},isLink:function(record){return!!utils.nested(record,this.link);}});});","Magento_Ui/js/grid/filters/filters.min.js":"define(['underscore','mageUtils','uiLayout','uiCollection','mage/translate','jquery'],function(_,utils,layout,Collection,$t,$){'use strict';function extractPreview(elem){return{label:elem.label,preview:elem.getPreview(),elem:elem};}\nfunction removeEmpty(data){var result=utils.mapRecursive(data,utils.removeEmptyValues.bind(utils));return utils.mapRecursive(result,function(value){return _.isString(value)?value.trim():value;});}\nreturn Collection.extend({defaults:{template:'ui/grid/filters/filters',stickyTmpl:'ui/grid/sticky/filters',_processed:[],columnsProvider:'ns = ${ $.ns }, componentType = columns',bookmarksProvider:'ns = ${ $.ns }, componentType = bookmark',applied:{placeholder:true},filters:{placeholder:true},templates:{filters:{base:{parent:'${ $.$data.filters.name }',name:'${ $.$data.column.index }',provider:'${ $.$data.filters.name }',dataScope:'${ $.$data.column.index }',label:'${ $.$data.column.label }',imports:{visible:'${ $.$data.column.name }:visible'}},text:{component:'Magento_Ui/js/form/element/abstract',template:'ui/grid/filters/field'},select:{component:'Magento_Ui/js/form/element/select',template:'ui/grid/filters/field',options:'${ JSON.stringify($.$data.column.options) }',caption:' '},dateRange:{component:'Magento_Ui/js/grid/filters/range',rangeType:'date'},datetimeRange:{component:'Magento_Ui/js/grid/filters/range',rangeType:'datetime'},textRange:{component:'Magento_Ui/js/grid/filters/range',rangeType:'text'}}},chipsConfig:{name:'${ $.name }_chips',provider:'${ $.chipsConfig.name }',component:'Magento_Ui/js/grid/filters/chips'},listens:{active:'updatePreviews',applied:'cancel updateActive'},statefull:{applied:true},exports:{applied:'${ $.provider }:params.filters'},imports:{onColumnsUpdate:'${ $.columnsProvider }:elems',onBackendError:'${ $.provider }:lastError',bookmarksActiveIndex:'${ $.bookmarksProvider }:activeIndex'},modules:{columns:'${ $.columnsProvider }',chips:'${ $.chipsConfig.provider }'}},initialize:function(config){if(typeof config.options!=='undefined'&&config.options.dateFormat){this.constructor.defaults.templates.filters.dateRange.dateFormat=config.options.dateFormat;}\n_.bindAll(this,'updateActive');this._super().initChips().cancel();return this;},initObservable:function(){this._super().track({active:[],previews:[]});return this;},initChips:function(){layout([this.chipsConfig]);this.chips('insertChild',this.name);return this;},initElement:function(elem){this._super();elem.on('elems',this.updateActive);this.updateActive();return this;},clear:function(filter){filter?filter.clear():_.invoke(this.active,'clear');this.apply();return this;},apply:function(){$('body').notification('clear');this.set('applied',removeEmpty(this.filters));return this;},cancel:function(){this.set('filters',utils.copy(this.applied));return this;},setData:function(data,partial){var filters=partial?this.filters:{};data=utils.extend({},filters,data);this.set('filters',data);return this;},addFilter:function(column){var index=column.index,processed=this._processed,filter;if(!column.filter||_.contains(processed,index)){return this;}\nfilter=this.buildFilter(column);processed.push(index);layout([filter]);return this;},buildFilter:function(column){var filters=this.templates.filters,filter=column.filter,type=filters[filter.filterType];if(_.isObject(filter)&&type){filter=utils.extend({},type,filter);}else if(_.isString(filter)){filter=filters[filter];}\nfilter=utils.extend({},filters.base,filter);filter.__disableTmpl={label:1,options:1};filter=utils.template(filter,{filters:this,column:column},true,true);filter.__disableTmpl={label:true};return filter;},getRanges:function(){return this.elems.filter(function(filter){return filter.isRange;});},getPlain:function(){return this.elems.filter(function(filter){return!filter.isRange;});},isFilterVisible:function(filter){return filter.visible()||this.isFilterActive(filter);},isFilterActive:function(filter){return _.contains(this.active,filter);},hasVisible:function(){return this.elems.some(this.isFilterVisible,this);},updateActive:function(){var applied=_.keys(this.applied);this.active=this.elems.filter(function(elem){return _.contains(applied,elem.index);});return this;},countActive:function(){return this.active.length;},updatePreviews:function(filters){var previews=filters.map(extractPreview);this.previews=_.compact(previews);return this;},onColumnsUpdate:function(columns){columns.forEach(this.addFilter,this);},onBackendError:function(isError){var defaultMessage='Something went wrong with processing the default view and we have restored the '+'filter to its original state.',customMessage='Something went wrong with processing current custom view and filters have been '+'reset to its original state. Please edit filters then click apply.';if(isError){this.clear();$('body').notification('clear').notification('add',{error:true,message:$.mage.__(this.bookmarksActiveIndex!=='default'?customMessage:defaultMessage),insertMethod:function(message){var $wrapper=$('<div/>').html(message);$('.page-main-actions').after($wrapper);}});}}});});","Magento_Ui/js/grid/filters/chips.min.js":"define(['underscore','uiCollection'],function(_,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/filters/chips',componentType:'filtersChips'},hasPreviews:function(){return this.elems().some(function(elem){return!!elem.previews.length;});},clear:function(){_.invoke(this.elems(),'clear');return this;}});});","Magento_Ui/js/grid/filters/range.min.js":"define(['underscore','uiLayout','mageUtils','Magento_Ui/js/form/components/group','mage/translate'],function(_,layout,utils,Group,$t){'use strict';return Group.extend({defaults:{template:'ui/grid/filters/elements/group',isRange:true,templates:{base:{parent:'${ $.$data.group.name }',provider:'${ $.$data.group.provider }',template:'ui/grid/filters/field'},date:{component:'Magento_Ui/js/form/element/date',dateFormat:'MM/dd/YYYY',shiftedValue:'filter'},datetime:{component:'Magento_Ui/js/form/element/date',dateFormat:'MM/dd/YYYY',shiftedValue:'filter',options:{showsTime:true}},text:{component:'Magento_Ui/js/form/element/abstract'},ranges:{from:{label:$t('from'),dataScope:'from'},to:{label:$t('to'),dataScope:'to'}}}},initialize:function(config){if(config.dateFormat){this.constructor.defaults.templates.date.pickerDefaultDateFormat=config.dateFormat;}\nthis._super().initChildren();return this;},initChildren:function(){var children=this.buildChildren();layout(children);return this;},buildChildren:function(){var templates=this.templates,typeTmpl=templates[this.rangeType],tmpl=utils.extend({},templates.base,typeTmpl),children={};_.each(templates.ranges,function(range,key){children[key]=utils.extend({},tmpl,range);});return utils.template(children,{group:this},true,true);},clear:function(){this.elems.each('clear');return this;},hasData:function(){return this.elems.some('hasData');}});});","Magento_Ui/js/grid/filters/elements/ui-select.min.js":"define(['Magento_Ui/js/form/element/ui-select','jquery','underscore'],function(Select,$,_){'use strict';return Select.extend({defaults:{bookmarkProvider:'ns = ${ $.ns }, index = bookmarks',filterChipsProvider:'componentType = filters, ns = ${ $.ns }',validationUrl:false,loadedOption:[],validationLoading:true,imports:{applied:'${ $.filterChipsProvider }:applied',activeIndex:'${ $.bookmarkProvider }:activeIndex'},modules:{filterChips:'${ $.filterChipsProvider }'},listens:{activeIndex:'validateInitialValue',applied:'validateInitialValue'}},initialize:function(){this._super();this.validateInitialValue();return this;},validateInitialValue:function(){if(_.isEmpty(this.value())){this.validationLoading(false);return;}\n$.ajax({url:this.validationUrl,type:'GET',dataType:'json',context:this,data:{ids:this.value()},success:function(response){if(!_.isEmpty(response)){this.options([]);this.success({options:response});}\nthis.filterChips().updateActive();},error:function(){this.options([]);},complete:function(){this.validationLoading(false);this.setCaption();}});}});});","Magento_Ui/js/grid/paging/paging.min.js":"define(['ko','underscore','mageUtils','uiLayout','uiElement'],function(ko,_,utils,layout,Element){'use strict';return Element.extend({defaults:{template:'ui/grid/paging/paging',totalTmpl:'ui/grid/paging-total',totalRecords:0,pages:1,current:1,selectProvider:'ns = ${ $.ns }, index = ids',sizesConfig:{component:'Magento_Ui/js/grid/paging/sizes',name:'${ $.name }_sizes',storageConfig:{provider:'${ $.storageConfig.provider }',namespace:'${ $.storageConfig.namespace }'}},imports:{totalSelected:'${ $.selectProvider }:totalSelected',totalRecords:'${ $.provider }:data.totalRecords',filters:'${ $.provider }:params.filters',keywordUpdated:'${ $.provider }:params.keywordUpdated'},exports:{pageSize:'${ $.provider }:params.paging.pageSize',current:'${ $.provider }:params.paging.current'},links:{options:'${ $.sizesConfig.name }:options',pageSize:'${ $.sizesConfig.name }:value'},statefull:{pageSize:true,current:true},listens:{'pages':'onPagesChange','pageSize':'onPageSizeChange','totalRecords':'updateCounter','${ $.provider }:params.filters':'goFirst','${ $.provider }:params.search':'onSearchUpdate'},modules:{sizes:'${ $.sizesConfig.name }'}},initialize:function(){this._super().initSizes().updateCounter();return this;},initObservable:function(){this._super().track(['totalSelected','totalRecords','pageSize','pages','current']);this._current=ko.pureComputed({read:ko.getObservable(this,'current'),write:function(value){this.setPage(value)._current.notifySubscribers(this.current);},owner:this});return this;},initSizes:function(){layout([this.sizesConfig]);return this;},getFirstItemIndex:function(){return this.pageSize*(this.current-1)+1;},getLastItemIndex:function(){var lastItem=this.getFirstItemIndex()+this.pageSize-1;return this.totalRecords<lastItem?this.totalRecords:lastItem;},setPage:function(value){this.current=this.normalize(value);return this;},next:function(){this.setPage(this.current+1);return this;},prev:function(){this.setPage(this.current-1);return this;},goFirst:function(){if(!_.isUndefined(this.filters)){this.current=1;}\nreturn this;},goLast:function(){this.current=this.pages;return this;},isFirst:function(){return this.current===1;},isLast:function(){return this.current===this.pages;},updateCounter:function(){this.pages=Math.ceil(this.totalRecords / this.pageSize)||1;return this;},updateCursor:function(){var cursor=this.current-1,size=this.pageSize,oldSize=_.isUndefined(this.previousSize)?this.pageSize:this.previousSize,delta=cursor*(oldSize-size)/ size;delta=size>oldSize?Math.ceil(delta):Math.floor(delta);cursor+=delta+1;this.previousSize=size;this.setPage(cursor);return this;},normalize:function(value){value=+value;if(isNaN(value)){return 1;}\nreturn utils.inRange(Math.round(value),1,this.pages);},onPageSizeChange:function(){this.updateCounter().updateCursor();},onPagesChange:function(){this.updateCursor();},onSearchUpdate:function(){if(!_.isUndefined(this.keywordUpdated)&&this.keywordUpdated){this.goFirst();}\nreturn this;}});});","Magento_Ui/js/grid/paging/sizes.min.js":"define(['ko','underscore','mageUtils','uiElement'],function(ko,_,utils,Element){'use strict';return Element.extend({defaults:{template:'ui/grid/paging/sizes',minSize:1,maxSize:999,statefull:{options:true,value:true},listens:{value:'onValueChange',options:'onSizesChange'}},initialize:function(){this._super().updateArray();return this;},initObservable:function(){this._super().track(['value','editing','customVisible','customValue']).track({optionsArray:[]});this._value=ko.pureComputed({read:ko.getObservable(this,'value'),write:function(value){value=this.normalize(value);this.value=value;this._value.notifySubscribers(value);},owner:this});return this;},edit:function(value){this.editing=value;return this;},discardEditing:function(){var value=this.editing;if(value){this.updateSize(value,value);}\nreturn this;},discardAll:function(){this.discardEditing().discardCustom();return this;},getFirst:function(){return this.optionsArray[0].value;},getSize:function(value){return this.options[value];},setSize:function(value){this.value=value;return this;},addSize:function(value){var size;if(!this.hasSize(value)){size=this.createSize(value);this.set('options.'+value,size);}\nreturn this;},removeSize:function(value){if(!this.hasSize(value)){return this;}\nthis.remove('options.'+value);if(this.isSelected(value)){this.setSize(this.getFirst());}\nreturn this;},updateSize:function(value,newValue){var size=this.getSize(value);if(!size){return this;}\nnewValue=newValue||size._value;if(isNaN(+newValue)){this.discardEditing();return this;}\nnewValue=this.normalize(newValue);this.remove('options.'+value).addSize(newValue);if(this.isSelected(value)){this.setSize(newValue);}\nreturn this;},createSize:function(value){return{value:value,label:value,_value:value,editable:true};},hasSize:function(value){return!!this.getSize(value);},discardCustom:function(){this.hideCustom().clearCustom();return this;},showCustom:function(){this.customVisible=true;return this;},hideCustom:function(){this.customVisible=false;return this;},clearCustom:function(){this.customValue='';return this;},applyCustom:function(){var value=this.customValue;value=this.normalize(value);this.addSize(value).setSize(value).discardCustom();return this;},isCustomVisible:function(){return this.customVisible;},normalize:function(value){value=+value;if(isNaN(value)){return this.getFirst();}\nreturn utils.inRange(Math.round(value),this.minSize,this.maxSize);},updateArray:function(){var array=_.values(this.options);this.optionsArray=_.sortBy(array,'value');return this;},isEditing:function(value){return this.editing===value;},isSelected:function(value){return this.value===value;},onValueChange:function(){this.discardAll().trigger('close');},onSizesChange:function(){this.editing=false;this.updateArray();}});});","Magento_Ui/js/grid/controls/columns.min.js":"define(['underscore','mageUtils','mage/translate','uiCollection'],function(_,utils,$t,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/controls/columns',minVisible:1,maxVisible:30,viewportSize:18,displayArea:'dataGridActions',columnsProvider:'ns = ${ $.ns }, componentType = columns',imports:{addColumns:'${ $.columnsProvider }:elems'},templates:{headerMsg:$t('${ $.visible } out of ${ $.total } visible')}},reset:function(){this.elems.each('applyState','default','visible');return this;},cancel:function(){this.elems.each('applyState','','visible');return this;},addColumns:function(columns){columns=_.where(columns,{controlVisibility:true});this.insertChild(columns);return this;},hasOverflow:function(){return this.elems().length>this.viewportSize;},isDisabled:function(elem){var visible=this.countVisible();return elem.visible?visible===this.minVisible:visible===this.maxVisible;},countVisible:function(){return this.elems.filter('visible').length;},getHeaderMessage:function(){return utils.template(this.templates.headerMsg,{visible:this.countVisible(),total:this.elems().length});}});});","Magento_Ui/js/grid/controls/bookmarks/storage.min.js":"define(['jquery','mageUtils','Magento_Ui/js/lib/core/storage/local','uiClass'],function($,utils,storage,Class){'use strict';function removeNs(ns,path){return path.replace(ns+'.','');}\nreturn Class.extend({defaults:{ajaxSettings:{method:'POST',data:{namespace:'${ $.namespace }'}}},get:function(){return{};},set:function(path,value){var property=removeNs(this.namespace,path),data={},config;utils.nested(data,property,value);config=utils.extend({url:this.saveUrl,data:{data:JSON.stringify(data)}},this.ajaxSettings);$.ajax(config);},remove:function(path){var property=removeNs(this.namespace,path),config;config=utils.extend({url:this.deleteUrl,data:{data:property}},this.ajaxSettings);$.ajax(config);}});});","Magento_Ui/js/grid/controls/bookmarks/bookmarks.min.js":"define(['underscore','mageUtils','mage/translate','rjsResolver','uiLayout','uiCollection'],function(_,utils,$t,resolver,layout,Collection){'use strict';function removeStateNs(path){path=typeof path=='string'?path.split('.'):[];if(path[0]==='current'){path.shift();}\nreturn path.join('.');}\nreturn Collection.extend({defaults:{template:'ui/grid/controls/bookmarks/bookmarks',viewTmpl:'ui/grid/controls/bookmarks/view',newViewLabel:$t('New View'),defaultIndex:'default',activeIndex:'default',viewsArray:[],storageConfig:{provider:'${ $.storageConfig.name }',name:'${ $.name }_storage',component:'Magento_Ui/js/grid/controls/bookmarks/storage'},views:{default:{label:$t('Default View'),index:'default',editable:false}},tracks:{editing:true,viewsArray:true,activeView:true,hasChanges:true,customLabel:true,customVisible:true},listens:{activeIndex:'onActiveIndexChange',activeView:'checkState',current:'onStateChange'}},initialize:function(){utils.limit(this,'checkState',5);utils.limit(this,'saveState',2000);this._super().restore().initStorage().initViews();return this;},initStorage:function(){layout([this.storageConfig]);return this;},initDefaultView:function(){var data=this.getViewData(this.defaultIndex);if(!_.size(data)){this.setViewData(this.defaultIndex,this.current).saveView(this.defaultIndex);}\nthis.defaultDefined=true;return this;},initViews:function(){_.each(this.views,function(config){this.addView(config);},this);this.activeView=this.getActiveView();return this;},buildView:function(config){var view={label:this.newViewLabel,index:'_'+Date.now(),editable:true};utils.extend(view,config||{});view.data=view.data||utils.copy(this.current);view.value=view.label;this.observe.call(view,true,'label value');return view;},addView:function(config,saveView,applyView){var view=this.buildView(config),index=view.index;this.views[index]=view;if(saveView){this.saveView(index);}\nif(applyView){this.applyView(index);}\nthis.updateArray();return view;},removeView:function(index){var viewPath=this.getViewPath(index);if(this.isViewActive(index)){this.applyView(this.defaultIndex);}\nthis.endEdit(index).remove(viewPath).removeStored(viewPath).updateArray();return this;},saveView:function(index){var viewPath=this.getViewPath(index);this.updateViewLabel(index).endEdit(index).store(viewPath).checkState();return this;},applyView:function(index){this.applyStateOf(index).set('activeIndex',index);return this;},updateAndSave:function(index){if(this.isViewActive(index)){this.updateActiveView(index);}\nthis.saveView(index);return this;},getView:function(index){return this.views[index];},getActiveView:function(){return this.views[this.activeIndex];},isViewActive:function(index){return this.activeView===this.getView(index);},updateActiveView:function(){this.setViewData(this.activeIndex,this.current);return this;},updateViewLabel:function(index,label){var view=this.getView(index),current=view.label;label=(label||view.value).trim()||current;label=this.uniqueLabel(label,current);view.label=view.value=label;return this;},getViewData:function(index,property){var view=this.getView(index),data=view.data;if(property){data=utils.nested(data,property);}\nreturn utils.copy(data);},setViewData:function(index,data){var path=this.getViewPath(index)+'.data';this.set(path,utils.copy(data));return this;},editView:function(index){this.editing=index;return this;},endEdit:function(index){var view;if(!this.isEditing(index)){return this;}\nindex=index||this.editing;view=this.getView(index);view.value=view.label;this.editing=false;return this;},isEditing:function(index){return this.editing===index;},uniqueLabel:function(label,exclude){var labels=_.pluck(this.views,'label'),hasParenth=_.last(label)===')',index=2,result,suffix;labels=_.without(labels,exclude);result=label=label||this.newViewLabel;for(index=2;_.contains(labels,result);index++){suffix='('+index+')';if(!hasParenth){suffix=' '+suffix;}\nresult=label+suffix;}\nreturn result;},applyStateOf:function(state,property){var index=state||this.activeIndex,dataPath=removeStateNs(property),viewData=this.getViewData(index,dataPath);dataPath=dataPath?'current.'+dataPath:'current';this.set(dataPath,viewData);return this;},saveState:function(){this.store('current');return this;},resetState:function(){this.applyStateOf(this.activeIndex);return this;},checkState:function(){var viewData=this.getViewData(this.activeIndex),diff=utils.compare(viewData,this.current);this.hasChanges=!diff.equal;return this;},getViewPath:function(index){return'views.'+index;},updateArray:function(){this.viewsArray=_.values(this.views);return this;},showCustom:function(){this.customLabel=this.uniqueLabel();this.customVisible=true;return this;},hideCustom:function(){this.customVisible=false;return this;},isCustomVisible:function(){return this.customVisible;},applyCustom:function(){var label=this.customLabel.trim();this.hideCustom().addView({label:this.uniqueLabel(label)},true,true);return this;},onActiveIndexChange:function(){this.activeView=this.getActiveView();this.store('activeIndex');},onStateChange:function(){this.checkState();this.saveState();if(!this.defaultDefined){resolver(this.initDefaultView,this);}}});});","Magento_Ui/js/grid/controls/button/split.min.js":"define(['jquery'],function($){'use strict';return function(data,element){$(element).on('click.splitDefault','.action-default',function(){$(this).siblings('.dropdown-menu').find('.item-default').trigger('click');});};});","Magento_Ui/js/grid/editing/record.min.js":"define(['underscore','mageUtils','uiLayout','uiCollection'],function(_,utils,layout,Collection){'use strict';return Collection.extend({defaults:{active:true,hasChanges:false,fields:[],errorsCount:0,fieldTmpl:'ui/grid/editing/field',rowTmpl:'ui/grid/editing/row',templates:{fields:{base:{parent:'${ $.$data.record.name }',name:'${ $.$data.column.index }',provider:'${ $.$data.record.name }',dataScope:'data.${ $.$data.column.index }',imports:{disabled:'${ $.$data.record.parentName }:fields.${ $.$data.column.index }.disabled'},isEditor:true},text:{component:'Magento_Ui/js/form/element/abstract',template:'ui/form/element/input'},date:{component:'Magento_Ui/js/form/element/date',template:'ui/form/element/date',dateFormat:'MMM d, y h:mm:ss a'},select:{component:'Magento_Ui/js/form/element/select',template:'ui/form/element/select',options:'${ JSON.stringify($.$data.column.options) }'}}},ignoreTmpls:{data:true},listens:{elems:'updateFields',data:'updateState'},imports:{onColumnsUpdate:'${ $.columnsProvider }:elems'},modules:{columns:'${ $.columnsProvider }',editor:'${ $.editorProvider }'}},initialize:function(){_.bindAll(this,'countErrors');utils.limit(this,'updateState',10);return this._super();},initObservable:function(){this._super().track('errorsCount hasChanges').observe('active fields');return this;},initElement:function(field){field.on('error',this.countErrors);return this._super();},initField:function(column){var field=this.buildField(column);layout([field]);return this;},buildField:function(column){var fields=this.templates.fields,field=column.editor;if(_.isObject(field)&&field.editorType){field=utils.extend({},fields[field.editorType],field);}else if(_.isString(field)){field=fields[field];}\nfield=utils.extend({},fields.base,field);return utils.template(field,{record:this,column:column},true,true);},createFields:function(columns){columns.forEach(function(column){if(column.editor&&!this.hasChild(column.index)){this.initField(column);}},this);return this;},getColumn:function(index){return this.columns().getChild(index);},getData:function(){return this.filterData(this.data);},getSavedData:function(){var editor=this.editor(),savedData=editor.getRowData(this.index);savedData=this.filterData(savedData);return this.normalizeData(savedData);},setData:function(data,partial){var currentData=partial?this.data:{};data=this.normalizeData(data);data=utils.extend({},currentData,data);this.set('data',data).updateState();return this;},filterData:function(data){var fields=_.pluck(this.elems(),'index');_.each(this.preserveFields,function(enabled,field){if(enabled&&!_.contains(fields,field)){fields.push(field);}});return _.pick(data,fields);},normalizeData:function(data){var index;this.elems.each(function(elem){index=elem.index;if(data.hasOwnProperty(index)){data[index]=elem.normalizeData(data[index]);}});return data;},clear:function(){this.elems.each('clear');return this;},validate:function(){return this.elems.map('validate');},isValid:function(){return _.every(this.validate(),'valid');},countErrors:function(){var errorsCount=this.elems.filter('error').length;this.errorsCount=errorsCount;return errorsCount;},checkChanges:function(){var savedData=this.getSavedData(),data=this.normalizeData(this.getData());return utils.compare(savedData,data);},updateFields:function(){var fields;fields=this.columns().elems.map(function(column){return this.getChild(column.index)||column;},this);this.fields(fields);return this;},updateState:function(){var diff=this.checkChanges(),changed={};this.hasChanges=!diff.equal;changed[this.index]=this.data;this.editor().set('changed',[changed]);return this;},isActionsColumn:function(column){return column.dataType==='actions';},onColumnsUpdate:function(columns){this.createFields(columns).updateFields();}});});","Magento_Ui/js/grid/editing/client.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';return Class.extend({defaults:{validateBeforeSave:true,requestConfig:{dataType:'json',type:'POST'}},initialize:function(){_.bindAll(this,'onSuccess','onError');return this._super();},send:function(config){var deffer=$.Deferred();config=utils.extend({},this.requestConfig,config);$.ajax(config).done(_.partial(this.onSuccess,deffer)).fail(_.partial(this.onError,deffer));return deffer.promise();},save:function(data){var save=this._save.bind(this,data);return this.validateBeforeSave?this.validate(data).pipe(save):save();},validate:function(data){return this.send({url:this.validateUrl,data:data});},_save:function(data){return this.send({url:this.saveUrl,data:data});},createError:function(msg){return{type:'error',message:msg};},onError:function(promise,xhr,status,err){var msg;msg=xhr.status!==200?xhr.status+' ('+xhr.statusText+')':err;promise.reject(this.createError(msg));},onSuccess:function(promise,data){var errors;if(data.error){errors=_.map(data.messages,this.createError,this);promise.reject(errors);}else{promise.resolve(data);}}});});","Magento_Ui/js/grid/editing/editor.min.js":"define(['underscore','mageUtils','uiLayout','mage/translate','uiCollection'],function(_,utils,layout,$t,Collection){'use strict';return Collection.extend({defaults:{rowButtonsTmpl:'ui/grid/editing/row-buttons',headerButtonsTmpl:'ui/grid/editing/header-buttons',successMsg:$t('You have successfully saved your edits.'),errorsCount:0,bulkEnabled:true,multiEditingButtons:true,singleEditingButtons:true,isMultiEditing:false,isSingleEditing:false,permanentlyActive:false,rowsData:[],fields:{},templates:{record:{parent:'${ $.$data.editor.name }',name:'${ $.$data.recordId }',component:'Magento_Ui/js/grid/editing/record',columnsProvider:'${ $.$data.editor.columnsProvider }',editorProvider:'${ $.$data.editor.name }',preserveFields:{'${ $.$data.editor.indexField }':true}}},bulkConfig:{component:'Magento_Ui/js/grid/editing/bulk',name:'${ $.name }_bulk',editorProvider:'${ $.name }',columnsProvider:'${ $.columnsProvider }'},clientConfig:{component:'Magento_Ui/js/grid/editing/client',name:'${ $.name }_client'},viewConfig:{component:'Magento_Ui/js/grid/editing/editor-view',name:'${ $.name }_view',model:'${ $.name }',columnsProvider:'${ $.columnsProvider }'},imports:{rowsData:'${ $.dataProvider }:data.items'},listens:{'${ $.dataProvider }:reloaded':'cancel','${ $.selectProvider }:selected':'onSelectionsChange'},modules:{source:'${ $.dataProvider }',client:'${ $.clientConfig.name }',columns:'${ $.columnsProvider }',bulk:'${ $.bulkConfig.name }',selections:'${ $.selectProvider }'}},initialize:function(){_.bindAll(this,'updateState','countErrors','onDataSaved','onSaveError');this._super().initBulk().initClient().initView();return this;},initObservable:function(){this._super().track(['errorsCount','isMultiEditing','isSingleEditing','isSingleColumnEditing','changed']).observe({canSave:true,activeRecords:[],messages:[]});return this;},initBulk:function(){if(this.bulkEnabled){layout([this.bulkConfig]);}\nreturn this;},initView:function(){layout([this.viewConfig]);return this;},initClient:function(){layout([this.clientConfig]);return this;},initRecord:function(id,isIndex){var record=this.buildRecord(id,isIndex);layout([record]);return this;},initElement:function(record){record.on({'active':this.updateState,'errorsCount':this.countErrors});this.updateState();return this._super();},buildRecord:function(id,isIndex){var recordId=this.getId(id,isIndex),recordTmpl=this.templates.record,record;if(this.getRecord(recordId)){return this;}\nrecord=utils.template(recordTmpl,{editor:this,recordId:id});record.recordId=id;record.data=this.getRowData(id);return record;},edit:function(id,isIndex){var recordId=this.getId(id,isIndex),record=this.getRecord(recordId);record?record.active(true):this.initRecord(recordId);return this;},startEdit:function(id,isIndex){var recordId=this.getId(id,isIndex);this.selections().deselectAll().select(recordId);return this.edit(recordId);},cancel:function(){this.reset().hide().clearMessages().bulk('clear');return this;},hide:function(){this.activeRecords.each('active',false);return this;},reset:function(){this.elems.each(function(record){this.resetRecord(record.recordId);},this);return this;},save:function(){var data;if(!this.isValid()){return this;}\ndata={items:this.getData()};this.clearMessages().columns('showLoader');this.client().save(data).done(this.onDataSaved).fail(this.onSaveError);return this;},validate:function(){return this.activeRecords.map(function(record){return{target:record,valid:record.isValid()};});},isValid:function(){return _.every(this.validate(),'valid');},getData:function(){var data=this.activeRecords.map(function(record){var elemKey,recordData=record.getData();for(elemKey in recordData){if(_.isUndefined(recordData[elemKey])){recordData[elemKey]=null;}}\nreturn recordData;});return _.indexBy(data,this.indexField);},setData:function(data,partial){this.activeRecords.each('setData',data,partial);return this;},resetRecord:function(id,isIndex){var record=this.getRecord(id,isIndex),data=this.getRowData(id,isIndex);if(record&&data){record.setData(data);}\nreturn this;},getRecord:function(id,isIndex){return this.elems.findWhere({recordId:this.getId(id,isIndex)});},formRecordName:function(id,isIndex){id=this.getId(id,isIndex);return this.name+'.'+id;},disableFields:function(fields){var columns=this.columns().elems(),data=utils.copy(this.fields);columns.forEach(function(column){var index=column.index,field=data[index]=data[index]||{};field.disabled=_.contains(fields,index);});this.set('fields',data);return this;},getId:function(id,isIndex){var rowsData=this.rowsData,record;if(isIndex===true){record=rowsData[id];id=record?record[this.indexField]:false;}\nreturn id;},getRowData:function(id,isIndex){id=this.getId(id,isIndex);return _.find(this.rowsData,function(row){return row[this.indexField]===id;},this);},isActive:function(id,isIndex){var record=this.getRecord(id,isIndex);return _.contains(this.activeRecords(),record);},hasActive:function(){return!!this.activeRecords().length||this.permanentlyActive;},countActive:function(){return this.activeRecords().length;},countErrors:function(){var errorsCount=0;this.activeRecords.each(function(record){errorsCount+=record.errorsCount;});this.errorsCount=errorsCount;return errorsCount;},countErrorsMessage:function(){return $t('There are {placeholder} messages requires your attention.').replace('{placeholder}',this.countErrors());},hasErrors:function(){return!!this.countErrors();},updateState:function(){var active=this.elems.filter('active'),activeCount=active.length,columns=this.columns().elems;columns.each('disableAction',!!activeCount);this.isMultiEditing=activeCount>1;this.isSingleEditing=activeCount===1;this.activeRecords(active);return this;},getSelections:function(){return this.selections().getPageSelections();},editSelected:function(){var selections=this.getSelections();this.elems.each(function(record){if(!_.contains(selections,record.recordId)){record.active(false);}});selections.forEach(function(id){this.edit(id);},this);return this;},hasMessages:function(){return this.messages().length;},addMessage:function(message){var messages=this.messages();Array.isArray(message)?messages.push.apply(messages,message):messages.push(message);this.messages(messages);return this;},clearMessages:function(){this.messages.removeAll();return this;},onSelectionsChange:function(){if(this.hasActive()){this.editSelected();}},onDataSaved:function(){var msg={type:'success',message:this.successMsg};this.addMessage(msg).source('reload',{refresh:true});},onSaveError:function(errors){this.addMessage(errors).columns('hideLoader');}});});","Magento_Ui/js/grid/editing/bulk.min.js":"define(['underscore','mageUtils','./record'],function(_,utils,Record){'use strict';function removeEmpty(data){data=utils.flatten(data);data=_.omit(data,utils.isEmpty);return utils.unflatten(data);}\nreturn Record.extend({defaults:{template:'ui/grid/editing/bulk',active:false,templates:{fields:{select:{caption:' '}}},imports:{active:'${ $.editorProvider }:isMultiEditing'},listens:{data:'updateState',active:'updateState'}},initObservable:function(){this._super().track({hasData:false});return this;},buildField:function(){var field=this._super(),rules=field.validation;if(rules){delete rules['required-entry'];}\nreturn field;},apply:function(){if(this.isValid()){this.applyData().clear();}\nreturn this;},applyData:function(data){data=data||this.getData();this.editor('setData',data,true);return this;},getData:function(){return removeEmpty(this._super());},updateState:function(){var fields=_.keys(this.getData()),hasData=!!fields.length;this.hasData=hasData;if(!this.active()){fields=[];}\nthis.editor('disableFields',fields);this.editor('canSave',!fields.length);return this;}});});","Magento_Ui/js/grid/editing/editor-view.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','uiRegistry','uiClass'],function(ko,$,_,registry,Class){'use strict';return Class.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table',rowSelector:'${ $.tableSelector } tbody tr.data-row',headerButtonsTmpl:'<!-- ko template: headerButtonsTmpl --><!-- /ko -->',bulkTmpl:'<!-- ko scope: bulk -->'+'<!-- ko template: getTemplate() --><!-- /ko -->'+'<!-- /ko -->',rowTmpl:'<!-- ko with: _editor -->'+'<!-- ko if: isActive($row()._rowIndex, true) -->'+'<!-- ko with: getRecord($row()._rowIndex, true) -->'+'<!-- ko template: rowTmpl --><!-- /ko -->'+'<!-- /ko -->'+'<!-- ko if: isSingleEditing && singleEditingButtons -->'+'<!-- ko template: rowButtonsTmpl --><!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->'},initialize:function(){_.bindAll(this,'initRoot','initTable','initRow','rowBindings','tableBindings');this._super();this.model=registry.get(this.model);$.async(this.rootSelector,this.initRoot);$.async(this.tableSelector,this.initTable);$.async(this.rowSelector,this.initRow);return this;},initRoot:function(node){$(this.headerButtonsTmpl).insertBefore(node).applyBindings(this.model);return this;},initTable:function(table){$(table).bindings(this.tableBindings);this.initBulk(table);return this;},initBulk:function(table){var tableBody=$('tbody',table)[0];$(this.bulkTmpl).prependTo(tableBody).applyBindings(this.model);return this;},initRow:function(row){var $editingRow;$(row).extendCtx({_editor:this.model}).bindings(this.rowBindings);$editingRow=$(this.rowTmpl).insertBefore(row).applyBindings(row);ko.utils.domNodeDisposal.addDisposeCallback(row,this.removeEditingRow.bind(this,$editingRow));return this;},rowBindings:function(ctx){var model=this.model;return{visible:ko.computed(function(){var record=ctx.$row(),index=record&&record._rowIndex;return!model.isActive(index,true);})};},tableBindings:function(){var model=this.model;return{css:{'_in-edit':ko.computed(function(){return model.hasActive()&&!model.permanentlyActive;})}};},removeEditingRow:function(row){_.toArray(row).forEach(ko.removeNode);}});});","Magento_Ui/js/grid/search/search.min.js":"define(['underscore','uiLayout','mage/translate','mageUtils','uiElement','jquery'],function(_,layout,$t,utils,Element,$){'use strict';return Element.extend({defaults:{template:'ui/grid/search/search',placeholder:$t('Search by keyword'),label:$t('Keyword'),value:'',keywordUpdated:false,previews:[],chipsProvider:'componentType = filtersChips, ns = ${ $.ns }',statefull:{value:true},tracks:{value:true,previews:true,inputValue:true,focused:true,keywordUpdated:true},imports:{inputValue:'value',updatePreview:'value',focused:false},exports:{value:'${ $.provider }:params.search',keywordUpdated:'${ $.provider }:params.keywordUpdated'},modules:{chips:'${ $.chipsProvider }'}},initialize:function(){var urlParams=window.location.href.slice(window.location.href.search('[\\&\\?](search=)')).split('&'),searchTerm=[];this._super().initChips();if(urlParams[0]){searchTerm=urlParams[0].split('=');if(searchTerm[1]){this.apply(decodeURIComponent(searchTerm[1]));}}\nreturn this;},initChips:function(){this.chips('insertChild',this,0);return this;},clear:function(){this.value='';return this;},scrollTo:function($data){$('html, body').animate({scrollTop:0},'slow',function(){$data.focused=false;$data.focused=true;});},cancel:function(){this.inputValue=this.value;return this;},apply:function(value){value=value||this.inputValue;this.keywordUpdated=this.value!==value;this.value=this.inputValue=value.trim();return this;},updatePreview:function(){var preview=[];if(this.value){preview.push({elem:this,label:this.label,preview:this.value});}\nthis.previews=preview;return this;}});});","Magento_Ui/js/dynamic-rows/record.min.js":"define(['underscore','uiCollection','uiRegistry'],function(_,uiCollection,registry){'use strict';return uiCollection.extend({defaults:{visible:true,disabled:true,headerLabel:'',label:'',positionProvider:'position',imports:{data:'${ $.provider }:${ $.dataScope }'},listens:{position:'initPosition',elems:'setColumnVisibleListener'},links:{position:'${ $.name }.${ $.positionProvider }:value'},exports:{recordId:'${ $.provider }:${ $.dataScope }.record_id'},modules:{parentComponent:'${ $.parentName }'}},initialize:function(){var self=this;this._super();registry.async(this.name+'.'+this.positionProvider)(function(component){component.hasChanged=function(){return this.value().toString()!=this.initialValue.toString();};if(!component.initialValue){component.initialValue=self.parentComponent().maxPosition;component.bubble('update',component.hasChanged());}});return this;},initConfig:function(){this._super();this.label=this.label||this.headerLabel;return this;},initObservable:function(){this._super().track('position').observe(['visible','disabled','data','label']);return this;},initPosition:function(position){var pos=parseInt(position,10);this.parentComponent().setMaxPosition(pos,this);if(!pos&&pos!==0){this.position=this.parentComponent().maxPosition;}},setColumnVisibleListener:function(){var elem=_.find(this.elems(),function(curElem){return!curElem.hasOwnProperty('visibleListener');});if(!elem){return;}\nthis.childVisibleListener(elem);if(!elem.visibleListener){elem.on('visible',this.childVisibleListener.bind(this,elem));}\nelem.visibleListener=true;},childVisibleListener:function(data){this.setVisibilityColumn(data.index,data.visible());},reset:function(){var elems=this.elems(),nameIsEqual,dataScopeIsEqual;_.each(elems,function(elem){nameIsEqual=this.name+'.'+this.positionProvider===elem.name;dataScopeIsEqual=this.dataScope===elem.dataScope;if(!(nameIsEqual||dataScopeIsEqual)&&_.isFunction(elem.reset)){elem.reset();}},this);return this;},clear:function(){var elems=this.elems(),nameIsEqual,dataScopeIsEqual;_.each(elems,function(elem){nameIsEqual=this.name+'.'+this.positionProvider===elem.name;dataScopeIsEqual=this.dataScope===elem.dataScope;if(!(nameIsEqual||dataScopeIsEqual)&&_.isFunction(elem.reset)){elem.clear();}},this);return this;},getLabel:function(label){if(_.isString(label)){this.label(label);}else if(label&&this.label()){return this.label();}else{this.label(this.headerLabel);}\nreturn this.label();},setVisible:function(state){this.elems.each(function(cell){cell.visible(state);});},setVisibilityColumn:function(index,state){var elems=this.elems(),curElem=parseInt(index,10),label;if(!this.parentComponent()){return false;}\nif(_.isNaN(curElem)){_.findWhere(elems,{index:index}).visible(state);label=_.findWhere(this.parentComponent().labels(),{name:index});label.defaultLabelVisible&&label.visible(state);}else{elems[curElem].visible(state);}},setDisabled:function(state){this.elems.each(function(cell){cell.disabled(state);});},setDisabledColumn:function(index,state){index=~~index;this.elems()[index].disabled(state);}});});","Magento_Ui/js/dynamic-rows/dnd.min.js":"define(['ko','jquery','underscore','uiElement','Magento_Ui/js/lib/view/utils/async'],function(ko,$,_,Element){'use strict';var transformProp;function getContext(elem){return ko.contextFor(elem);}\ntransformProp=(function(){var style=document.createElement('div').style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!=='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!=='undefined'){return property;}}})();return Element.extend({defaults:{separatorsClass:{top:'_dragover-top',bottom:'_dragover-bottom'},step:'auto',tableClass:'table.admin__dynamic-rows',recordsCache:[],draggableElement:{},draggableElementClass:'_dragged',elemPositions:[],listens:{'${ $.recordsProvider }:elems':'setCacheRecords'},modules:{parentComponent:'${ $.recordsProvider }'}},initialize:function(){_.bindAll(this,'mousemoveHandler','mouseupHandler');this._super().body=$('body');return this;},initObservable:function(){this._super().observe(['recordsCache']);return this;},initListeners:function(elem,data){$(elem).on('mousedown touchstart',this.mousedownHandler.bind(this,data,elem));},mousedownHandler:function(data,elem,event){var recordNode=this.getRecordNode(elem),originRecord=$(elem).parents('tr').eq(0),drEl=this.draggableElement,$table=$(elem).parents('table').eq(0),$tableWrapper=$table.parent();this.disableScroll();$(recordNode).addClass(this.draggableElementClass);$(originRecord).addClass(this.draggableElementClass);this.step=this.step==='auto'?originRecord.height()/ 2:this.step;drEl.originRow=originRecord;drEl.instance=recordNode=this.processingStyles(recordNode,elem);drEl.instanceCtx=this.getRecord(originRecord[0]);drEl.eventMousedownY=this.getPageY(event);drEl.minYpos=$table.offset().top-originRecord.offset().top+$table.children('thead').outerHeight();drEl.maxYpos=drEl.minYpos+$table.children('tbody').outerHeight()-originRecord.outerHeight();$tableWrapper.append(recordNode);this.body.on('mousemove touchmove',this.mousemoveHandler);this.body.on('mouseup touchend',this.mouseupHandler);},mousemoveHandler:function(event){var depEl=this.draggableElement,pageY=this.getPageY(event),positionY=pageY-depEl.eventMousedownY,processingPositionY=positionY+'px',processingMaxYpos=depEl.maxYpos+'px',processingMinYpos=depEl.minYpos+'px',depElement=this.getDepElement(depEl.instance,positionY,depEl.originRow);if(depElement){depEl.depElement?depEl.depElement.elem.removeClass(depEl.depElement.className):false;depEl.depElement=depElement;depEl.depElement.insert!=='none'?depEl.depElement.elem.addClass(depElement.className):false;}else if(depEl.depElement&&depEl.depElement.insert!=='none'){depEl.depElement.elem.removeClass(depEl.depElement.className);depEl.depElement.insert='none';}\nif(positionY>depEl.minYpos&&positionY<depEl.maxYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingPositionY+')';}else if(positionY<depEl.minYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingMinYpos+')';}else if(positionY>=depEl.maxYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingMaxYpos+')';}},mouseupHandler:function(event){var depElementCtx,drEl=this.draggableElement,pageY=this.getPageY(event),positionY=pageY-drEl.eventMousedownY;this.enableScroll();drEl.depElement=this.getDepElement(drEl.instance,positionY,this.draggableElement.originRow);drEl.instance.remove();if(drEl.depElement){depElementCtx=this.getRecord(drEl.depElement.elem[0]);drEl.depElement.elem.removeClass(drEl.depElement.className);if(drEl.depElement.insert!=='none'){this.setPosition(drEl.depElement.elem,depElementCtx,drEl);}}\ndrEl.originRow.removeClass(this.draggableElementClass);this.body.off('mousemove touchmove',this.mousemoveHandler);this.body.off('mouseup touchend',this.mouseupHandler);this.draggableElement={};},setPosition:function(depElem,depElementCtx,dragData){var depElemPosition=~~depElementCtx.position;if(dragData.depElement.insert==='after'){dragData.instanceCtx.position=depElemPosition+1;}else if(dragData.depElement.insert==='before'){dragData.instanceCtx.position=depElemPosition;}},getDepElement:function(curInstance,position,row){var tableSelector=this.tableClass+' tr',$table=$(row).parents('table').eq(0),$curInstance=$(curInstance),recordsCollection=$table.find('table').length?$table.find('tbody > tr').filter(function(index,elem){return!$(elem).parents(tableSelector).length;}):$table.find('tbody > tr'),curInstancePositionTop=$curInstance.position().top,curInstancePositionBottom=curInstancePositionTop+$curInstance.height();if(position<0){return this._getDepElement(recordsCollection,'before',curInstancePositionTop);}else if(position>0){return this._getDepElement(recordsCollection,'after',curInstancePositionBottom);}},_getDepElement:function(collection,position,dragPosition){var rec,rangeEnd,rangeStart,result,className,i=0,length=collection.length;for(i;i<length;i++){rec=collection.eq(i);if(position==='before'){rangeStart=collection.eq(i).position().top-this.step;rangeEnd=rangeStart+this.step*2;className=this.separatorsClass.top;}else if(position==='after'){rangeEnd=rec.position().top+rec.height()+this.step;rangeStart=rangeEnd-this.step*2;className=this.separatorsClass.bottom;}\nif(dragPosition>rangeStart&&dragPosition<rangeEnd){result={elem:rec,insert:rec[0]===this.draggableElement.originRow[0]?'none':position,className:className};}}\nreturn result;},_setDefaultPosition:function(elem,data){var originRecord=$(elem).parents('tr').eq(0),position=originRecord.position();++position.top;$(data).css(position);},setCacheRecords:function(records){this.recordsCache(records);},processingStyles:function(data,elem){var table=$(elem).parents('table').eq(0),columns=table.find('th'),recordColumns=$(data).find('td');this._setDefaultPosition(elem,$(data));this._setColumnsWidth(columns,recordColumns);this._setTableWidth(table,$(data));return data;},_setTableWidth:function(originalTable,recordTable){recordTable.outerWidth(originalTable.outerWidth());},_setColumnsWidth:function(originColumns,recordColumns){var i=0,length=originColumns.length;for(i;i<length;i++){recordColumns.eq(i).outerWidth(originColumns.eq(i).outerWidth());}},getRecordNode:function(record){var $record=$(record),table=$record.parents('table')[0].cloneNode(true),$table=$(table);$table.find('tr').remove();$table.append($record.parents('tr')[0].cloneNode(true));return table;},getRecord:function(elem){var ctx=getContext(elem),index=_.isFunction(ctx.$index)?ctx.$index():ctx.$index;return this.recordsCache()[index];},getPageY:function(event){var pageY;if(event.type.indexOf('touch')>=0){if(event.originalEvent.touches[0]){pageY=event.originalEvent.touches[0].pageY;}else{pageY=event.originalEvent.changedTouches[0].pageY;}}else{pageY=event.pageY;}\nreturn pageY;},disableScroll:function(){document.body.addEventListener('touchmove',this.preventDefault,{passive:false});},enableScroll:function(){document.body.removeEventListener('touchmove',this.preventDefault,{passive:false});},preventDefault:function(event){event.preventDefault();}});});","Magento_Ui/js/dynamic-rows/action-delete.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{links:{value:false}},deleteRecord:function(index,id){this.bubble('deleteRecord',index,id);}});});","Magento_Ui/js/dynamic-rows/dynamic-rows-grid.min.js":"define(['underscore','./dynamic-rows'],function(_,dynamicRows){'use strict';return dynamicRows.extend({defaults:{dataProvider:'',insertData:[],map:null,cacheGridData:[],deleteProperty:false,positionProvider:'position',dataLength:0,identificationProperty:'id',identificationDRProperty:'id',listens:{'insertData':'processingInsertData','recordData':'initElements setToInsertData'},mappingSettings:{enabled:true,distinct:true}},initialize:function(){this.setToInsertData=_.debounce(this.setToInsertData,200);return this._super();},initObservable:function(){this._super().observe(['insertData']);return this;},setToInsertData:function(){var insertData=[],obj;if(this.recordData().length&&!this.update){_.each(this.recordData(),function(recordData){obj={};obj[this.map[this.identificationProperty]]=recordData[this.identificationProperty];insertData.push(obj);},this);if(insertData.length){this.source.set(this.dataProvider,insertData);}}},initChildren:function(){this.getChildItems().forEach(function(data,index){this.processingAddChild(data,this.startIndex+index,data[this.identificationDRProperty]);},this);return this;},initElements:function(data){var newData=this.getNewData(data);this.parsePagesData(data);if(newData.length){if(this.insertData().length){this.processingAddChild(newData[0],data.length-1,newData[0][this.identificationProperty]);}}\nreturn this;},deleteRecord:function(index,recordId){this.updateInsertData(recordId);this._super();},updateInsertData:function(recordId){var data=this.getElementData(this.insertData(),recordId),prop=this.map[this.identificationDRProperty];this.insertData(_.reject(this.source.get(this.dataProvider),function(recordData){return recordData[prop].toString()===data[prop].toString();},this));},getElementData:function(array,index,property){var obj={},result;property?obj[property]=index:obj[this.map[this.identificationDRProperty]]=index;result=_.findWhere(array,obj);if(!result){property?obj[property]=index.toString():obj[this.map[this.identificationDRProperty]]=index.toString();}\nresult=_.findWhere(array,obj);return result;},processingAddChild:function(ctx,index,prop){if(this._elems.length>this.pageSize){return false;}\nthis.showSpinner(true);this.addChild(ctx,index,prop);},getNewData:function(data){var changes=[],tmpObj={};if(data.length!==this.relatedData.length){_.each(data,function(obj){tmpObj[this.identificationDRProperty]=obj[this.identificationDRProperty];if(!_.findWhere(this.relatedData,tmpObj)){changes.push(obj);}},this);}\nreturn changes;},processingInsertData:function(data){var changes,obj={};changes=this._checkGridData(data);this.cacheGridData=data;if(changes.length){obj[this.identificationDRProperty]=changes[0][this.map[this.identificationProperty]];if(_.findWhere(this.recordData(),obj)){return false;}\nchanges.forEach(function(changedObject){this.mappingValue(changedObject);},this);}},mappingValue:function(data){var obj={},tmpObj={};if(this.mappingSettings.enabled){_.each(this.map,function(prop,index){obj[index]=!_.isUndefined(data[prop])?data[prop]:'';},this);}else{obj=data;}\nif(this.mappingSettings.distinct){tmpObj[this.identificationDRProperty]=obj[this.identificationDRProperty];if(_.findWhere(this.recordData(),tmpObj)){return false;}}\nif(!obj.hasOwnProperty(this.positionProvider)){this.setMaxPosition();obj[this.positionProvider]=this.maxPosition;}\nthis.source.set(this.dataScope+'.'+this.index+'.'+this.recordData().length,obj);},_checkGridData:function(data){var cacheLength=this.cacheGridData.length,curData=data.length,max=cacheLength>curData?this.cacheGridData:data,changes=[],obj={};max.forEach(function(record,index){obj[this.map[this.identificationDRProperty]]=record[this.map[this.identificationDRProperty]];if(!_.where(this.cacheGridData,obj).length){changes.push(data[index]);}},this);return changes;}});});","Magento_Ui/js/dynamic-rows/dynamic-rows.min.js":"define(['ko','mageUtils','underscore','uiLayout','uiCollection','uiRegistry','mage/translate','jquery'],function(ko,utils,_,layout,uiCollection,registry,$t,$){'use strict';function castValue(value){if(_.isUndefined(value)||value===''||_.isNull(value)){return false;}\nreturn value;}\nfunction compareArrays(base,current){var index=0,length=base.length;if(base.length!==current.length){return false;}\nfor(index;index<length;index++){if(_.isArray(base[index])&&_.isArray(current[index])){if(!compareArrays(base[index],current[index])){return false;}}else if(typeof base[index]==='object'&&typeof current[index]==='object'){if(!compareObjects(base[index],current[index])){return false;}}else if(castValue(base[index])!=castValue(current[index])){return false;}}\nreturn true;}\nfunction compareObjects(base,current){var prop;for(prop in base){if(_.isArray(base[prop])&&_.isArray(current[prop])){if(!compareArrays(base[prop],current[prop])){return false;}}else if(typeof base[prop]==='object'&&typeof current[prop]==='object'){if(!compareObjects(base[prop],current[prop])){return false;}}else if(castValue(base[prop])!=castValue(current[prop])){return false;}}\nreturn true;}\nreturn uiCollection.extend({defaults:{defaultRecord:false,columnsHeader:true,columnsHeaderAfterRender:false,columnsHeaderClasses:'',labels:[],recordTemplate:'record',collapsibleHeader:false,additionalClasses:{},visible:true,disabled:false,fit:false,addButton:true,addButtonLabel:$t('Add'),recordData:[],maxPosition:0,deleteProperty:'delete',identificationProperty:'record_id',deleteValue:true,showSpinner:true,isDifferedFromDefault:false,defaultState:[],defaultPagesState:{},pagesChanged:{},hasInitialPagesState:{},changed:false,fallbackResetTpl:'ui/form/element/helper/fallback-reset-link',dndConfig:{name:'${ $.name }_dnd',component:'Magento_Ui/js/dynamic-rows/dnd',template:'ui/dynamic-rows/cells/dnd',recordsProvider:'${ $.name }',enabled:true},templates:{record:{parent:'${ $.$data.collection.name }',name:'${ $.$data.index }',dataScope:'${ $.$data.collection.index }.${ $.name }',nodeTemplate:'${ $.parent }.${ $.$data.collection.recordTemplate }'}},links:{recordData:'${ $.provider }:${ $.dataScope }.${ $.index }'},listens:{visible:'setVisible',disabled:'setDisabled',childTemplate:'initHeader',recordTemplate:'onUpdateRecordTemplate',recordData:'setDifferedFromDefault parsePagesData setRecordDataToCache',currentPage:'changePage',elems:'checkSpinner',changed:'updateTrigger'},modules:{dnd:'${ $.dndConfig.name }'},pages:1,pageSize:20,relatedData:[],currentPage:1,recordDataCache:[],startIndex:0},setRecordDataToCache:function(data){this.recordDataCache=data;},initialize:function(){_.bindAll(this,'processingDeleteRecord','onChildrenUpdate','checkDefaultState','renderColumnsHeader','deleteHandler','setDefaultState');this._super().initChildren().initDnd().initDefaultRecord().setInitialProperty().setColumnsHeaderListener().checkSpinner();this.on('recordData',this.checkDefaultState);return this;},bubble:function(event){if(event==='deleteRecord'||event==='update'){return false;}\nreturn this._super();},initDnd:function(){if(this.dndConfig.enabled){layout([this.dndConfig]);}\nreturn this;},destroy:function(){if(this.dnd()){this.dnd().destroy();}\nthis._super();},initObservable:function(){this._super().track('childTemplate').observe(['pages','currentPage','recordData','columnsHeader','visible','disabled','labels','showSpinner','isDifferedFromDefault','changed']);return this;},initElement:function(elem){this._super();elem.on({'deleteRecord':this.deleteHandler,'update':this.onChildrenUpdate,'addChild':this.setDefaultState});return this;},deleteHandler:function(index,id){var defaultState;this.setDefaultState();defaultState=this.defaultPagesState[this.currentPage()];this.processingDeleteRecord(index,id);this.pagesChanged[this.currentPage()]=!compareArrays(defaultState,this.arrayFilter(this.getChildItems()));this.changed(_.some(this.pagesChanged));},setInitialProperty:function(){if(_.isArray(this.recordData())){this.recordData.each(function(data,index){this.source.set(this.dataScope+'.'+this.index+'.'+index+'.initialize',true);},this);}\nreturn this;},onChildrenUpdate:function(state){var changed,dataScope,changedElemDataScope;if(state&&!this.hasInitialPagesState[this.currentPage()]){this.setDefaultState();changed=this.getChangedElems(this.elems());dataScope=this.elems()[0].dataScope.split('.');dataScope.splice(dataScope.length-1,1);changed.forEach(function(elem){changedElemDataScope=elem.dataScope.split('.');changedElemDataScope.splice(0,dataScope.length);changedElemDataScope[0]=(parseInt(changedElemDataScope[0],10)-this.pageSize*(this.currentPage()-1)).toString();this.setValueByPath(this.defaultPagesState[this.currentPage()],changedElemDataScope,elem.initialValue);},this);}\nif(this.defaultPagesState[this.currentPage()]){this.setChangedForCurrentPage();}},setDefaultState:function(data){var componentData,childItems;if(!this.hasInitialPagesState[this.currentPage()]){childItems=this.getChildItems();componentData=childItems.length?utils.copy(childItems):utils.copy(this.getChildItems(this.recordDataCache));componentData.forEach(function(dataObj){if(dataObj.hasOwnProperty('initialize')){delete dataObj.initialize;}});this.hasInitialPagesState[this.currentPage()]=true;this.defaultPagesState[this.currentPage()]=data?data:this.arrayFilter(componentData);}},setValueByPath:function(obj,path,value){var prop;if(_.isString(path)){path=path.split('.');}\nif(path.length-1){prop=obj[path[0]];path.splice(0,1);this.setValueByPath(prop,path,value);}else if(path.length&&obj){obj[path[0]]=value;}},getChangedElems:function(array,changed){changed=changed||[];array.forEach(function(elem){if(_.isFunction(elem.elems)){this.getChangedElems(elem.elems(),changed);}else if(_.isFunction(elem.hasChanged)&&elem.hasChanged()){changed.push(elem);}},this);return changed;},setColumnsHeaderListener:function(){if(this.columnsHeaderAfterRender){this.on('recordData',this.renderColumnsHeader);if(_.isArray(this.recordData())&&this.recordData().length){this.renderColumnsHeader();}}\nreturn this;},checkDefaultState:function(){var isRecordDataArray=_.isArray(this.recordData()),initialize,hasNotDefaultRecords=isRecordDataArray?!!this.recordData().filter(function(data){return!data.initialize;}).length:false;if(!this.hasInitialPagesState[this.currentPage()]&&isRecordDataArray&&hasNotDefaultRecords){this.hasInitialPagesState[this.currentPage()]=true;this.defaultPagesState[this.currentPage()]=utils.copy(this.getChildItems().filter(function(data){initialize=data.initialize;delete data.initialize;return initialize;}));this.setChangedForCurrentPage();}else if(this.hasInitialPagesState[this.currentPage()]){this.setChangedForCurrentPage();}},arrayFilter:function(data){var prop;data.forEach(function(elem){for(prop in elem){if(_.isArray(elem[prop])){elem[prop]=_.filter(elem[prop],function(elemProp){return elemProp[this.deleteProperty]!==this.deleteValue;},this);elem[prop].forEach(function(elemProp){if(_.isArray(elemProp)){elem[prop]=this.arrayFilter(elemProp);}},this);}}},this);return data;},updateTrigger:function(val){this.trigger('update',val);},hasChanged:function(){return this.changed();},renderColumnsHeader:function(){this.recordData().length?this.columnsHeader(true):this.columnsHeader(false);},initDefaultRecord:function(){if(this.defaultRecord&&!this.recordData().length){this.addChild();}\nreturn this;},createHeaderTemplate:function(prop){var visible=prop.visible!==false,disabled=_.isUndefined(prop.disabled)?this.disabled():prop.disabled;return{visible:ko.observable(visible),disabled:ko.observable(disabled)};},initHeader:function(){var labels=[],data;if(!this.labels().length){_.each(this.childTemplate.children,function(cell){data=this.createHeaderTemplate(cell.config);cell.config.labelVisible=false;_.extend(data,{defaultLabelVisible:data.visible(),label:cell.config.label,name:cell.name,required:!!cell.config.validation,columnsHeaderClasses:cell.config.columnsHeaderClasses,sortOrder:cell.config.sortOrder});labels.push(data);},this);this.labels(_.sortBy(labels,'sortOrder'));}},setMaxPosition:function(position,elem){if(position||position===0){this.checkMaxPosition(position);this.sort(position,elem);}else{this.maxPosition+=1;}},sort:function(position,elem){var that=this,sorted,updatedCollection;if(this.elems().filter(function(el){return el.position||el.position===0;}).length!==this.getChildItems().length){return false;}\nif(!elem.containers.length){registry.get(elem.name,function(){that.sort(position,elem);});return false;}\nsorted=this.elems().sort(function(propOne,propTwo){return~~propOne.position-~~propTwo.position;});updatedCollection=this.updatePosition(sorted,position,elem.name);this.elems(updatedCollection);},checkSpinner:function(elems){this.showSpinner(!(!this.recordData().length||elems&&elems.length===this.getChildItems().length));},parsePagesData:function(data){this.relatedData=this.deleteProperty?_.filter(data,function(elem){return elem&&elem[this.deleteProperty]!==this.deleteValue;},this):data;this._updatePagesQuantity();},reinitRecordData:function(){this.recordData(_.filter(this.recordData(),function(elem){return elem&&elem[this.deleteProperty]!==this.deleteValue;},this));},getChildItems:function(data,page){var dataRecord=data||this.relatedData,startIndex;this.startIndex=(~~this.currentPage()-1)*this.pageSize;startIndex=page||this.startIndex;return dataRecord.slice(startIndex,this.startIndex+parseInt(this.pageSize,10));},getRecordCount:function(){return _.filter(this.recordData(),function(record){return record&&record[this.deleteProperty]!==this.deleteValue;},this).length;},getColumnsCount:function(){return this.labels().length+(this.dndConfig.enabled?1:0);},processingAddChild:function(ctx,index,prop){this.bubble('addChild',false);if(this.relatedData.length&&this.relatedData.length%this.pageSize===0){this.pages(this.pages()+1);this.nextPage();}else if(~~this.currentPage()!==this.pages()){this.currentPage(this.pages());}\nthis.addChild(ctx,index,prop);},processingDeleteRecord:function(index,recordId){this.deleteRecord(index,recordId);},changePage:function(page){this.clear();if(page===1&&!this.recordData().length){return false;}\nif(~~page>this.pages()){this.currentPage(this.pages());return false;}else if(~~page<1){this.currentPage(1);return false;}\nthis.initChildren();return true;},isFirst:function(){return this.currentPage()===1;},isLast:function(){return this.currentPage()===this.pages();},nextPage:function(){this.currentPage(this.currentPage()+1);},previousPage:function(){this.currentPage(this.currentPage()-1);},updatePosition:function(collection,position,elemName){var curPos,parsePosition=~~position,result=_.filter(collection,function(record){return~~record.position===parsePosition;});if(result[1]){curPos=parsePosition+1;result[0].name===elemName?result[1].position=curPos:result[0].position=curPos;this.updatePosition(collection,curPos);}\nreturn collection;},checkMaxPosition:function(position){var max=0,pos;this.elems.each(function(record){pos=~~record.position;pos>max?max=pos:false;});max<position?max=position:false;this.maxPosition=max;},removeMaxPosition:function(){this.maxPosition=0;this.elems.each(function(record){this.maxPosition<record.position?this.maxPosition=~~record.position:false;},this);},onUpdateRecordTemplate:function(recordName){if(recordName){this.recordTemplate=recordName;this.reload();}},deleteRecord:function(index,recordId){var recordInstance,lastRecord,recordsData,lastRecordIndex;if(this.deleteProperty){recordsData=this.recordData();recordInstance=_.find(this.elems(),function(elem){return elem.index===index;});recordInstance.destroy();this.elems([]);this._updateCollection();this.removeMaxPosition();recordsData[recordInstance.index][this.deleteProperty]=this.deleteValue;this.recordData(recordsData);this.reinitRecordData();this.reload();}else{this.update=true;if(~~this.currentPage()===this.pages()){lastRecordIndex=this.startIndex+this.getChildItems().length-1;lastRecord=_.findWhere(this.elems(),{index:lastRecordIndex})||_.findWhere(this.elems(),{index:lastRecordIndex.toString()});lastRecord.destroy();}\nthis.removeMaxPosition();recordsData=this._getDataByProp(recordId);this._updateData(recordsData);this.update=false;}\nthis._reducePages();this._sort();},_updatePagesQuantity:function(){var pages=Math.ceil(this.relatedData.length / this.pageSize)||1;this.pages(pages);},_reducePages:function(){if(this.pages()<~~this.currentPage()){this.currentPage(this.pages());}},_getDataByProp:function(id,prop){prop=prop||this.identificationProperty;return _.reject(this.getChildItems(),function(recordData){return recordData[prop].toString()===id.toString();},this);},_sort:function(){this.elems(this.elems().sort(function(propOne,propTwo){return~~propOne.position-~~propTwo.position;}));},_updateData:function(data){var elems=_.clone(this.elems()),path,dataArr;dataArr=this.recordData.splice(this.startIndex,this.recordData().length-this.startIndex);dataArr.splice(0,this.pageSize);elems=_.sortBy(this.elems(),function(elem){return~~elem.index;});data.concat(dataArr).forEach(function(rec,idx){if(elems[idx]){elems[idx].recordId=rec[this.identificationProperty];}\nif(!rec.position){rec.position=this.maxPosition;this.setMaxPosition();}\npath=this.dataScope+'.'+this.index+'.'+(this.startIndex+idx);this.source.set(path,rec);},this);this.elems(elems);},reload:function(){this.clear();this.initChildren(false,true);this._updatePagesQuantity();this._reducePages();},updatePageSize:function(component,event){this.pageSize=$(event.target).val();this.reload();},clear:function(){this.destroyChildren();return this;},reset:function(){var elems=this.elems();_.each(elems,function(elem){if(_.isFunction(elem.reset)){elem.reset();}});},setClasses:function(data){var additional;if(_.isString(data.additionalClasses)){additional=data.additionalClasses.split(' ');data.additionalClasses={};additional.forEach(function(name){data.additionalClasses[name]=true;});}\nif(!data.additionalClasses){data.additionalClasses={};}\n_.extend(data.additionalClasses,{'_fit':data.fit,'_required':data.required,'_error':data.error,'_empty':!this.elems().length,'_no-header':this.columnsHeaderAfterRender||this.collapsibleHeader});return data.additionalClasses;},initChildren:function(){this.showSpinner(true);this.getChildItems().forEach(function(data,index){this.addChild(data,this.startIndex+index);},this);return this;},setVisible:function(state){this.elems.each(function(record){record.setVisible(state);},this);},setDisabled:function(state){this.elems.each(function(record){record.setDisabled(state);},this);},setVisibilityColumn:function(index,state){this.elems.each(function(record){record.setVisibilityColumn(index,state);},this);},setDisabledColumn:function(index,state){this.elems.each(function(record){record.setDisabledColumn(index,state);},this);},addChild:function(data,index,prop){var template=this.templates.record,child;index=index||_.isNumber(index)?index:this.recordData().length;prop=prop||_.isNumber(prop)?prop:index;_.extend(this.templates.record,{recordId:prop});child=utils.template(template,{collection:this,index:index});layout([child]);return this;},restoreToDefault:function(){this.recordData(utils.copy(this.default));this.reload();},setDifferedFromDefault:function(){var recordData;if(this.default){recordData=utils.copy(this.recordData());Array.isArray(recordData)&&recordData.forEach(function(item){delete item['record_id'];});this.isDifferedFromDefault(!_.isEqual(recordData,this.default));}},setChangedForCurrentPage:function(){this.pagesChanged[this.currentPage()]=!compareArrays(this.defaultPagesState[this.currentPage()],this.arrayFilter(this.getChildItems()));this.changed(_.some(this.pagesChanged));}});});","Magento_User/app-config.min.js":"require.config({'waitSeconds':0,'shim':{'jquery/jstree/jquery.hotkeys':['jquery'],'jquery/hover-intent':['jquery'],'mage/adminhtml/backup':['prototype'],'mage/captcha':['prototype'],'mage/common':['jquery'],'mage/webapi':['jquery'],'ko':{exports:'ko'},'moment':{exports:'moment'}},'paths':{'jquery/ui':'jquery/jquery-ui-1.9.2','jquery/validate':'jquery/jquery.validate','jquery/hover-intent':'jquery/jquery.hoverIntent','jquery/file-uploader':'jquery/fileUploader/jquery.fileuploader','prototype':'prototype/prototype-amd','text':'requirejs/text','domReady':'requirejs/domReady','ko':'ko/ko'}});require(['jquery'],function(jQuery){'use strict';jQuery.noConflict();});","Magento_User/js/roles-tree.min.js":"define(['jquery','jquery/ui','jquery/jstree/jquery.jstree'],function($){'use strict';$.widget('mage.rolesTree',{options:{treeInitData:{},treeInitSelectedData:{}},_create:function(){this.element.jstree({plugins:['themes','json_data','ui','crrm','types','vcheckbox','hotkeys'],vcheckbox:{'two_state':true,'real_checkboxes':true,'real_checkboxes_names':function(n){return['resource[]',$(n).data('id')];}},'json_data':{data:this.options.treeInitData},ui:{'select_limit':0},hotkeys:{space:this._changeState,'return':this._changeState},types:{'types':{'disabled':{'check_node':false,'uncheck_node':false}}}});this._bind();},_destroy:function(){this.element.jstree('destroy');},_bind:function(){this.element.on('loaded.jstree',$.proxy(this._checkNodes,this));this.element.on('click.jstree','a',$.proxy(this._checkNode,this));},_checkNode:function(event){event.stopPropagation();this.element.jstree('change_state',event.currentTarget,this.element.jstree('is_checked',event.currentTarget));},_checkNodes:function(){var $items=$('[data-id=\"'+this.options.treeInitSelectedData.join('\"],[data-id=\"')+'\"]');$items.removeClass('jstree-unchecked').addClass('jstree-checked');$items.children(':checkbox').prop('checked',true);},_changeState:function(){var element;if(this.data.ui.hovered){element=this.data.ui.hovered;this['change_state'](element,this['is_checked'](element));}\nreturn false;}});return $.mage.rolesTree;});","Magento_User/js/delete-user-account.min.js":"define(['jquery'],function($){'use strict';var postData;return function(params,elem){elem.on('click',function(){postData={'data':{'user_id':params.objId,'current_password':$('[name=\"current_password\"]').val()}};if($.validator.validateElement($('[name=\"current_password\"]'))){window.deleteConfirm(params.message,params.url,postData);}});};});","Vertex_Tax/js/messages.min.js":"define([],function(){return function(config){var messageObject=config.messageObject;var messageHtml=messageObject.messages;var mainContainer=$('page:main-container');var parent=mainContainer.parentNode;var messages=$('messages');if(messages===null){messages=document.createElement('div');messages.id='messages';parent.insertBefore(messages,mainContainer);}\nmessages.innerHTML=messageHtml;}});","Vertex_Tax/js/hide-messages.min.js":"require(['Magento_Sales/order/create/scripts'],function(){'use strict';AdminOrder.prototype.loadAreaResponseHandler=AdminOrder.prototype.loadAreaResponseHandler.wrap(function(parentFunction,response){parentFunction(response);if(response['message']===''){this.hideArea('message');}else{this.showArea('message');}});});","Vertex_Tax/js/allowed-countries.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('vertex.allowedCountries',{_create:function(){$(this.element).on('click','optgroup',this.filterClick.bind(this));},filterClick:function(event){if(!$(event.target).is('optgroup')){return;}\nthis._processClick(event);},_processClick:function(event){var optgroup=$(event.target),select=optgroup.closest('select'),scrollTop=select.scrollTop();if(optgroup.children('option:not(:selected)').length===0){optgroup.children('option').prop('selected',false);}else{optgroup.children('option').prop('selected',true);}\nsetTimeout(function(){select.scrollTop(scrollTop);},0);}});return $.vertex.allowedCountries;});","Vertex_Tax/js/model/flex-field-table.min.js":"define(['uiComponent','ko','uiLayout','Vertex_Tax/js/form/caption-formatter'],function(Component,ko,layout,captionFormatter){'use strict';return Component.extend({defaults:{elementName:'',fieldType:'',tableId:'',template:'Vertex_Tax/flex-field-table',defaultPlaceholder:'No Data',selectOptions:[{label:'No Data',value:'none'}]},retrieveFields:[],initialize:function(){this._super();this.retrieveFields=ko.observableArray();this.initializeFields();return this;},initializeFields:function(){var i,name,fieldId,fieldSource,toLayOut=[];for(i in this.values){if(this.values.hasOwnProperty(i)){fieldSource=this.values[i]['field_source'];fieldId=this.values[i]['field_id'];name=this.fieldType+'FlexField'+fieldId;this.retrieveFields.push({fieldId:fieldId,fieldSource:fieldSource,fieldLabel:this.getFieldLabelFromSource(fieldSource),editMode:ko.observable(false),childName:name});}}\nlayout(toLayOut);},enableEditMode:function(child){child.editMode(true);layout([{component:'Vertex_Tax/js/form/flex-field-select',template:'ui/grid/filters/elements/ui-select',parent:this.name,name:child.childName,dataScope:'',multiple:false,selectType:'optgroup',selectedPlaceholders:{defaultPlaceholder:this.defaultPlaceholder},showOpenLevelsActionIcon:true,presets:{optgroup:{showOpenLevelsActionIcon:true}},filterOptions:true,isDisplayMissingValuePlaceholder:true,options:this.selectOptions,value:child.fieldSource}]);},getFieldIdInputName:function(fieldId){return this.elementName+'['+fieldId+'][field_id]';},getFieldLabelFromSource:function(source){var i,j,selected;for(i in this.selectOptions){if(this.selectOptions[i].optgroup===undefined){continue;}\nfor(j in this.selectOptions[i].optgroup){selected=this.selectOptions[i].optgroup[j];if(selected.value===source){return captionFormatter.getFormattedValue(selected);}}}\nreturn this.defaultPlaceholder;},getFieldValueInputName:function(fieldId){return this.elementName+'['+fieldId+'][field_source]';},getEmptyName:function(){return this.elementName+'[__empty]';}});});","Vertex_Tax/js/form/caption-formatter.min.js":"define(function(){'use strict';return{getFormattedValue:function(selected){var label='';if(selected.parent){label=selected.parent+' - ';}\nlabel+=selected.label;return label;}};});","Vertex_Tax/js/form/flex-field-select.min.js":"define(['underscore','Magento_Ui/js/form/element/ui-select','Vertex_Tax/js/form/caption-formatter'],function(_,Component,captionFormatter){'use strict';return Component.extend({defaults:{presets:{optgroup:{openLevelsAction:true,showOpenLevelsActionIcon:true}}},setCaption:function(){var length,label;if(!_.isArray(this.value())&&this.value()){length=1;}else if(this.value()){length=this.value().length;}else{this.value([]);length=0;}\nif(length&&this.getSelected().length){label=captionFormatter.getFormattedValue(this.getSelected()[0]);this.placeholder(label);}else{this.placeholder(this.selectedPlaceholders.defaultPlaceholder);}\nreturn this.placeholder();}});});","Vertex_Tax/js/form/depend-field-checker.min.js":"define(['jquery',],function($){'use strict';return{validateValues:function(dependField,valueCheck){if($(dependField).length){let dependValue=$(dependField).val();return!(dependValue&&!valueCheck);}\nreturn true;}};});","Vertex_Tax/js/form/element/customer-country-validation.min.js":"define(['jquery','ko','Magento_Ui/js/form/element/select','Magento_Ui/js/lib/validation/validator','Vertex_Tax/js/form/depend-field-checker','mage/translate'],function($,ko,Select,validator,dependFieldChecker){'use strict';return Select.extend({defaults:{imports:{'taxvat':'${ $.provider }:data.customer.taxvat'},listens:{'${ $.provider }:data.customer.taxvat':'_taxVatUpdated',}},initialize:function(){this._super();this.required(!!this.taxvat().length);},setLinks:function(){return this._super();},initObservable:function(){this._super();this.taxvat=ko.observable('');return this;},initConfig:function(config){validator.addRule('vertex-customer-country',function(value){let dependField='input[name=\"customer['+config.dependField+']\"]';return dependFieldChecker.validateValues(dependField,value);},$.mage.__(\"Please select a Country.\"));this._super();return this;},_taxVatUpdated:function(newValue){this.required(!!newValue.length);}});});","Vertex_Tax/js/form/element/custom-option-flex-field-select.min.js":"define(['underscore','Magento_Ui/js/form/element/select'],function(_,Select){'use strict';return Select.extend({filter:function(value,field){var source=this.initialOptions,result;field=field||this.filterBy.field;result=_.filter(source,function(item){return Array.isArray(item[field])&&item[field].includes(value)||item[field]===value||item.value===''||item.value==='unmapped';});this.setOptions(result);}});});","modernizr/modernizr.min.js":"/*!\n * Modernizr v2.6.1\n * www.modernizr.com\n *\n * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton\n * Available under the BSD and MIT licenses: www.modernizr.com/license/\n */\nwindow.Modernizr=(function(window,document,undefined){var version='2.6.1',Modernizr={},enableClasses=true,docElement=document.documentElement,mod='modernizr',modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement('input'),smile=':)',toString={}.toString,prefixes=' -webkit- -moz- -o- -ms- '.split(' '),omPrefixes='Webkit Moz O ms',cssomPrefixes=omPrefixes.split(' '),domPrefixes=omPrefixes.toLowerCase().split(' '),ns={'svg':'http://www.w3.org/2000/svg'},tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,div=document.createElement('div'),body=document.body,fakeBody=body?body:document.createElement('body');if(parseInt(nodes,10)){while(nodes--){node=document.createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}\nstyle=['&#173;','<style id=\"s',mod,'\">',rule,'</style>'].join('');div.id=mod;(body?div:fakeBody).innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background=\"\";docElement.appendChild(fakeBody);}\nret=callback(div,rule);!body?fakeBody.parentNode.removeChild(fakeBody):div.parentNode.removeChild(div);return!!ret;},testMediaQuery=function(mq){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia){return matchMedia(mq).matches;}\nvar bool;injectElementWithStyles('@media '+mq+' { #'+mod+' { position: absolute; } }',function(node){bool=(window.getComputedStyle?getComputedStyle(node,null):node.currentStyle)['position']=='absolute';});return bool;},isEventSupported=(function(){var TAGNAMES={'select':'input','change':'input','submit':'form','reset':'form','error':'img','load':'img','abort':'img'};function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||'div');eventName='on'+eventName;var isSupported=eventName in element;if(!isSupported){if(!element.setAttribute){element=document.createElement('div');}\nif(element.setAttribute&&element.removeAttribute){element.setAttribute(eventName,'');isSupported=is(element[eventName],'function');if(!is(element[eventName],'undefined')){element[eventName]=undefined;}\nelement.removeAttribute(eventName);}}\nelement=null;return isSupported;}\nreturn isEventSupported;})(),_hasOwnProperty=({}).hasOwnProperty,hasOwnProp;if(!is(_hasOwnProperty,'undefined')&&!is(_hasOwnProperty.call,'undefined')){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property);};}\nelse{hasOwnProp=function(object,property){return((property in object)&&is(object.constructor.prototype[property],'undefined'));};}\nif(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!=\"function\"){throw new TypeError();}\nvar args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F();var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result;}\nreturn self;}else{return target.apply(that,args.concat(slice.call(arguments)));}};return bound;};}\nfunction setCss(str){mStyle.cssText=str;}\nfunction setCssAll(str1,str2){return setCss(prefixes.join(str1+';')+(str2||''));}\nfunction is(obj,type){return typeof obj===type;}\nfunction contains(str,substr){return!!~(''+str).indexOf(substr);}\nfunction testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,\"-\")&&mStyle[prop]!==undefined){return prefixed=='pfx'?prop:true;}}\nreturn false;}\nfunction testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,'function')){return item.bind(elem||obj);}\nreturn item;}}\nreturn false;}\nfunction testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,\"string\")||is(prefixed,\"undefined\")){return testProps(props,prefixed);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}\ntests['flexbox']=function(){return testPropsAll('flexWrap');};tests['flexboxlegacy']=function(){return testPropsAll('boxDirection');};tests['canvas']=function(){var elem=document.createElement('canvas');return!!(elem.getContext&&elem.getContext('2d'));};tests['canvastext']=function(){return!!(Modernizr['canvas']&&is(document.createElement('canvas').getContext('2d').fillText,'function'));};tests['webgl']=function(){return!!window.WebGLRenderingContext;};tests['touch']=function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''),function(node){bool=node.offsetTop===9;});}\nreturn bool;};tests['geolocation']=function(){return'geolocation'in navigator;};tests['postmessage']=function(){return!!window.postMessage;};tests['websqldatabase']=function(){return!!window.openDatabase;};tests['indexedDB']=function(){return!!testPropsAll(\"indexedDB\",window);};tests['hashchange']=function(){return isEventSupported('hashchange',window)&&(document.documentMode===undefined||document.documentMode>7);};tests['history']=function(){return!!(window.history&&history.pushState);};tests['draganddrop']=function(){var div=document.createElement('div');return('draggable'in div)||('ondragstart'in div&&'ondrop'in div);};tests['websockets']=function(){return'WebSocket'in window||'MozWebSocket'in window;};tests['rgba']=function(){setCss('background-color:rgba(150,255,150,.5)');return contains(mStyle.backgroundColor,'rgba');};tests['hsla']=function(){setCss('background-color:hsla(120,40%,100%,.5)');return contains(mStyle.backgroundColor,'rgba')||contains(mStyle.backgroundColor,'hsla');};tests['multiplebgs']=function(){setCss('background:url(https://),url(https://),red url(https://)');return(/(url\\s*\\(.*?){3}/).test(mStyle.background);};tests['backgroundsize']=function(){return testPropsAll('backgroundSize');};tests['borderimage']=function(){return testPropsAll('borderImage');};tests['borderradius']=function(){return testPropsAll('borderRadius');};tests['boxshadow']=function(){return testPropsAll('boxShadow');};tests['textshadow']=function(){return document.createElement('div').style.textShadow==='';};tests['opacity']=function(){setCssAll('opacity:.55');return(/^0.55$/).test(mStyle.opacity);};tests['cssanimations']=function(){return testPropsAll('animationName');};tests['csscolumns']=function(){return testPropsAll('columnCount');};tests['cssgradients']=function(){var str1='background-image:',str2='gradient(linear,left top,right bottom,from(#9f9),to(white));',str3='linear-gradient(left top,#9f9, white);';setCss((str1+'-webkit- '.split(' ').join(str2+str1)+\nprefixes.join(str3+str1)).slice(0,-str1.length));return contains(mStyle.backgroundImage,'gradient');};tests['cssreflections']=function(){return testPropsAll('boxReflect');};tests['csstransforms']=function(){return!!testPropsAll('transform');};tests['csstransforms3d']=function(){var ret=!!testPropsAll('perspective');if(ret&&'webkitPerspective'in docElement.style){injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}',function(node,rule){ret=node.offsetLeft===9&&node.offsetHeight===3;});}\nreturn ret;};tests['csstransitions']=function(){return testPropsAll('transition');};tests['fontface']=function(){var bool;injectElementWithStyles('@font-face {font-family:\"font\";src:url(\"https://\")}',function(node,rule){var style=document.getElementById('smodernizr'),sheet=style.sheet||style.styleSheet,cssText=sheet?(sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||''):'';bool=/src/i.test(cssText)&&cssText.indexOf(rule.split(' ')[0])===0;});return bool;};tests['generatedcontent']=function(){var bool;injectElementWithStyles(['#modernizr:after{content:\"',smile,'\";visibility:hidden}'].join(''),function(node){bool=node.offsetHeight>=1;});return bool;};tests['video']=function(){var elem=document.createElement('video'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs=\"theora\"').replace(/^no$/,'');bool.h264=elem.canPlayType('video/mp4; codecs=\"avc1.42E01E\"').replace(/^no$/,'');bool.webm=elem.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/,'');}}catch(e){}\nreturn bool;};tests['audio']=function(){var elem=document.createElement('audio'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,'');bool.mp3=elem.canPlayType('audio/mpeg;').replace(/^no$/,'');bool.wav=elem.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,'');bool.m4a=(elem.canPlayType('audio/x-m4a;')||elem.canPlayType('audio/aac;')).replace(/^no$/,'');}}catch(e){}\nreturn bool;};tests['localstorage']=function(){try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}};tests['sessionstorage']=function(){try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true;}catch(e){return false;}};tests['webworkers']=function(){return!!window.Worker;};tests['applicationcache']=function(){return!!window.applicationCache;};tests['svg']=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,'svg').createSVGRect;};tests['inlinesvg']=function(){var div=document.createElement('div');div.innerHTML='<svg/>';return(div.firstChild&&div.firstChild.namespaceURI)==ns.svg;};tests['smil']=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,'animate')));};tests['svgclippaths']=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,'clipPath')));};function webforms(){Modernizr['input']=(function(props){for(var i=0,len=props.length;i<len;i++){attrs[props[i]]=!!(props[i]in inputElem);}\nif(attrs.list){attrs.list=!!(document.createElement('datalist')&&window.HTMLDataListElement);}\nreturn attrs;})('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));Modernizr['inputtypes']=(function(props){for(var i=0,bool,inputElemType,defaultView,len=props.length;i<len;i++){inputElem.setAttribute('type',inputElemType=props[i]);bool=inputElem.type!=='text';if(bool){inputElem.value=smile;inputElem.style.cssText='position:absolute;visibility:hidden;';if(/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined){docElement.appendChild(inputElem);defaultView=document.defaultView;bool=defaultView.getComputedStyle&&defaultView.getComputedStyle(inputElem,null).WebkitAppearance!=='textfield'&&(inputElem.offsetHeight!==0);docElement.removeChild(inputElem);}else if(/^(search|tel)$/.test(inputElemType)){}else if(/^(url|email)$/.test(inputElemType)){bool=inputElem.checkValidity&&inputElem.checkValidity()===false;}else{bool=inputElem.value!=smile;}}\ninputs[props[i]]=!!bool;}\nreturn inputs;})('search tel url email datetime date month week time datetime-local number range color'.split(' '));}\nfor(var feature in tests){if(hasOwnProp(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?'':'no-')+featureName);}}\nModernizr.input||webforms();Modernizr.addTest=function(feature,test){if(typeof feature=='object'){for(var key in feature){if(hasOwnProp(feature,key)){Modernizr.addTest(key,feature[key]);}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr;}\ntest=typeof test=='function'?test():test;if(enableClasses){docElement.className+=' '+(test?'':'no-')+feature;}\nModernizr[feature]=test;}\nreturn Modernizr;};setCss('');modElem=inputElem=null;/*! HTML5 Shiv v3.6 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */;(function(window,document){var options=window.html5||{};var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var saveClones=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i;var supportsHtml5Styles;var expando='_html5shiv';var expanID=0;var expandoData={};var supportsUnknownElements;(function(){try{var a=document.createElement('a');a.innerHTML='<xyz></xyz>';supportsHtml5Styles=('hidden'in a);supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)('a');var frag=document.createDocumentFragment();return(typeof frag.cloneNode=='undefined'||typeof frag.createDocumentFragment=='undefined'||typeof frag.createElement=='undefined');}());}catch(e){supportsHtml5Styles=true;supportsUnknownElements=true;}}());function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement('p'),parent=ownerDocument.getElementsByTagName('head')[0]||ownerDocument.documentElement;p.innerHTML='x<style>'+cssText+'</style>';return parent.insertBefore(p.lastChild,parent.firstChild);}\nfunction getElements(){var elements=html5.elements;return typeof elements=='string'?elements.split(' '):elements;}\nfunction getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];if(!data){data={};expanID++;ownerDocument[expando]=expanID;expandoData[expanID]=data;}\nreturn data;}\nfunction createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document;}\nif(supportsUnknownElements){return ownerDocument.createElement(nodeName);}\nif(!data){data=getExpandoData(ownerDocument);}\nvar node;if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode();}else if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode();}else{node=data.createElem(nodeName);}\nreturn node.canHaveChildren&&!reSkip.test(nodeName)?data.frag.appendChild(node):node;}\nfunction createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document;}\nif(supportsUnknownElements){return ownerDocument.createDocumentFragment();}\ndata=data||getExpandoData(ownerDocument);var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;for(;i<l;i++){clone.createElement(elems[i]);}\nreturn clone;}\nfunction shivMethods(ownerDocument,data){if(!data.cache){data.cache={};data.createElem=ownerDocument.createElement;data.createFrag=ownerDocument.createDocumentFragment;data.frag=data.createFrag();}\nownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName);}\nreturn createElement(nodeName,ownerDocument,data);};ownerDocument.createDocumentFragment=Function('h,f','return function(){'+'var n=f.cloneNode(),c=n.createElement;'+'h.shivMethods&&('+\ngetElements().join().replace(/\\w+/g,function(nodeName){data.createElem(nodeName);data.frag.createElement(nodeName);return'c(\"'+nodeName+'\")';})+');return n}')(html5,data.frag);}\nfunction shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document;}\nvar data=getExpandoData(ownerDocument);if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,'article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}'+'mark{background:#FF0;color:#000}');}\nif(!supportsUnknownElements){shivMethods(ownerDocument,data);}\nreturn ownerDocument;}\nvar html5={'elements':options.elements||'abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video','shivCSS':(options.shivCSS!==false),'supportsUnknownElements':supportsUnknownElements,'shivMethods':(options.shivMethods!==false),'type':'default','shivDocument':shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment};window.html5=html5;shivDocument(document);}(this,document));Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.mq=testMediaQuery;Modernizr.hasEvent=isEventSupported;Modernizr.testProp=function(prop){return testProps([prop]);};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,'pfx');}else{return testPropsAll(prop,obj,elem);}};docElement.className=docElement.className.replace(/(^|\\s)no-js(\\s|$)/,'$1$2')+\n(enableClasses?' js '+classes.join(' '):'');return Modernizr;})(this,this.document);","modernizr/modernizr.details.min.js":"define(['modernizr/modernizr'],function(){Modernizr.addTest('details',function(){var doc=document,el=doc.createElement('details'),fake,root,diff;if(!('open'in el)){return false;}\nroot=doc.body||(function(){var de=doc.documentElement;fake=true;return de.insertBefore(doc.createElement('body'),de.firstElementChild||de.firstChild);}());el.innerHTML='<summary>a</summary>b';el.style.display='block';root.appendChild(el);diff=el.offsetHeight;el.open=true;diff=diff!=el.offsetHeight;root.removeChild(el);fake&&root.parentNode.removeChild(root);return diff;});});","modernizr/modernizr.2.0.6.min.js":";window.Modernizr=function(a,b,c){function C(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+\" \"+o.join(c+\" \")+c).split(\" \");return B(d,b)}function B(a,b){for(var d in a)if(k[a[d]]!==c)return b==\"pfx\"?a[d]:!0;return!1}function A(a,b){return!!~(\"\"+a).indexOf(b)}function z(a,b){return typeof a===b}function y(a,b){return x(n.join(a+\";\")+(b||\"\"))}function x(a){k.cssText=a}var d=\"2.0.6\",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName(\"head\")[0],i=\"modernizr\",j=b.createElement(i),k=j.style,l,m=Object.prototype.toString,n=\" -webkit- -moz- -o- -ms- -khtml- \".split(\" \"),o=\"Webkit Moz O ms Khtml\".split(\" \"),p={},q={},r={},s=[],t=function(a,c,d,e){var f,h,j,k=b.createElement(\"div\");if(parseInt(d,10))while(d--)j=b.createElement(\"div\"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=[\"&shy;\",\"<style>\",a,\"</style>\"].join(\"\"),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},u,v={}.hasOwnProperty,w;!z(v,c)&&!z(v.call,c)?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],c)};var D=function(a,c){var d=a.join(\"\"),f=c.length;t(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||\"\",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=i.csstransforms3d.offsetLeft===9},f,c)}([,[\"@media (\",n.join(\"transform-3d),(\"),i,\")\",\"{#csstransforms3d{left:9px;position:absolute}}\"].join(\"\")],[,\"csstransforms3d\"]);p.csstransforms=function(){return!!B([\"transformProperty\",\"WebkitTransform\",\"MozTransform\",\"OTransform\",\"msTransform\"])},p.csstransforms3d=function(){var a=!!B([\"perspectiveProperty\",\"WebkitPerspective\",\"MozPerspective\",\"OPerspective\",\"msPerspective\"]);a&&\"webkitPerspective\"in g.style&&(a=e.csstransforms3d);return a};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?\"\":\"no-\")+u));x(\"\"),j=l=null,e._version=d,e._prefixes=n,e._domPrefixes=o,e.testProp=function(a){return B([a])},e.testAllProps=C,e.testStyles=t,e.prefixed=function(a){return C(a,\"pfx\")},g.className=g.className.replace(/\\bno-js\\b/,\"\")+(f?\" js \"+s.join(\" \"):\"\");return e}(this,this.document);","Magento_Msrp/js/msrp.min.js":"define(['jquery','Magento_Catalog/js/price-utils','underscore','jquery-ui-modules/widget','mage/dropdown','mage/template'],function($,priceUtils,_){'use strict';$.widget('mage.addToCart',{options:{showAddToCart:true,submitUrl:'',cartButtonId:'',singleOpenDropDown:true,dialog:{},dialogDelay:500,origin:'',cartForm:'.form.map.checkout',msrpLabelId:'#map-popup-msrp',msrpPriceElement:'#map-popup-msrp .price-wrapper',priceLabelId:'#map-popup-price',priceElement:'#map-popup-price .price',mapInfoLinks:'.map-show-info',displayPriceElement:'.old-price.map-old-price .price-wrapper',fallbackPriceElement:'.normal-price.map-fallback-price .price-wrapper',displayPriceContainer:'.old-price.map-old-price',fallbackPriceContainer:'.normal-price.map-fallback-price',popUpAttr:'[data-role=msrp-popup-template]',popupCartButtonId:'#map-popup-button',paypalCheckoutButons:'[data-action=checkout-form-submit]',popupId:'',realPrice:'',isSaleable:'',msrpPrice:'',helpLinkId:'',addToCartButton:'',productName:'',addToCartUrl:''},openDropDown:null,triggerClass:'dropdown-active',popUpOptions:{appendTo:'body',dialogContentClass:'active',closeOnMouseLeave:false,autoPosition:true,closeOnClickOutside:false,'dialogClass':'popup map-popup-wrapper',position:{my:'left top',collision:'fit none',at:'left bottom',within:'body'},shadowHinter:'popup popup-pointer'},popupOpened:false,wasOpened:false,_create:function(){if(this.options.origin==='msrp'){this.initMsrpPopup();}else if(this.options.origin==='info'){this.initInfoPopup();}else if(this.options.origin==='tier'){this.initTierPopup();}\n$(this.options.cartButtonId).on('click',this._addToCartSubmit.bind(this));$(document).on('updateMsrpPriceBlock',this.onUpdateMsrpPrice.bind(this));$(this.options.cartForm).on('submit',this._onSubmitForm.bind(this));},initMsrpPopup:function(){var popupDOM=$(this.options.popUpAttr)[0],$msrpPopup=$(popupDOM.innerHTML.trim());$msrpPopup.find(this.options.productIdInput).val(this.options.productId);$('body').append($msrpPopup);$msrpPopup.trigger('contentUpdated');$msrpPopup.find('button').on('click',this.handleMsrpAddToCart.bind(this)).filter(this.options.popupCartButtonId).text($(this.options.addToCartButton).text());$msrpPopup.find(this.options.paypalCheckoutButons).on('click',this.handleMsrpPaypalCheckout.bind(this));$(this.options.popupId).on('click',this.openPopup.bind(this));this.$popup=$msrpPopup;},initInfoPopup:function(){var infoPopupDOM=$('[data-role=msrp-info-template]')[0],$infoPopup=$(infoPopupDOM.innerHTML.trim());$('body').append($infoPopup);$(this.options.helpLinkId).on('click',function(e){this.popUpOptions.position.of=$(e.target);$infoPopup.dropdownDialog(this.popUpOptions).dropdownDialog('open');this._toggle($infoPopup);}.bind(this));this.$popup=$infoPopup;},initTierPopup:function(){var popupDOM=$(this.options.popUpAttr)[0],$tierPopup=$(popupDOM.innerHTML.trim());$('body').append($tierPopup);$tierPopup.find(this.options.productIdInput).val(this.options.productId);this.popUpOptions.position.of=$(this.options.helpLinkId);$tierPopup.find('button').on('click',this.handleTierAddToCart.bind(this)).filter(this.options.popupCartButtonId).text($(this.options.addToCartButton).text());$tierPopup.find(this.options.paypalCheckoutButons).on('click',this.handleTierPaypalCheckout.bind(this));$(this.options.attr).on('click',function(e){this.$popup=$tierPopup;this.tierOptions=$(e.target).data('tier-price');this.openPopup(e);}.bind(this));},handleMsrpAddToCart:function(ev){ev.preventDefault();if(this.options.addToCartButton){$(this.options.addToCartButton).click();this.closePopup(this.$popup);}},handleMsrpPaypalCheckout:function(){this.closePopup(this.$popup);},handleTierAddToCart:function(ev){ev.preventDefault();if(this.options.addToCartButton&&this.options.inputQty&&!isNaN(this.tierOptions.qty)){$(this.options.inputQty).val(this.tierOptions.qty);$(this.options.addToCartButton).click();this.closePopup(this.$popup);}},handleTierPaypalCheckout:function(){if(this.options.inputQty&&!isNaN(this.tierOptions.qty)){$(this.options.inputQty).val(this.tierOptions.qty);this.closePopup(this.$popup);}},openPopup:function(event){var options=this.tierOptions||this.options;this.popUpOptions.position.of=$(event.target);if(!this.wasOpened){this.$popup.find(this.options.msrpLabelId).html(options.msrpPrice);this.$popup.find(this.options.priceLabelId).html(options.realPrice);this.wasOpened=true;}\nthis.$popup.dropdownDialog(this.popUpOptions).dropdownDialog('open');this._toggle(this.$popup);if(!this.options.isSaleable){this.$popup.find('form').hide();}},_toggle:function($elem){$(document).on('mouseup.msrp touchend.msrp',function(e){if(!$elem.is(e.target)&&$elem.has(e.target).length===0){this.closePopup($elem);}}.bind(this));$(window).on('resize',function(){this.closePopup($elem);}.bind(this));},closePopup:function($elem){$elem.dropdownDialog('close');$(document).off('mouseup.msrp touchend.msrp');},_addToCartSubmit:function(e){this.element.trigger('addToCart',this.element);if(this.element.data('stop-processing')){return false;}\nif(this.options.addToCartButton){$(this.options.addToCartButton).click();return false;}\nif(this.options.addToCartUrl){$('.mage-dropdown-dialog > .ui-dialog-content').dropdownDialog('close');}\ne.preventDefault();$(this.options.cartForm).trigger('submit');},onUpdateMsrpPrice:function onUpdateMsrpPrice(event,priceIndex,prices,$priceBox){var defaultMsrp,defaultPrice,msrpPrice,finalPrice;defaultMsrp=_.chain(prices).map(function(price){return price.msrpPrice.amount;}).reject(function(p){return p===null;}).max().value();defaultPrice=_.chain(prices).map(function(p){return p.finalPrice.amount;}).min().value();if(typeof priceIndex!=='undefined'){msrpPrice=prices[priceIndex].msrpPrice.amount;finalPrice=prices[priceIndex].finalPrice.amount;if(msrpPrice===null||msrpPrice<=finalPrice){this.updateNonMsrpPrice(priceUtils.formatPrice(finalPrice),$priceBox);}else{this.updateMsrpPrice(priceUtils.formatPrice(finalPrice),priceUtils.formatPrice(msrpPrice),false,$priceBox);}}else{this.updateMsrpPrice(priceUtils.formatPrice(defaultPrice),priceUtils.formatPrice(defaultMsrp),true,$priceBox);}},updateMsrpPrice:function(finalPrice,msrpPrice,useDefaultPrice,$priceBox){var options=this.tierOptions||this.options;$(this.options.fallbackPriceContainer,$priceBox).hide();$(this.options.displayPriceContainer,$priceBox).show();$(this.options.mapInfoLinks,$priceBox).show();if(useDefaultPrice||!this.wasOpened){if(this.$popup){this.$popup.find(this.options.msrpLabelId).html(options.msrpPrice);this.$popup.find(this.options.priceLabelId).html(options.realPrice);}\n$(this.options.displayPriceElement,$priceBox).html(msrpPrice);this.wasOpened=true;}\nif(!useDefaultPrice){this.$popup.find(this.options.msrpPriceElement).html(msrpPrice);this.$popup.find(this.options.priceElement).html(finalPrice);$(this.options.displayPriceElement,$priceBox).html(msrpPrice);}},updateNonMsrpPrice:function(price,$priceBox){$(this.options.fallbackPriceElement,$priceBox).html(price);$(this.options.displayPriceContainer,$priceBox).hide();$(this.options.mapInfoLinks,$priceBox).hide();$(this.options.fallbackPriceContainer,$priceBox).show();},_onSubmitForm:function(){if($(this.options.cartForm).valid()){$(this.options.cartButtonId).prop('disabled',true);}}});return $.mage.addToCart;});","Magento_AdminAnalytics/js/release-notification/modal/component-mixin.min.js":"define(['jquery','analyticsPopupConfig'],function($,analyticsPopupConfig){'use strict';var deferred=$.Deferred(),mixin={initializeContent:function(){var initializeContent=this._super.bind(this);if(!analyticsPopupConfig.analyticsVisible){initializeContent();}else{deferred.then(function(){initializeContent();});}},initializeContentAfterAnalytics:function(){deferred.resolve();}};return function(target){return target.extend(mixin);};});","Magento_AdminAnalytics/js/modal/component.min.js":"define(['underscore','jquery','Magento_Ui/js/modal/modal-component','uiRegistry','analyticsPopupConfig'],function(_,$,Modal,registry,analyticsPopupConfig){'use strict';return Modal.extend({defaults:{imports:{enableLogAction:'${ $.provider }:data.enableLogAction',disableLogAction:'${ $.provider }:data.disableLogAction'},options:{},notificationWindow:null},initModal:function(){this.options.opened=this.onOpened.bind(this);this._super();},initModalEvents:function(){this._super();this.options.keyEventHandlers.escapeKey=this.handleEscKey.bind(this);this.options.keyEventHandlers.tabKey=this.handleTabKey.bind(this);return this;},onOpened:function(){$('.modal-header button.action-close').attr('disabled',true).hide();this.focusableElements=$(this.rootSelector).find('a[href], button:enabled');this.firstFocusableElement=this.focusableElements[0];this.lastFocusableElement=this.focusableElements[this.focusableElements.length-1];this.firstFocusableElement.focus();},enableAdminUsage:function(){var data={'form_key':window.FORM_KEY};$.ajax({type:'POST',url:this.enableLogAction,data:data,showLoader:true}).done(function(xhr){if(xhr.error){self.onError(xhr);}}).fail(this.onError);this.openReleasePopup();this.closeModal();},disableAdminUsage:function(){var data={'form_key':window.FORM_KEY};$.ajax({type:'POST',url:this.disableLogAction,data:data,showLoader:true}).done(function(xhr){if(xhr.error){self.onError(xhr);}}).fail(this.onError);this.openReleasePopup();this.closeModal();},openReleasePopup:function(){var notificationModalSelector='release_notification.release_notification.notification_modal_1';if(analyticsPopupConfig.releaseVisible){registry.get(notificationModalSelector).initializeContentAfterAnalytics();}},handleTabKey:function(event){var modal=this,KEY_TAB=9;function handleBackwardTab(){if(document.activeElement===modal.firstFocusableElement||document.activeElement===$(modal.rootSelector)[0]){event.preventDefault();modal.lastFocusableElement.focus();}}\nfunction handleForwardTab(){if(document.activeElement===modal.lastFocusableElement){event.preventDefault();modal.firstFocusableElement.focus();}}\nswitch(event.keyCode){case KEY_TAB:if(modal.focusableElements.length===1){event.preventDefault();break;}\nif(event.shiftKey){handleBackwardTab();break;}\nhandleForwardTab();break;default:break;}},handleEscKey:function(event){event.preventDefault();}});});","Dotdigitalgroup_Sms/js/charCounter.min.js":"require(['jquery','domReady!','smsCounter'],function($){'use strict';let selectors=[];let unicodeMessageSelector='#ddg-unicode';$(document).ready(function(){$('.ddg-note').each(function(i,obj){selectors.push('#'+obj.firstElementChild.id.replace('_counter',''));});searchForUnicode();selectors.forEach(function(entry){let counterSelector=entry+'_counter';let commentSelector=entry+'_comment';let totalSelector=entry+'_total';if($(entry).val()!==undefined){updateNote(counterSelector,commentSelector,totalSelector,$(entry).val());}});});$(document).on('keyup',selectors.join(', '),delay(function(){let counterSelector='#'+this.id+'_counter';let commentSelector='#'+this.id+'_comment';let totalSelector='#'+this.id+'_total';if(this.value!==undefined){updateNote(counterSelector,commentSelector,totalSelector,this.value);updateUnicode(this.value);}},500));function updateNote(counterSelector,commentSelector,totalSelector,smsText){let smsParsed=SmsCounter.count(smsText);$(counterSelector).text(smsParsed.length);$(totalSelector).text(smsParsed.messages);if(smsText.match(/{{([^}]+)\\}}/si)){$(commentSelector).show();}else{$(commentSelector).hide();}}\nfunction updateUnicode(smsText){let smsParsed=SmsCounter.count(smsText);if(smsParsed.encoding==='UTF16'){$(unicodeMessageSelector).show();}else{searchForUnicode();}}\nfunction searchForUnicode(){let unicodeFound=false;selectors.forEach(function(entry){if($(entry).val()!==undefined){let smsParsed=SmsCounter.count($(entry).val());if(smsParsed.encoding==='UTF16'){unicodeFound=true;$(unicodeMessageSelector).show();}}\nif(!unicodeFound){$(unicodeMessageSelector).hide();}});}\nfunction delay(callback,ms){let timer=0;return function(){let context=this,args=arguments;clearTimeout(timer);timer=setTimeout(function(){callback.apply(context,args);},ms||0);};}});","Dotdigitalgroup_Sms/js/counter/sms_counter.min.js":"(function(){var $,SmsCounter;window.SmsCounter=SmsCounter=(function(){function SmsCounter(){}\nSmsCounter.gsm7bitChars=\"@\u00a3$\u00a5\u00e8\u00e9\u00f9\u00ec\u00f2\u00c7\\\\n\u00d8\u00f8\\\\r\u00c5\u00e5\u0394_\u03a6\u0393\u039b\u03a9\u03a0\u03a8\u03a3\u0398\u039e\u00c6\u00e6\u00df\u00c9 !\\\\\\\"#\u00a4%&'()*+,-./0123456789:;<=>?\u00a1ABCDEFGHIJKLMNOPQRSTUVWXYZ\u00c4\u00d6\u00d1\u00dc\u00a7\u00bfabcdefghijklmnopqrstuvwxyz\u00e4\u00f6\u00f1\u00fc\u00e0\";SmsCounter.gsm7bitExChar=\"\\\\^{}\\\\\\\\\\\\[~\\\\]|\u20ac\";SmsCounter.gsm7bitRegExp=RegExp(\"^[\"+SmsCounter.gsm7bitChars+\"]*$\");SmsCounter.gsm7bitExRegExp=RegExp(\"^[\"+SmsCounter.gsm7bitChars+SmsCounter.gsm7bitExChar+\"]*$\");SmsCounter.gsm7bitExOnlyRegExp=RegExp(\"^[\\\\\"+SmsCounter.gsm7bitExChar+\"]*$\");SmsCounter.GSM_7BIT='GSM_7BIT';SmsCounter.GSM_7BIT_EX='GSM_7BIT_EX';SmsCounter.UTF16='UTF16';SmsCounter.messageLength={GSM_7BIT:160,GSM_7BIT_EX:160,UTF16:70};SmsCounter.multiMessageLength={GSM_7BIT:153,GSM_7BIT_EX:153,UTF16:67};SmsCounter.count=function(text){var count,encoding,length,messages,per_message,remaining;encoding=this.detectEncoding(text);length=text.length;if(encoding===this.GSM_7BIT_EX){length+=this.countGsm7bitEx(text);}\nper_message=this.messageLength[encoding];if(length>per_message){per_message=this.multiMessageLength[encoding];}\nmessages=Math.ceil(length / per_message);remaining=(per_message*messages)-length;if(remaining==0&&messages==0){remaining=per_message;}\nreturn count={encoding:encoding,length:length,per_message:per_message,remaining:remaining,messages:messages};};SmsCounter.detectEncoding=function(text){switch(false){case text.match(this.gsm7bitRegExp)==null:return this.GSM_7BIT;case text.match(this.gsm7bitExRegExp)==null:return this.GSM_7BIT_EX;default:return this.UTF16;}};SmsCounter.countGsm7bitEx=function(text){var char2,chars;chars=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=text.length;_i<_len;_i++){char2=text[_i];if(char2.match(this.gsm7bitExOnlyRegExp)!=null){_results.push(char2);}}\nreturn _results;}).call(this);return chars.length;};return SmsCounter;})();if(typeof jQuery!==\"undefined\"&&jQuery!==null){$=jQuery;$.fn.countSms=function(target){var count_sms,input;input=this;target=$(target);count_sms=function(){var count,k,v,_results;count=SmsCounter.count(input.val());_results=[];for(k in count){v=count[k];_results.push(target.find(\".\"+k).text(v));}\nreturn _results;};this.on('keyup',count_sms);return count_sms();};}}).call(this);","Magento_ConfigurableProduct/js/configurable-type-handler.min.js":"define(['jquery','Magento_Catalog/catalog/type-events','collapsible','Magento_Ui/js/modal/modal','mage/translate','domReady!'],function($,productType){'use strict';return{$block:null,hasVariations:null,configurationSectionMessageHandler:(function(){var title=$('[data-role=\"product-create-configuration-info\"]'),buttons=$('[data-action=\"product-create-configuration-buttons\"]'),newText='Configurations cannot be created for a standard product with downloadable files.'+' To create configurations, first remove all downloadable files.',oldText=title.text();return function(change){if(change){title.text(newText);buttons.hide();}else{title.text(oldText);buttons.show();}};}()),_setElementDisabled:function($element,state,triggerEvent){if(!$element.is('[data-locked]')){$element.prop('disabled',state);if(triggerEvent){$element.trigger('change');}}},show:function(){this.configurationSectionMessageHandler(false);},hide:function(){this.configurationSectionMessageHandler(true);},bindAll:function(){$(document).on('changeConfigurableTypeProduct',function(event,isConfigurable){$(document).trigger('setTypeProduct',isConfigurable?'configurable':productType.type.init==='configurable'?'simple':productType.type.init);});$(document).on('changeTypeProduct',this._initType.bind(this));},_initType:function(){this.show();},'Magento_ConfigurableProduct/js/configurable-type-handler':function(data){this.$block=$(data.blockId+' input[name=\"attributes[]\"]');this.hasVariations=data.hasVariations;$(document).trigger('setTypeProduct','simple');this.bindAll();this._initType();}};});","Magento_ConfigurableProduct/js/configurable.min.js":"define(['jquery','mage/template','mage/translate','prototype'],function(jQuery,mageTemplate){'use strict';if(typeof Product=='undefined'){window.Product={};}\nProduct.Config=Class.create();Product.Config.prototype={initialize:function(config){var separatorIndex,paramsStr,urlValues,i,childSettings,prevSetting,nextSetting;config.taxConfig={showBothPrices:false,inclTaxTitle:jQuery.mage.__('Incl. Tax')};this.config=config;this.taxConfig=this.config.taxConfig;if(config.containerId){this.settings=$$('#'+config.containerId+' '+'.super-attribute-select');}else{this.settings=$$('.super-attribute-select');}\nthis.state=new Hash();this.priceTemplate=mageTemplate(this.config.template);this.prices=config.prices;this.values={};if(config.defaultValues){this.values=config.defaultValues;}\nseparatorIndex=window.location.href.indexOf('#');if(separatorIndex!=-1){paramsStr=window.location.href.substr(separatorIndex+1);urlValues=paramsStr.toQueryParams();for(i in urlValues){this.values[i]=urlValues[i];}}\nif(config.inputsInitialized){this.values={};this.settings.each(function(element){var attributeId;if(element.value){attributeId=element.id.replace(/[a-z]*/,'');this.values[attributeId]=element.value;}}.bind(this));}\nthis.settings.each(function(element){Event.observe(element,'change',this.configure.bind(this));}.bind(this));this.settings.each(function(element){var attributeId=element.id.replace(/[a-z]*/,'');if(attributeId&&this.config.attributes[attributeId]){element.config=this.config.attributes[attributeId];element.attributeId=attributeId;this.state[attributeId]=false;}}.bind(this));childSettings=[];for(i=this.settings.length-1;i>=0;i--){prevSetting=this.settings[i-1]?this.settings[i-1]:false;nextSetting=this.settings[i+1]?this.settings[i+1]:false;if(i===0){this.fillSelect(this.settings[i]);}else{this.settings[i].disabled=true;}\n$(this.settings[i]).childSettings=childSettings.clone();$(this.settings[i]).prevSetting=prevSetting;$(this.settings[i]).nextSetting=nextSetting;childSettings.push(this.settings[i]);}\nthis.configureForValues();document.observe('dom:loaded',this.configureForValues.bind(this));},configureForValues:function(){if(this.values){this.settings.each(function(element){var attributeId=element.attributeId;element.value=typeof this.values[attributeId]==='undefined'?'':this.values[attributeId];this.configureElement(element);}.bind(this));}},configure:function(event){var element=Event.element(event);this.configureElement(element);},configureElement:function(element){this.reloadOptionLabels(element);if(element.value){this.state[element.config.id]=element.value;if(element.nextSetting){element.nextSetting.disabled=false;this.fillSelect(element.nextSetting);this.resetChildren(element.nextSetting);}}else{this.resetChildren(element);}\nthis.reloadPrice();},reloadOptionLabels:function(element){var selectedPrice=0,option,i;if(element.options[element.selectedIndex]&&element.options[element.selectedIndex].config){option=element.options[element.selectedIndex].config;selectedPrice=parseFloat(this.config.optionPrices[option.allowedProducts[0]].finalPrice.amount);}\nelement.setAttribute('price',selectedPrice);for(i=0;i<element.options.length;i++){if(element.options[i].config){element.options[i].setAttribute('price',selectedPrice);element.options[i].setAttribute('summarizePrice',0);element.options[i].text=this.getOptionLabel(element.options[i].config,selectedPrice);}}},resetChildren:function(element){var i;if(element.childSettings){for(i=0;i<element.childSettings.length;i++){element.childSettings[i].selectedIndex=0;element.childSettings[i].disabled=true;if(element.config){this.state[element.config.id]=false;}}}},fillSelect:function(element){var attributeId=element.id.replace(/[a-z]*/,''),options=this.getAttributeOptions(attributeId),prevConfig=false,index=1,i,j,allowedProducts;this.clearSelect(element);element.options[0]=new Option('','');element.options[0].innerHTML=this.config.chooseText;if(element.prevSetting){prevConfig=element.prevSetting.options[element.prevSetting.selectedIndex];}\nif(options){for(i=0;i<options.length;i++){allowedProducts=[];if(prevConfig){for(j=0;j<options[i].products.length;j++){if(prevConfig.config.allowedProducts&&prevConfig.config.allowedProducts.indexOf(options[i].products[j])>-1){allowedProducts.push(options[i].products[j]);}}}else{allowedProducts=options[i].products.clone();}\nif(allowedProducts.size()>0){options[i].allowedProducts=allowedProducts;element.options[index]=new Option(this.getOptionLabel(options[i]),options[i].id);if(typeof options[i].price!='undefined'){element.options[index].setAttribute('price',options[i].price);}\nelement.options[index].config=options[i];index++;}}}},getOptionLabel:function(option){return option.label;},formatPrice:function(price,showSign){var str='',roundedPrice;price=parseFloat(price);if(showSign){if(price<0){str+='-';price=-price;}else{str+='+';}}\nroundedPrice=Number(Math.round(price+'e+2')+'e-2').toString();if(this.prices&&this.prices[roundedPrice]){str+=this.prices[roundedPrice];}else{str+=this.priceTemplate({data:{price:price.toFixed(2)}});}\nreturn str;},clearSelect:function(element){var i;for(i=element.options.length-1;i>=0;i--){element.remove(i);}},getAttributeOptions:function(attributeId){if(this.config.attributes[attributeId]){return this.config.attributes[attributeId].options;}},reloadPrice:function(){var price=0,oldPrice=0,inclTaxPrice=0,exclTaxPrice=0,i,selected;if(this.config.disablePriceReload){return undefined;}\nfor(i=this.settings.length-1;i>=0;i--){selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){price+=parseFloat(selected.config.price);oldPrice+=parseFloat(selected.config.oldPrice);inclTaxPrice+=parseFloat(selected.config.inclTaxPrice);exclTaxPrice+=parseFloat(selected.config.exclTaxPrice);}}\noptionsPrice.changePrice('config',{'price':price,'oldPrice':oldPrice,'inclTaxPrice':inclTaxPrice,'exclTaxPrice':exclTaxPrice});optionsPrice.reload();return price;},reloadOldPrice:function(){var price,i,selected;if(this.config.disablePriceReload){return;}\nif($('old-price-'+this.config.productId)){price=parseFloat(this.config.oldPrice);for(i=this.settings.length-1;i>=0;i--){selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){price+=parseFloat(selected.config.price);}}\nif(price<0){price=0;}\nprice=this.formatPrice(price);if($('old-price-'+this.config.productId)){$('old-price-'+this.config.productId).innerHTML=price;}}}};});","Magento_ConfigurableProduct/js/components/qty-configurable.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{imports:{isConfigurable:'!ns = ${ $.ns }, index = configurable-matrix:isEmpty'}},initialize:function(){this._super();this.handleQtyValue(this.isConfigurable);this.setListeners({isConfigurable:'handleQtyValue'});return this;},handleQtyValue:function(isConfigurable){this.disabled(!!this.isUseDefault()||isConfigurable);if(isConfigurable){this.clear();}}});});","Magento_ConfigurableProduct/js/components/dynamic-rows-configurable.min.js":"define(['underscore','uiRegistry','Magento_Ui/js/dynamic-rows/dynamic-rows','jquery'],function(_,registry,dynamicRows,$){'use strict';return dynamicRows.extend({defaults:{actionsListOpened:false,canEditField:'canEdit',newProductField:'newProduct',dataScopeAssociatedProduct:'data.associated_product_ids',dataProviderFromGrid:'',dataProviderChangeFromGrid:'',insertDataFromGrid:[],changeDataFromGrid:[],dataProviderFromWizard:'',insertDataFromWizard:[],map:null,isEmpty:true,isShowAddProductButton:false,cacheGridData:[],unionInsertData:[],deleteProperty:false,dataLength:0,identificationProperty:'id','attribute_set_id':'',attributesTmp:[],changedFlag:'was_changed',listens:{'insertDataFromGrid':'processingInsertDataFromGrid','insertDataFromWizard':'processingInsertDataFromWizard','unionInsertData':'processingUnionInsertData','changeDataFromGrid':'processingChangeDataFromGrid','isEmpty':'changeVisibility'},imports:{'attribute_set_id':'${$.provider}:data.product.attribute_set_id'},'exports':{'attribute_set_id':'${$.provider}:data.new-variations-attribute-set-id'},modules:{modalWithGrid:'${ $.modalWithGrid }',gridWithProducts:'${ $.gridWithProducts}'}},initialize:function(){this._super().changeVisibility(this.isEmpty());return this;},changeVisibility:function(isEmpty){this.visible(!isEmpty);},openModalWithGrid:function(rowIndex){var productSource=this.source.get(this.dataScope+'.'+this.index+'.'+rowIndex),product={'id':productSource.id,'attributes':productSource['configurable_attribute']};this.modalWithGrid().openModal();this.gridWithProducts().showGridChangeProduct(rowIndex,product);},initChildren:function(){var tmpArray=[];this.recordData.each(function(recordData){tmpArray.push(recordData);},this);this.unionInsertData(tmpArray);return this;},deleteRecord:function(index){var tmpArray,lastRecord;this.reRender=false;tmpArray=this.getUnionInsertData();tmpArray.splice(index,1);if(!tmpArray.length){this.attributesTmp=this.source.get('data.attributes');this.source.set('data.attributes',[]);this.cacheGridData=[];}\nif(parseInt(this.currentPage(),10)===this.pages()){lastRecord=_.findWhere(this.elems(),{index:this.startIndex+this.getChildItems().length-1})||_.findWhere(this.elems(),{index:(this.startIndex+this.getChildItems().length-1).toString()});lastRecord.destroy();}\nthis.unionInsertData(tmpArray);if(this.pages()<parseInt(this.currentPage(),10)){this.currentPage(this.pages());}\nthis.reRender=true;this.showSpinner(false);},generateAssociatedProducts:function(){var productsIds=[];this.getUnionInsertData().forEach(function(data){if(data.id!==null){productsIds.push(data.id);}});this.source.set(this.dataScopeAssociatedProduct,productsIds);},initObservable:function(){this._super().observe(['insertDataFromGrid','unionInsertData','isEmpty','isShowAddProductButton','actionsListOpened']);return this;},getUnionInsertData:function(){var source=this.source.get(this.dataScope+'.'+this.index),result=[];_.each(source,function(data){result.push(data);});return result;},processingUnionInsertData:function(data){var dataCount,elemsCount,tmpData,path,attributeCodes=this.source.get('data.attribute_codes');this.isEmpty(data.length===0);this.isShowAddProductButton((!attributeCodes||data.length>0?data.length:attributeCodes.length)>0);tmpData=data.slice(this.pageSize*(this.currentPage()-1),this.pageSize*(this.currentPage()-1)+parseInt(this.pageSize,10));this.source.set(this.dataScope+'.'+this.index,[]);_.each(tmpData,function(row,index){path=this.dataScope+'.'+this.index+'.'+(this.startIndex+index);row.attributes=$('<i></i>').text(row.attributes).html();this.source.set(path,row);},this);this.source.set(this.dataScope+'.'+this.index,data);this.parsePagesData(data);dataCount=tmpData.length;elemsCount=this.elems().length;if(dataCount>elemsCount){tmpData.each(function(elemData,index){this.addChild(elemData,this.startIndex+index);},this);}else{for(elemsCount;elemsCount>dataCount;elemsCount--){this.elems()[elemsCount-1].destroy();}}\nthis.generateAssociatedProducts();},setInitialProperty:function(){return this;},processingInsertDataFromGrid:function(data){var changes,tmpArray;if(!data.length){return;}\ntmpArray=this.getUnionInsertData();changes=this._checkGridData(data);this.cacheGridData=data;changes.each(function(changedObject){var mappedData=this.mappingValue(changedObject);mappedData[this.canEditField]=0;mappedData[this.newProductField]=0;mappedData.variationKey=this._getVariationKey(changedObject);mappedData['configurable_attribute']=this._getConfigurableAttribute(changedObject);tmpArray.push(mappedData);},this);if(!this.source.get('data.attributes').length){this.source.set('data.attributes',this.attributesTmp);}\nthis.unionInsertData(tmpArray);},processingChangeDataFromGrid:function(data){var tmpArray=this.getUnionInsertData(),mappedData=this.mappingValue(data.product);mappedData[this.canEditField]=0;mappedData[this.newProductField]=0;mappedData.variationKey=this._getVariationKey(data.product);mappedData['configurable_attribute']=this._getConfigurableAttribute(data.product);tmpArray[data.rowIndex]=mappedData;this.unionInsertData(tmpArray);},_getVariationKey:function(data){var attrCodes=this.source.get('data.attribute_codes'),key=[];attrCodes.each(function(code){key.push(data[code]);});return key.sort().join('-');},_getConfigurableAttribute:function(data){var attrCodes=this.source.get('data.attribute_codes'),confAttrs={};attrCodes.each(function(code){confAttrs[code]=data[code];});return JSON.stringify(confAttrs);},processingInsertDataFromWizard:function(data){var tmpArray=this.getUnionInsertData(),productIdsToDelete=this.source.get(this.dataScopeAssociatedProduct),index,product={};tmpArray=this.unsetArrayItem(tmpArray,{id:null});_.each(data,function(row){if(row.productId){index=_.indexOf(productIdsToDelete,row.productId);if(index>-1){productIdsToDelete.splice(index,1);tmpArray=this.unsetArrayItem(tmpArray,{id:row.productId});}}\nproduct=this.getProductData(row);product[this.changedFlag]=true;product[this.canEditField]=row.editable;product[this.newProductField]=row.newProduct;tmpArray.push(product);},this);_.each(productIdsToDelete,function(id){tmpArray=this.unsetArrayItem(tmpArray,{id:id});},this);this.unionInsertData(tmpArray);},getProductData:function(row){var product,attributesText='';_.each(row.options,function(attribute){if(attributesText){attributesText+=', ';}\nattributesText+=attribute['attribute_label']+': '+attribute.label;},this);product={'id':row.productId,'product_link':row.productUrl,'name':$('<i></i>').text(row.name).html(),'sku':row.sku,'status':row.status,'price':row.price,'price_currency':row.priceCurrency,'price_string':row.priceCurrency+row.price,'weight':row.weight,'qty':row.quantity,'variationKey':row.variationKey,'configurable_attribute':row.attribute,'thumbnail_image':row.images.preview,'media_gallery':row['media_gallery'],'swatch_image':row['swatch_image'],'small_image':row['small_image'],image:row.image,'thumbnail':row.thumbnail,'attributes':attributesText};return product;},unsetArrayItem:function(data,condition){var objs=_.where(data,condition);_.each(objs,function(obj){var index=_.indexOf(data,obj);if(index>-1){data.splice(index,1);}});return data;},_checkGridData:function(data){var cacheLength=this.cacheGridData.length,curData=data.length,max=cacheLength>curData?this.cacheGridData:data,changes=[],obj={};max.each(function(record,index){obj[this.map.id]=record[this.map.id];if(!_.where(this.cacheGridData,obj).length){changes.push(data[index]);}},this);return changes;},mappingValue:function(data){var result={};_.each(this.map,function(prop,index){result[index]=data[prop];});return result;},toggleActionsList:function(rowIndex){var state=false;if(rowIndex!==this.actionsListOpened()){state=rowIndex;}\nthis.actionsListOpened(state);return this;},closeList:function(rowIndex){if(this.actionsListOpened()===rowIndex){this.actionsListOpened(false);}\nreturn this;},toggleStatusProduct:function(rowIndex){var tmpArray=this.getUnionInsertData(),status=parseInt(tmpArray[rowIndex].status,10);if(status===1){tmpArray[rowIndex].status=2;}else{tmpArray[rowIndex].status=1;}\ntmpArray[rowIndex][this.changedFlag]=true;this.unionInsertData(tmpArray);}});});","Magento_ConfigurableProduct/js/components/modal-configurable.min.js":"define(['Magento_Ui/js/modal/modal-component','uiRegistry','underscore'],function(Modal,registry,_){'use strict';return Modal.extend({defaults:{stepWizard:'',modules:{form:'${ $.formName }'}},openModal:function(){var stepWizard={};this.form().validate();if(this.form().source.get('params.invalid')===false){stepWizard=registry.get('index = '+this.stepWizard);if(!_.isUndefined(stepWizard)){stepWizard.open();}\nthis._super();}else{this.form().focusInvalid();}}});});","Magento_ConfigurableProduct/js/components/container-configurable-handler.min.js":"define(['uiComponent'],function(Element){'use strict';return Element.extend({defaults:{listens:{'${ $.provider }:data.is_downloadable':'handleProductType'},links:{isDownloadable:'${ $.provider }:data.is_downloadable'},modules:{createConfigurableButton:'${$.createConfigurableButton}'}},initialize:function(){this._super();this.handleProductType(this.isDownloadable);return this;},initObservable:function(){this._super().observe(['content']);return this;},handleProductType:function(isDownloadable){if(isDownloadable==='1'){this.content(this.content2);if(this.createConfigurableButton()){this.createConfigurableButton().visible(false);}}else{this.content(this.content1);if(this.createConfigurableButton()){this.createConfigurableButton().visible(true);}}}});});","Magento_ConfigurableProduct/js/components/price-configurable.min.js":"define(['underscore','uiRegistry','Magento_Ui/js/form/element/abstract'],function(_,registry,Abstract){'use strict';return Abstract.extend({defaults:{imports:{isConfigurable:'!ns = ${ $.ns }, index = configurable-matrix:isEmpty'},modules:{createConfigurableButton:'${$.createConfigurableButton}'}},initialize:function(){this._super();this.handlePriceValue(this.isConfigurable);this.setListeners({isConfigurable:'handlePriceValue'});return this;},initObservable:function(){this._super().observe(['content']);return this;},handlePriceValue:function(isConfigurable){this.disabled(!!this.isUseDefault()||isConfigurable);if(isConfigurable){this.clear();}}});});","Magento_ConfigurableProduct/js/components/file-uploader.min.js":"define(['Magento_Ui/js/form/element/file-uploader','underscore'],function(Element,_){'use strict';return Element.extend({processedFile:{},actionsListOpened:false,thumbnailUrl:'',thumbnail:null,smallImage:null,defaults:{fileInputName:''},initObservable:function(){this._super().observe(['processedFile','actionsListOpened','thumbnailUrl','thumbnail','smallImage']);return this;},setInitialValue:function(){var value=this.getInitialValue();if(!_.isString(value)){this._super();}\nreturn this;},addFile:function(file){this.processedFile(this.processFile(file));this.value(this.processedFile().file);return this;},toggleActionsList:function(){if(this.actionsListOpened()){this.actionsListOpened(false);}else{this.actionsListOpened(true);}\nreturn this;},closeList:function(){if(this.actionsListOpened()){this.actionsListOpened(false);}\nreturn this;},deleteImage:function(){this.processedFile({});this.value(null);this.thumbnail(null);this.thumbnailUrl(null);this.smallImage(null);return this;}});});","Magento_ConfigurableProduct/js/components/custom-options-warning.min.js":"define(['Magento_Ui/js/form/components/html'],function(Html){'use strict';return Html.extend({defaults:{isConfigurable:false},updateVisibility:function(variationsEmpty){var isVisible=this.isConfigurable||!variationsEmpty;this.visible(isVisible);return isVisible;}});});","Magento_ConfigurableProduct/js/components/associated-product-insert-listing.min.js":"define(['underscore','Magento_Ui/js/form/components/insert-listing'],function(_,insertListing){'use strict';return insertListing.extend({defaults:{gridInitialized:false,paramsUpdated:false,showMassActionColumn:true,currentProductId:0,dataScopeAssociatedProduct:'data.associated_product_ids',typeGrid:'',product:{},rowIndexForChange:undefined,changeProductData:[],modules:{productsProvider:'${ $.productsProvider }',productsColumns:'${ $.productsColumns }',productsMassAction:'${ $.productsMassAction }',modalWithGrid:'${ $.modalWithGrid }',productsFilters:'${ $.productsFilters }'},exports:{externalProviderParams:'${ $.externalProvider }:params'},links:{changeProductData:'${ $.provider }:${ $.changeProductProvider }'},listens:{'${ $.externalProvider }:params':'_setFilters _setVisibilityMassActionColumn','${ $.productsProvider }:data':'_handleManualGridOpening','${ $.productsMassAction }:selected':'_handleManualGridSelect'}},initObservable:function(){this._super().observe('changeProductData');return this;},getUsedProductIds:function(){var usedProductsIds=this.source.get(this.dataScopeAssociatedProduct);return usedProductsIds.slice();},doRender:function(showMassActionColumn,typeGrid){this.typeGrid=typeGrid;this.showMassActionColumn=showMassActionColumn;if(this.gridInitialized){this.paramsUpdated=false;this.productsFilters().clear();this._setFilters(this.externalProviderParams);this._setVisibilityMassActionColumn();}\nreturn this.render();},showGridAssignProduct:function(){this.product={};this.rowIndexForChange=undefined;return this.doRender(true,'assignProduct');},showGridChangeProduct:function(rowIndex,product){this.rowIndexForChange=rowIndex;this.product=product;this.doRender(false,'changeProduct');},selectProduct:function(rowIndex){this.changeProductData({rowIndex:this.rowIndexForChange,product:this.productsProvider().data.items[rowIndex]});this.modalWithGrid().closeModal();},_setVisibilityMassActionColumn:function(){this.productsMassAction(function(massActionComponent){this.productsColumns().elems().each(function(rowElement){rowElement.disableAction=this.showMassActionColumn;},this);massActionComponent.visible=this.showMassActionColumn;}.bind(this));},_setFilters:function(params){var filterModifier={},attrCodes,usedProductIds,attributes;params=_.omit(params);if(!this.paramsUpdated){this.gridInitialized=true;this.paramsUpdated=true;attrCodes=this._getAttributesCodes();usedProductIds=this.getUsedProductIds();if(this.currentProductId){usedProductIds.push(this.currentProductId);}\nfilterModifier['entity_id']={'condition_type':'nin',value:usedProductIds};attrCodes.each(function(code){filterModifier[code]={'condition_type':'notnull'};});if(this.typeGrid==='changeProduct'){attributes=JSON.parse(this.product.attributes);filterModifier=_.extend(filterModifier,_.mapObject(attributes,function(value){return{'condition_type':'eq','value':value};}));params.filters=attributes;}else{params.filters={};}\nparams['attributes_codes']=attrCodes;this.set('externalProviderParams',params);this.set('externalFiltersModifier',filterModifier);}},_getAttributesCodes:function(){var attrCodes=this.source.get('data.attribute_codes');return attrCodes?attrCodes:[];},_getProductVariations:function(){var matrix=this.source.get('data.configurable-matrix');return matrix?matrix:[];},_handleManualGridOpening:function(data){if(data.items.length&&this.typeGrid==='assignProduct'){this.productsColumns().elems().each(function(rowElement){rowElement.disableAction=true;});this._disableRows(data.items);}},_handleManualGridSelect:function(selected){var selectedRows,selectedVariationKeys;if(this.typeGrid==='assignProduct'){selectedRows=_.filter(this.productsProvider().data.items,function(row){return selected.indexOf(row['entity_id'])!==-1;});selectedVariationKeys=_.values(this._getVariationKeyMap(selectedRows));this._disableRows(this.productsProvider().data.items,selectedVariationKeys,selected);}},_disableRows:function(items,selectedVariationKeys,selected){selectedVariationKeys=selectedVariationKeys===undefined?[]:selectedVariationKeys;selected=selected===undefined?[]:selected;this.productsMassAction(function(massaction){var configurableVariationKeys=_.union(selectedVariationKeys,_.pluck(this._getProductVariations(),'variationKey')),variationKeyMap=this._getVariationKeyMap(items),rowsForDisable=_.keys(_.pick(variationKeyMap,function(variationKey){return configurableVariationKeys.indexOf(variationKey)!==-1;}));massaction.disabled(_.difference(rowsForDisable,selected));}.bind(this));},_getVariationKeyMap:function(items){var variationKeyMap={};_.each(items,function(row){variationKeyMap[row['entity_id']]=_.values(_.pick(row,this._getAttributesCodes())).sort().join('-');},this);return variationKeyMap;}});});","Magento_ConfigurableProduct/js/components/custom-options-price-type.min.js":"define(['underscore','Magento_Catalog/js/components/custom-options-price-type'],function(_,PriceType){'use strict';return PriceType.extend({defaults:{isConfigurable:false,isFiltered:null,defaultOptions:null,filteredOptions:null,bannedOptions:[]},updateOptions:function(variationsEmpty){var isFiltered=this.isConfigurable||!variationsEmpty,value;if(this.isFiltered!==isFiltered){value=this.value();this.options(isFiltered?this.getFilteredOptions():this.getDefaultOptions());this.value(value);}\nreturn isFiltered;},getDefaultOptions:function(){if(this.defaultOptions===null){this.defaultOptions=this.options();}\nreturn this.defaultOptions;},getFilteredOptions:function(){var defaultOptions;if(this.filteredOptions===null){defaultOptions=this.getDefaultOptions();this.filteredOptions=[];_.each(defaultOptions,function(option){if(this.bannedOptions.indexOf(option.value)===-1){this.filteredOptions.push(option);}},this);}\nreturn this.filteredOptions;}});});","Magento_ConfigurableProduct/js/variations/product-grid.min.js":"define(['uiComponent','jquery','Magento_Ui/js/core/app','underscore','notification','mage/translate'],function(Component,$,bootstrap,_){'use strict';return Component.extend({defaults:{productsGridUrl:null,productAttributes:[],productsModal:null,button:'',gridSelector:'[data-grid-id=associated-products-container]',modules:{productsFilter:'${ $.productsFilter }',productsProvider:'${ $.productsProvider }',productsMassAction:'${ $.productsMassAction }',productsColumns:'${ $.productsColumns }',variationsComponent:'${ $.configurableVariations }'},listens:{'${ $.productsProvider }:data':'_showMessageAssociatedGrid _handleManualGridOpening','${ $.productsMassAction }:selected':'_handleManualGridSelect','${ $.configurableVariations }:productMatrix':'_showButtonAddManual _switchProductType'}},initialize:function(options){this._super(options);this.productsModal=$(this.gridSelector).modal({title:$.mage.__('Select Associated Product'),type:'slide',buttons:[{text:$.mage.__('Cancel'),click:function(){this.closeModal();}},{text:$.mage.__('Done'),click:this.close.bind(this,null)}]});this.productsProvider(function(){this.productsModal.notification();}.bind(this));this.variationsComponent(function(variation){this._showButtonAddManual(variation.productMatrix());}.bind(this));this._initGrid=_.once(this._initGrid);this._switchProductType=_.wrap(this._switchProductType.bind(this),function(func,params){if(!!params.length!==!!this.init){this.init=!!params.length;func(params);}}.bind(this._switchProductType));},initObservable:function(){this._super().observe('button');return this;},_initGrid:function(filterData){$.ajax({type:'GET',url:this._buildGridUrl(filterData),context:$('body')}).done(function(data){bootstrap(JSON.parse(data));});},selectProduct:function(rowIndex){this.close(rowIndex);},open:function(filterData,callbackName,showMassActionColumn){this.callbackName=callbackName;this.productsMassAction(function(massActionComponent){this.productsColumns().elems().each(function(rowElement){rowElement.disableAction=showMassActionColumn;});massActionComponent.visible=showMassActionColumn;}.bind(this));this._setFilter(filterData);this._initGrid(filterData);this.productsModal.trigger('openModal');},close:function(rowIndex){try{if(this.productsMassAction().selected.getLength()){this.variationsComponent()[this.callbackName](this.productsMassAction().selected.map(this.getProductById.bind(this)));this.productsMassAction().deselectAll();}else if(!_.isNull(rowIndex)){this.variationsComponent()[this.callbackName]([this.getProductByIndex(rowIndex)]);}\nthis.productsModal.trigger('closeModal');}catch(e){if(e.name==='UserException'){this.productsModal.notification('clear');this.productsModal.notification('add',{message:e.message,messageContainer:this.gridSelector});}else{throw e;}}},getProductById:function(productId){return _.findWhere(this.productsProvider().data.items,{'entity_id':productId});},getProductByIndex:function(rowIndex){return this.productsProvider().data.items[rowIndex];},_buildGridUrl:function(filterData){var params='?'+$.param({'filters':filterData.filters,'attributes_codes':this._getAttributesCodes(),'filters_modifier':filterData['filters_modifier']});return this.productsGridUrl+params;},_showButtonAddManual:function(variations){return this.button(variations.length);},_switchProductType:function(variations){$(document).trigger('changeConfigurableTypeProduct',variations.length);},_getAttributesCodes:function(){return this.variationsComponent().attributes.pluck('code');},_showMessageAssociatedGrid:function(data){this.productsModal.notification('clear');if(data.items.length){this.productsModal.notification('add',{message:$.mage.__('Choose a new product to delete and replace the current product configuration.'),messageContainer:this.gridSelector});}else{this.productsModal.notification('add',{message:$.mage.__('For better results, add attributes and attribute values to your products.'),messageContainer:this.gridSelector});}},showManuallyGrid:function(){var filterModifier=_.mapObject(_.object(this._getAttributesCodes(),[]),function(){return{'condition_type':'notnull'};}),usedProductIds=_.values(this.variationsComponent().productAttributesMap);if(usedProductIds&&usedProductIds.length>0){filterModifier['entity_id']={'condition_type':'nin',value:usedProductIds};}\nthis.open({'filters_modifier':filterModifier},'appendProducts',true);},_handleManualGridOpening:function(data){if(data.items.length&&this.callbackName=='appendProducts'){this.productsColumns().elems().each(function(rowElement){rowElement.disableAction=true;});this._disableRows(data.items);}},_disableRows:function(items,selectedVariationKeys,selected){selectedVariationKeys=selectedVariationKeys===undefined?[]:selectedVariationKeys;selected=selected===undefined?[]:selected;this.productsMassAction(function(massaction){var configurableVariationKeys=_.union(selectedVariationKeys,_.pluck(this.variationsComponent().productMatrix(),'variationKey')),variationKeyMap=this._getVariationKeyMap(items),rowsForDisable=_.keys(_.pick(variationKeyMap,function(variationKey){return configurableVariationKeys.indexOf(variationKey)!==-1;}));massaction.disabled(_.difference(rowsForDisable,selected));}.bind(this));},_handleManualGridSelect:function(selected){var selectedRows,selectedVariationKeys;if(this.callbackName=='appendProducts'){selectedRows=_.filter(this.productsProvider().data.items,function(row){return selected.indexOf(row['entity_id'])!==-1;});selectedVariationKeys=_.values(this._getVariationKeyMap(selectedRows));this._disableRows(this.productsProvider().data.items,selectedVariationKeys,selected);}},_getVariationKeyMap:function(items){this._variationKeyMap={};_.each(items,function(row){this._variationKeyMap[row['entity_id']]=_.values(_.pick(row,this._getAttributesCodes())).sort().join('-');},this);return this._variationKeyMap;},_setFilter:function(filterData){this.productsProvider(function(provider){provider.params['filters_modifier']=filterData['filters_modifier'];provider.params['attributes_codes']=this._getAttributesCodes();}.bind(this));this.productsFilter(function(filter){filter.set('filters',_.extend({'filters_modifier':filterData['filters_modifier']},filterData.filters)).apply();});}});});","Magento_ConfigurableProduct/js/variations/variations.min.js":"define(['uiComponent','jquery','ko','underscore','Magento_Ui/js/modal/alert','uiRegistry','mage/translate'],function(Component,$,ko,_,alert,registry,$t){'use strict';function UserException(message){this.message=message;this.name='UserException';}\nUserException.prototype=Object.create(Error.prototype);return Component.extend({defaults:{opened:false,attributes:[],usedAttributes:[],attributeCodes:[],attributesData:{},productMatrix:[],variations:[],formSaveParams:[],productAttributes:[],disabledAttributes:[],fullAttributes:[],rowIndexToEdit:false,productAttributesMap:null,value:[],modules:{associatedProductGrid:'${ $.configurableProductGrid }',wizardButtonElement:'${ $.wizardModalButtonName }',formElement:'${ $.formName }',attributeSetHandlerModal:'${ $.attributeSetHandler }'},imports:{attributeSetName:'${ $.provider }:configurableNewAttributeSetName',attributeSetId:'${ $.provider }:configurableExistingAttributeSetId',attributeSetSelection:'${ $.provider }:configurableAffectedAttributeSet',productPrice:'${ $.provider }:data.product.price'},links:{value:'${ $.provider }:${ $.dataScopeVariations }',usedAttributes:'${ $.provider }:${ $.dataScopeAttributes }',attributesData:'${ $.provider }:${ $.dataScopeAttributesData }',attributeCodes:'${ $.provider }:${ $.dataScopeAttributeCodes }',skeletonAttributeSet:'${ $.provider }:data.new-variations-attribute-set-id'}},initialize:function(){this._super();this.changeButtonWizard();this.initProductAttributesMap();this.disableConfigurableAttributes(this.productAttributes);},initObservable:function(){this._super().observe('actions opened attributes productMatrix value usedAttributes attributesData attributeCodes');return this;},_makeProduct:function(product){var productId=product['entity_id']||product.productId||null,attributes=_.pick(product,this.attributes.pluck('code')),options=_.map(attributes,function(option,attribute){var oldOptions=_.findWhere(this.attributes(),{code:attribute}).options,result;if(_.isFunction(oldOptions)){result=oldOptions.findWhere({value:option});}else{result=_.findWhere(oldOptions,{value:option});}\nreturn result;}.bind(this));return{attribute:JSON.stringify(attributes),editable:false,images:{preview:product['thumbnail_src']},name:product.name||product.sku,options:options,price:parseFloat(Math.round(product.price.replace(/[^\\d.]+/g,'')+'e+4')+'e-4').toFixed(4),productId:productId,productUrl:this.buildProductUrl(productId),quantity:product.quantity||null,sku:product.sku,status:product.status===undefined?1:parseInt(product.status,10),variationKey:this.getVariationKey(options),weight:product.weight||null};},getProductValue:function(name){name=name.split('/').join('][');return $('[name=\"product['+name+']\"]:enabled:not(.ignore-validate)',this.productForm).val();},getRowId:function(data,field){var key=data.variationKey;return'variations-matrix-'+key+'-'+field;},getVariationRowName:function(variation,field){var result;if(variation.productId){result='configurations['+variation.productId+']['+field.split('/').join('][')+']';}else{result='variations-matrix['+variation.variationKey+']['+field.split('/').join('][')+']';}\nreturn result;},render:function(variations,attributes){this.changeButtonWizard();this.populateVariationMatrix(variations);this.attributes(attributes);this.disableConfigurableAttributes(attributes);this.handleValue(variations);this.handleAttributes();},changeButtonWizard:function(){if(this.variations.length){this.wizardButtonElement().title(this.wizardModalButtonTitle);}},handleValue:function(variations){var tmpArray=[];_.each(variations,function(variation){var attributes=_.reduce(variation.options,function(memo,option){var attribute={};attribute[option['attribute_code']]=option.value;return _.extend(memo,attribute);},{}),gallery={images:{}},types={};_.each(variation.images.images,function(image){gallery.images[image['file_id']]={position:image.position,file:image.file,disabled:image.disabled,label:image.label||''};_.each(image.galleryTypes,function(type){types[type]=image.file;});},this);tmpArray.push(_.extend(variation,types,{productId:variation.productId||null,name:variation.name||variation.sku,priceCurrency:this.currencySymbol,weight:variation.weight,attribute:JSON.stringify(attributes),variationKey:this.getVariationKey(variation.options),editable:variation.editable===undefined?0:1,productUrl:this.buildProductUrl(variation.productId),status:variation.status===undefined?1:parseInt(variation.status,10),newProduct:variation.productId?0:1,'media_gallery':gallery}));},this);this.value(tmpArray);},handleAttributes:function(){var tmpArray=[],codesArray=[],tmpOptions={},option={},position=0,values={};_.each(this.attributes(),function(attribute){tmpArray.push(attribute.id);codesArray.push(attribute.code);values={};_.each(attribute.chosen,function(row){values[row.value]={'include':'1','value_index':row.value};},this);option={'attribute_id':attribute.id,'code':attribute.code,'label':attribute.label,'position':position,'values':values};tmpOptions[attribute.id]=option;position++;},this);this.attributesData(tmpOptions);this.usedAttributes(tmpArray);this.attributeCodes(codesArray);},getAttributesOptions:function(){return this.showVariations()?this.productMatrix()[0].options:[];},showVariations:function(){return this.productMatrix().length>0;},populateVariationMatrix:function(variations){this.productMatrix([]);_.each(variations,function(variation){var attributes=_.reduce(variation.options,function(memo,option){var attribute={};attribute[option['attribute_code']]=option.value;return _.extend(memo,attribute);},{});this.productMatrix.push(_.extend(variation,{productId:variation.productId||null,name:variation.name||variation.sku,weight:variation.weight,attribute:JSON.stringify(attributes),variationKey:this.getVariationKey(variation.options),editable:variation.editable===undefined?!variation.productId:variation.editable,productUrl:this.buildProductUrl(variation.productId),status:variation.status===undefined?1:parseInt(variation.status,10)}));},this);},buildProductUrl:function(productId){return this.productUrl.replace('%id%',productId);},getVariationKey:function(options){return _.pluck(options,'value').sort().join('-');},getProductIdByOptions:function(options){return this.productAttributesMap[this.getVariationKey(options)]||null;},initProductAttributesMap:function(){if(this.productAttributesMap===null){this.productAttributesMap={};_.each(this.variations,function(product){this.productAttributesMap[this.getVariationKey(product.options)]=product.productId;}.bind(this));}},disableConfigurableAttributes:function(attributes){var element;_.each(this.disabledAttributes,function(attribute){registry.get('inputName = '+'product['+attribute+']').disabled(false);});this.disabledAttributes=[];_.each(attributes,function(attribute){element=registry.get('inputName = '+'product['+attribute.code+']');if(!_.isUndefined(element)){element.disabled(true);this.disabledAttributes.push(attribute.code);}},this);},getCurrencySymbol:function(){return this.currencySymbol;},saveFormHandler:function(){this.formElement().validate();if(this.formElement().source.get('params.invalid')===false){this.serializeData();}\nif(this.checkForNewAttributes()){this.formSaveParams=arguments;this.attributeSetHandlerModal().openModal();}else{if(this.validateForm(this.formElement())){this.clearOutdatedData();}\nthis.formElement().save(arguments[0],arguments[1]);if(this.formElement().source.get('params.invalid')){this.unserializeData();}}},validateForm:function(formElement){formElement.validate();return!formElement.additionalInvalid&&!formElement.source.get('params.invalid');},serializeData:function(){if(this.source.data['configurable-matrix']){this.source.data['configurable-matrix-serialized']=JSON.stringify(this.source.data['configurable-matrix']);}\nif(this.source.data['associated_product_ids']){this.source.data['associated_product_ids_serialized']=JSON.stringify(this.source.data['associated_product_ids']);}},clearOutdatedData:function(){if(this.source.data['configurable-matrix']){delete this.source.data['configurable-matrix'];}\nif(this.source.data['associated_product_ids']){delete this.source.data['associated_product_ids'];}},unserializeData:function(){if(this.source.data['configurable-matrix-serialized']){this.source.data['configurable-matrix']=JSON.parse(this.source.data['configurable-matrix-serialized']);delete this.source.data['configurable-matrix-serialized'];}\nif(this.source.data['associated_product_ids_serialized']){this.source.data['associated_product_ids']=JSON.parse(this.source.data['associated_product_ids_serialized']);delete this.source.data['associated_product_ids_serialized'];}},checkForNewAttributes:function(){var element,newAttributes=false;_.each(this.source.get('data.attribute_codes'),function(attribute){element=registry.get('index = '+attribute);if(_.isUndefined(element)){newAttributes=true;}},this);return newAttributes;},addNewAttributeSetHandler:function(){var chosenAttributeSetOption;this.formElement().validate();if(this.formElement().source.get('params.invalid')===false){chosenAttributeSetOption=this.attributeSetSelection;if(chosenAttributeSetOption==='new'){this.createNewAttributeSet();return false;}\nif(chosenAttributeSetOption==='existing'){this.set('skeletonAttributeSet',this.attributeSetId);}\nthis.closeDialogAndProcessForm();return true;}\nthis.unserializeData();return false;},createNewAttributeSet:function(){var messageBoxElement=registry.get('index = affectedAttributeSetError');messageBoxElement.visible(false);$.ajax({type:'POST',url:this.attributeSetCreationUrl,data:{gotoEdit:1,'attribute_set_name':this.attributeSetName,'skeleton_set':this.skeletonAttributeSet,'return_session_messages_only':1},dataType:'json',showLoader:true,context:this}).done(function(data){if(!data.error){this.set('skeletonAttributeSet',data.id);messageBoxElement.content(data.messages);messageBoxElement.visible(true);this.closeDialogAndProcessForm();}else{messageBoxElement.content(data.messages);messageBoxElement.visible(true);}\nreturn false;}).fail(function(xhr){if(xhr.statusText==='abort'){return;}\nalert({content:$t('Something went wrong.')});});return false;},closeDialogAndProcessForm:function(){this.attributeSetHandlerModal().closeModal();this.formElement().save(this.formSaveParams[0],this.formSaveParams[1]);},getProductPrice:function(){return this.productPrice;}});});","Magento_ConfigurableProduct/js/variations/paging/sizes.min.js":"define(['Magento_Ui/js/grid/paging/sizes'],function(Sizes){'use strict';return Sizes.extend({defaults:{options:{'20':{value:20,label:20},'30':{value:30,label:30},'50':{value:50,label:50}},value:20}});});","Magento_ConfigurableProduct/js/variations/steps/bulk.min.js":"define(['uiComponent','jquery','ko','underscore','Magento_Ui/js/lib/collapsible','mage/template','Magento_Ui/js/modal/alert','Magento_Catalog/js/product-gallery','jquery/file-uploader','mage/translate','Magento_ConfigurableProduct/js/variations/variations'],function(Component,$,ko,_,Collapsible,mageTemplate,alert){'use strict';return Component.extend({defaults:{modules:{variationsComponent:'${ $.variationsComponent }'},countVariations:0,attributes:[],sections:{},images:null,price:'',quantity:'',notificationMessage:{text:null,error:null}},initObservable:function(){this._super().observe('countVariations attributes sections');return this;},initialize:function(){var self=this;this._super();this.sections({images:{label:'images',type:ko.observable('none'),value:ko.observable(),attribute:ko.observable()},price:{label:'price',type:ko.observable('none'),value:ko.observable(),attribute:ko.observable(),currencySymbol:''},quantity:{label:'quantity',type:ko.observable('none'),value:ko.observable(),attribute:ko.observable()}});this.variationsComponent(function(variationsComponent){this.sections().price.currencySymbol=variationsComponent.getCurrencySymbol();}.bind(this));this.makeOptionSections=function(){return{images:new this.makeImages(null),price:this.price,quantity:this.quantity};}.bind(this);this.makeImages=function(images,typePreview){var preview;if(!images){this.images=[];this.preview=self.noImage;this.file=null;}else{this.images=images;preview=_.find(this.images,function(image){return _.contains(image.galleryTypes,typePreview);});if(preview){this.file=preview.file;this.preview=preview.url;}else{this.file=null;this.preview=self.noImage;}}};this.images=new this.makeImages();_.each(this.sections(),function(section){section.type.subscribe(function(){this.setWizardNotifyMessageDependOnSectionType();}.bind(this));},this);},types:['each','single','none'],setWizardNotifyMessageDependOnSectionType:function(){var flag=false;_.each(this.sections(),function(section){if(section.type()!=='none'){flag=true;}},this);if(flag){this.wizard.setNotificationMessage($.mage.__('Choose this option to delete and replace extension data for all past configurations.'));}else{this.wizard.cleanNotificationMessage();}},render:function(wizard){this.wizard=wizard;this.attributes(wizard.data.attributes());if(this.mode==='edit'){this.setWizardNotifyMessageDependOnSectionType();}\nthis.attributes.each(function(attribute){attribute.chosen.each(function(option){option.sections=ko.observable(this.makeOptionSections());},this);},this);_.each(this.sections(),function(section){section.attribute(null);});this.initCountVariations();this.bindGalleries();},initCountVariations:function(){var variations=this.generateVariation(this.attributes()),newVariations=_.map(variations,function(options){return this.variationsComponent().getVariationKey(options);}.bind(this)),existingVariations=_.keys(this.variationsComponent().productAttributesMap);this.countVariations(_.difference(newVariations,existingVariations).length);},generateVariation:function(attributes){return _.reduce(attributes,function(matrix,attribute){var tmp=[];_.each(matrix,function(variations){_.each(attribute.chosen,function(option){option['attribute_code']=attribute.code;option['attribute_label']=attribute.label;tmp.push(_.union(variations,[option]));});});if(!tmp.length){return _.map(attribute.chosen,function(option){option['attribute_code']=attribute.code;option['attribute_label']=attribute.label;return[option];});}\nreturn tmp;},[]);},getSectionValue:function(section,options){switch(this.sections()[section].type()){case'each':return _.find(this.sections()[section].attribute().chosen,function(chosen){return _.find(options,function(option){return chosen.id==option.id;});}).sections()[section];case'single':return this.sections()[section].value();case'none':return this[section];}},getImageProperty:function(node){var types=node.find('[data-role=gallery]').productGallery('option').types,images=_.map(node.find('[data-role=image]'),function(image){var imageData=$(image).data('imageData'),positionElement;imageData.galleryTypes=_.pluck(_.filter(types,function(type){return type.value===imageData.file;}),'code');positionElement=$(image).find('[name=\"product[media_gallery][images]['+imageData.file_id+'][position]\"]');if(!_.isEmpty(positionElement.val())){imageData.position=positionElement.val();}\nreturn imageData;});return _.reject(images,function(image){return!!image.isRemoved;});},fillImagesSection:function(){switch(this.sections().images.type()){case'each':if(this.sections().images.attribute()){this.sections().images.attribute().chosen.each(function(option){option.sections().images=new this.makeImages(this.getImageProperty($('[data-role=step-gallery-option-'+option.id+']')),'thumbnail');},this);}\nbreak;case'single':this.sections().images.value(new this.makeImages(this.getImageProperty($('[data-role=step-gallery-single]')),'thumbnail'));break;default:this.sections().images.value(new this.makeImages());break;}},force:function(wizard){this.fillImagesSection();this.validate();this.validateImage();wizard.data.sections=this.sections;wizard.data.sectionHelper=this.getSectionValue.bind(this);wizard.data.variations=this.generateVariation(this.attributes());},validate:function(){var formValid;_.each(this.sections(),function(section){switch(section.type()){case'each':if(!section.attribute()){throw new Error($.mage.__('Please select attribute for {section} section.').replace('{section}',section.label));}\nbreak;case'single':if(!section.value()){throw new Error($.mage.__('Please fill in the values for {section} section.').replace('{section}',section.label));}\nbreak;}},this);formValid=true;_.each($('[data-role=attributes-values-form]'),function(form){formValid=$(form).valid()&&formValid;});if(!formValid){throw new Error($.mage.__('Please fill-in correct values.'));}},validateImage:function(){switch(this.sections().images.type()){case'each':_.each(this.sections().images.attribute().chosen,function(option){if(!option.sections().images.images.length){throw new Error($.mage.__('Please select image(s) for your attribute.'));}});break;case'single':if(this.sections().images.value().file==null){throw new Error($.mage.__('Please choose image(s).'));}\nbreak;}},back:function(){this.setWizardNotifyMessageDependOnSectionType();},bindGalleries:function(){$('[data-role=bulk-step] [data-role=gallery]').each(function(index,element){var gallery=$(element),uploadInput=$(gallery.find('[name=image]')),dropZone=$(gallery).find('.image-placeholder');if(!gallery.data('gallery-initialized')){gallery.mage('productGallery',{template:'[data-template=gallery-content]',dialogTemplate:'.dialog-template',dialogContainerTmpl:'[data-role=img-dialog-container-tmpl]'});uploadInput.fileupload({dataType:'json',dropZone:dropZone,process:[{action:'load',fileTypes:/^image\\/(gif|jpeg|png)$/},{action:'resize',maxWidth:1920,maxHeight:1200},{action:'save'}],formData:{'form_key':FORM_KEY},sequentialUploads:true,acceptFileTypes:/(\\.|\\/)(gif|jpe?g|png)$/i,add:function(e,data){var progressTmpl=mageTemplate('[data-template=uploader]'),fileSize,tmpl;$.each(data.files,function(i,file){fileSize=typeof file.size=='undefined'?$.mage.__('We could not detect a size.'):byteConvert(file.size);data.fileId=Math.random().toString(33).substr(2,18);tmpl=progressTmpl({data:{name:file.name,size:fileSize,id:data.fileId}});$(tmpl).appendTo(gallery.find('[data-role=uploader]'));});$(this).fileupload('process',data).done(function(){data.submit();});},done:function(e,data){if(data.result&&!data.result.error){gallery.trigger('addItem',data.result);}else{$('#'+data.fileId).delay(2000).hide('highlight');alert({content:$.mage.__('We don\\'t recognize or support this file extension type.')});}\n$('#'+data.fileId).remove();},progress:function(e,data){var progress=parseInt(data.loaded / data.total*100,10),progressSelector='#'+data.fileId+' .progressbar-container .progressbar';$(progressSelector).css('width',progress+'%');},fail:function(e,data){var progressSelector='#'+data.fileId;$(progressSelector).removeClass('upload-progress').addClass('upload-failure').delay(2000).hide('highlight').remove();}});gallery.data('gallery-initialized',1);}});}});});","Magento_ConfigurableProduct/js/variations/steps/select_attributes.min.js":"define(['uiComponent','jquery','underscore','mage/translate'],function(Component,$,_){'use strict';var initNewAttributeListener=function(provider){$('[data-role=product-variations-matrix]').on('add',function(){provider().reload();});};return Component.extend({attributesLabels:{},stepInitialized:false,defaults:{modules:{multiselect:'${ $.multiselectName }',attributeProvider:'${ $.providerName }'},listens:{'${ $.multiselectName }:selected':'doSelectedAttributesLabels','${ $.multiselectName }:rows':'doSelectSavedAttributes'},notificationMessage:{text:null,error:null},selectedAttributes:[]},initialize:function(){this._super();this.selected=[];initNewAttributeListener(this.attributeProvider);},initObservable:function(){this._super().observe(['selectedAttributes']);return this;},render:function(wizard){this.wizard=wizard;this.setNotificationMessage();},setNotificationMessage:function(){var msg=$.mage.__('When you remove or add an attribute, we automatically update all configurations and you will need to recreate current configurations manually.');if(this.mode==='edit'){this.wizard.setNotificationMessage(msg);}},doSelectSavedAttributes:function(){if(this.stepInitialized===false){this.stepInitialized=true;_.each(this.initData.attributes,function(attribute){this.attributesLabels[attribute.id]=attribute.label;}.bind(this));this.multiselect().selected(_.pluck(this.initData.attributes,'id'));}},doSelectedAttributesLabels:function(selected){var labels=[];this.selected=selected;_.each(selected,function(attributeId){var attribute;if(!this.attributesLabels[attributeId]){attribute=_.findWhere(this.multiselect().rows(),{'attribute_id':attributeId});if(attribute){this.attributesLabels[attribute['attribute_id']]=attribute['frontend_label'];}}\nlabels.push(this.attributesLabels[attributeId]);}.bind(this));this.selectedAttributes(labels.join(', '));},force:function(wizard){wizard.data.attributesIds=this.multiselect().selected;if(!wizard.data.attributesIds()||wizard.data.attributesIds().length===0){throw new Error($.mage.__('Please select attribute(s).'));}\nthis.setNotificationMessage();},back:function(){}});});","Magento_ConfigurableProduct/js/variations/steps/summary.min.js":"define(['uiComponent','jquery','ko','underscore','Magento_Ui/js/grid/paging/paging','mage/translate'],function(Component,$,ko,_,paging){'use strict';return Component.extend({defaults:{modules:{variationsComponent:'${ $.variationsComponent }',modalComponent:'${ $.modalComponent }'},notificationMessage:{text:null,error:null},gridExisting:[],gridNew:[],gridDeleted:[],variationsExisting:[],variationsNew:[],variationsDeleted:[],pagingExisting:paging({name:'configurableWizard.pagingExisting',sizesConfig:{component:'Magento_ConfigurableProduct/js/variations/paging/sizes',name:'configurableWizard.pagingExisting_sizes'}}),pagingNew:paging({name:'configurableWizard.pagingNew',sizesConfig:{component:'Magento_ConfigurableProduct/js/variations/paging/sizes',name:'configurableWizard.pagingNew_sizes'}}),pagingDeleted:paging({name:'configurableWizard.pagingDeleted',sizesConfig:{component:'Magento_ConfigurableProduct/js/variations/paging/sizes',name:'configurableWizard.pagingDeleted_sizes'}}),attributes:[],attributesName:[$.mage.__('Images'),$.mage.__('SKU'),$.mage.__('Quantity'),$.mage.__('Price')],sections:[],gridTemplate:'Magento_ConfigurableProduct/variations/steps/summary-grid',quantityFieldName:'quantity'},initObservable:function(){var pagingObservables={currentNew:ko.getObservable(this.pagingNew,'current'),currentExisting:ko.getObservable(this.pagingExisting,'current'),currentDeleted:ko.getObservable(this.pagingDeleted,'current'),pageSizeNew:ko.getObservable(this.pagingNew,'pageSize'),pageSizeExisting:ko.getObservable(this.pagingExisting,'pageSize'),pageSizeDeleted:ko.getObservable(this.pagingDeleted,'pageSize')};this._super().observe('gridExisting gridNew gridDeleted attributes sections');this.gridExisting.columns=ko.observableArray();this.gridNew.columns=ko.observableArray();this.gridDeleted.columns=ko.observableArray();_.each(pagingObservables,function(observable){observable.subscribe(function(){this.generateGrid();},this);},this);return this;},nextLabelText:$.mage.__('Generate Products'),variations:[],calculate:function(variations,getSectionValue){var productSku=this.variationsComponent().getProductValue('sku'),productPrice=this.variationsComponent().getProductPrice(),productWeight=this.variationsComponent().getProductValue('weight'),productName=this.variationsComponent().getProductValue('name'),variationsKeys=[],gridExisting=[],gridNew=[],gridDeleted=[];this.variations=[];_.each(variations,function(options){var product,images,sku,name,quantity,price,variation,productId=this.variationsComponent().getProductIdByOptions(options);if(productId){product=_.findWhere(this.variationsComponent().variations,{productId:productId});}\nimages=getSectionValue('images',options);sku=productSku+_.reduce(options,function(memo,option){return memo+'-'+option.label;},'');name=productName+_.reduce(options,function(memo,option){return memo+'-'+option.label;},'');quantity=getSectionValue(this.quantityFieldName,options);if(!quantity&&productId){quantity=product[this.quantityFieldName];}\nprice=getSectionValue('price',options);if(!price){price=productId?product.price:productPrice;}\nif(productId&&!images.file){images=product.images;}\nvariation={options:options,images:images,sku:sku,name:name,price:price,productId:productId,weight:productWeight,editable:true};variation[this.quantityFieldName]=quantity;if(productId){variation.sku=product.sku;variation.weight=product.weight;variation.name=product.name;gridExisting.push(this.prepareRowForGrid(variation));}else{gridNew.push(this.prepareRowForGrid(variation));}\nthis.variations.push(variation);variationsKeys.push(this.variationsComponent().getVariationKey(options));},this);_.each(_.omit(this.variationsComponent().productAttributesMap,variationsKeys),function(productId){gridDeleted.push(this.prepareRowForGrid(_.findWhere(this.variationsComponent().variations,{productId:productId})));}.bind(this));this.variationsExisting=gridExisting;this.variationsNew=gridNew;this.variationsDeleted=gridDeleted;},generateGrid:function(){var pageExisting=this.pagingExisting.pageSize*this.pagingExisting.current,pageNew=this.pagingNew.pageSize*this.pagingNew.current,pageDeleted=this.pagingDeleted.pageSize*this.pagingDeleted.current;this.pagingExisting.totalRecords=this.variationsExisting.length;this.gridExisting(this.variationsExisting.slice(pageExisting-this.pagingExisting.pageSize,pageExisting));this.pagingNew.totalRecords=this.variationsNew.length;this.gridNew(this.variationsNew.slice(pageNew-this.pagingNew.pageSize,pageNew));this.pagingDeleted.totalRecords=this.variationsDeleted.length;this.gridDeleted(this.variationsDeleted.slice(pageDeleted-this.pagingDeleted.pageSize,pageDeleted));},prepareRowForGrid:function(variation){var row=[];row.push(_.extend({images:[]},variation.images));row.push(variation.sku);row.push(variation[this.quantityFieldName]);_.each(variation.options,function(option){row.push(option.label);});row.push(this.variationsComponent().getCurrencySymbol()+' '+variation.price);return row;},getGridTemplate:function(){return this.gridTemplate;},getGridId:function(){return _.uniqueId('grid_');},getColumnsName:function(attributes){var columns=this.attributesName.slice(0);attributes.each(function(attribute,index){columns.splice(3+index,0,attribute.label);},this);return columns;},render:function(wizard){this.wizard=wizard;this.sections(wizard.data.sections());this.attributes(wizard.data.attributes());this.gridNew([]);this.gridExisting([]);this.gridDeleted([]);this.gridExisting.columns(this.getColumnsName(this.wizard.data.attributes));this.gridNew.columns(this.getColumnsName(this.wizard.data.attributes));this.gridDeleted.columns(this.getColumnsName(this.variationsComponent().productAttributes));this.calculate(wizard.data.variations,wizard.data.sectionHelper);this.generateGrid();},force:function(){this.variationsComponent().render(this.variations,this.attributes());this.modalComponent().closeModal();},back:function(){}});});","Magento_ConfigurableProduct/js/variations/steps/attributes_values.min.js":"define(['uiComponent','jquery','ko','underscore','mageUtils','Magento_Ui/js/lib/collapsible','mage/translate'],function(Component,$,ko,_,utils,Collapsible){'use strict';ko.bindingHandlers.sortableList={init:function(element,valueAccessor){var list=valueAccessor();$(element).sortable({axis:'y',handle:'[data-role=\"draggable\"]',tolerance:'pointer',update:function(event,ui){var item=ko.contextFor(ui.item[0]).$data,position=ko.utils.arrayIndexOf(ui.item.parent().children(),ui.item[0]);if(ko.contextFor(ui.item[0]).$index()!=position){if(position>=0){list.remove(item);list.splice(position,0,item);}\nui.item.remove();}}});}};return Collapsible.extend({defaults:{notificationMessage:{text:null,error:null},createOptionsUrl:null,attributes:[],stepInitialized:false},initialize:function(){this._super();this.createAttribute=_.wrap(this.createAttribute,function(){var args=_.toArray(arguments),createAttribute=args.shift();return this.doInitSavedOptions(createAttribute.apply(this,args));});this.createAttribute=_.memoize(this.createAttribute.bind(this),_.property('id'));},initObservable:function(){this._super().observe(['attributes']);return this;},createOption:function(){this.options.push({value:0,label:'',id:utils.uniqueid(),'attribute_id':this.id,'is_new':true});},saveOption:function(option){if(this.isValidOption(option)){this.options.remove(option);this.options.push(option);this.chosenOptions.push(option.id);}},isValidOption:function(newOption){var duplicatedOptions=[],errorOption,allOptions=[];newOption.label=$.trim(newOption.label);if(_.isEmpty(newOption.label)){return false;}\n_.each(this.options(),function(option){if(!_.isUndefined(allOptions[option.label])&&newOption.label===option.label){duplicatedOptions.push(option);}\nallOptions[option.label]=option.label;});if(duplicatedOptions.length){_.each(duplicatedOptions,function(duplicatedOption){errorOption=$('[data-role=\"'+duplicatedOption.id+'\"]');errorOption.addClass('_error');});return false;}\nreturn true;},removeOption:function(option){this.options.remove(option);},removeAttribute:function(attribute){this.attributes.remove(attribute);this.wizard.setNotificationMessage($.mage.__('An attribute has been removed. This attribute will no longer appear in your configurations.'));},createAttribute:function(attribute,index){attribute.chosenOptions=ko.observableArray([]);attribute.options=ko.observableArray(_.map(attribute.options,function(option){option.id=utils.uniqueid();return option;}));attribute.opened=ko.observable(this.initialOpened(index));attribute.collapsible=ko.observable(true);attribute.isValidOption=this.isValidOption;return attribute;},initialOpened:function(index){return index<3;},saveAttribute:function(){var errorMessage=$.mage.__('Select options for all attributes or remove unused attributes.');if(!this.attributes().length){throw new Error(errorMessage);}\n_.each(this.attributes(),function(attribute){attribute.chosen=[];if(!attribute.chosenOptions.getLength()){throw new Error(errorMessage);}\n_.each(attribute.chosenOptions(),function(id){attribute.chosen.push(attribute.options.findWhere({id:id}));});});},selectAllAttributes:function(attribute){this.chosenOptions(_.pluck(attribute.options(),'id'));},deSelectAllAttributes:function(attribute){attribute.chosenOptions.removeAll();},saveOptions:function(){var newOptions=[];_.each(this.attributes(),function(attribute){_.each(attribute.options(),function(element){var option=attribute.options.findWhere({id:element.id});if(option['is_new']===true){if(!attribute.isValidOption(option)){throw new Error($.mage.__('The value of attribute \"\"%1\"\" must be unique').replace('\"%1\"',attribute.label));}\nnewOptions.push(option);}});});if(!newOptions.length){return false;}\n$.ajax({type:'POST',url:this.createOptionsUrl,data:{options:newOptions},showLoader:true}).done(function(savedOptions){if(savedOptions.error){this.notificationMessage.error=savedOptions.error;this.notificationMessage.text=savedOptions.message;return;}\n_.each(this.attributes(),function(attribute){_.each(savedOptions,function(newOptionId,oldOptionId){var option=attribute.options.findWhere({id:oldOptionId});if(option){attribute.options.remove(option);option['is_new']=false;option.value=newOptionId;attribute.options.push(option);}});});}.bind(this));},requestAttributes:function(attributeIds){$.ajax({type:'GET',url:this.optionsUrl,data:{attributes:attributeIds},showLoader:true}).done(function(attributes){attributes=_.sortBy(attributes,function(attribute){return this.wizard.data.attributesIds.indexOf(attribute.id);}.bind(this));this.attributes(_.map(attributes,this.createAttribute));}.bind(this));},doInitSavedOptions:function(attribute){var selectedOptions,selectedOptionsIds,selectedAttribute=_.findWhere(this.initData.attributes,{id:attribute.id});if(selectedAttribute){selectedOptions=_.pluck(selectedAttribute.chosen,'value');selectedOptionsIds=_.pluck(_.filter(attribute.options(),function(option){return _.contains(selectedOptions,option.value);}),'id');attribute.chosenOptions(selectedOptionsIds);this.initData.attributes=_.without(this.initData.attributes,selectedAttribute);}\nreturn attribute;},render:function(wizard){this.wizard=wizard;this.requestAttributes(wizard.data.attributesIds());},force:function(wizard){this.saveOptions();this.saveAttribute(wizard);wizard.data.attributes=this.attributes;},back:function(wizard){wizard.data.attributesIds(this.attributes().pluck('id'));}});});","Magento_ConfigurableProduct/js/options/price-type-handler.min.js":"","Amasty_GiftCardAccount/js/order.min.js":"define([\"jquery\"],function($){return{options:{},applyAmGCard:function(){var data={};data['amgiftcard_add']=$('#amgiftcard_code').val();order.loadArea(['items','shipping_method','totals','billing_method'],true,data);},removeAmGCard:function(code){var data={};data['amgiftcard_remove']=code;order.loadArea(['items','shipping_method','totals','billing_method'],true,data);}}});","Amasty_GiftCardAccount/js/form/form.min.js":"define(['jquery','Magento_Ui/js/form/form','uiRegistry','mageUtils','Amasty_GiftCardAccount/js/action/notification'],function($,Form,registry,utils,notification){'use strict';return Form.extend({defaults:{modules:{modal:'amgcard_account_listing.amgcard_account_listing.generate_in_bulk',gridSource:'amgcard_account_listing.amgcard_account_listing_data_source'}},initialize:function(){this._super();this.modal().modal.on('modalclosed',this.reset.bind(this));return this;},generate:function(){this.validate();if(!this.source.get('params.invalid')){this.submitForm();}else{this.focusInvalid();}},submitForm:function(){var options={ajaxSaveType:this.ajaxSaveType,response:{data:this.responseData,status:this.responseStatus},attributes:{id:this.namespace}};$('body').trigger('processStart');utils.ajaxSubmit({url:this.source.submit_url,data:this.source.data},options).then(this.afterGeneration.bind(this));$('body').trigger('processStop');return this;},afterGeneration:function(response){notification.add(response.message,response.isError);if(!response.isError){this.gridSource().params.random=Math.random();this.gridSource().reload();this.modal().closeModal();}}});});","Amasty_GiftCardAccount/js/action/notification.min.js":"define(['jquery','mage/backend/notification'],function($,notification){'use strict';return{pageSelector:'.page-main-actions',containerSelector:'[data-role=\"messages\"]',css:{success:'message-success success',container:'messages'},add:function(text,isError,selector){var wrapper;notification().clear();notification().add({error:isError,message:text,insertMethod:function(message){wrapper=$(message);if(!isError){wrapper.addClass(this.css.container).children().addClass(this.css.success);}\n$(selector||this.pageSelector).after(wrapper);}.bind(this)});},clear:function(){notification().clear();}};});","Magento_AdobeIms/js/signIn.min.js":"define(['uiComponent','jquery','Magento_AdobeIms/js/action/authorization'],function(Component,$,login){'use strict';return Component.extend({defaults:{profileUrl:'adobe_ims/user/profile',logoutUrl:'adobe_ims/user/logout',user:{isAuthorized:false,name:'',email:'',image:''},loginConfig:{url:'https://ims-na1.adobelogin.com/ims/authorize',callbackParsingParams:{regexpPattern:/auth\\[code=(success|error);message=(.+)\\]/,codeIndex:1,messageIndex:2,nameIndex:3,successCode:'success',errorCode:'error'},popupWindowParams:{width:500,height:600,top:100,left:300},popupWindowTimeout:60000}},initObservable:function(){this._super().observe(['user']);return this;},login:function(){var deferred=$.Deferred();if(this.user().isAuthorized){deferred.resolve();}\nlogin(this.loginConfig).then(function(response){this.loadUserProfile();deferred.resolve(response);}.bind(this)).fail(function(error){deferred.reject(error);});return deferred.promise();},loadUserProfile:function(){$.ajax({type:'GET',url:this.profileUrl,showLoader:true,dataType:'json',context:this,success:function(response){this.user({isAuthorized:true,name:response.result.name,email:response.result.email,image:response.result.image});},error:function(response){return response.message;}});},logout:function(){$.ajax({type:'POST',url:this.logoutUrl,data:{'form_key':window.FORM_KEY},dataType:'json',context:this,showLoader:true,success:function(){this.user({isAuthorized:false,name:'',email:'',image:''});}.bind(this),error:function(response){return response.message;}});}});});","Magento_AdobeIms/js/user.min.js":"define(['ko'],function(ko){'use strict';return{isAuthorized:ko.observable(false),name:ko.observable(''),email:ko.observable('')};});","Magento_AdobeIms/js/config.min.js":"define([],function(){'use strict';return{loginUrl:'https://ims-na1.adobelogin.com/ims/authorize',profileUrl:'adobe_ims/user/profile',logoutUrl:'adobe_ims/user/logout',manageAccountLink:'https://account.adobe.com/',login:{callbackParsingParams:{regexpPattern:/auth\\[code=(success|error);message=(.+)\\]/,codeIndex:1,messageIndex:2,nameIndex:3,successCode:'success',errorCode:'error'},popupWindowParams:{width:500,height:600,top:100,left:300},popupWindowTimeout:10000}};});","Magento_AdobeIms/js/action/authorization.min.js":"define(['jquery'],function($){'use strict';function buildWindowParams(windowParams){var output='',coma='',paramName,paramValue;for(paramName in windowParams){if(windowParams[paramName]){paramValue=windowParams[paramName];output+=coma+paramName+'='+paramValue;coma=',';}}\nreturn output;}\nreturn function(config){var authWindow,deferred=$.Deferred(),watcherId,stopWatcherId;if(window.adobeIMSAuthWindow){window.adobeIMSAuthWindow.close();}\nauthWindow=window.adobeIMSAuthWindow=window.open(config.url,'authorization_widnow',buildWindowParams(config.popupWindowParams||{width:500,height:300}));function stopHandle(){clearTimeout(stopWatcherId);clearInterval(watcherId);authWindow.close();}\nfunction startHandle(){var responseData;try{if(authWindow.document.domain!==document.domain||authWindow.document.readyState!=='complete'){return;}\nstopWatcherId=setTimeout(function(){stopHandle();deferred.reject(new Error('Time\\'s up.'));},config.popupWindowTimeout||60000);responseData=authWindow.document.body.innerHTML.match(config.callbackParsingParams.regexpPattern);if(!responseData){return;}\nstopHandle();if(responseData[config.callbackParsingParams.codeIndex]===config.callbackParsingParams.successCode){deferred.resolve({isAuthorized:true,lastAuthSuccessMessage:responseData[config.callbackParsingParams.messageIndex]});}else{deferred.reject(responseData[config.callbackParsingParams.messageIndex]);}}catch(e){if(authWindow.closed){clearTimeout(stopWatcherId);clearInterval(watcherId);if(window.adobeIMSAuthWindow&&window.adobeIMSAuthWindow.closed){deferred.reject(new Error('Authentication window was closed.'));}}}}\nwatcherId=setInterval(startHandle,1000);return deferred.promise();};});","Magento_Cookie/js/jquery.storageapi.extended.min.js":"define(['jquery','jquery/jquery.cookie','jquery/jquery.storageapi.min'],function($){'use strict';function _extend(storage){var cookiesConfig=window.cookiesConfig||{};$.extend(storage,{_secure:!!cookiesConfig.secure,_samesite:cookiesConfig.samesite?cookiesConfig.samesite:'lax',setItem:function(name,value,options){var _default={expires:this._expires,path:this._path,domain:this._domain,secure:this._secure,samesite:this._samesite};$.cookie(this._prefix+name,value,$.extend(_default,options||{}));},setConf:function(c){if(c.path){this._path=c.path;}\nif(c.domain){this._domain=c.domain;}\nif(c.expires){this._expires=c.expires;}\nif(typeof c.secure!=='undefined'){this._secure=c.secure;}\nif(typeof c.samesite!=='undefined'){this._samesite=c.samesite;}\nreturn this;}});}\nif(window.cookieStorage){_extend(window.cookieStorage);}});","Amasty_Pgrid/js/model/column.min.js":"define(['underscore'],function(_){'use strict';return{initObservable:function(){this._super().observe(['ampgrid_marker','ampgrid_editable']);return this;},initFieldClass:function(){_.extend(this.fieldClass,{_dragging:this.dragging,'ampgrid-marker':this.ampgrid_marker});return this;}};});","Amasty_Pgrid/js/product/grid/cell/salable-quantity.min.js":"define(['Magento_InventorySalesAdminUi/js/product/grid/cell/salable-quantity','Amasty_Pgrid/js/model/column'],function(SalableQuantity,amColumn){'use strict';return SalableQuantity.extend(amColumn);});","Amasty_Pgrid/js/form/element/category-select.min.js":"define(['Magento_Catalog/js/components/new-category','underscore'],function(Select,_){'use strict';return Select.extend({defaults:{valuesSize:null,listens:{'value':'prepareValue'}},initialize:function(){this._super();this.valuesSize=this.value().size();return this;},initObservable:function(){this._super().observe(['$index']);return this;},prepareValue:function(values){var preparedValues=values.map(function(item){if(_.isObject(item)){return item.id;}\nreturn item;});if(_.difference(preparedValues,values).length){this.value(preparedValues);}\nif(this.valuesSize!==null&&this.valuesSize!==values.size()){window.isPgridEditable=true;}},hasChanged:function(){return!_.isEqual(_.sortBy(this.initialValue),_.sortBy(this.value()));},outerClick:function(){this._super();this.focused(false);},onFocusOut:function(){this._super();this.focused(false);},onFocusIn:function(){this._super();this.focused(true);}});});","Amasty_Pgrid/js/form/element/select.min.js":"define(['Magento_Ui/js/form/element/select'],function(Select){'use strict';return Select.extend({defaults:{listens:{value:'checkValue'}},checkValue:function(value){if(this.initialValue!==value){window.isPgridEditable=true;}}});});","Amasty_Pgrid/js/grid/listing.min.js":"define(['Magento_Ui/js/grid/listing','uiLayout'],function(Listing,layout){'use strict';return Listing.extend({defaults:{amastyEditorConfig:{name:'${ $.name }_amasty_editor',component:'Amasty_Pgrid/js/grid/editing/editor',columnsProvider:'${ $.name }',dataProvider:'${ $.provider }',enabled:false}},initialize:function(){this._super().initAmastyEditor();return this;},initAmastyEditor:function(){if(this.amastyEditorConfig.enabled){layout([this.amastyEditorConfig]);}},unshiftElement:function(index){var elems=this.elems(),firstElem=elems.shift(),item=elems.splice(index,1)[0];elems.unshift(item);elems.unshift(firstElem);this.elems(elems);}});});","Amasty_Pgrid/js/grid/columns/actions.min.js":"define(['Magento_Ui/js/grid/columns/actions','Amasty_Pgrid/js/model/column'],function(Actions,amColumn){'use strict';return Actions.extend(amColumn);});","Amasty_Pgrid/js/grid/columns/column.min.js":"define(['Magento_Ui/js/grid/columns/column','Amasty_Pgrid/js/model/column','underscore'],function(Column,amColumn,_){'use strict';var column=_.extend({defaults:{headerTmpl:'Amasty_Pgrid/ui/grid/columns/text'},isLinkVisible:function(record){return!!this.getLabel(record);}},amColumn);return Column.extend(column);});","Amasty_Pgrid/js/grid/columns/multiselect.min.js":"define(['underscore','Magento_Ui/js/grid/columns/column','Amasty_Pgrid/js/model/column'],function(_,Column,amColumn){'use strict';var column=_.extend({getLabel:function(){var options=this.options||[],values=this._super(),label=[];if(!Array.isArray(values)&&values){values=values.split(',');}else{values=[];}\nvalues=values.map(function(value){return value+'';});_.each(options,function(item){if(_.contains(values,item.value+'')){label.push(item.label);}});return label.join(', ');}},amColumn);return Column.extend(column);});","Amasty_Pgrid/js/grid/columns/thumbnail.min.js":"define(['jquery','Magento_Ui/js/grid/columns/thumbnail','Amasty_Pgrid/js/model/column','Magento_Ui/js/modal/modal','underscore','Amasty_Pgrid/js/action/messages','mage/translate','Amasty_Pgrid/js/action/ajax','prototype'],function($,Thumbnail,amColumn,modal,_,amMessage,$t,actionAjax){'use strict';var column=_.extend({defaults:{modalUrl:'',saveUrl:'',modalComponent:'',selectors:{imagesData:'[data-form-part=\"product_form\"]',formKey:'[name=\"form_key\"]'},cssClasses:{modal:'ampgrid-modal-image',primery:'action-primary'},text:{linkDetail:$t('Go to Details Page'),upload:$t('Upload Images and Videos for '),save:$t('Save')},imports:{namespace:'${ $.parentName }:ns'},modules:{parent:'${ $.parentName }',source:'${ $.provider }',editor:'${ $.parentName }_amasty_editor'}},preview:function(row){if(!this.ampgrid_editable()){return this._super();}\nthis.productId=row.entity_id;return this.geEditModalHtml(row);},geEditModalHtml:function(row){var data={entity_id:row.entity_id};actionAjax('GET',this.modalUrl,data,this.showEditImageModal.bind(this,row.name),this.editor().onSaveError);},showEditImageModal:function(name,modalHtml){var self=this;this.previewPopup=$('<div/>').html(modalHtml);this.previewPopup.modal({title:this.text.upload+'\"'+name+'\"',innerScroll:true,type:'slide',modalClass:this.cssClasses.modal,buttons:[{text:this.text.save,class:this.cssClasses.primery,click:function(){self.actionSave();}}],closed:function(){this.closest('.ampgrid-modal-image').remove();}}).trigger('openModal');},actionSave:function(){var formData=new FormData(),name='amastyItems['+this.productId+']',inputs=this.previewPopup.find(this.selectors.imagesData),data=this.source().get('params');this.getParamsToFormData(data,formData);formData.append('form_key',$(this.selectors.formKey).val());formData.append('store_id',0);formData.append('namespace',this.namespace);_.each(inputs,function(input){formData.append(input.name.replace('product',name),input.value);});this.saveImages(formData);},getParamsToFormData:function(data,formData,recKey){_.each(data,function(value,key){key=recKey?recKey+'['+key+']':key;if(_.isObject(value)){return this.getParamsToFormData(value,formData,key);}\nformData.append(key,value);}.bind(this));},afterSaveSuccess:function(response){this.previewPopup.modal('closeModal');this.editor().onDataSaved(false,response);},afterSaveError:function(errorThrown){this.previewPopup.modal('closeModal');this.editor().onSaveError(errorThrown);},saveImages:function(formData){actionAjax('POST',this.saveUrl,formData,this.afterSaveSuccess.bind(this),this.afterSaveError.bind(this),{'Accept':'application/json'});}},amColumn);return Thumbnail.extend(column);});","Amasty_Pgrid/js/grid/columns/date.min.js":"define(['Magento_Ui/js/grid/columns/date','Amasty_Pgrid/js/model/column','underscore'],function(Date,amColumn,_){'use strict';var column=_.extend({defaults:{headerTmpl:'Amasty_Pgrid/ui/grid/columns/text'}},amColumn);return Date.extend(column);});","Amasty_Pgrid/js/grid/columns/select.min.js":"define(['Magento_Ui/js/grid/columns/select','Amasty_Pgrid/js/model/column'],function(Select,amColumn){'use strict';return Select.extend(amColumn);});","Amasty_Pgrid/js/grid/controls/columns.min.js":"define(['Magento_Ui/js/grid/controls/columns','uiLayout','uiRegistry','ko','underscore'],function(Columns,layout,registry,ko,_){'use strict';return Columns.extend({defaults:{selectedTab:'tab1',template:'Amasty_Pgrid/ui/grid/controls/columns',rowTmpl:'Amasty_Pgrid/ui/grid/controls/row',sectionTmpl:'Amasty_Pgrid/ui/grid/controls/section',clientConfig:{component:'Magento_Ui/js/grid/editing/client',name:'${ $.name }_client'},columnsData:[],modules:{client:'${ $.clientConfig.name }',source:'${ $.provider }',editorCell:'${ $.editorCellConfig.provider }',listingFilter:'${ $.listingFilterConfig.provider }'},imports:{'activeView':'${ $.parentName }.bookmarks:activeView'},listens:{'activeView':'changeView'},isFirstInit:true},initialize:function(){this._super();layout([this.clientConfig]);return this;},initObservable:function(){this._super().track(['selectedTab']).observe(['columnsData']);return this;},initElement:function(el){el.track(['label','ampgrid_editable','ampgrid_filterable','ampgrid_title','ampgrid_marker']);el.headerTmpl='Amasty_Pgrid/ui/grid/columns/text';},hasSelected:function(tabKey){return this.selectedTab===tabKey;},changeView:function(view){if(typeof view.data==='undefined'){return;}\nif(view.index==='default'&&!this.isFirstInit){this.initDefaultView();}else{this.prepareViewData(view);}\nthis.isFirstInit=false;if(this.editorCell()){this.prepareColumns();this.editorCell().model.columns('hideLoader');}\nthis.prepareColumnsData();},prepareViewData:function(view){var elementData;_.each(this.elems(),function(element){elementData=view.data.columns[element.index];element.label=element.ampgrid_title||element.ampgrid.title;this.prepareElementViewData(elementData,element);},this);},prepareElementViewData:function(elementData,element){this.changeAmpgridData(element.ampgrid,elementData);_.each(elementData,function(value,name){if(ko.isObservable(element[name])){element[name](value);}else{element[name]=value;}});},initDefaultView:function(){_.each(this.elems(),function(element){element.label=element.ampgrid_def_label;element.ampgrid.title=element.ampgrid_def_label;element.ampgrid_title=element.ampgrid_def_label;element.ampgrid.editable=false;element.ampgrid.marker=false;if(element.ampgrid.has_filter){element.ampgrid.filterable=true;}},this);},changeAmpgridData:function(ampgrid,data){const prefix='ampgrid_';_.each(data,function(value,name){if(name.indexOf(prefix)!==-1){name=name.replace(prefix,'');}\nampgrid[name]=value;});},prepareColumnsData:function(){var self=this,columns=[],index;this.elems.each(function(elem){index=self.getElemIndex(elem);if(typeof columns[index]==='undefined'){columns[index]=[];}\ncolumns[index].push(elem);});this.columnsData(columns);},getElemIndex:function(elem){if(this.isDefaultColumn(elem)){return 0;}\nif(this.isExtraColumn(elem)){return 1;}\nif(this.isAttributeColumn(elem)){return 2;}\nreturn 0;},isDefaultColumn:function(elem){return elem.ampgrid&&!elem.amastyExtra&&!elem.amastyAttribute;},isAttributeColumn:function(elem){return elem.ampgrid&&elem.amastyAttribute;},isExtraColumn:function(elem){return elem.ampgrid&&elem.amastyExtra;},close:function(){return this;},prepareColumns:function(index){var columns=this,current,parentComponent,filter;columns.editorCell().model.columns('showLoader');this.elems.each(function(elem,currentIndex){current=columns.storage().get('current.columns.'+elem.index);elem.label=elem.ampgrid.title;if(ko.isObservable(elem.ampgrid_editable)){elem.ampgrid_editable(elem.ampgrid.editable);}\nif(ko.isObservable(elem.ampgrid_marker)){elem.ampgrid_marker(elem.ampgrid.marker);}\nif(current){current.visible=elem.visible;current.ampgrid_title=elem.ampgrid.title;current.ampgrid_editable=elem.ampgrid.editable;current.ampgrid_filterable=elem.ampgrid.filterable;current.ampgrid_marker=elem.ampgrid.marker;}\ncolumns.editorCell().initColumn(elem.index);filter=columns.listingFilter().elems.findWhere({index:elem.index});if(!filter&&elem.ampgrid.filterable){elem.filter=elem.default_filter;columns.listingFilter().addFilter(elem);}\nif(filter&&!elem.ampgrid.filterable){filter.visible(false);}else if(filter&&elem.visible&&elem.ampgrid.filterable){filter.visible(true);}\nif(elem.index===index){parentComponent=elem.requestModule(elem.parentName);parentComponent().unshiftElement(currentIndex);}});},reloadGridData:function(data){var currentData;if(data.visible===false){return this;}\nthis.prepareColumns(data.index);currentData=this.source().get('params');currentData.data=JSON.stringify({'column':data.index});this.client().save(currentData).done(this.amastyReload);return this;},saveBookmark:function(){this.prepareColumns();this.storage().saveState();this.editorCell().model.columns('hideLoader');},amastyReload:function(){registry.get('index = product_listing').source.reload();}});});","Amasty_Pgrid/js/grid/editing/editor.min.js":"define(['underscore','mageUtils','uiLayout','mage/translate','uiCollection','Amasty_Pgrid/js/action/save','Amasty_Pgrid/js/action/messages'],function(_,utils,layout,$t,Collection,saveAction,amMessage){'use strict';return Collection.extend({defaults:{categoriesOptions:[],colIndex:{category:'category_ids',amCategory:'amasty_categories'},isMultiEditing:true,isMultiEditingActive:false,fieldTmpl:'Amasty_Pgrid/ui/grid/editing/field',headerButtonsTmpl:'Amasty_Pgrid/ui/grid/editing/header-buttons',successMsg:$t('You have successfully saved your edits.'),saveData:{},columnNames:['price','cost','special_price'],templates:{fields:{base:{parent:'${ $.$data.editor.name }',name:'${ $.$data.productId }_${ $.$data.column.index }',provider:'${ $.parent }',dataScope:'rowsData.${ $.$data.rowIndex }.${ $.$data.column.index }',isEditor:true,reloadOnFocused:true,modules:{parentObject:'${ $.parent }'}},text:{component:'Magento_Ui/js/form/element/abstract',template:'Amasty_Pgrid/ui/form/element/input'},number:{component:'Magento_Ui/js/form/element/abstract',template:'Amasty_Pgrid/ui/form/element/inputNumber'},price:{component:'Magento_Ui/js/form/element/abstract',template:'Amasty_Pgrid/ui/form/element/input',dataScope:'rowsData.${ $.$data.rowIndex }.amasty_${ $.$data.column.index }'},date:{component:'Magento_Ui/js/form/element/date',template:'ui/form/element/date',dateFormat:'MMM d, y h:mm:ss a',reloadOnFocused:false,reloadOnUpdate:true},select:{component:'Amasty_Pgrid/js/form/element/select',template:'Amasty_Pgrid/ui/form/element/select',options:'${ JSON.stringify($.$data.column.options) }',reloadOnUpdate:true},multiselect:{component:'Magento_Ui/js/form/element/multiselect',options:'${ JSON.stringify($.$data.column.options) }',template:'Amasty_Pgrid/ui/form/element/multiselect'},textarea:{component:'Magento_Ui/js/form/element/textarea',template:'Amasty_Pgrid/ui/form/element/textarea'},categories:{component:'Amasty_Pgrid/js/form/element/category-select',template:'ui/form/field',elementTmpl:'Amasty_Pgrid/ui/form/element/ui-select',optgroupTmpl:'Amasty_Pgrid/ui/form/element/ui-select-optgroup',formElement:'select',filterPlaceholder:$t('Search'),filterOptions:true,chipsEnabled:false,additionalClasses:'ampgrid-multiselect-container',labelVisible:false,levelsVisibility:1,multiple:true,disableLabel:true,reloadOnUpdate:false,reloadOnFocused:true}}},cellConfig:{component:'Amasty_Pgrid/js/grid/editing/cell',name:'${ $.name }_cell',model:'${ $.name }',columnsProvider:'${ $.columnsProvider }'},clientConfig:{component:'Magento_Ui/js/grid/editing/client',name:'${ $.name }_client'},imports:{rowsData:'${ $.dataProvider }:data.items',filters:'${ $.dataProvider }:params.filters',categoriesOptions:'${ $.dataProvider }:data.categories'},listens:{saveData:'updateSaveState',elems:'updateSaveState','${ $.dataProvider }:params.paging.pageSize':'onPagingSizeChanged'},modules:{columns:'${ $.columnsProvider }',client:'${ $.clientConfig.name }',source:'${ $.dataProvider }',cell:'${ $.cellConfig.name }'}},initialize:function(){_.bindAll(this,'onDataSaved','onSaveError','clearSaveData');this._super();this.amMessage=amMessage(this);layout([this.clientConfig]);layout([this.cellConfig]);this.source().on('reloaded',this.clearSaveData);return this;},initObservable:function(){this._super().track(['saveData','rowsData']).observe({canSave:false,hasActive:false,messages:[],categoriesOptions:[]});return this;},onPagingSizeChanged:function(){if(this.cell()){this.cell().initCells();}},onInputKeyUp:function(component,event){var value=this.value();if((this.editorType==='textarea'&&event.ctrlKey&&event.which===13)||(this.editorType!=='textarea'&&event.which===13)){this.focused(false);}\nif(this.editorType==='number'){this.value(value.toString().replace(/[^0-9\\\\+-.]/gm,''));}\nwindow.isPgridEditable=true;return true;},onFieldUpdated:function(hasChanged,canSave){var parent=this.parentObject(),saveData=parent.saveData;if(_.has(this.parentObject().saveData,this.fieldId)){delete saveData[this.fieldId];}\nif(hasChanged){if(this.colIndex===parent.colIndex.amCategory){this.colIndex=parent.colIndex.category;}\nsaveData[this.fieldId]={'entityId':this.productId,'value':typeof this.value()!='object'||this.value().length>0?this.value():null,'colIndex':this.colIndex,'rowIndex':this.rowIndex};}\nparent.saveData=saveData;if(!parent.isMultiEditing&&hasChanged&&parent.isCanSave(this,parent,canSave)){this.initialValue=this.value();parent.save();}},isCanSave:function(item,parent,canSave){if(parent.isCategorySelect(item,parent)){return!!canSave;}\nreturn true;},isCategorySelect:function(item,parent){return item.colIndex===parent.colIndex.amCategory||item.colIndex===parent.colIndex.category;},updateSaveState:function(){var editor=this,hasActive=false;_.each(editor.elems(),function(elem){if(elem.visible()&&!hasActive&&editor.isMultiEditing){hasActive=true;}});this.hasActive(hasActive);this.canSave(hasActive||_.keys(this.saveData).length>0);},startEdit:function(rowIndex,colIndex){return this.edit(rowIndex,colIndex);},getId:function(rowIndex,colIndex){return rowIndex+'_'+colIndex;},edit:function(rowIndex,colIndex){var field,colData,regExp=/[^\\d\\.\\,\\s]+/gm;if(this.isEditableColumn(colIndex)){field=this.getField(this.rowsData[rowIndex].entity_id,colIndex);colData=this.rowsData[rowIndex][colIndex];if(_.contains(this.columnNames,colIndex)&&colData){this.rowsData[rowIndex][colIndex]=colData.replace(regExp,'');}\nif(!field){this.initField(rowIndex,colIndex);}else{field.visible(true);field.value(this.rowsData[rowIndex][colIndex]);}}\nreturn this;},initField:function(rowIndex,colIndex){var field=this.buildField(rowIndex,colIndex);layout([field]);return this;},buildField:function(rowIndex,colIndex){var fields=this.templates.fields,column=this.columns().getChild(colIndex),field=column.editor,rowData=this.rowsData[rowIndex],newField;if(_.isObject(field)&&field.editorType){field=utils.extend({},fields[field.editorType],field);}else if(_.isString(field)){field=fields[field];}\nfield=utils.extend({},fields.base,field);newField=utils.template(field,{editor:this,column:column,productId:rowData.entity_id,rowIndex:rowIndex},true,true);if(field.editorType==='categories'){newField.options=this.source().data.categories;}\nnewField.fieldId=this.getId(rowData.entity_id,colIndex);newField.productId=rowData.entity_id;newField.colIndex=colIndex;newField.onKeyUp=this.onInputKeyUp;newField.initialValue=rowData[colIndex];return newField;},initElement:function(field){var editor=this;if(field.reloadOnUpdate){field.on('update',this.onFieldUpdated.bind(field));}\nif(field.reloadOnFocused){field.on('focused',function(focused){if(!focused){editor.onFieldUpdated.call(field,field.hasChanged(),true);}});}\nfield.focused(true);},getField:function(productId,colIndex){return this.elems.findWhere({fieldId:this.getId(productId,colIndex)});},isEditableColumn:function(colIndex){var column=this.columns().getChild(colIndex);return column.ampgrid&&column.ampgrid.editable;},isEditable:function(productId,colIndex){var elem=this.getField(productId,colIndex),visible=!elem||elem.visible()!==false;return this.columns().getChild(colIndex)&&this.columns().getChild(colIndex).editor&&visible;},onDataSaved:function(deferred,data){var msg={type:'success',message:this.successMsg};if(data.ajaxExpired){document.location.href=data.ajaxRedirect;return;}\nthis.amMessage.addMessage(msg);this.source().onReload(data.grid);this.client().busy=false;this.hasActive(false);window.isPgridEditable=false;if(deferred){deferred.resolve();}},clearSaveData:function(){var editor=this;_.each(editor.elems(),function(elem){elem.visible(false);});this.saveData={};return this;},onSaveError:function(errors){this.amMessage.addMessage(errors).columns('hideLoader');this.client().busy=false;},hasMessages:function(){return this.messages().length;},save:function(){return saveAction(this);},cancel:function(){this.clearSaveData();this.amMessage.clearMessages();return this;}});});","Amasty_Pgrid/js/grid/editing/cell.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','uiRegistry','uiClass','Amasty_Pgrid/js/action/notification'],function(ko,$,_,registry,Class,notification){'use strict';return Class.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table',cellSelector:'${ $.tableSelector } tbody tr.data-row div.data-grid-cell-content',rowTemplate:'Amasty_Pgrid/grid/cells/row',rowTmpl:'<!-- ko with: _editor -->'+'<!-- ko if: isEditable($row().entity_id, $col.index) -->'+'<!-- ko with: getField($row().entity_id, $col.index) -->'+'<!-- ko template: $parent.fieldTmpl --><!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->',headerButtonsTmpl:'<!-- ko template: headerButtonsTmpl --><!-- /ko -->',selectors:{panel:'[data-ampgrid-js=\"panel\"]',gridWrapper:'[data-role=\"grid-wrapper\"]',editAction:'.action-menu-item',generalDropdownAction:'.admin-user .admin__action-dropdown-menu a',newProductAction:'#add_new_product-button',newProductOptions:'#add_new_product .dropdown-menu',dropDownMenu:'.dropdown-menu',itemDefault:'.item-default'}},initialize:function(){_.bindAll(this,'initRoot','initCell','cellBindings');this._super();this.model=registry.get(this.model);$.async(this.rootSelector,this.initRoot);$.async(this.cellSelector,this.initCell);this.addNotificationsEvents();return this;},addNotificationsEvents:function(){var newProductOptions=document.querySelector(this.selectors.newProductOptions);$(this.selectors.gridWrapper).on('click',this.selectors.editAction,this.showNotification.bind(this,false));$(this.selectors.newProductAction).on('click',this.showNotification.bind(this,false));$(this.selectors.generalDropdownAction).on('click',this.showNotification.bind(this,false));newProductOptions.addEventListener('click',this.showNotification.bind(this,true),true);},showNotification:function(isSetLocation,event){var deferred,href,$element=$(event.currentTarget);if(window.isPgridEditable&&$element.attr('target')!=='_blank'){event.preventDefault();event.stopPropagation();window.isNotificationEnabled=true;deferred=$.Deferred();notification(deferred).showNotification();$.when(deferred).done(function(){window.isNotificationEnabled=false;window.isPgridEditable=false;if(isSetLocation){event.target.onclick();return;}\nhref=$(event.currentTarget).attr('href');if(!href){$(this.selectors.dropDownMenu).find(this.selectors.itemDefault).trigger('click');return;}\nwindow.location.href=$(event.currentTarget).attr('href');}.bind(this));}},initRoot:function(node){$(this.headerButtonsTmpl).insertBefore(node).applyBindings(this.model);this.initScroll();return this;},initScroll:function(){$(window).on('scroll',_.throttle(this.toggleFixedPgrid,200).bind(this));},toggleFixedPgrid:function(event){var panel=$(this.selectors.panel),offsetTop,isActive;if(panel.length){offsetTop=panel.offset().top-panel.height();isActive=$(event.currentTarget).scrollTop()>offsetTop;panel.toggleClass('-fixed',isActive);}},cellBindings:function(ctx){var model=this.model,visible=false,productId,colIndex,field;return{visible:ko.computed(function(){visible=false;if(model.rowsData[ctx.$index]){productId=model.rowsData[ctx.$index].entity_id;colIndex=ctx.$col.index;field=model.getField(productId,colIndex);visible=!field||field.visible()===false;}\nreturn visible;})};},initCells:function(){var cell=this;$.async(this.cellSelector,function(node){cell.initCell(node);});},initColumn:function(colIndex){var cell=this;$.async(this.cellSelector,function(node){if(ko.contextFor(node).$col.index==colIndex){cell.initCell(node);}});},initCell:function(node){var koNode=ko.contextFor(node),$editingCell;if(this.model.isEditableColumn(koNode.$col.index)&&koNode.hasAmpgridEditor!==true){$(node).extendCtx({_editor:this.model}).bindings(this.cellBindings);$editingCell=$(this.rowTmpl).insertBefore(node).applyBindings(node);ko.utils.domNodeDisposal.addDisposeCallback(node,this.removeEditingCell.bind(this,$editingCell));koNode.hasAmpgridEditor=true;}\nreturn this;},removeEditingCell:function(cell){_.toArray(cell).forEach(ko.removeNode);}});});","Amasty_Pgrid/js/mixin/massactions-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({applyMassaction:function(){window.isPactionEnabled=false;return showNotification.call(this,this._super);},close:function(){if(!window.isPactionEnabled){return this._super.call(this);}}});};});","Amasty_Pgrid/js/mixin/export-mixin.min.js":"define(['jquery','underscore','Magento_Ui/js/modal/alert','Amasty_Pgrid/js/action/export-notification','mage/translate'],function($,_,message,exportNotification){'use strict';return function(target){return target.extend({defaults:{selectionStorage:[],exportMode:'',},applyOption:function(){var isProductsSelected=this.selections().selected().length!==0,deferred=$.Deferred();if(!this.isProductListing()||this.isProductExportOption()){return this._super();}\nexportNotification(deferred).showNotification(isProductsSelected);$.when(deferred).done(function(exportMode){switch(exportMode){case'export-whole':this.exportMode=exportMode;this.selectionStorage=this.selections().selected().slice();return this.processExport()\ncase'export-selected':this.exportMode=exportMode;return this.processExport()}}.bind(this));return false;},processExport:function(){if(!window.Blob){message({title:$.mage.__('Attention'),content:$.mage.__('Unable to export product because of using IE browser.'),});return false;}\n$('body').trigger('processStart');$.ajax({url:this.getActiveOption().url,type:'POST',data:this.getParams(),success:function(response){var blob=new Blob([response],{type:'text/plain'}),link=$('<a>',{href:URL.createObjectURL(blob),download:'export.'+this.getActiveOption().value});link[0].click();$('body').trigger('processStop');}.bind(this),error:function(XMLHttpRequest,textStatus,errorThrown){$('body').trigger('processStop');console.log(errorThrown);}});},getParams:function(){if(!this.isProductListing()||this.isProductExportOption()){return this._super();}\nswitch(this.exportMode){case'export-whole':this.selections().deselectAll().selectPage().excludeMode(false);var result=this._super();result.selected=result.selected.slice();this.restoreSelection();return result;case'export-selected':return this._super();}},restoreSelection:function(){this.selections().deselectAll();_.each(this.selectionStorage,function(id){this.selections().select(id);}.bind(this));},isProductListing:function(){return this.ns==='product_listing';},isProductExportOption:function(){return _.has(this.getActiveOption(),'is_amasty_profile');}});};});","Amasty_Pgrid/js/mixin/sizes-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({setSize:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/paging-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({setPage:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/bookmarks-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({applyView:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/amtree-massactions-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){var allowedActionIndexes=['amasty_removeoptions','amasty_updateadvancedprices','amasty_removeimg','amasty_amdelete','enable','disable','attributes','assign-sources','unassign-sources','inventory-transfer'];return target.extend({applyAction:function(actionIndex){if(allowedActionIndexes.indexOf(actionIndex)!==-1){return showNotification.call(this,this._super);}\nreturn this._super.call(this);},applyMassaction:function(){window.isPactionEnabled=true;return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/filters-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({apply:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/tree-massactions-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({applyAction:function(actionIndex){if(actionIndex==='status'){return this._super.call(this);}\nreturn showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/columns-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({reloadGridData:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/mixin/search-mixin.min.js":"define(['jquery','Amasty_Pgrid/js/action/show-notification'],function($,showNotification){'use strict';return function(target){return target.extend({apply:function(){return showNotification.call(this,this._super);}});};});","Amasty_Pgrid/js/action/save.min.js":"define(['underscore','Amasty_Pgrid/js/action/messages'],function(_,amMessage){'use strict';return function(editor,deferred){var valid=true,message=amMessage(editor),newValue,data=editor.source().get('params');data.amastyItems={};data.store_id=editor.filters.store_id;_.each(_.values(editor.saveData),function(item){var newValue=undefined===item.value?'':item.value,editorField=editor.getField(item.entityId,item.colIndex==='category_ids'?'amasty_categories':item.colIndex);if(!valid&&editorField.validate().valid){valid=false;return;}\nif(editorField){editorField.initialValue=newValue;}\nif(!_.has(data.amastyItems,item.entityId)){data.amastyItems[item.entityId]={};}\ndata.amastyItems[item.entityId][item.colIndex]=newValue;});if(valid&&editor.client().busy!==true){editor.client().busy=true;editor.columns('showLoader');message.clearMessages();editor.client().save(data).done(editor.onDataSaved.bind(editor,deferred)).fail(editor.onSaveError);}};});","Amasty_Pgrid/js/action/show-notification.min.js":"define(['jquery','Amasty_Pgrid/js/action/notification'],function($,notification){'use strict';return function(_super){var deferred;if(!window.isPgridEditable||window.isNotificationEnabled){return _super.call(this);}\ndeferred=$.Deferred();notification(deferred).showNotification();window.isNotificationEnabled=true;$.when(deferred).done(function(){window.isNotificationEnabled=false;window.isPgridEditable=false;return _super.call(this);}.bind(this));};});","Amasty_Pgrid/js/action/messages.min.js":"define([],function(){'use strict';return function(self){return{addMessage:function(message){const delay=5000;var messages=self.messages();Array.isArray(message)?messages.push.apply(messages,message):messages.push(message);self.messages(messages);setTimeout(this.clearMessages,delay);return self;},clearMessages:function(){self.messages.removeAll();return self;}};};});","Amasty_Pgrid/js/action/ajax.min.js":"define(['jquery'],function($){'use strict';return function(type,url,data,afterSuccess,afterError,headers={}){var processData=type!=='POST';$.ajax({url:url,showLoader:true,processData:processData,contentType:false,headers:headers,data:data,method:type,success:function(response){afterSuccess(response);},error:function(XMLHttpRequest,textStatus,errorThrown){afterError(errorThrown);}});};});","Amasty_Pgrid/js/action/export-notification.min.js":"define(['jquery','Magento_Ui/js/modal/alert','mage/translate'],function($,message,$t){'use strict';return function(deferred){return{modalConfig:{modalClass:'ampgrid-modal-container',closed:function(){return deferred.resolve();},buttons:[{text:$t('Export Selected Products'),class:'secondary',click:function(){this.closeModal();return deferred.resolve('export-selected');}},{text:$t('Export Whole Page'),class:'secondary',click:function(){this.closeModal();return deferred.resolve('export-whole');}},{text:$t('Dismiss'),class:'primary',click:function(){this.closeModal();}}],content:$t('Please select product export option.')+\n$t('You can select specific products on grid to export, instead of all products on page.')},showNotification:function(isProductsSelected){if(!isProductsSelected){this.modalConfig.buttons[0].class+=' hidden';}\nmessage(this.modalConfig);}};};});","Amasty_Pgrid/js/action/notification.min.js":"define(['jquery','Magento_Ui/js/modal/alert','Amasty_Pgrid/js/action/save','uiRegistry','mage/translate'],function($,message,saveAction,registry,$t){'use strict';return function(deferred){return{modalConfig:{modalClass:'ampgrid-modal-container',editorName:'product_listing.product_listing.product_columns_amasty_editor',closed:function(){deferred.resolve();},buttons:[{text:$t('Proceed'),click:function(){this.closeModal();}},{text:$t('Save'),click:function(){var editor=registry.get(this.options.editorName),deferredSave=$.Deferred();saveAction(editor,deferredSave);$.when(deferredSave).done(function(){this.closeModal();}.bind(this));}}],content:$t('You have unsaved changes on this page.')+\n$t('Do you want to save the changes or proceed without saving?')},showNotification:function(){message(this.modalConfig);}};};});","Amasty_Mostviewed/js/lib/core/collection.min.js":"define(['underscore','mageUtils','uiRegistry','uiComponent','jquery','Magento_Ui/js/lib/view/utils/async'],function(_,utils,registry,Element,$,async){'use strict';return Element.extend({defaults:{visible:true},initElement:function(elem){if(elem.additionalClasses){elem.additionalClasses[this.className]=true;}\nelem.initContainer(this);return this;},show:function(){$('.'+this.className).show();return this;},hide:function(){var element=$('.'+this.className),self=this;if(element.length){element.hide();}else{async.async('.'+self.className,function(item){$(item).hide();}.bind(this));}\nreturn this;}});});","Amasty_Mostviewed/js/form/provider.min.js":"define(['jquery','Magento_Ui/js/form/provider'],function($,Element){'use strict';return Element.extend({save:function(options){var data=this.get('data');delete data.parent_ids;delete data.child_products_container;var newParent=[];$(data.parent_products_container).each(function(i,item){newParent[i]={'entity_id':item.entity_id}});data.parent_products_container=newParent;this.client.save(data,options);return this;}});});","Amasty_Mostviewed/js/form/components/fieldset.min.js":"define(['Magento_Ui/js/form/components/fieldset'],function(Element){'use strict';return Element.extend({defaults:{visible:true},show:function(){this.visible(true);return this;},hide:function(){this.visible(false);return this;}});});","Amasty_Mostviewed/js/grid/provider.min.js":"define(['jquery','Magento_Ui/js/grid/provider'],function($,provider){'use strict';return provider.extend({reload:function(options){var conditionElements=$('.ammost-'+\nthis.params['relation']+'-to-display [data-form-part=\"amasty_mostviewed_product_group_form\"]'),onlyOutOfStock=$('[data-index=\"for_out_of_stock\"] input'),conditions={};$.each(conditionElements,function(index,element){conditions[element.name]=element.value;});if(onlyOutOfStock.length){conditions['for_out_of_stock']=onlyOutOfStock.val();}\nvar params={};$.each(this.params,function(index,item){var temp={};temp[index]=item;$.extend(params,temp);});$.extend(this.params,conditions);this._super({'refresh':true});this.params=params;}});});","Amasty_Mostviewed/js/dynamic-rows/dynamic-rows-grid.min.js":"define(['Magento_Ui/js/dynamic-rows/dynamic-rows-grid','prototype'],function(dynamicRowsGrid){'use strict';return dynamicRowsGrid;});","Amasty_Mostviewed/js/dynamic-rows/element/select-label.min.js":"define(['underscore','Magento_Ui/js/form/element/select'],function(_,select){'use strict';return select.extend({normalizeData:function(){var value=this._super(),option;if(value!==''){option=this.getOption(value);return option&&option.label;}\nif(!this.caption()){return findFirst(this.options);}}});});","Klarna_Core/js/form/element/pre.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{links:{value:'${ $.provider }:${ $.dataScope }'}},hasService:function(){return false;},hasAddons:function(){return false;},initObservable:function(){this._super().observe('disabled visible value');return this;}});});","Ebizmarts_MailChimp/js/mailchimpconfirmation.min.js":"define(['jquery','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert'],function($,confirmation,alert){'use strict';window.mailchimpdeleteconfirmation=function(ajaxurl){var message='Are you sure you want to do this?';confirmation({content:message,actions:{confirm:function(){$.ajax({url:ajaxurl,data:{form_key:window.FORM_KEY},type:'POST',success:function(retdata){if(retdata.valid==0){alert({content:'Error: '+data.message});}\nelse if(retdata.valid==1){alert({content:'Operation OK'});}}}).done(function(a){console.log(a);});}}});return false;}});","Ebizmarts_MailChimp/js/apikey.min.js":"define(['jquery','Magento_Ui/js/modal/alert'],function($,alert){\"use strict\";$.widget('mage.monkeyapikey',{\"options\":{\"apikeyUrl\":\"\"},_init:function(){var apiUrl=this.options.apikeyUrl;$('#stores_apikey').change(function(){$('#stores_list_id').empty();var apiKey=$('#stores_apikey').find(':selected').val();$.ajax({url:apiUrl,data:{'form_key':window.FORM_KEY,'apikey':apiKey,'encrypt':1},type:'POST',dataType:'json',showLoader:true}).done(function(data){if(data.valid==1){$.each(data.lists,function(i,item){$('#stores_list_id').append($('<option>',{value:item.id,text:item.name}));});}else{alert({content:data.errormsg});}});});}});return $.mage.monkeyapikey;});","Ebizmarts_MailChimp/js/configapikey.min.js":"define(['jquery','Magento_Ui/js/modal/alert'],function($,alert){\"use strict\";$.widget('mage.configmonkeyapikey',{\"options\":{\"storeUrl\":\"\",\"detailsUrl\":\"\",\"storeGridUrl\":\"\",\"createWebhookUrl\":\"\",\"getInterestUrl\":\"\",\"resyncSubscribersUrl\":\"\",\"resyncProductsUrl\":\"\"},_init:function(){var self=this;$('#mailchimp_general_apikey').change(function(){var apiKey=$('#mailchimp_general_apikey').val();self._loadStores(apiKey);});$('#mailchimp_general_monkeystore').change(function(){self._loadDetails();});$('#row_mailchimp_general_monkeystore').find('.note').append(' <a href=\"'+self.options.storeGridUrl+'\">here</a>');if($('#mailchimp_general_monkeystore option').length>1){$('#row_mailchimp_general_monkeystore .note').hide();}\n$('#mailchimp_general_webhook_create').click(function(){var apiKey=$('#mailchimp_general_apikey').val();var listId=$('#mailchimp_general_monkeylist').find(':selected').val();self._createWebhook(apiKey,listId);});$('#mailchimp_general_resync_subscribers').click(function(){var mailchimpStoreId=$('#mailchimp_general_monkeystore').find(':selected').val();self._resyncSubscribers(mailchimpStoreId);});$('#mailchimp_ecommerce_resync_products').click(function(){var mailchimpStoreId=$('#mailchimp_general_monkeystore').find(':selected').val();self._resyncProducts(mailchimpStoreId);});},_resyncSubscribers:function(mailchimpStoreId){var resyncSubscribersUrl=this.options.resyncSubscribersUrl;$.ajax({url:resyncSubscribersUrl,data:{'form_key':window.FORM_KEY,'mailchimpStoreId':mailchimpStoreId},type:'GET',dataType:'json',showLoader:true}).done(function(data){if(data.valid==0){alert({content:'Error: can\\'t resync your subscribers'});}else if(data.valid==1){alert({content:'All subscribers marked for resync'});}});},_resyncProducts:function(mailchimpStoreId){var resyncProductsUrl=this.options.resyncProductsUrl;$.ajax({url:resyncProductsUrl,data:{'form_key':window.FORM_KEY,'mailchimpStoreId':mailchimpStoreId},type:'GET',dataType:'json',showLoader:true}).done(function(data){if(data.valid==0){alert({content:'Error: can\\'t resync your products'});}else if(data.valid==1){alert({content:'All products marked for resync'});}});},_createWebhook:function(apiKey,listId){var createWebhookUrl=this.options.createWebhookUrl;$.ajax({url:createWebhookUrl,data:{'form_key':window.FORM_KEY,'apikey':apiKey,'listId':listId},type:'GET',dataType:'json',showLoader:true}).done(function(data){if(data.valid==0){alert({content:'Error: can\\'t create WebHook. Your WebHook is already created or your web is private'});}else if(data.valid==1){alert({content:'WebHook created'});}});},_loadStores:function(apiKey){var self=this;var storeUrl=this.options.storeUrl;$('#mailchimp_general_monkeystore').empty();$('#mailchimp_general_monkeystore').append($('<option>',{value:-1,text:'Select one Mailchimp Store'}));$('#mailchimp_general_monkeylist').append($('<option>',{value:-1,text:'Select one Mailchimp Store'}));$.ajax({url:storeUrl,data:{'form_key':window.FORM_KEY,'apikey':apiKey,'encrypt':0},type:'GET',dataType:'json',showLoader:true}).done(function(data){if(data.valid==1){var unique=data.stores.length;$.each(data.stores,function(i,item){if(unique==1){$('#mailchimp_general_monkeystore').append($('<option>',{value:item.id,text:item.name,selected:\"selected\"}));}else{$('#mailchimp_general_monkeystore').append($('<option>',{value:item.id,text:item.name}));}});if($('#mailchimp_general_monkeystore option').length>1){$('#row_mailchimp_general_monkeystore').find('.note').hide();}else{$('#row_mailchimp_general_monkeystore').find('.note').show();}\nself._loadDetails();}else{if(data.errormsg!=''){alert({content:data.errormsg});}else{alert({content:\"API Key Invalid\"});}}});},_loadDetails:function(){var detailsUrl=this.options.detailsUrl;var interestUrl=this.options.getInterestUrl;var apiKey=$('#mailchimp_general_apikey').val();var selectedStore=$('#mailchimp_general_monkeystore').find(':selected').val();var encrypt=0;if(apiKey=='******'){encrypt=3;}\n$('#mailchimp_general_account_details_ul').empty();$('#mailchimp_general_monkeylist').empty();$.ajax({url:detailsUrl,data:{'form_key':window.FORM_KEY,'apikey':apiKey,\"store\":selectedStore,'encrypt':encrypt},type:'GET',dataType:'json',showLoader:true}).done(function(data){$.each(data,function(i,item){if(item.hasOwnProperty('label')){$('#mailchimp_general_account_details_ul').append('<li>'+item.label+' '+item.value+'</li>');}});if(data.list_id){$('#mailchimp_general_monkeylist').append($('<option>',{value:data.list_id,text:data.list_name,selected:\"selected\"}));}\nvar selectedList=data.list_id;$('#mailchimp_general_interest').empty();$.ajax({url:interestUrl,data:{'form_key':window.FORM_KEY,'apikey':apiKey,\"list\":selectedList,\"encrypt\":encrypt},type:'GET',dataType:'json',showLoader:true}).done(function(data){if(data.error==0){if(data.data.length){$.each(data.data,function(i,item){$('#mailchimp_general_interest').append($('<option>',{value:item.id,text:item.title}));});}else{$('#mailchimp_general_interest').append($('<optgroup>',{label:'---No Data---'}));}}});});}});return $.mage.configmonkeyapikey;});","Magento_Theme/js/form.min.js":"define(['prototype'],function(){'use strict';function parentThemeOnChange(selected,defaultsById){var statusBar=$$('.tab-item-link')[0],isChanged=statusBar.hasClassName('changed'),defaults;if(!isChanged){defaults=defaultsById[selected];$('theme_title').value=defaults['theme_title'];}}\nwindow.parentThemeOnChange=parentThemeOnChange;});","Magento_Theme/js/bootstrap.min.js":"require(['jquery/fileUploader/jquery.fileupload-ui','mage/adminhtml/browser','Magento_Theme/js/form']);","Magento_Theme/js/sortable.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.sortable',$.ui.sortable,{options:{moveUpEvent:'moveUp',moveDownEvent:'moveDown'},_create:function(){this._super();this.initButtons();this.bind();},initButtons:function(){this.element.find('input.up').on('click',$.proxy(function(event){$('body').trigger(this.options.moveUpEvent,{item:$(event.target).parent('li')});},this));this.element.find('input.down').on('click',$.proxy(function(event){$('body').trigger(this.options.moveDownEvent,{item:$(event.target).parent('li')});},this));},bind:function(){var $body=$('body');$body.on(this.options.moveUpEvent,$.proxy(this._onMoveUp,this));$body.on(this.options.moveDownEvent,$.proxy(this._onMoveDown,this));},_onMoveUp:function(event,data){data.item.insertBefore(data.item.prev());},_onMoveDown:function(event,data){data.item.insertAfter(data.item.next());}});return $.mage.sortable;});","Magento_Theme/js/custom-js-list.min.js":"define(['jquery','mage/template','jquery/ui'],function($,mageTemplate){'use strict';$.widget('theme.themeJsList',{options:{templateId:null,emptyTemplateId:null,refreshFileListEvent:null,prefixItemId:'',suffixItemId:''},_create:function(){this._bind();},_bind:function(){$('body').on(this.options.refreshFileListEvent,$.proxy(this._onRefreshList,this));},_onRefreshList:function(event,data){$(this.element).html('');if(data.jsList.length){this._renderList(data.jsList);}else{this._renderEmptyList();}},_getItemId:function(fileId){return this.options.prefixItemId+fileId+this.options.suffixItemId;},_renderList:function(jsList){var itemTmpl,index,tmpl;for(index=0;index<jsList.length;index++){itemTmpl=$('<li></li>').html($(this.options.templateId).html());$(itemTmpl).attr('class',$(this.options.templateId).attr('class'));itemTmpl.attr('id',this._getItemId(jsList[index].id));tmpl=mageTemplate(itemTmpl.html(),{data:jsList[index]});itemTmpl.html(tmpl);itemTmpl.removeClass('no-display');itemTmpl.appendTo(this.element);}},_renderEmptyList:function(){var itemTmpl=$('<li></li>').html($(this.options.emptyTemplateId).html());$(itemTmpl).attr('class',$(this.options.emptyTemplateId).attr('class'));itemTmpl.attr('id','empty-js-list');itemTmpl.removeClass('no-display');itemTmpl.appendTo(this.element);}});});","Magento_Theme/js/form/component/robots-reset-button.min.js":"define(['Magento_Ui/js/form/components/button','uiRegistry'],function(Button,registry){'use strict';return Button.extend({defaults:{customInstructionField:'${ $.parentName }.custom_instructions',label:'',buttonTpl:'Magento_Theme/form/element/button'},_parseJson:function(json){return JSON.parse(json);},reset:function(defaultRobotsTxt){var customInstructions=registry.get(this.customInstructionField);if(customInstructions){customInstructions.set('value',this._parseJson(defaultRobotsTxt));}}});});","Bss_CustomOrderNumber/js/resetorder.min.js":"define([\"jquery\",\"prototype\"],function($){var orderSpan=$('#order_span');var urlOrder=$('#urlOrder').text();var storeIdOrd=$('#storeIdOrd').text();$('#resetnow_order').click(function(){var params={storeId:storeIdOrd};new Ajax.Request(urlOrder,{parameters:params,loaderArea:false,asynchronous:true,onCreate:function(){orderSpan.find('.success').hide();orderSpan.find('.error').hide();orderSpan.find('.processing').show();$('#order_message').text('');},onSuccess:function(response){orderSpan.find('.processing').hide();var resultText='';if(response.status>200){resultText='Request Timeout';orderSpan.find('.success').show();}else{resultText='Success';orderSpan.find('.success').show();}\n$('#order_message').text(resultText);},onFailure:function(response){orderSpan.find('.processing').hide();var resultText='Not Allowed';orderSpan.find('.error').show();$('#order_message').text(resultText);}});});});","Bss_CustomOrderNumber/js/form.min.js":"define([\"jquery\",\"prototype\",\"mage/adminhtml/events\"],function(jQuery){(function($){$(document).ready(function(){$(document).on(\"beforeSubmit\",function(e){if(typeof varienGlobalEvents!=='undefined'){varienGlobalEvents.fireEvent(\"formSubmit\",$(e.target).attr('id'));}});});})(jQuery);var varienElementMethods={setHasChanges:function(element,event){if($(element)&&$(element).hasClassName('no-changes'))return;var elm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar)\nElement.addClassName($(elm.statusBar),'changed')\nelm=elm.parentNode;}},setHasError:function(element,flag,form){var elm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar){if(form.errorSections.keys().indexOf(elm.statusBar.id)<0)\nform.errorSections.set(elm.statusBar.id,flag);if(flag){Element.addClassName($(elm.statusBar),'error');if(form.canShowError&&$(elm.statusBar).show){form.canShowError=false;$(elm.statusBar).show();}\nform.errorSections.set(elm.statusBar.id,flag);}\nelse if(!form.errorSections.get(elm.statusBar.id)){Element.removeClassName($(elm.statusBar),'error')}}\nelm=elm.parentNode;}\nthis.canShowElement=false;}}\nElement.addMethods(varienElementMethods);varienWindowOnloadCache={};function varienWindowOnload(useCache){var dataElements=$$('input','select','textarea');for(var i=0;i<dataElements.length;i++){if(dataElements[i]&&dataElements[i].id){if((!useCache)||(!varienWindowOnloadCache[dataElements[i].id])){Event.observe(dataElements[i],'change',dataElements[i].setHasChanges.bind(dataElements[i]));if(useCache){varienWindowOnloadCache[dataElements[i].id]=true;}}}}}\nEvent.observe(window,'load',varienWindowOnload);RegionUpdater=Class.create();RegionUpdater.prototype={initialize:function(countryEl,regionTextEl,regionSelectEl,regions,disableAction,clearRegionValueOnDisable){this.isRegionRequired=true;this.countryEl=$(countryEl);this.regionTextEl=$(regionTextEl);this.regionSelectEl=$(regionSelectEl);this.config=regions['config'];delete regions.config;this.regions=regions;this.disableAction=(typeof disableAction=='undefined')?'hide':disableAction;this.clearRegionValueOnDisable=(typeof clearRegionValueOnDisable=='undefined')?false:clearRegionValueOnDisable;if(this.regionSelectEl.options.length<=1){this.update();}\nelse{this.lastCountryId=this.countryEl.value;}\nthis.countryEl.changeUpdater=this.update.bind(this);Event.observe(this.countryEl,'change',this.update.bind(this));},_checkRegionRequired:function(){if(!this.isRegionRequired){return;}\nvar label,wildCard;var elements=[this.regionTextEl,this.regionSelectEl];var that=this;if(typeof this.config=='undefined'){return;}\nvar regionRequired=this.config.regions_required.indexOf(this.countryEl.value)>=0;elements.each(function(currentElement){if(!currentElement){return;}\nvar form=currentElement.form,validationInstance=form?jQuery(form).data('validation'):null,field=currentElement.up('.field')||new Element('div');if(validationInstance){validationInstance.clearError(currentElement);}\nlabel=$$('label[for=\"'+currentElement.id+'\"]')[0];if(label){wildCard=label.down('em')||label.down('span.required');var topElement=label.up('tr')||label.up('li');if(!that.config.show_all_regions&&topElement){if(regionRequired){topElement.show();}else{topElement.hide();}}}\nif(label&&wildCard){if(!regionRequired){wildCard.hide();}else{wildCard.show();}}\nif(!regionRequired||!currentElement.visible()){if(field.hasClassName('required')){field.removeClassName('required');}\nif(currentElement.hasClassName('required-entry')){currentElement.removeClassName('required-entry');}\nif('select'==currentElement.tagName.toLowerCase()&&currentElement.hasClassName('validate-select')){currentElement.removeClassName('validate-select');}}else{if(!field.hasClassName('required')){field.addClassName('required');}\nif(!currentElement.hasClassName('required-entry')){currentElement.addClassName('required-entry');}\nif('select'==currentElement.tagName.toLowerCase()&&!currentElement.hasClassName('validate-select')){currentElement.addClassName('validate-select');}}});},disableRegionValidation:function(){this.isRegionRequired=false;},update:function(){if(this.regions[this.countryEl.value]){if(this.lastCountryId!=this.countryEl.value){var i,option,region,def;def=this.regionSelectEl.getAttribute('defaultValue');if(this.regionTextEl){if(!def){def=this.regionTextEl.value.toLowerCase();}\nthis.regionTextEl.value='';}\nthis.regionSelectEl.options.length=1;for(regionId in this.regions[this.countryEl.value]){region=this.regions[this.countryEl.value][regionId];option=document.createElement('OPTION');option.value=regionId;option.text=region.name.stripTags();option.title=region.name;if(this.regionSelectEl.options.add){this.regionSelectEl.options.add(option);}else{this.regionSelectEl.appendChild(option);}\nif(regionId==def||region.name.toLowerCase()==def||region.code.toLowerCase()==def){this.regionSelectEl.value=regionId;}}}\nif(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='none';this.regionTextEl.style.disabled=true;}\nthis.regionSelectEl.style.display='';this.regionSelectEl.disabled=false;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=true;}\nthis.regionSelectEl.disabled=false;}\nthis.setMarkDisplay(this.regionSelectEl,true);this.lastCountryId=this.countryEl.value;}else{if(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='';this.regionTextEl.style.disabled=false;}\nthis.regionSelectEl.style.display='none';this.regionSelectEl.disabled=true;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=false;}\nthis.regionSelectEl.disabled=true;if(this.clearRegionValueOnDisable){this.regionSelectEl.value='';}}else if(this.disableAction=='nullify'){this.regionSelectEl.options.length=1;this.regionSelectEl.value='';this.regionSelectEl.selectedIndex=0;this.lastCountryId='';}\nthis.setMarkDisplay(this.regionSelectEl,false);}\nvarienGlobalEvents.fireEvent(\"address_country_changed\",this.countryEl);this._checkRegionRequired();},setMarkDisplay:function(elem,display){if(elem.parentNode.parentNode){var marks=Element.select(elem.parentNode.parentNode,'.required');if(marks[0]){display?marks[0].show():marks[0].hide();}}}};regionUpdater=RegionUpdater;Event.pointerX=function(event){try{return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));}\ncatch(e){}}\nEvent.pointerY=function(event){try{return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));}\ncatch(e){}}\nFormElementDependenceController=Class.create();FormElementDependenceController.prototype={initialize:function(elementsMap,config){if(config){this._config=config;}\nfor(var idTo in elementsMap){for(var idFrom in elementsMap[idTo]){if($(idFrom)){Event.observe($(idFrom),'change',this.trackChange.bindAsEventListener(this,idTo,elementsMap[idTo]));this.trackChange(null,idTo,elementsMap[idTo]);}else{this.trackChange(null,idTo,elementsMap[idTo]);}}}},_config:{levels_up:1},trackChange:function(e,idTo,valuesFrom){var shouldShowUp=true;for(var idFrom in valuesFrom){var from=$(idFrom);if(from){var values=valuesFrom[idFrom]['values'];var isInArray=values.indexOf(from.value)!=-1;var isNegative=valuesFrom[idFrom]['negative'];if(!from||isInArray&&isNegative||!isInArray&&!isNegative){shouldShowUp=false;}}}\nvar headElement=$(idTo+'-head'),isInheritCheckboxChecked=$(idTo+'_inherit')&&$(idTo+'_inherit').checked,target=$(idTo);if(target){var inputs=target.up(this._config.levels_up).select('input','select','td'),isAnInputOrSelect=['input','select'].indexOf(target.tagName.toLowerCase())!=-1;}else{var inputs=false,isAnInputOrSelect=false;}\nif(shouldShowUp){var currentConfig=this._config;if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)&&!(currentConfig.can_edit_price!=undefined&&!currentConfig.can_edit_price)){item.disabled=false;jQuery(item).removeClass('ignore-validate');}});}\nif(headElement){headElement.show();if(headElement.hasClassName('open')&&target){target.show();}else if(target){target.hide();}}else{if(target){target.show();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){target.disabled=false;}\njQuery('#'+idTo).removeClass('ignore-validate');}}}else{if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)){item.disabled=true;jQuery(item).addClass('ignore-validate');}});}\nif(headElement){headElement.hide();}\nif(target){target.hide();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){target.disabled=true;}\njQuery('#'+idTo).addClass('ignore-validate');}}\nvar rowElement=$('row_'+idTo);if(rowElement==undefined&&target){rowElement=target.up(this._config.levels_up);}\nif(rowElement){if(shouldShowUp){rowElement.show();}else{rowElement.hide();}}}};window.varienWindowOnload=varienWindowOnload;window.varienElementMethods=varienElementMethods;});","Bss_CustomOrderNumber/js/resetshipment.min.js":"define([\"jquery\",\"prototype\"],function($){var shipmentSpan=$('#shipment_span');var urlShipment=$('#urlShipment').text();var storeIdShip=$('#storeIdShip').text();$('#resetnow_shipment').click(function(){var params={storeId:storeIdShip};new Ajax.Request(urlShipment,{parameters:params,loaderArea:false,asynchronous:true,onCreate:function(){shipmentSpan.find('.success').hide();shipmentSpan.find('.error').hide();shipmentSpan.find('.processing').show();$('#shipment_message').text('');},onSuccess:function(response){shipmentSpan.find('.processing').hide();var resultText='';if(response.status>200){resultText='Request Timeout';shipmentSpan.find('.success').show();}else{resultText='Success';shipmentSpan.find('.success').show();}\n$('#shipment_message').text(resultText);},onFailure:function(response){shipmentSpan.find('.processing').hide();var resultText='Not Allowed';shipmentSpan.find('.error').show();$('#shipment_message').text(resultText);}});});});","Bss_CustomOrderNumber/js/resetcreditmemo.min.js":"define([\"jquery\",\"prototype\"],function($){var creditmemoSpan=$('#creditmemo_span');var urlCreditmemo=$('#urlCreditmemo').text();var storeIdCre=$(\"#storeIdCre\").text();$('#resetnow_creditmemo').click(function(){var params={storeId:storeIdCre};new Ajax.Request(urlCreditmemo,{parameters:params,loaderArea:false,asynchronous:true,onCreate:function(){creditmemoSpan.find('.success').hide();creditmemoSpan.find('.error').hide();creditmemoSpan.find('.processing').show();$('#creditmemo_message').text('');},onSuccess:function(response){creditmemoSpan.find('.processing').hide();var resultText='';if(response.status>200){resultText='Request Timeout';creditmemoSpan.find('.success').show();}else{resultText='Success';creditmemoSpan.find('.success').show();}\n$('#creditmemo_message').text(resultText);},onFailure:function(response){creditmemoSpan.find('.processing').hide();var resultText='Not Allowed';creditmemoSpan.find('.error').show();$('#creditmemo_message').text(resultText);}});});});","Bss_CustomOrderNumber/js/resetinvoice.min.js":"define([\"jquery\",\"prototype\"],function($){var invoiceSpan=$('#invoice_span');var urlInvoice=$('#urlInvoice').text();var storeIdInv=$('#storeIdInv').text();$('#resetnow_invoice').click(function(){var params={storeId:storeIdInv};new Ajax.Request(urlInvoice,{parameters:params,loaderArea:false,asynchronous:true,onCreate:function(){invoiceSpan.find('.success').hide();invoiceSpan.find('.error').hide();invoiceSpan.find('.processing').show();$('#invoice_message').text('');},onSuccess:function(response){invoiceSpan.find('.processing').hide();var resultText='';if(response.status>200){resultText='Request Timeout';invoiceSpan.find('.success').show();}else{resultText='Success';invoiceSpan.find('.success').show();}\n$('#invoice_message').text(resultText);},onFailure:function(response){invoiceSpan.find('.processing').hide();var resultText='Not Allowed';invoiceSpan.find('.error').show();$('#invoice_message').text(resultText);}});});});","PayPal_Braintree/js/vault.min.js":"define(['jquery','uiComponent','Magento_Ui/js/modal/alert'],function($,Class,alert){'use strict';return Class.extend({defaults:{$selector:null,selector:'edit_form',$container:null},initObservable:function(){var self=this;self.$selector=$('#'+self.selector);self.$container=$('#'+self.container);self.$selector.on('setVaultNotActive.'+self.getCode(),function(){self.$selector.off('submitOrder.'+self.getCode());});self._super();self.initEventHandlers();return self;},getCode:function(){return this.code;},initEventHandlers:function(){$(this.$container).find('[name=\"payment[token_switcher]\"]').on('click',this.selectPaymentMethod.bind(this));},selectPaymentMethod:function(){this.disableEventListeners();this.enableEventListeners();},enableEventListeners:function(){this.$selector.on('submitOrder.'+this.getCode(),this.submitOrder.bind(this));},disableEventListeners:function(){this.$selector.off('submitOrder');},submitOrder:function(){this.$selector.validate().form();this.$selector.trigger('afterValidate.beforeSubmit');$('body').trigger('processStop');if(this.$selector.validate().errorList.length){return false;}\nthis.getPaymentMethodNonce();},placeOrder:function(){this.$selector.trigger('realOrder');},getPaymentMethodNonce:function(){var self=this;$('body').trigger('processStart');$.getJSON(self.nonceUrl,{'public_hash':self.publicHash}).done(function(response){self.setPaymentDetails(response.paymentMethodNonce);self.placeOrder();}).fail(function(response){var failed=JSON.parse(response.responseText);self.error(failed.message);}).always(function(){$('body').trigger('processStop');});},setPaymentDetails:function(nonce){this.createPublicHashSelector();this.$selector.find('[name=\"payment[public_hash]\"]').val(this.publicHash);this.$selector.find('[name=\"payment[payment_method_nonce]\"]').val(nonce).prop('disabled',false);},createPublicHashSelector:function(){var $input;if(this.$selector.find('[name=\"payment[payment_method_nonce]\"]').size()===0){$input=$('<input>').attr({type:'hidden',id:this.getNonceSelectorName(),name:'payment[payment_method_nonce]'});$input.appendTo(this.$selector);$input.prop('disabled',false);}},error:function(message){alert({content:message});},getNonceSelectorName:function(){return'nonce_'+this.getCode();}});});","PayPal_Braintree/js/system.min.js":"require(['jquery','Magento_Ui/js/modal/alert','mage/translate','domReady!'],function($,alert,$t){function disablePayLaterMessages(){var merchant_country='',allowed_countries='',paypal_credit='';merchant_country=$('[data-ui-id=\"adminhtml-system-config-field-country-0-select-groups-account-fields-merchant-country-value\"]').val();paypal_credit=$('[data-ui-id=\"select-groups-braintree-section-groups-braintree-fields-braintree-paypal-credit-active-value\"]').val();allowed_countries=['GB','FR','US','DE'];if($.inArray(merchant_country,allowed_countries)==-1||paypal_credit==1){$('[data-ui-id=\"select-groups-braintree-section-groups-braintree-groups-braintree-paypal-groups-button-cart-fields-message-cart-enable-value\"]').val(0).attr('readonly',true).click();$('[data-ui-id=\"select-groups-braintree-section-groups-braintree-groups-braintree-paypal-groups-button-checkout-fields-message-checkout-enable-value\"]').val(0).attr('readonly',true).click();$('[data-ui-id=\"select-groups-braintree-section-groups-braintree-groups-braintree-paypal-groups-button-productpage-fields-message-productpage-enable-value\"]').val(0).attr('readonly',true).click();}}\nwindow.braintreeValidator=function(endpoint,env_id){env_id=$('[data-ui-id=\"'+env_id+'\"]').val();var merch_id='',public_id='',private_id='';if(env_id==='sandbox'){merch_id=$('[data-ui-id=\"text-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-merchant-id-value\"]').val();public_id=$('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-public-key-value\"]').val();private_id=$('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-sandbox-private-key-value\"]').val();}else{merch_id=$('[data-ui-id=\"text-groups-braintree-section-groups-braintree-groups-braintree-required-fields-merchant-id-value\"]').val();public_id=$('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-public-key-value\"]').val();private_id=$('[data-ui-id=\"password-groups-braintree-section-groups-braintree-groups-braintree-required-fields-private-key-value\"]').val();}\nif($(\".braintree-credentials-success-message\")){$(\".braintree-credentials-success-message\").remove();}\nvar errors=[];if(!env_id||env_id!=='sandbox'&&env_id!=='production'){errors.push($t(\"Please select an Environment\"));}\nif(!merch_id){errors.push($t(\"Please enter a Merchant ID\"));}\nif(!public_id){errors.push($t('Please enter a Public Key'));}\nif(!private_id){errors.push($t('Please enter a Private Key'));}\nif(errors.length>0){alert({title:$t('Braintree Credential Validation Failed'),content:errors.join('<br />')});return false;}\n$(this).text($t(\"We're validating your credentials...\")).attr('disabled',true);var self=this;$.post(endpoint,{environment:env_id,merchant_id:merch_id,public_key:public_id,private_key:private_id}).done(function(){$('<div class=\"message message-success braintree-credentials-success-message\">'+$t(\"Your credentials are valid.\")+'</div>').insertAfter(self);}).fail(function(){alert({title:$t('Braintree Credential Validation Failed'),content:$t('Your Braintree Credentials could not be validated. Please ensure you have selected the correct environment and entered a valid Merchant ID, Public Key and Private Key.')});}).always(function(){$(self).text($t(\"Validate Credentials\")).attr('disabled',false);});}\ndisablePayLaterMessages();});","PayPal_Braintree/js/braintree.min.js":"define(['jquery','uiComponent','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/view/utils/dom-observer','mage/translate','PayPal_Braintree/js/validator','braintree','braintreeHostedFields'],function($,Class,alert,domObserver,$t,validator,client,hostedFields){'use strict';return Class.extend({defaults:{$selector:null,selector:'edit_form',container:'payment_form_braintree',active:false,scriptLoaded:false,braintree:null,selectedCardType:null,imports:{onActiveChange:'active'},hostedFieldsInstance:null},initObservable:function(){var self=this;validator.setConfig(this);self.$selector=$('#'+self.selector);this._super().observe(['active','scriptLoaded','selectedCardType']);self.$selector.off('changePaymentMethod.'+this.code).on('changePaymentMethod.'+this.code,this.changePaymentMethod.bind(this));domObserver.get('#'+self.container,function(){if(self.scriptLoaded()){self.$selector.off('submit');self.initBraintree();}});return this;},changePaymentMethod:function(event,method){this.active(method===this.code);return this;},onActiveChange:function(isActive){if(!isActive){this.$selector.off('submitOrder.braintree');this.scriptLoaded(false);this.$selector.on('submitOrder',function(){$('#payment_form_braintree').find('[type=\"submit\"]').trigger('click');$('#edit_form').trigger('realOrder');})\nreturn;}\nthis.disableEventListeners();if(typeof window.order!=='undefined'){window.order.addExcludedPaymentMethod(this.code);}\nif(!this.clientToken){this.error($.mage.__('This payment is not available'));return;}\nthis.enableEventListeners();if(!this.scriptLoaded()){this.initBraintree();}},initBraintree:function(){var self=this;this.scriptLoaded(true);self.disableEventListeners();try{$('body').trigger('processStart');client.create({authorization:self.clientToken},function(clientErr,clientInstance){if(clientErr){console.error('Error!',clientErr);return self.error(response.clientErr);}\nhostedFields.create({client:clientInstance,fields:self.getHostedFields()},function(createErr,hostedFieldsInstance){if(createErr){self.error($t(createErr));console.error('Error!',createErr);return;}\nself.hostedFieldsInstance=hostedFieldsInstance;self.enableEventListeners();$('body').trigger('processStop');}.bind(this));}.bind(this));}catch(e){$('body').trigger('processStop');self.error(e.message);console.log(e);}},getHostedFields:function(){var self=this,fields={number:{selector:self.getSelector('cc_number'),placeholder:$t('4111 1111 1111 1111')},expirationMonth:{selector:self.getSelector('cc_exp_month'),placeholder:$t('MM')},expirationYear:{selector:self.getSelector('cc_exp_year'),placeholder:$t('YY')}};if(self.useCvv){fields.cvv={selector:self.getSelector('cc_cid'),placeholder:$t('123')};}\nreturn fields;},error:function(message){alert({content:message});},enableEventListeners:function(){this.$selector.on('submitOrder.braintree',this.submitOrder.bind(this));},disableEventListeners:function(){this.$selector.off('submitOrder');this.$selector.off('submit');},setPaymentDetails:function(nonce){var $container=$('#'+this.container);$container.find('[name=\"payment[payment_method_nonce]\"]').val(nonce);},submitOrder:function(){this.$selector.validate().form();this.$selector.trigger('afterValidate.beforeSubmit');$('body').trigger('processStop');if(this.$selector.validate().errorList.length){return false;}\n$('body').trigger('processStart');this.tokenizeHostedFields();},placeOrder:function(){$('#'+this.selector).trigger('realOrder');},getCcAvailableTypes:function(){var types=[],$options=$(this.getSelector('cc_type')).find('option');$.map($options,function(option){types.push($(option).val());});return types;},getSelector:function(field){return'#'+this.code+'_'+field;},tokenizeHostedFields:function(){this.hostedFieldsInstance.tokenize({vault:false},function(tokenizeErr,payload){if(tokenizeErr){$('body').trigger('processStop');switch(tokenizeErr.code){case'HOSTED_FIELDS_FIELDS_EMPTY':this.error($t('Please enter a card number, expiration date and CVV'));break;case'HOSTED_FIELDS_FIELDS_INVALID':this.error($t('Please correct the problems with the Credit Card fields.'));console.error('Some fields are invalid:',tokenizeErr.details.invalidFieldKeys);break;case'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':this.error($t('The payment method used, already exists in the user\\'s vault. Please use the vault option instead.'));break;case'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':this.error($t('CVV did not pass verification'));break;case'HOSTED_FIELDS_FAILED_TOKENIZATION':this.error($t('There was an issue tokenizing the card. Please check the card is valid.'));console.error('Tokenization failed server side. Is the card valid?');break;case'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':this.error($t('There was an error connecting to Braintree. Please try again.'));break;default:this.error($t('There was an issue processing the payment. Please try again.'));console.error('Braintree error',tokenizeErr);break;}}else{this.setPaymentDetails(payload.nonce);$('#'+this.container).find('[type=\"submit\"]').trigger('click');}}.bind(this));}});});","PayPal_Braintree/js/virtual.min.js":"define(['jquery','uiComponent','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/view/utils/dom-observer','mage/translate','PayPal_Braintree/js/validator','braintree','braintreeHostedFields'],function($,Class,alert,domObserver,$t,validator,client,hostedFields){'use strict';return Class.extend({defaults:{$container:null,container:'payment_form_braintree',braintree:null,selectedCardType:null,hostedFieldsInstance:null},initObservable:function(){var self=this;validator.setConfig(this);self.$container=$('#'+self.container);this._super().observe(['selectedCardType']);domObserver.get('#'+self.container,function(){self.initBraintree();});return this;},initBraintree:function(){var self=this;try{$('body').trigger('processStart');client.create({authorization:self.clientToken},function(clientErr,clientInstance){if(clientErr){alert({content:$t('Please configure your Braintree Payments account in order to use the virtual terminal.')});console.error('Error!',clientErr);return self.error(response.clientErr);}\nhostedFields.create({client:clientInstance,fields:self.getHostedFields()},function(createErr,hostedFieldsInstance){if(createErr){self.error($t(createErr));console.error('Error!',createErr);return;}\nself.hostedFieldsInstance=hostedFieldsInstance;self.$container.on('takePayment',self.submitOrder.bind(self));$('body').trigger('processStop');}.bind(this));}.bind(this));}catch(e){$('body').trigger('processStop');self.error(e.message);console.log(e);}},getHostedFields:function(){return{number:{selector:this.getSelector('cc_number'),placeholder:$t('4111 1111 1111 1111')},expirationMonth:{selector:this.getSelector('cc_exp_month'),placeholder:$t('MM')},expirationYear:{selector:this.getSelector('cc_exp_year'),placeholder:$t('YY')},cvv:{selector:this.getSelector('cc_cid'),placeholder:$t('123')}};},error:function(message){alert({content:message});},setPaymentDetails:function(nonce){var $container=$('#'+this.container);$container.find('[name=\"payment_method_nonce\"]').val(nonce);},submitOrder:function(event){event.preventDefault();this.$container.validate().form();this.$container.trigger('afterValidate.beforeSubmit');$('body').trigger('processStop');if(this.$container.validate().errorList.length){return false;}\n$('body').trigger('processStart');this.tokenizeHostedFields();},placeOrder:function(){this.$container.submit();},getCcAvailableTypes:function(){var types=[],$options=$(this.getSelector('cc_type')).find('option');$.map($options,function(option){types.push($(option).val());});return types;},getSelector:function(field){return'#'+this.code+'_'+field;},tokenizeHostedFields:function(){this.hostedFieldsInstance.tokenize({vault:false},function(tokenizeErr,payload){if(tokenizeErr){$('body').trigger('processStop');switch(tokenizeErr.code){case'HOSTED_FIELDS_FIELDS_EMPTY':this.error($t('Please enter a card number, expiration date and CVV'));break;case'HOSTED_FIELDS_FIELDS_INVALID':this.error($t('Please correct the problems with the Credit Card fields.'));console.error('Some fields are invalid:',tokenizeErr.details.invalidFieldKeys);break;case'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':this.error($t('The payment method used, already exists in the user\\'s vault. Please use the vault option instead.'));break;case'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':this.error($t('CVV did not pass verification'));break;case'HOSTED_FIELDS_FAILED_TOKENIZATION':this.error($t('There was an issue tokenizing the card. Please check the card is valid.'));console.error('Tokenization failed server side. Is the card valid?');break;case'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':this.error($t('There was an error connecting to Braintree. Please try again.'));break;default:this.error($t('There was an issue processing the payment. Please try again.'));console.error('Braintree error',tokenizeErr);break;}}else{this.setPaymentDetails(payload.nonce);this.placeOrder();}}.bind(this));}});});","PayPal_Braintree/js/validator.min.js":"define(['underscore'],function(_){'use strict';return{config:{},setConfig:function(config){this.config=config;},getAvailableCardTypes:function(){return this.config.availableCardTypes;},getCcTypesMapper:function(){return this.config.ccTypesMapper;},getMageCardType:function(type,availableTypes){var storedCardType=null,mapper=this.getCcTypesMapper();if(type&&typeof mapper[type]!=='undefined'){storedCardType=mapper[type];if(_.indexOf(availableTypes,storedCardType)!==-1){return storedCardType;}}\nreturn null;},collectTypes:function(availableTypes,countrySpecificCardTypes){var key,filteredTypes=[];for(key in availableTypes){if(_.indexOf(countrySpecificCardTypes,availableTypes[key])!==-1){filteredTypes.push(availableTypes[key]);}}\nreturn filteredTypes;},getCountrySpecificCardTypes:function(countryId){if(typeof this.config.countrySpecificCardTypes[countryId]!=='undefined'){return this.config.countrySpecificCardTypes[countryId];}\nreturn false;}};});","PayPal_Braintree/js/grid/provider.min.js":"define(['underscore','Magento_Ui/js/grid/provider'],function(_,Provider){'use strict';return Provider.extend({reload:function(){if(this.hasFilters()){this._super();return this;}\nthis.trigger('reload');this.onReload({items:[],totalRecords:0});return this;},hasFilters:function(){var params=this.params,filters=params.filters||{};return _.keys(filters).length>1;}});});","mage/polyfill.min.js":"(function(root,doc){'use strict';var Storage;try{if(!root.localStorage||!root.sessionStorage){throw new Error();}\nlocalStorage.setItem('storage_test',1);localStorage.removeItem('storage_test');}catch(e){Storage=function(type){var data;function createCookie(name,value,days){var date,expires;if(days){date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);expires='; expires='+date.toGMTString();}else{expires='';}\ndoc.cookie=name+'='+value+expires+'; path=/';}\nfunction readCookie(name){var nameEQ=name+'=',ca=doc.cookie.split(';'),i=0,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}\nif(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}\nreturn null;}\nfunction getCookieName(){if(type!=='session'){return'localstorage';}\nif(!root.name){root.name=new Date().getTime();}\nreturn'sessionStorage'+root.name;}\nfunction setData(dataObject){data=encodeURIComponent(JSON.stringify(dataObject));createCookie(getCookieName(),data,365);}\nfunction clearData(){createCookie(getCookieName(),'',365);}\nfunction getData(){var dataResponse=readCookie(getCookieName());return dataResponse?JSON.parse(decodeURIComponent(dataResponse)):{};}\ndata=getData();return{length:0,clear:function(){data={};this.length=0;clearData();},getItem:function(key){return data[key]===undefined?null:data[key];},key:function(i){var ctr=0,k;for(k in data){if(data.hasOwnProperty(k)){if(ctr.toString()===i.toString()){return k;}\nctr++;}}\nreturn null;},removeItem:function(key){delete data[key];this.length--;setData(data);},setItem:function(key,value){data[key]=value.toString();this.length++;setData(data);}};};root.localStorage.prototype=root.localStorage=new Storage('local');root.sessionStorage.prototype=root.sessionStorage=new Storage('session');}})(window,document);","mage/dropdown_old.min.js":"define(['jquery'],function($){'use strict';var ESC_KEY_CODE='27';$(document).on('click.dropdown',function(event){if(!$(event.target).is('[data-toggle=dropdown].active, '+'[data-toggle=dropdown].active *, '+'[data-toggle=dropdown].active + .dropdown-menu, '+'[data-toggle=dropdown].active + .dropdown-menu *,'+'[data-toggle=dropdown].active + [data-target=\"dropdown\"],'+'[data-toggle=dropdown].active + [data-target=\"dropdown\"] *')){$('[data-toggle=dropdown].active').trigger('close.dropdown');}}).on('keyup.dropdown',function(event){if(event.keyCode==ESC_KEY_CODE){$('[data-toggle=dropdown].active').trigger('close.dropdown');}});$.fn.dropdown=function(options){options=$.extend({parent:null,btnArrow:'.arrow',activeClass:'active'},options);return this.each(function(){var elem=$(this);elem.off('open.dropdown, close.dropdown, click.dropdown');elem.on('open.dropdown',function(){elem.addClass(options.activeClass).parent().addClass(options.activeClass);elem.find(options.btnArrow).text('\\u25b2');});elem.on('close.dropdown',function(){elem.removeClass(options.activeClass).parent().removeClass(options.activeClass);elem.find(options.btnArrow).text('\\u25bc');});elem.on('click.dropdown',function(){var isActive=elem.hasClass('active');$('[data-toggle=dropdown].active').trigger('close.dropdown');elem.trigger(isActive?'close.dropdown':'open.dropdown');return false;});});};return function(data,el){$(el).dropdown(data);};});","mage/smart-keyboard-handler.min.js":"define(['jquery'],function($){'use strict';function KeyboardHandler(){var body=$('body'),focusState=false,tabFocusClass='_keyfocus',productsGrid='[data-container=\"product-grid\"]',catalogProductsGrid=$(productsGrid),CODE_TAB=9;function onFocusInHandler(){focusState=true;body.addClass(tabFocusClass).off('focusin.keyboardHandler',onFocusInHandler);}\nfunction onClickHandler(){focusState=false;body.removeClass(tabFocusClass).off('click',onClickHandler);}\nfunction smartKeyboardFocus(){$(document).on('keydown keypress',function(event){if(event.which===CODE_TAB&&!focusState){body.on('focusin.keyboardHandler',onFocusInHandler).on('click',onClickHandler);}});if(catalogProductsGrid.length){body.on('focusin.gridProducts',productsGrid,function(){if(body.hasClass(tabFocusClass)){$(this).addClass('active');}});body.on('focusout.gridProducts',productsGrid,function(){$(this).removeClass('active');});}}\nfunction handleFocus(element){element.on('focusin.emulateTabFocus',function(){focusState=true;body.addClass(tabFocusClass);element.off();});element.on('focusout.emulateTabFocus',function(){focusState=false;body.removeClass(tabFocusClass);element.off();});}\nreturn{apply:smartKeyboardFocus,focus:handleFocus};}\nreturn new KeyboardHandler;});","mage/translate.min.js":"define(['jquery','mage/mage','mageTranslationDictionary','underscore'],function($,mage,dictionary,_){'use strict';$.extend(true,$,{mage:{translate:(function(){var _data=dictionary;return{add:function(){if(arguments.length>1){_data[arguments[0]]=arguments[1];}else if(typeof arguments[0]==='object'){$.extend(_data,arguments[0]);}},translate:function(text){return typeof _data[text]!=='undefined'?_data[text]:text;}};}())}});$.mage.__=$.proxy($.mage.translate.translate,$.mage.translate);_.extend(_,{i18n:function(text){return $.mage.__(text);}});return $.mage.__;});","mage/validation.min.js":"define(['jquery','moment','mageUtils','jquery-ui-modules/widget','jquery/validate','mage/translate'],function($,moment,utils){'use strict';var creditCartTypes,rules,showLabel,originValidateDelegate;$.extend(true,$,{mage:{isEmpty:function(value){return value===''||value===undefined||value==null||value.length===0||/^\\s+$/.test(value);},isEmptyNoTrim:function(value){return value===''||value==null||value.length===0;},isBetween:function(value,from,to){return($.mage.isEmpty(from)||value>=$.mage.parseNumber(from))&&($.mage.isEmpty(to)||value<=$.mage.parseNumber(to));},parseNumber:function(value){var isDot,isComa;if(typeof value!=='string'){return parseFloat(value);}\nisDot=value.indexOf('.');isComa=value.indexOf(',');if(isDot!==-1&&isComa!==-1){if(isComa>isDot){value=value.replace('.','').replace(',','.');}else{value=value.replace(',','');}}else if(isComa!==-1){value=value.replace(',','.');}\nreturn parseFloat(value);},stripHtml:function(value){return value.replace(/<.[^<>]*?>/g,' ').replace(/&nbsp;|&#160;/gi,' ').replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g,'');}}});$.validator.addMethod=function(name,method,message,dontSkip){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3||dontSkip){$.validator.addClassRules(name,$.validator.normalizeRule(name));}};creditCartTypes={'SO':[new RegExp('^(6334[5-9]([0-9]{11}|[0-9]{13,14}))|(6767([0-9]{12}|[0-9]{14,15}))$'),new RegExp('^([0-9]{3}|[0-9]{4})?$'),true],'SM':[new RegExp('(^(5[0678])[0-9]{11,18}$)|(^(6[^05])[0-9]{11,18}$)|'+'(^(601)[^1][0-9]{9,16}$)|(^(6011)[0-9]{9,11}$)|(^(6011)[0-9]{13,16}$)|'+'(^(65)[0-9]{11,13}$)|(^(65)[0-9]{15,18}$)|(^(49030)[2-9]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(49033)[5-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49110)[1-2]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(49117)[4-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49118)[0-2]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(4936)([0-9]{12}$|[0-9]{14,15}$))'),new RegExp('^([0-9]{3}|[0-9]{4})?$'),true],'VI':[new RegExp('^4[0-9]{12}([0-9]{3})?$'),new RegExp('^[0-9]{3}$'),true],'MC':[new RegExp('^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$'),new RegExp('^[0-9]{3}$'),true],'AE':[new RegExp('^3[47][0-9]{13}$'),new RegExp('^[0-9]{4}$'),true],'DI':[new RegExp('^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'JCB':[new RegExp('^35(2[8-9]|[3-8])\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'DN':[new RegExp('^(3(0[0-5]|095|6|[8-9]))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'UN':[new RegExp('^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$'),new RegExp('^[0-9]{3}$'),true],'MI':[new RegExp('^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'MD':[new RegExp('^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$'),new RegExp('^[0-9]{3}$'),true]};function validateCreditCard(s){var v='0123456789',w='',i,j,k,m,c,a,x;for(i=0;i<s.length;i++){x=s.charAt(i);if(v.indexOf(x,0)!==-1){w+=x;}}\nj=w.length / 2;k=Math.floor(j);m=Math.ceil(j)-k;c=0;for(i=0;i<k;i++){a=w.charAt(i*2+m)*2;c+=a>9?Math.floor(a / 10+a%10):a;}\nfor(i=0;i<k+m;i++){c+=w.charAt(i*2+1-m)*1;}\nreturn c%10===0;}\nfunction tableSingleValidation(value,element){var empty=$(element).closest('table').find('input.required-option:visible').filter(function(i,el){if($(el).is('disabled')){return $.mage.isEmpty(el.value);}}).length;return empty===0;}\nfunction resolveModulo(qty,qtyIncrements){var divideEpsilon=10000,epsilon,remainder;while(qtyIncrements<1){qty*=10;qtyIncrements*=10;}\nepsilon=qtyIncrements / divideEpsilon;remainder=qty%qtyIncrements;if(Math.abs(remainder-qtyIncrements)<epsilon||Math.abs(remainder)<epsilon){remainder=0;}\nreturn remainder;}\nrules={'max-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length<=params;},$.mage.__('Please enter {0} words or less.')],'min-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length>=params;},$.mage.__('Please enter at least {0} words.')],'range-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length>=params[0]&&value.match(/bw+b/g).length<params[1];},$.mage.__('Please enter between {0} and {1} words.')],'letters-with-basic-punc':[function(value,element){return this.optional(element)||/^[a-z\\-.,()'\\\"\\s]+$/i.test(value);},$.mage.__('Letters or punctuation only please')],'alphanumeric':[function(value,element){return this.optional(element)||/^\\w+$/i.test(value);},$.mage.__('Letters, numbers, spaces or underscores only please')],'letters-only':[function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value);},$.mage.__('Letters only please')],'no-whitespace':[function(value,element){return this.optional(element)||/^\\S+$/i.test(value);},$.mage.__('No white space please')],'no-marginal-whitespace':[function(value,element){return this.optional(element)||!/^\\s+|\\s+$/i.test(value);},$.mage.__('No marginal white space please')],'zip-range':[function(value,element){return this.optional(element)||/^90[2-5]-\\d{2}-\\d{4}$/.test(value);},$.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')],'integer':[function(value,element){return this.optional(element)||/^-?\\d+$/.test(value);},$.mage.__('A positive or negative non-decimal number please')],'vinUS':[function(v){var i,n,d,f,cd,cdv,LL,VL,FL,rs;if(v.length!==17){return false;}\nLL=['A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z'];VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];rs=0;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i===8){cdv=d;}\nif(!isNaN(d)){d*=f;}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n];}\nbreak;}}}\nrs+=d;}\ncd=rs%11;if(cd===10){cd='X';}\nif(cd===cdv){return true;}\nreturn false;},$.mage.__('The specified vehicle identification number (VIN) is invalid.')],'dateITA':[function(value,element){var check=false,re=/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split('/');gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(aaaa,mm-1,gg);if(xdata.getFullYear()===aaaa&&xdata.getMonth()===mm-1&&xdata.getDate()===gg){check=true;}else{check=false;}}else{check=false;}\nreturn this.optional(element)||check;},$.mage.__('Please enter a correct date')],'dateNL':[function(value,element){return this.optional(element)||/^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);},'Vul hier een geldige datum in.'],'time':[function(value,element){return this.optional(element)||/^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);},$.mage.__('Please enter a valid time, between 00:00 and 23:59')],'time12h':[function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);},$.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')],'phoneUS':[function(phoneNumber,element){phoneNumber=phoneNumber.replace(/\\s+/g,'');return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);},$.mage.__('Please specify a valid phone number')],'phoneUK':[function(phoneNumber,element){return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);},$.mage.__('Please specify a valid phone number')],'mobileUK':[function(phoneNumber,element){return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);},$.mage.__('Please specify a valid mobile number')],'stripped-min-length':[function(value,element,param){return value.length>=param;},$.mage.__('Please enter at least {0} characters')],'validate-no-utf8mb4-characters':[function(value){var validator=this,message=$.mage.__('Please remove invalid characters: {0}.'),matches=value.match(/(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g),result=matches===null;if(!result){validator.charErrorMessage=message.replace('{0}',matches.join());}\nreturn result;},function(){return this.charErrorMessage;}],'email2':[function(value,element){return this.optional(element)||/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);},$.validator.messages.email],'url2':[function(value,element){return this.optional(element)||/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);},$.validator.messages.url],'credit-card-types':[function(value,element,param){var validTypes;if(/[^0-9-]+/.test(value)){return false;}\nvalue=value.replace(/\\D/g,'');validTypes=0x0000;if(param.mastercard){validTypes|=0x0001;}\nif(param.visa){validTypes|=0x0002;}\nif(param.amex){validTypes|=0x0004;}\nif(param.dinersclub){validTypes|=0x0008;}\nif(param.enroute){validTypes|=0x0010;}\nif(param.discover){validTypes|=0x0020;}\nif(param.jcb){validTypes|=0x0040;}\nif(param.unknown){validTypes|=0x0080;}\nif(param.all){validTypes=0x0001|0x0002|0x0004|0x0008|0x0010|0x0020|0x0040|0x0080;}\nif(validTypes&0x0001&&/^(51|52|53|54|55)/.test(value)){return value.length===16;}\nif(validTypes&0x0002&&/^(4)/.test(value)){return value.length===16;}\nif(validTypes&0x0004&&/^(34|37)/.test(value)){return value.length===15;}\nif(validTypes&0x0008&&/^(300|301|302|303|304|305|36|38)/.test(value)){return value.length===14;}\nif(validTypes&0x0010&&/^(2014|2149)/.test(value)){return value.length===15;}\nif(validTypes&0x0020&&/^(6011)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(3)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(2131|1800)/.test(value)){return value.length===15;}\nif(validTypes&0x0080){return true;}\nreturn false;},$.mage.__('Please enter a valid credit card number.')],'ipv4':[function(value,element){return this.optional(element)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);},$.mage.__('Please enter a valid IP v4 address.')],'ipv6':[function(value,element){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);},$.mage.__('Please enter a valid IP v6 address.')],'pattern':[function(value,element,param){return this.optional(element)||new RegExp(param).test(value);},$.mage.__('Invalid format.')],'allow-container-className':[function(element){if(element.type==='radio'||element.type==='checkbox'){return $(element).hasClass('change-container-classname');}},''],'validate-no-html-tags':[function(value){return!/<(\\/)?\\w+/.test(value);},$.mage.__('HTML tags are not allowed.')],'validate-select':[function(value){return value!=='none'&&value!=null&&value.length!==0;},$.mage.__('Please select an option.')],'validate-no-empty':[function(value){return!$.mage.isEmpty(value);},$.mage.__('Empty Value.')],'validate-alphanum-with-spaces':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z0-9 ]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')],'validate-data':[function(v){return $.mage.isEmptyNoTrim(v)||/^[A-Za-z]+[A-Za-z0-9_]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-street':[function(v){return $.mage.isEmptyNoTrim(v)||/^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')],'validate-phoneStrict':[function(v){return $.mage.isEmptyNoTrim(v)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-phoneLax':[function(v){return $.mage.isEmptyNoTrim(v)||/^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(v);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-fax':[function(v){return $.mage.isEmptyNoTrim(v)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);},$.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')],'validate-email':[function(v){return $.mage.isEmptyNoTrim(v)||/^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(v);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-emailSender':[function(v){return $.mage.isEmptyNoTrim(v)||/^[\\S ]+$/.test(v);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-password':[function(v){var pass;if(v==null){return false;}\npass=$.trim(v);if(!pass.length){return true;}\nreturn!(pass.length>0&&pass.length<6);},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-admin-password':[function(v){var pass;if(v==null){return false;}\npass=$.trim(v);if(pass.length===0){return true;}\nif(!/[a-z]/i.test(v)||!/[0-9]/.test(v)){return false;}\nif(pass.length<7){return false;}\nreturn true;},$.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')],'validate-customer-password':[function(v,elm){var validator=this,counter=0,passwordMinLength=$(elm).data('password-min-length'),passwordMinCharacterSets=$(elm).data('password-min-character-sets'),pass=$.trim(v),result=pass.length>=passwordMinLength;if(result===false){validator.passwordErrorMessage=$.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1',passwordMinLength);return result;}\nif(pass.match(/\\d+/)){counter++;}\nif(pass.match(/[a-z]+/)){counter++;}\nif(pass.match(/[A-Z]+/)){counter++;}\nif(pass.match(/[^a-zA-Z0-9]+/)){counter++;}\nif(counter<passwordMinCharacterSets){result=false;validator.passwordErrorMessage=$.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1',passwordMinCharacterSets);}\nreturn result;},function(){return this.passwordErrorMessage;}],'validate-url':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=(v||'').replace(/^\\s+/,'').replace(/\\s+$/,'');return(/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(v);},$.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')],'validate-clean-url':[function(v){return $.mage.isEmptyNoTrim(v)||/^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v)||/^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v);},$.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')],'validate-xml-identifier':[function(v){return $.mage.isEmptyNoTrim(v)||/^[A-Z][A-Z0-9_\\/-]*$/i.test(v);},$.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')],'validate-ssn':[function(v){return $.mage.isEmptyNoTrim(v)||/^\\d{3}-?\\d{2}-?\\d{4}$/.test(v);},$.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')],'validate-zip-us':[function(v){return $.mage.isEmptyNoTrim(v)||/(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(v);},$.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')],'validate-date-au':[function(v){var regex,d;if($.mage.isEmptyNoTrim(v)){return true;}\nregex=/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/;if($.mage.isEmpty(v)||!regex.test(v)){return false;}\nd=new Date(v.replace(regex,'$2/$1/$3'));return parseInt(RegExp.$2,10)===1+d.getMonth()&&parseInt(RegExp.$1,10)===d.getDate()&&parseInt(RegExp.$3,10)===d.getFullYear();},$.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')],'validate-currency-dollar':[function(v){return $.mage.isEmptyNoTrim(v)||/^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(v);},$.mage.__('Please enter a valid $ amount. For example $100.00.')],'validate-not-negative-number':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-zero-or-greater':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-greater-than-zero':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>0;},$.mage.__('Please enter a number greater than 0 in this field.')],'validate-css-length':[function(v){if(v!==''){return(/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(v);}\nreturn true;},$.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')],'validate-number':[function(v){return $.mage.isEmptyNoTrim(v)||!isNaN($.mage.parseNumber(v))&&/^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(v);},$.mage.__('Please enter a valid number in this field.')],'required-number':[function(v){return!!v.length;},$.mage.__('Please enter a valid number in this field.')],'validate-number-range':[function(v,elm,param){var numValue,dataAttrRange,classNameRange,result,range,m,classes,ii;if($.mage.isEmptyNoTrim(v)){return true;}\nnumValue=$.mage.parseNumber(v);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;classNameRange=/^number-range-(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;result=true;range=param;if(typeof range==='string'){m=dataAttrRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);}else{result=false;}}else if(elm&&elm.className){classes=elm.className.split(' ');ii=classes.length;while(ii--){range=classes[ii];m=classNameRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);break;}}}\nreturn result;},$.mage.__('The value is not within the specified range.'),true],'validate-digits':[function(v){return $.mage.isEmptyNoTrim(v)||!/[^\\d]/.test(v);},$.mage.__('Please enter a valid number in this field.')],'validate-forbidden-extensions':[function(v,elem){var forbiddenExtensions=$(elem).attr('data-validation-params'),forbiddenExtensionsArray=forbiddenExtensions.split(','),extensionsArray=v.split(','),result=true;this.validateExtensionsMessage=$.mage.__('Forbidden extensions has been used. Avoid usage of ')+\nforbiddenExtensions;$.each(extensionsArray,function(key,extension){if(forbiddenExtensionsArray.indexOf(extension)!==-1){result=false;}});return result;},function(){return this.validateExtensionsMessage;}],'validate-digits-range':[function(v,elm,param){var numValue,dataAttrRange,classNameRange,result,range,m,classes,ii;if($.mage.isEmptyNoTrim(v)){return true;}\nnumValue=$.mage.parseNumber(v);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?\\d+)?-(-?\\d+)?$/;classNameRange=/^digits-range-(-?\\d+)?-(-?\\d+)?$/;result=true;range=param;if(typeof range==='string'){m=dataAttrRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);}else{result=false;}}else if(elm&&elm.className){classes=elm.className.split(' ');ii=classes.length;while(ii--){range=classes[ii];m=classNameRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);break;}}}\nreturn result;},$.mage.__('The value is not within the specified range.'),true],'validate-range':[function(v,elm){var minValue,maxValue,ranges,reRange,result,values,i,name,validRange,minValidRange,maxValidRange;if($.mage.isEmptyNoTrim(v)){return true;}else if($.validator.methods['validate-digits']&&$.validator.methods['validate-digits'](v)){minValue=maxValue=$.mage.parseNumber(v);}else{ranges=/^(-?\\d+)?-(-?\\d+)?$/.exec(v);if(ranges){minValue=$.mage.parseNumber(ranges[1]);maxValue=$.mage.parseNumber(ranges[2]);if(minValue>maxValue){return false;}}else{return false;}}\nreRange=/^range-(-?\\d+)?-(-?\\d+)?$/;result=true;values=$(elm).prop('class').split(' ');for(i=values.length-1;i>=0;i--){name=values[i];validRange=reRange.exec(name);if(validRange){minValidRange=$.mage.parseNumber(validRange[1]);maxValidRange=$.mage.parseNumber(validRange[2]);result=result&&(isNaN(minValidRange)||minValue>=minValidRange)&&(isNaN(maxValidRange)||maxValue<=maxValidRange);}}\nreturn result;},$.mage.__('The value is not within the specified range.')],'validate-alpha':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z]+$/.test(v);},$.mage.__('Please use letters only (a-z or A-Z) in this field.')],'validate-code':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z]+[a-zA-Z0-9_]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-alphanum':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z0-9]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')],'validate-not-number-first':[function(value){return $.mage.isEmptyNoTrim(value)||/^[^0-9-\\.].*$/.test(value.trim());},$.mage.__('First character must be letter.')],'validate-date':[function(value,params,additionalParams){var test=moment(value,utils.convertToMomentFormat(additionalParams.dateFormat));return $.mage.isEmptyNoTrim(value)||test.isValid();},$.mage.__('Please enter a valid date.')],'validate-date-range':[function(v,elm){var m=/\\bdate-range-(\\w+)-(\\w+)\\b/.exec(elm.className),currentYear,normalizedTime,dependentElements;if(!m||m[2]==='to'||$.mage.isEmptyNoTrim(v)){return true;}\ncurrentYear=new Date().getFullYear()+'';normalizedTime=function(vd){vd=vd.split(/[.\\/]/);if(vd[2]&&vd[2].length<4){vd[2]=currentYear.substr(0,vd[2].length)+vd[2];}\nreturn new Date(vd.join('/')).getTime();};dependentElements=$(elm.form).find('.validate-date-range.date-range-'+m[1]+'-to');return!dependentElements.length||$.mage.isEmptyNoTrim(dependentElements[0].value)||normalizedTime(v)<=normalizedTime(dependentElements[0].value);},$.mage.__('Make sure the To Date is later than or the same as the From Date.')],'validate-cpassword':[function(){var conf=$('#confirmation').length>0?$('#confirmation'):$($('.validate-cpassword')[0]),pass=false,passwordElements,i,passwordElement;if($('#password')){pass=$('#password');}\npasswordElements=$('.validate-password');for(i=0;i<passwordElements.length;i++){passwordElement=$(passwordElements[i]);if(passwordElement.closest('form').attr('id')===conf.closest('form').attr('id')){pass=passwordElement;}}\nif($('.validate-admin-password').length){pass=$($('.validate-admin-password')[0]);}\nreturn pass.val()===conf.val();},$.mage.__('Please make sure your passwords match.')],'validate-identifier':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(v);},$.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").')],'validate-zip-international':[function(){return true;},$.mage.__('Please enter a valid zip code.')],'validate-one-required':[function(v,elm){var p=$(elm).parent(),options=p.find('input');return options.map(function(el){return $(el).val();}).length>0;},$.mage.__('Please select one of the options above.')],'validate-state':[function(v){return v!==0;},$.mage.__('Please select State/Province.')],'required-file':[function(v,elm){var result=!$.mage.isEmptyNoTrim(v),ovId;if(!result){ovId=$('#'+$(elm).attr('id')+'_value');if(ovId.length>0){result=!$.mage.isEmptyNoTrim(ovId.val());}}\nreturn result;},$.mage.__('Please select a file.')],'validate-ajax-error':[function(v,element){element=$(element);element.on('change.ajaxError',function(){element.removeClass('validate-ajax-error');element.off('change.ajaxError');});return!element.hasClass('validate-ajax-error');},''],'validate-optional-datetime':[function(v,elm,param){var dateTimeParts=$('.datetime-picker[id^=\"options_'+param+'\"]'),hasWithValue=false,hasWithNoValue=false,pattern=/day_part$/i,i;for(i=0;i<dateTimeParts.length;i++){if(!pattern.test($(dateTimeParts[i]).attr('id'))){if($(dateTimeParts[i]).val()==='s'){hasWithValue=true;}else{hasWithNoValue=true;}}}\nreturn hasWithValue^hasWithNoValue;},$.mage.__('The field isn\\'t complete.')],'validate-required-datetime':[function(v,elm,param){var dateTimeParts=$('.datetime-picker[id^=\"options_'+param+'\"]'),i;for(i=0;i<dateTimeParts.length;i++){if(dateTimeParts[i].value===''){return false;}}\nreturn true;},$.mage.__('This is a required field.')],'validate-one-required-by-name':[function(v,elm,selector){var name=elm.name.replace(/([\\\\\"])/g,'\\\\$1'),container=this.currentForm;selector=selector===true?'input[name=\"'+name+'\"]:checked':selector;return!!container.querySelectorAll(selector).length;},$.mage.__('Please select one of the options.')],'less-than-equals-to':[function(value,element,params){if($.isNumeric($(params).val())&&$.isNumeric(value)){this.lteToVal=$(params).val();return parseFloat(value)<=parseFloat($(params).val());}\nreturn true;},function(){var message=$.mage.__('Please enter a value less than or equal to %s.');return message.replace('%s',this.lteToVal);}],'greater-than-equals-to':[function(value,element,params){if($.isNumeric($(params).val())&&$.isNumeric(value)){this.gteToVal=$(params).val();return parseFloat(value)>=parseFloat($(params).val());}\nreturn true;},function(){var message=$.mage.__('Please enter a value greater than or equal to %s.');return message.replace('%s',this.gteToVal);}],'validate-emails':[function(value){var validRegexp,emails,i;if($.mage.isEmpty(value)){return true;}\nvalidRegexp=/^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i;emails=value.split(/[\\s\\n\\,]+/g);for(i=0;i<emails.length;i++){if(!validRegexp.test(emails[i].trim())){return false;}}\nreturn true;},$.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')],'validate-cc-type-select':[function(value,element,params){if(value&&params&&creditCartTypes[value]){return creditCartTypes[value][0].test($(params).val().replace(/\\s+/g,''));}\nreturn false;},$.mage.__('Card type does not match credit card number.')],'validate-cc-number':[function(value){if(value){return validateCreditCard(value);}\nreturn false;},$.mage.__('Please enter a valid credit card number.')],'validate-cc-type':[function(value,element,params){var ccType;if(value&&params){ccType=$(params).val();value=value.replace(/\\s/g,'').replace(/\\-/g,'');if(creditCartTypes[ccType]&&creditCartTypes[ccType][0]){return creditCartTypes[ccType][0].test(value);}else if(creditCartTypes[ccType]&&!creditCartTypes[ccType][0]){return true;}}\nreturn false;},$.mage.__('Credit card number does not match credit card type.')],'validate-cc-exp':[function(value,element,params){var isValid=false,month,year,currentTime,currentMonth,currentYear;if(value&&params){month=value;year=$(params).val();currentTime=new Date();currentMonth=currentTime.getMonth()+1;currentYear=currentTime.getFullYear();isValid=!year||year>currentYear||year==currentYear&&month>=currentMonth;}\nreturn isValid;},$.mage.__('Incorrect credit card expiration date.')],'validate-cc-cvn':[function(value,element,params){var ccType;if(value&&params){ccType=$(params).val();if(creditCartTypes[ccType]&&creditCartTypes[ccType][0]){return creditCartTypes[ccType][1].test(value);}}\nreturn false;},$.mage.__('Please enter a valid credit card verification number.')],'validate-cc-ukss':[function(value){return value;},$.mage.__('Please enter issue number or start date for switch/solo card type.')],'validate-length':[function(v,elm){var reMax=new RegExp(/^maximum-length-[0-9]+$/),reMin=new RegExp(/^minimum-length-[0-9]+$/),validator=this,result=true,length=0;$.each(elm.className.split(' '),function(index,name){if(name.match(reMax)&&result){length=name.split('-')[2];result=v.length<=length;validator.validateMessage=$.mage.__('Please enter less or equal than %1 symbols.').replace('%1',length);}\nif(name.match(reMin)&&result&&!$.mage.isEmpty(v)){length=name.split('-')[2];result=v.length>=length;validator.validateMessage=$.mage.__('Please enter more or equal than %1 symbols.').replace('%1',length);}});return result;},function(){return this.validateMessage;}],'required-entry':[function(value){return!$.mage.isEmpty(value);},$.mage.__('This is a required field.')],'not-negative-amount':[function(v){if(v.length){return(/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(v);}\nreturn true;},$.mage.__('Please enter positive number in this field.')],'validate-per-page-value-list':[function(v){var isValid=true,values=v.split(','),i;if($.mage.isEmpty(v)){return isValid;}\nfor(i=0;i<values.length;i++){if(!/^[0-9]+$/.test(values[i])){isValid=false;}}\nreturn isValid;},$.mage.__('Please enter a valid value, ex: 10,20,30')],'validate-per-page-value':[function(v,elm){var values;if($.mage.isEmpty(v)){return false;}\nvalues=$('#'+elm.id+'_values').val().split(',');return values.indexOf(v)!==-1;},$.mage.__('Please enter a valid value from list')],'validate-new-password':[function(v){if($.validator.methods['validate-password']&&!$.validator.methods['validate-password'](v)){return false;}\nif($.mage.isEmpty(v)&&v!==''){return false;}\nreturn true;},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'required-if-not-specified':[function(value,element,params){var valid=false,alternate=$(params),alternateValue;if(alternate.length>0){valid=this.check(alternate);if(valid){alternateValue=alternate.val();if(typeof alternateValue=='undefined'||alternateValue.length===0){valid=false;}}}\nif(!valid){valid=!this.optional(element);}\nreturn valid;},$.mage.__('This is a required field.')],'required-if-all-sku-empty-and-file-not-loaded':[function(value,element,params){var valid=false,alternate=$(params.specifiedId),alternateValue;if(alternate.length>0){valid=this.check(alternate);if(valid){alternateValue=alternate.val();if(typeof alternateValue=='undefined'||alternateValue.length===0){valid=false;}}}\nif(!valid){valid=!this.optional(element);}\n$('input['+params.dataSku+'=true]').each(function(){if($(this).val()!==''){valid=true;}});return valid;},$.mage.__('Please enter valid SKU key.')],'required-if-specified':[function(value,element,params){var valid=true,dependent=$(params),dependentValue;if(dependent.length>0){valid=this.check(dependent);if(valid){dependentValue=dependent.val();valid=typeof dependentValue!='undefined'&&dependentValue.length>0;}}\nif(valid){valid=!this.optional(element);}else{valid=true;}\nreturn valid;},$.mage.__('This is a required field.')],'required-number-if-specified':[function(value,element,params){var valid=true,dependent=$(params),depeValue;if(dependent.length){valid=this.check(dependent);if(valid){depeValue=dependent[0].value;valid=!!(depeValue&&depeValue.length);}}\nreturn valid?!!value.length:true;},$.mage.__('Please enter a valid number.')],'datetime-validation':[function(value,element){var isValid=true;if($(element).val().length===0){isValid=false;$(element).addClass('mage-error');}\nreturn isValid;},$.mage.__('This is required field')],'required-text-swatch-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'required-visual-swatch-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'required-dropdown-attribute-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'validate-item-quantity':[function(value,element,params){var validator=this,result=false,qty=$.mage.parseNumber(value),isMinAllowedValid=typeof params.minAllowed==='undefined'||qty>=$.mage.parseNumber(params.minAllowed),isMaxAllowedValid=typeof params.maxAllowed==='undefined'||qty<=$.mage.parseNumber(params.maxAllowed),isQtyIncrementsValid=typeof params.qtyIncrements==='undefined'||resolveModulo(qty,$.mage.parseNumber(params.qtyIncrements))===0.0;result=qty>0;if(result===false){validator.itemQtyErrorMessage=$.mage.__('Please enter a quantity greater than 0.');return result;}\nresult=isMinAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The fewest you may purchase is %1.').replace('%1',params.minAllowed);return result;}\nresult=isMaxAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The maximum you may purchase is %1.').replace('%1',params.maxAllowed);return result;}\nresult=isQtyIncrementsValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1',params.qtyIncrements);return result;}\nreturn result;},function(){return this.itemQtyErrorMessage;}],'password-not-equal-to-user-name':[function(value,element,params){if(typeof params==='string'){return value.toLowerCase()!==params.toLowerCase();}\nreturn true;},$.mage.__('The password can\\'t be the same as the email address. Create a new password and try again.')]};$.each(rules,function(i,rule){rule.unshift(i);$.validator.addMethod.apply($.validator,rule);});$.validator.addClassRules({'required-option':{required:true},'required-options-count':{required:true},'validate-both-passwords':{'validate-cpassword':true}});$.validator.messages=$.extend($.validator.messages,{required:$.mage.__('This is a required field.'),remote:$.mage.__('Please fix this field.'),email:$.mage.__('Please enter a valid email address.'),url:$.mage.__('Please enter a valid URL.'),date:$.mage.__('Please enter a valid date.'),dateISO:$.mage.__('Please enter a valid date (ISO).'),number:$.mage.__('Please enter a valid number.'),digits:$.mage.__('Please enter only digits.'),creditcard:$.mage.__('Please enter a valid credit card number.'),equalTo:$.mage.__('Please enter the same value again.'),maxlength:$.validator.format($.mage.__('Please enter no more than {0} characters.')),minlength:$.validator.format($.mage.__('Please enter at least {0} characters.')),rangelength:$.validator.format($.mage.__('Please enter a value between {0} and {1} characters long.')),range:$.validator.format($.mage.__('Please enter a value between {0} and {1}.')),max:$.validator.format($.mage.__('Please enter a value less than or equal to {0}.')),min:$.validator.format($.mage.__('Please enter a value greater than or equal to {0}.'))});if($.metadata){$.metadata.setType('html5');}\nshowLabel=$.validator.prototype.showLabel;$.extend(true,$.validator.prototype,{showLabel:function(element,message){var label,elem;showLabel.call(this,element,message);label=this.errorsFor(element);elem=$(element);if(!label.attr('id')){label.attr('id',this.idOrName(element)+'-error');}\nelem.attr('aria-invalid','true').attr('aria-describedby',label.attr('id'));}});$.validator.validateElement=function(element){var form,validator,valid,classes;element=$(element);form=element.get(0).form;validator=form?$(form).data('validator'):null;if(validator){return validator.element(element.get(0));}\nvalid=true;classes=element.prop('class').split(' ');$.each(classes,$.proxy(function(i,className){if(this.methods[className]&&!this.methods[className](element.val(),element.get(0))){valid=false;return valid;}},this));return valid;};originValidateDelegate=$.fn.validateDelegate;$.fn.validateDelegate=function(){if(!this[0].form){return this;}\nreturn originValidateDelegate.apply(this,arguments);};$.validator.validateSingleElement=function(element,config){var errors={},valid=true,validateConfig={errorElement:'label',ignore:'.ignore-validate',hideError:false},form,validator,classes,elementValue;$.extend(validateConfig,config);element=$(element).not(validateConfig.ignore);if(!element.length){return true;}\nform=element.get(0).form;validator=form?$(form).data('validator'):null;if(validator){return validator.element(element.get(0));}\nclasses=element.prop('class').split(' ');validator=element.parent().data('validator')||$.mage.validation(validateConfig,element.parent()).validate;element.removeClass(validator.settings.errorClass);validator.toHide=validator.toShow;validator.hideErrors();validator.toShow=validator.toHide=$([]);$.each(classes,$.proxy(function(i,className){elementValue=element.val();if(element.is(':checkbox')||element.is(':radio')){elementValue=element.is(':checked')||null;}\nif(this.methods[className]&&!this.methods[className](elementValue,element.get(0))){valid=false;errors[element.get(0).name]=this.messages[className];validator.invalid[element.get(0).name]=true;if(!validateConfig.hideError){validator.showErrors(errors);}\nreturn valid;}},this));return valid;};$.widget('mage.validation',{options:{meta:'validate',onfocusout:false,onkeyup:false,onclick:false,ignoreTitle:true,errorClass:'mage-error',errorElement:'div',errorPlacement:function(error,element){var errorPlacement=element,fieldWrapper;if(element.hasClass('_has-datepicker')){errorPlacement=element.siblings('button');}\nfieldWrapper=element.closest('.addon');if(fieldWrapper.length){errorPlacement=fieldWrapper.after(error);}\nif(element.is(':checkbox')||element.is(':radio')){errorPlacement=element.parents('.control').children().last();if(!errorPlacement.length){errorPlacement=element.siblings('label').last();}}\nif(element.siblings('.tooltip').length){errorPlacement=element.siblings('.tooltip');}\nif(element.next().find('.tooltip').length){errorPlacement=element.next();}\nerrorPlacement.after(error);}},isValid:function(){return this.element.valid();},clearError:function(){if(arguments.length){$.each(arguments,$.proxy(function(index,item){this.validate.prepareElement(item);this.validate.hideErrors();},this));}else{this.validate.resetForm();}},_create:function(){this.validate=this.element.validate(this.options);this.element.find('.field.required').find('.control').find('input, select, textarea').attr('aria-required','true');this._listenFormValidate();},_listenFormValidate:function(){$('form').on('invalid-form.validate',this.listenFormValidateHandler);},listenFormValidateHandler:function(event,validation){var firstActive=$(validation.errorList[0].element||[]),lastActive=$(validation.findLastActive()||validation.errorList.length&&validation.errorList[0].element||[]),windowHeight=$(window).height(),parent,successList;if(lastActive.is(':hidden')){parent=lastActive.parent();$('html, body').animate({scrollTop:parent.offset().top-windowHeight / 2});}\nsuccessList=validation.successList;if(successList.length){$.each(successList,function(){$(this).removeAttr('aria-describedby').removeAttr('aria-invalid');});}\nif(firstActive.length){$('html, body').stop().animate({scrollTop:firstActive.parent().offset().top-windowHeight / 2});firstActive.focus();}}});return $.mage.validation;});","mage/trim-input.min.js":"define(['jquery'],function($){'use strict';$.widget('mage.trimInput',{options:{cache:{}},_create:function(){this.options.cache.input=$(this.element);this._bind();},_bind:function(){if(this.options.cache.input.length){this._on(this.options.cache.input,{'change':this._trimInput,'keyup':this._trimInput,'paste':this._trimInput});}},_trimInput:function(){var caretStart,caretEnd,input;caretStart=this.options.cache.input.get(0).selectionStart;caretEnd=this.options.cache.input.get(0).selectionEnd;input=this._getInputValue().trim();this.options.cache.input.val(input);if(caretStart!==null&&caretEnd!==null){this.options.cache.input.get(0).setSelectionRange(caretStart,caretEnd);}},_getInputValue:function(){return this.options.cache.input.val();}});return $.mage.trimInput;});","mage/url.min.js":"define([],function(){var baseUrl='';return{setBaseUrl:function(url){baseUrl=url;},build:function(path){if(path.indexOf(baseUrl)!==-1){return path;}\nreturn baseUrl+path;}};});","mage/accordion.min.js":"define(['jquery','mage/tabs'],function($,tabs){'use strict';$.widget('mage.accordion',tabs,{options:{active:[0],multipleCollapsible:false,openOnFocus:false},_callCollapsible:function(){var self=this,disabled=false,active=false;if(typeof this.options.active==='string'){this.options.active=this.options.active.split(' ').map(function(item){return parseInt(item,10);});}\n$.each(this.collapsibles,function(i){disabled=active=false;if($.inArray(i,self.options.disabled)!==-1){disabled=true;}\nif($.inArray(i,self.options.active)!==-1){active=true;}\nself._instantiateCollapsible(this,i,active,disabled);});},_toggleActivate:function(action,index){var self=this;if($.isArray(index&&this.options.multipleCollapsible)){$.each(index,function(){self.collapsibles.eq(this).collapsible(action);});}else if(index===undefined&&this.options.multipleCollapsible){this.collapsibles.collapsible(action);}else{this._super(action,index);}},_handleDeepLinking:function(){if(!this.options.multipleCollapsible){this._super();}},_closeOthers:function(){var self=this;if(!this.options.multipleCollapsible){$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){self.collapsibles.not(this).collapsible('deactivate');});});}\n$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){var section=$(this);section.addClass('allow').prevAll().addClass('allow');section.nextAll().removeClass('allow');});});}});return $.mage.accordion;});","mage/layout.min.js":"define(['underscore'],function(_){return{build:function(config){var types=_.map(_.flatten(config),function(item){return item.type;});require(types,function(){});}};});","mage/translate-inline.min.js":"define(['jquery','mage/template','mage/utils/misc','mage/translate','jquery-ui-modules/dialog'],function($,mageTemplate,miscUtils){'use strict';$.widget('mage.translateInline',$.ui.dialog,{options:{translateForm:{template:'#translate-form-template',data:{id:'translate-inline-form',message:'Please refresh the page to see your changes after submitting this form.'}},autoOpen:false,translateArea:null,modal:true,dialogClass:'popup-window',width:'75%',title:$.mage.__('Translate'),height:470,position:{my:'left top',at:'center top',of:'body'},buttons:[{text:$.mage.__('Submit'),'class':'action-primary',click:function(){$(this).translateInline('submit');}},{text:$.mage.__('Close'),'class':'action-close',click:function(){$(this).translateInline('close');}}],open:function(){var $uiDialog=$(this).closest('.ui-dialog'),topMargin=$uiDialog.children('.ui-dialog-titlebar').outerHeight()+45;$uiDialog.addClass('ui-dialog-active').css('margin-top',topMargin);},close:function(){$(this).closest('.ui-dialog').removeClass('ui-dialog-active');}},_create:function(){var $translateArea=$(this.options.translateArea);if(!$translateArea.length){$translateArea=$('body');}\n$translateArea.on('edit.editTrigger',$.proxy(this._onEdit,this));this.tmpl=mageTemplate(this.options.translateForm.template);this._super();},_prepareContent:function(templateData){var data=$.extend({items:templateData,escape:miscUtils.escape},this.options.translateForm.data);this.data=data;return $(this.tmpl({data:data}));},_onEdit:function(e){this.target=e.target;this.element.html(this._prepareContent($(e.target).data('translate')));this.open(e);},submit:function(){if(this.formIsSubmitted){return;}\nthis._formSubmit();},_formSubmit:function(){var parameters=$.param({area:this.options.area})+'&'+$('#'+this.options.translateForm.data.id).serialize();this.formIsSubmitted=true;$.ajax({url:this.options.ajaxUrl,type:'POST',data:parameters,loaderContext:this.element,showLoader:true}).always($.proxy(this._formSubmitComplete,this));},_formSubmitComplete:function(response){this.close();this.formIsSubmitted=false;this._updatePlaceholder(response.responseJSON[this.data.items[0].original]);},_updatePlaceholder:function(newValue){var $target=$(this.target),translateObject=$target.data('translate')[0];translateObject.shown=newValue;translateObject.translated=newValue;$target.html(newValue);},destroy:function(){this.element.off('.editTrigger');this._super();}});return $.mage.translateInline;});","mage/loader_old.min.js":"define(['jquery','mage/template','jquery-ui-modules/widget','mage/translate'],function($,mageTemplate){'use strict';$.widget('mage.loader',{loaderStarted:0,spinner:$(undefined),options:{icon:'',texts:{loaderText:$.mage.__('Please wait...'),imgAlt:$.mage.__('Loading...')},template:'<div class=\"loading-mask\" data-role=\"loader\">'+'<div class=\"popup popup-loading\">'+'<div class=\"popup-inner\">'+'<% if (data.icon) { %>'+'<img '+'<% if (data.texts.imgAlt) { %>alt=\"<%- data.texts.imgAlt %>\"<% } %> '+'src=\"<%- data.icon %>\"><% } %>'+'<% if (data.texts.loaderText) { %><%- data.texts.loaderText %><% } %>'+'</div>'+'</div>'+'</div>'},_create:function(){this._bind();},_bind:function(){this._on({'processStop':'hide','processStart':'show','show.loader':'show','hide.loader':'hide','contentUpdated.loader':'_contentUpdated'});},_contentUpdated:function(e){this.show(e);},show:function(e,ctx){this._render();this.loaderStarted++;this.spinner.show();if(ctx){this.spinner.css({width:ctx.outerWidth(),height:ctx.outerHeight(),position:'absolute'}).position({my:'top left',at:'top left',of:ctx});}\nreturn false;},hide:function(){if(this.loaderStarted>0){this.loaderStarted--;if(this.loaderStarted===0){this.spinner.hide();}}\nreturn false;},_render:function(){var tmpl;if(this.spinner.length===0){tmpl=mageTemplate(this.options.template,{data:this.options});this.spinner=$(tmpl);}\nthis.element.prepend(this.spinner);},_destroy:function(){this.spinner.remove();}});$.widget('mage.loaderAjax',{options:{defaultContainer:'[data-container=body]'},_create:function(){this._bind();if(window.console&&!this.element.is(this.options.defaultContainer)&&$.mage.isDevMode(undefined)){console.warn('This widget is intended to be attached to the body, not below.');}},_bind:function(){$(document).on({'ajaxSend':this._onAjaxSend.bind(this),'ajaxComplete':this._onAjaxComplete.bind(this)});},_getJqueryObj:function(loaderContext){var ctx;if(loaderContext){if(loaderContext.jquery){ctx=loaderContext;}else{ctx=$(loaderContext);}}else{ctx=$('[data-container=\"body\"]');}\nreturn ctx;},_onAjaxSend:function(e,jqxhr,settings){var ctx;if(settings&&settings.showLoader){ctx=this._getJqueryObj(settings.loaderContext);ctx.trigger('processStart');if(window.console&&!ctx.parents('[data-role=\"loader\"]').length){console.warn('Expected to start loader but did not find one in the dom');}}},_onAjaxComplete:function(e,jqxhr,settings){if(settings&&settings.showLoader&&!settings.dontHide){this._getJqueryObj(settings.loaderContext).trigger('processStop');}}});return{loader:$.mage.loader,loaderAjax:$.mage.loaderAjax};});","mage/multiselect.min.js":"define(['underscore','jquery','text!mage/multiselect.html','Magento_Ui/js/modal/alert','jquery-ui-modules/widget','jquery/editableMultiselect/js/jquery.multiselect'],function(_,$,searchTemplate,alert){'use strict';$.widget('mage.multiselect2',{options:{mselectContainer:'section.mselect-list',mselectItemsWrapperClass:'mselect-items-wrapper',mselectCheckedClass:'mselect-checked',containerClass:'paginated',searchInputClass:'admin__action-multiselect-search',selectedItemsCountClass:'admin__action-multiselect-items-selected',currentPage:1,lastAppendValue:0,updateDelay:1000,optionsLoaded:false},_create:function(){$.fn.multiselect.call(this.element,this.options);},_init:function(){this.domElement=this.element.get(0);this.$container=$(this.options.mselectContainer);this.$wrapper=this.$container.find('.'+this.options.mselectItemsWrapperClass);this.$item=this.$wrapper.find('div').first();this.selectedValues=[];this.values={};this.$container.addClass(this.options.containerClass).prepend(searchTemplate);this.$input=this.$container.find('.'+this.options.searchInputClass);this.$selectedCounter=this.$container.find('.'+this.options.selectedItemsCountClass);this.filter='';if(this.domElement.options.length){this._setLastAppendOption(this.domElement.options[this.domElement.options.length-1].value);}\nthis._initElement();this._events();},_initElement:function(){this.element.empty();_.each(this.options.selectedValues,function(value){this._createSelectedOption({value:value,label:value});},this);},_events:function(){var onKeyUp=_.debounce(this.onKeyUp,this.options.updateDelay);_.bindAll(this,'onScroll','onCheck','onOptionsChange');this.$wrapper.on('scroll',this.onScroll);this.$wrapper.on('change.mselectCheck','[type=checkbox]',this.onCheck);this.$input.on('keyup',_.bind(onKeyUp,this));this.element.on('change.hiddenSelect',this.onOptionsChange);},onScroll:function(){var height=this.$wrapper.height(),scrollHeight=this.$wrapper.prop('scrollHeight'),scrollTop=Math.ceil(this.$wrapper.prop('scrollTop'));if(!this.options.optionsLoaded&&scrollHeight-height<=scrollTop){this.loadOptions();}},onKeyUp:function(){if(this.getSearchCriteria()===this.filter){return false;}\nthis.setFilter();this.clearMultiselectOptions();this.setCurrentPage(0);this.loadOptions();},onOptionsChange:function(){this.selectedValues=_.map(this.domElement.options,function(option){this.values[option.value]=true;return option.value;},this);this._updateSelectedCounter();},onCheck:function(event){var checkbox=event.target,option={value:checkbox.value,label:$(checkbox).parent('label').text()};checkbox.checked?this._createSelectedOption(option):this._removeSelectedOption(option);event.stopPropagation();},onError:function(message){alert({content:message});},setFilter:function(){this.filter=this.getSearchCriteria()||'';},getSearchCriteria:function(){return $.trim(this.$input.val());},loadOptions:function(){var nextPage=this.getCurrentPage()+1;this.$wrapper.trigger('processStart');this.$input.prop('disabled',true);$.get(this.options.nextPageUrl,{p:nextPage,s:this.filter}).done(function(response){if(response.success){this.appendOptions(response.result);this.setCurrentPage(nextPage);}else{this.onError(response.errorMessage);}}.bind(this)).always(function(){this.$wrapper.trigger('processStop');this.$input.prop('disabled',false);if(this.filter){this.$input.focus();}}.bind(this));},appendOptions:function(options){var divOptions=[];if(!options.length){return false;}\nif(this.isOptionsLoaded(options)){return;}\noptions.forEach(function(option){if(!this.values[option.value]){this.values[option.value]=true;option.selected=this._isOptionSelected(option);divOptions.push(this._createMultiSelectOption(option));this._setLastAppendOption(option.value);}},this);this.$wrapper.append(divOptions);},clearMultiselectOptions:function(){this._setLastAppendOption(0);this.values={};this.$wrapper.empty();},isOptionsLoaded:function(options){this.options.optionsLoaded=this.options.lastAppendValue===options[options.length-1].value;return this.options.optionsLoaded;},setCurrentPage:function(page){this.options.currentPage=page;},getCurrentPage:function(){return this.options.currentPage;},_createSelectedOption:function(option){var selectOption=new Option(option.label,option.value,false,true);this.element.append(selectOption);this.selectedValues.push(option.value);this._updateSelectedCounter();return selectOption;},_removeSelectedOption:function(option){var unselectedOption=_.findWhere(this.domElement.options,{value:option.value});if(!_.isUndefined(unselectedOption)){this.domElement.remove(unselectedOption.index);this.selectedValues.splice(_.indexOf(this.selectedValues,option.value),1);this._updateSelectedCounter();}\nreturn unselectedOption;},_createMultiSelectOption:function(option){var item=this.$item.clone(),checkbox=item.find('input'),isSelected=!!option.selected;checkbox.val(option.value).prop('checked',isSelected).toggleClass(this.options.mselectCheckedClass,isSelected);item.find('label > span').text(option.label);return item;},_isOptionSelected:function(option){return!!~this.selectedValues.indexOf(option.value);},_setLastAppendOption:function(value){this.options.lastAppendValue=value;},_updateSelectedCounter:function(){this.$selectedCounter.text(this.selectedValues.length);}});return $.mage.multiselect2;});","mage/bootstrap.min.js":"define(['jquery','mage/apply/main','Magento_Ui/js/lib/knockout/bootstrap'],function($,mage){'use strict';$.ajaxSetup({cache:false});setTimeout(mage.apply);});","mage/tabs.min.js":"define(['jquery','jquery-ui-modules/widget','jquery-ui-modules/core','mage/mage','mage/collapsible'],function($){'use strict';$.widget('mage.tabs',{options:{active:0,disabled:[],openOnFocus:true,collapsible:false,collapsibleElement:'[data-role=collapsible]',header:'[data-role=title]',content:'[data-role=content]',trigger:'[data-role=trigger]',closedState:null,openedState:null,disabledState:null,ajaxUrlElement:'[data-ajax=true]',ajaxContent:false,loadingClass:null,saveState:false,animate:false,icons:{activeHeader:null,header:null}},_create:function(){if(typeof this.options.disabled==='string'){this.options.disabled=this.options.disabled.split(' ').map(function(item){return parseInt(item,10);});}\nthis._processPanels();this._handleDeepLinking();this._processTabIndex();this._closeOthers();this._bind();},_destroy:function(){$.each(this.collapsibles,function(){$(this).collapsible('destroy');});},_handleDeepLinking:function(){var self=this,anchor=window.location.hash,isValid=$.mage.isValidSelector(anchor),anchorId=anchor.replace('#','');if(anchor&&isValid){$.each(self.contents,function(i){if($(this).attr('id')===anchorId||$(this).find('#'+anchorId).length){self.collapsibles.not(self.collapsibles.eq(i)).collapsible('forceDeactivate');return false;}});}},_processTabIndex:function(){var self=this;self.triggers.attr('tabIndex',0);$.each(this.collapsibles,function(i){self.triggers.attr('tabIndex',0);self.triggers.eq(i).attr('tabIndex',0);});},_processPanels:function(){var isNotNested=this._isNotNested.bind(this);this.contents=this.element.find(this.options.content).filter(isNotNested);this.collapsibles=this.element.find(this.options.collapsibleElement).filter(isNotNested);this.collapsibles.attr('role','presentation').parent().attr('role','tablist');this.headers=this.element.find(this.options.header).filter(isNotNested);if(this.headers.length===0){this.headers=this.collapsibles;}\nthis.triggers=this.element.find(this.options.trigger).filter(isNotNested);if(this.triggers.length===0){this.triggers=this.headers;}\nthis._callCollapsible();},_isNotNested:function(index,element){var parentContent=$(element).parents(this.options.content);return!parentContent.length||!this.element.find(parentContent).length;},_callCollapsible:function(){var self=this,disabled=false,active=false;$.each(this.collapsibles,function(i){disabled=active=false;if($.inArray(i,self.options.disabled)!==-1){disabled=true;}\nif(i===self.options.active){active=true;}\nself._instantiateCollapsible(this,i,active,disabled);});},_instantiateCollapsible:function(element,index,active,disabled){$(element).collapsible($.extend({},this.options,{active:active,disabled:disabled,header:this.headers.eq(index),content:this.contents.eq(index),trigger:this.triggers.eq(index)}));},_closeOthers:function(){var self=this;$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){self.collapsibles.not(this).collapsible('forceDeactivate');});});},activate:function(index){this._toggleActivate('activate',index);},deactivate:function(index){this._toggleActivate('deactivate',index);},_toggleActivate:function(action,index){this.collapsibles.eq(index).collapsible(action);},disable:function(index){this._toggleEnable('disable',index);},enable:function(index){this._toggleEnable('enable',index);},_toggleEnable:function(action,index){var self=this;if($.isArray(index)){$.each(index,function(){self.collapsibles.eq(this).collapsible(action);});}else if(index===undefined){this.collapsibles.collapsible(action);}else{this.collapsibles.eq(index).collapsible(action);}},_keydown:function(event){var self=this,keyCode,toFocus,toFocusIndex,enabledTriggers,length,currentIndex,nextToFocus;if(event.altKey||event.ctrlKey){return;}\nkeyCode=$.ui.keyCode;toFocus=false;enabledTriggers=[];$.each(this.triggers,function(){if(!self.collapsibles.eq(self.triggers.index($(this))).collapsible('option','disabled')){enabledTriggers.push(this);}});length=$(enabledTriggers).length;currentIndex=$(enabledTriggers).index(event.target);nextToFocus=function(direction){if(length>0){if(direction==='right'){toFocusIndex=(currentIndex+1)%length;}else{toFocusIndex=(currentIndex+length-1)%length;}\nreturn enabledTriggers[toFocusIndex];}\nreturn event.target;};switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=nextToFocus('right');break;case keyCode.LEFT:case keyCode.UP:toFocus=nextToFocus('left');break;case keyCode.HOME:toFocus=enabledTriggers[0];break;case keyCode.END:toFocus=enabledTriggers[length-1];break;}\nif(toFocus){toFocusIndex=this.triggers.index(toFocus);$(event.target).attr('tabIndex',-1);$(toFocus).attr('tabIndex',0);toFocus.focus();if(this.options.openOnFocus){this.activate(toFocusIndex);}\nevent.preventDefault();}},_bind:function(){var events={keydown:'_keydown'};this._off(this.triggers);this._on(this.triggers,events);}});return $.mage.tabs;});","mage/collapsible.min.js":"define(['jquery','jquery-ui-modules/widget','jquery-ui-modules/core','jquery/jquery-storageapi','mage/mage'],function($){'use strict';var hideProps={},showProps={};hideProps.height='hide';showProps.height='show';$.widget('mage.collapsible',{options:{active:false,disabled:false,collapsible:true,header:'[data-role=title]',content:'[data-role=content]',trigger:'[data-role=trigger]',closedState:null,openedState:null,disabledState:null,ajaxUrlElement:'[data-ajax=true]',ajaxContent:false,loadingClass:null,saveState:false,animate:false,icons:{activeHeader:null,header:null},collateral:{element:null,openedState:null}},_create:function(){this.storage=$.localStorage;this.icons=false;if(typeof this.options.icons==='string'){this.options.icons=$.parseJSON(this.options.icons);}\nthis._processPanels();this._processState();this._refresh();if(this.options.icons.header&&this.options.icons.activeHeader){this._createIcons();this.icons=true;}\nthis.element.on('dimensionsChanged',function(e){if(e.target&&e.target.classList.contains('active')){this._scrollToTopIfNotVisible();}}.bind(this));this._bind('click');this._trigger('created');},_refresh:function(){this.trigger.attr('tabIndex',0);if(this.options.active&&!this.options.disabled){if(this.options.openedState){this.element.addClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).addClass(this.options.collateral.openedState);}\nif(this.options.ajaxContent){this._loadContent();}\nthis.header.attr({'aria-selected':false});}else if(this.options.disabled){this.disable();}else{this.content.hide();if(this.options.closedState){this.element.addClass(this.options.closedState);}}},_processState:function(){var anchor=window.location.hash,isValid=$.mage.isValidSelector(anchor),urlPath=window.location.pathname.replace(/\\./g,''),state;this.stateKey=encodeURIComponent(urlPath+this.element.attr('id'));if(isValid&&($(this.content.find(anchor)).length>0||this.content.attr('id')===anchor.replace('#',''))){this.element.parents('[data-collapsible=true]').collapsible('forceActivate');if(!this.options.disabled){this.options.active=true;if(this.options.saveState){this.storage.set(this.stateKey,true);}}}else if(this.options.saveState&&!this.options.disabled){state=this.storage.get(this.stateKey);if(typeof state==='undefined'||state===null){this.storage.set(this.stateKey,this.options.active);}else if(state===true){this.options.active=true;}else if(state===false){this.options.active=false;}}},_createIcons:function(){var icons=this.options.icons;if(icons){$('<span>').addClass(icons.header).attr('data-role','icons').prependTo(this.header);if(this.options.active&&!this.options.disabled){this.header.children('[data-role=icons]').removeClass(icons.header).addClass(icons.activeHeader);}}},_destroyIcons:function(){this.header.children('[data-role=icons]').remove();},_destroy:function(){var options=this.options;this.element.removeAttr('data-collapsible');this.trigger.removeAttr('tabIndex');if(options.openedState){this.element.removeClass(options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).removeClass(this.options.collateral.openedState);}\nif(options.closedState){this.element.removeClass(options.closedState);}\nif(options.disabledState){this.element.removeClass(options.disabledState);}\nif(this.icons){this._destroyIcons();}},_processPanels:function(){var headers,triggers;this.element.attr('data-collapsible','true');if(typeof this.options.header==='object'){this.header=this.options.header;}else{headers=this.element.find(this.options.header);if(headers.length>0){this.header=headers.eq(0);}else{this.header=this.element;}}\nif(typeof this.options.content==='object'){this.content=this.options.content;}else{this.content=this.header.next(this.options.content).eq(0);}\nif(this.header.attr('id')){this.content.attr('aria-labelledby',this.header.attr('id'));}\nif(this.content.attr('id')){this.header.attr('aria-controls',this.content.attr('id'));}\nthis.header.attr({'role':'tab','aria-selected':this.options.active,'aria-expanded':this.options.active});if(this.header.parent().attr('role')!=='presentation'){this.header.parent().attr('role','tablist');}\nthis.content.attr({'role':'tabpanel','aria-hidden':!this.options.active});if(typeof this.options.trigger==='object'){this.trigger=this.options.trigger;}else{triggers=this.header.find(this.options.trigger);if(triggers.length>0){this.trigger=triggers.eq(0);}else{this.trigger=this.header;}}},_keydown:function(event){var keyCode;if(event.altKey||event.ctrlKey){return;}\nkeyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;}},_bind:function(event){var self=this;this.events={keydown:'_keydown'};if(event){$.each(event.split(' '),function(index,eventName){self.events[eventName]='_eventHandler';});}\nthis._off(this.trigger);if(!this.options.disabled){this._on(this.trigger,this.events);}},disable:function(){this.options.disabled=true;this._off(this.trigger);this.forceDeactivate();if(this.options.disabledState){this.element.addClass(this.options.disabledState);}\nthis.trigger.attr('tabIndex',-1);},enable:function(){this.options.disabled=false;this._on(this.trigger,this.events);this.forceActivate();if(this.options.disabledState){this.element.removeClass(this.options.disabledState);}\nthis.trigger.attr('tabIndex',0);},_eventHandler:function(event){if(this.options.active&&this.options.collapsible){this.deactivate();}else{this.activate();}\nevent.preventDefault();},_animate:function(prop){var duration,easing,animate=this.options.animate;if(typeof animate==='number'){duration=animate;}\nif(typeof animate==='string'){animate=$.parseJSON(animate);}\nduration=duration||animate.duration;easing=animate.easing;this.content.animate(prop,duration,easing);},deactivate:function(){if(this.options.animate){this._animate(hideProps);}else{this.content.hide();}\nthis._close();},forceDeactivate:function(){this.content.hide();this._close();},_close:function(){this.options.active=false;if(this.options.saveState){this.storage.set(this.stateKey,false);}\nif(this.options.openedState){this.element.removeClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).removeClass(this.options.collateral.openedState);}\nif(this.options.closedState){this.element.addClass(this.options.closedState);}\nif(this.icons){this.header.children('[data-role=icons]').removeClass(this.options.icons.activeHeader).addClass(this.options.icons.header);}\nthis.header.attr({'aria-selected':'false','aria-expanded':'false'});this.content.attr({'aria-hidden':'true'});this.element.trigger('dimensionsChanged',{opened:false});},activate:function(){if(this.options.disabled){return;}\nif(this.options.animate){this._animate(showProps);}else{this.content.show();}\nthis._open();},forceActivate:function(){if(!this.options.disabled){this.content.show();this._open();}},_open:function(){this.element.trigger('beforeOpen');this.options.active=true;if(this.options.ajaxContent){this._loadContent();}\nif(this.options.saveState){this.storage.set(this.stateKey,true);}\nif(this.options.openedState){this.element.addClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).addClass(this.options.collateral.openedState);}\nif(this.options.closedState){this.element.removeClass(this.options.closedState);}\nif(this.icons){this.header.children('[data-role=icons]').removeClass(this.options.icons.header).addClass(this.options.icons.activeHeader);}\nthis.header.attr({'aria-selected':'true','aria-expanded':'true'});this.content.attr({'aria-hidden':'false'});this.element.trigger('dimensionsChanged',{opened:true});},_loadContent:function(){var url=this.element.find(this.options.ajaxUrlElement).attr('href'),that=this;if(url){that.xhr=$.get({url:url,dataType:'html'},function(){});}\nif(that.xhr&&that.xhr.statusText!=='canceled'){if(that.options.loadingClass){that.element.addClass(that.options.loadingClass);}\nthat.content.attr('aria-busy','true');that.xhr.done(function(response){setTimeout(function(){that.content.html(response);},1);});that.xhr.always(function(jqXHR,status){setTimeout(function(){if(status==='abort'){that.content.stop(false,true);}\nif(that.options.loadingClass){that.element.removeClass(that.options.loadingClass);}\nthat.content.removeAttr('aria-busy');if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_scrollToTopIfNotVisible:function(){if(this._isElementOutOfViewport()){this.header[0].scrollIntoView();}},_isElementOutOfViewport:function(){var headerRect=this.header[0].getBoundingClientRect(),contentRect=this.content.get().length?this.content[0].getBoundingClientRect():false,headerOut,contentOut;headerOut=headerRect.bottom-headerRect.height<0||headerRect.right-headerRect.width<0||headerRect.left+headerRect.width>window.innerWidth||headerRect.top+headerRect.height>window.innerHeight;contentOut=contentRect?contentRect.bottom-contentRect.height<0||contentRect.right-contentRect.width<0||contentRect.left+contentRect.width>window.innerWidth||contentRect.top+contentRect.height>window.innerHeight:false;return headerOut?headerOut:contentOut;}});return $.mage.collapsible;});","mage/touch-slider.min.js":"define(['jquery','underscore','jquery-ui-modules/slider'],function($,_){'use strict';$.widget('mage.touchSlider',$.ui.slider,{_create:function(){_.bindAll(this,'_mouseDown','_mouseMove','_onTouchEnd');return this._superApply(arguments);},_mouseInit:function(){var result=this._superApply(arguments);this.element.off('mousedown.'+this.widgetName).on('touchstart.'+this.widgetName,this._mouseDown);return result;},_mouseDown:function(event){var prevDelegate=this._mouseMoveDelegate,result;event=this._touchToMouse(event);result=this._super(event);if(prevDelegate===this._mouseMoveDelegate){return result;}\n$(document).off('mousemove.'+this.widgetName).off('mouseup.'+this.widgetName);$(document).on('touchmove.'+this.widgetName,this._mouseMove).on('touchend.'+this.widgetName,this._onTouchEnd).on('tochleave.'+this.widgetName,this._onTouchEnd);return result;},_mouseMove:function(event){event=this._touchToMouse(event);return this._super(event);},_onTouchEnd:function(event){$(document).trigger('mouseup');return this._mouseUp(event);},_mouseUp:function(){this._removeTouchHandlers();return this._superApply(arguments);},_mouseDestroy:function(){this._removeTouchHandlers();return this._superApply(arguments);},_removeTouchHandlers:function(){$(document).off('touchmove.'+this.widgetName).off('touchend.'+this.widgetName).off('touchleave.'+this.widgetName);},_touchToMouse:function(event){var orig=event.originalEvent,touch=orig.touches[0];return _.extend(event,{which:1,pageX:touch.pageX,pageY:touch.pageY,clientX:touch.clientX,clientY:touch.clientY,screenX:touch.screenX,screenY:touch.screenY});}});return $.mage.touchSlider;});","mage/edit-trigger.min.js":"define(['jquery','mage/template','jquery-ui-modules/widget'],function($,mageTemplate){'use strict';var editTriggerPrototype;$.widget('mage.editTrigger',{options:{img:'',alt:'[TR]',template:'#translate-inline-icon',zIndex:2000,editSelector:'[data-translate]',delay:2000,offsetTop:-3,singleElement:true},_create:function(){this.tmpl=mageTemplate(this.options.template);this._initTrigger();this._bind();},_getCss:function(){return{position:'absolute',cursor:'pointer',display:'none','z-index':this.options.zIndex};},_createTrigger:function(appendTo){var tmpl=this.tmpl({data:this.options});return $(tmpl).css(this._getCss()).data('role','edit-trigger-element').appendTo(appendTo);},_initTrigger:function(){this.trigger=this._createTrigger($('body'));},_bind:function(){this.trigger.on('click.'+this.widgetName,$.proxy(this._onClick,this));this.element.on('mousemove.'+this.widgetName,$.proxy(this._onMouseMove,this));},show:function(){if(this.trigger.is(':hidden')){this.trigger.show();}},hide:function(){this.currentTarget=null;if(this.trigger&&this.trigger.is(':visible')){this.trigger.hide();}},_setPosition:function(el){var offset=el.offset();this.trigger.css({top:offset.top+el.outerHeight()+this.options.offsetTop,left:offset.left});},_onMouseMove:function(e){var target=$(e.target),inner=target.find(this.options.editSelector);if($(e.target).is('button')&&inner.length){target=inner;}else if(!target.is(this.trigger)&&!target.is(this.options.editSelector)){target=target.parents(this.options.editSelector).first();}\nif(target.length){if(!target.is(this.trigger)){this._setPosition(target);this.currentTarget=target;}\nthis.show();}else{this.hide();}},_onClick:function(e){e.preventDefault();e.stopImmediatePropagation();$(this.currentTarget).trigger('edit.'+this.widgetName);this.hide(true);},destroy:function(){this.trigger.remove();this.element.off('.'+this.widgetName);return $.Widget.prototype.destroy.call(this);}});editTriggerPrototype=$.mage.editTrigger.prototype;$.widget('mage.editTrigger',$.extend({},editTriggerPrototype,{show:function(){editTriggerPrototype.show.apply(this,arguments);if(this.options.delay){this._clearTimer();}},hide:function(immediate){if(!immediate&&this.options.delay){if(!this.timer){this.timer=setTimeout($.proxy(function(){editTriggerPrototype.hide.apply(this,arguments);this._clearTimer();},this),this.options.delay);}}else{editTriggerPrototype.hide.apply(this,arguments);}},_clearTimer:function(){if(this.timer){clearTimeout(this.timer);this.timer=null;}}}));return $.mage.editTrigger;});","mage/ie-class-fixer.min.js":"define([],function(){'use strict';if(navigator.userAgent.match(/Trident.*rv[ :]*11\\./)){document.documentElement.classList.add('ie11');}});","mage/template.min.js":"define(['underscore'],function(_){'use strict';function isSelector(selector){try{document.querySelector(selector);return true;}catch(e){return false;}}\nfunction unescape(str){return str.replace(/&lt;%|%3C%/g,'<%').replace(/%&gt;|%%3E/g,'%>');}\nfunction getTmplString(tmpl){if(isSelector(tmpl)){tmpl=document.querySelector(tmpl);if(tmpl){tmpl=tmpl.innerHTML.trim();}else{console.warn('No template was found by selector: '+tmpl);tmpl='';}}\nreturn unescape(tmpl);}\nreturn function(tmpl,data){var render;tmpl=getTmplString(tmpl);render=_.template(tmpl);return!_.isUndefined(data)?render(data):render;};});","mage/storage.min.js":"define(['jquery','mage/url'],function($,urlBuilder){'use strict';return{get:function(url,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'GET',global:global,contentType:contentType,headers:headers});},post:function(url,data,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'POST',data:data,global:global,contentType:contentType,headers:headers});},put:function(url,data,global,contentType,headers){var ajaxSettings={};headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';ajaxSettings.url=urlBuilder.build(url);ajaxSettings.type='PUT';ajaxSettings.data=data;ajaxSettings.global=global;ajaxSettings.contentType=contentType;ajaxSettings.headers=headers;return $.ajax(ajaxSettings);},delete:function(url,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'DELETE',global:global,contentType:contentType,headers:headers});}};});","mage/mage.min.js":"define(['jquery','mage/apply/main'],function($,mage){'use strict';$.mage=$.mage||{};$.fn.mage=function(name,config){config=config||{};this.each(function(index,el){mage.applyFor(el,config,name);});return this;};$.extend($.mage,{init:function(){mage.apply();return this;},redirect:function(url,type,timeout,forced){var _redirect;forced=!!forced;timeout=timeout||0;type=type||'assign';_redirect=function(){window.location[type](type==='reload'?forced:url);};timeout?setTimeout(_redirect,timeout):_redirect();},isValidSelector:function(selector){try{document.querySelector(selector);return true;}catch(e){return false;}}});$('body').on('contentUpdated',function(){if(mage){mage.apply();}});return $.mage;});","mage/popup-window.min.js":"define(['jquery','jquery-ui-modules/widget'],function($){'use strict';$.widget('mage.popupWindow',{options:{centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},_create:function(){this.element.on('click',$.proxy(this._openPopupWindow,this));},_openPopupWindow:function(event){var element=$(event.target),settings=this.options,windowFeatures='height='+settings.height+',width='+settings.width+',toolbar='+settings.toolbar+',scrollbars='+settings.scrollbars+',status='+settings.status+',resizable='+settings.resizable+',location='+settings.location+',menuBar='+settings.menubar,centeredX,centeredY;settings.windowName=settings.windowName||element.attr('name');settings.windowURL=settings.windowURL||element.attr('href');if(settings.centerBrowser){centeredY=window.screenY+(window.outerHeight / 2-settings.height / 2);centeredX=window.screenX+(window.outerWidth / 2-settings.width / 2);windowFeatures+=',left='+centeredX+',top='+centeredY;}else if(settings.centerScreen){centeredY=(screen.height-settings.height)/ 2;centeredX=(screen.width-settings.width)/ 2;windowFeatures+=',left='+centeredX+',top='+centeredY;}else{windowFeatures+=',left='+settings.left+',top='+settings.top;}\nwindow.open(settings.windowURL,settings.windowName,windowFeatures).focus();event.preventDefault();}});return $.mage.popupWindow;});","mage/calendar.min.js":"define(['jquery','jquery-ui-modules/widget','jquery-ui-modules/datepicker','jquery-ui-modules/timepicker'],function($){'use strict';var calendarBasePrototype,datepickerPrototype=$.datepicker.constructor.prototype;$.datepicker.markerClassName='_has-datepicker';$.extend(datepickerPrototype,{_getTimezoneDate:function(options){var ms=Date.now();options=options||$.calendarConfig||{};if(typeof options.serverTimezoneOffset!=='undefined'){ms+=new Date().getTimezoneOffset()*60*1000+options.serverTimezoneOffset*1000;}else if(typeof options.serverTimezoneSeconds!=='undefined'){ms=(options.serverTimezoneSeconds+new Date().getTimezoneOffset()*60)*1000;}\nreturn new Date(ms);},_setTimezoneDateDatepicker:function(target){this._setDateDatepicker(target,this._getTimezoneDate());}});$.widget('mage.calendar',{options:{autoComplete:true},_create:function(){this._enableAMPM();this.options=$.extend({},$.calendarConfig?$.calendarConfig:{},this.options.showsTime?{showTime:true,showHour:true,showMinute:true}:{},this.options);this._initPicker(this.element);this._overwriteGenerateHtml();},_picker:function(){return this.options.showsTime?'datetimepicker':'datepicker';},_enableAMPM:function(){if(this.options.timeFormat&&this.options.timeFormat.indexOf('tt')>=0){this.options.ampm=true;}},_overwriteGenerateHtml:function(){$.datepicker.constructor.prototype._generateHTML=function(inst){var today=this._getTimezoneDate(),isRTL=this._get(inst,'isRTL'),showButtonPanel=this._get(inst,'showButtonPanel'),hideIfNoPrevNext=this._get(inst,'hideIfNoPrevNext'),navigationAsDateFormat=this._get(inst,'navigationAsDateFormat'),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,'showCurrentAtPos'),stepMonths=this._get(inst,'stepMonths'),isMultiMonth=parseInt(numMonths[0],10)!==1||parseInt(numMonths[1],10)!==1,currentDate=this._daylightSavingAdjust(!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)),minDate=this._getMinMaxDate(inst,'min'),maxDate=this._getMinMaxDate(inst,'max'),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear,maxDraw,prevText=this._get(inst,'prevText'),prev,nextText=this._get(inst,'nextText'),next,currentText=this._get(inst,'currentText'),gotoDate,controls,buttonPanel,firstDay,showWeek=this._get(inst,'showWeek'),dayNames=this._get(inst,'dayNames'),dayNamesMin=this._get(inst,'dayNamesMin'),monthNames=this._get(inst,'monthNames'),monthNamesShort=this._get(inst,'monthNamesShort'),beforeShowDay=this._get(inst,'beforeShowDay'),showOtherMonths=this._get(inst,'showOtherMonths'),selectOtherMonths=this._get(inst,'selectOtherMonths'),defaultDate=this._getDefaultDate(inst),html='',row=0,col=0,selectedDate,cornerClass=' ui-corner-all',group='',calender='',dow=0,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow=0,tbody,daySettings,otherMonth,unselectable;if(drawMonth<0){drawMonth+=12;drawYear--;}\nif(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}\ninst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst));prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\"'+' title=\"'+prevText+'\">'+'<span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?'e':'w')+'\">'+''+prevText+'</span></a>':hideIfNoPrevNext?'':'<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"'+''+prevText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+''+(isRTL?'e':'w')+'\">'+prevText+'</span></a>';nextText=!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst));next=this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\"'+'title=\"'+nextText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+''+(isRTL?'w':'e')+'\">'+nextText+'</span></a>':hideIfNoPrevNext?'':'<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"'+nextText+'\">'+'<span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?'w':'e')+'\">'+nextText+'</span></a>';gotoDate=this._get(inst,'gotoCurrent')&&inst.currentDay?currentDate:today;currentText=!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst));controls=!inst.inline?'<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary '+'ui-corner-all\" data-handler=\"hide\" data-event=\"click\">'+\nthis._get(inst,'closeText')+'</button>':'';buttonPanel=showButtonPanel?'<div class=\"ui-datepicker-buttonpane ui-widget-content\">'+(isRTL?controls:'')+\n(this._isInRange(inst,gotoDate)?'<button type=\"button\" class=\"ui-datepicker-current '+'ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\"'+'>'+currentText+'</button>':'')+(isRTL?'':controls)+'</div>':'';firstDay=parseInt(this._get(inst,'firstDay'),10);firstDay=isNaN(firstDay)?0:firstDay;for(row=0;row<numMonths[0];row++){this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));calender='';if(isMultiMonth){calender+='<div class=\"ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=' ui-datepicker-group-first';cornerClass=' ui-corner-'+(isRTL?'right':'left');break;case numMonths[1]-1:calender+=' ui-datepicker-group-last';cornerClass=' ui-corner-'+(isRTL?'left':'right');break;default:calender+=' ui-datepicker-group-middle';cornerClass='';}}\ncalender+='\">';}\ncalender+='<div class=\"ui-datepicker-header '+'ui-widget-header ui-helper-clearfix'+cornerClass+'\">'+\n(/all|left/.test(cornerClass)&&parseInt(row,10)===0?isRTL?next:prev:'')+\n(/all|right/.test(cornerClass)&&parseInt(row,10)===0?isRTL?prev:next:'')+\nthis._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class=\"ui-datepicker-calendar\"><thead>'+'<tr>';thead=showWeek?'<th class=\"ui-datepicker-week-col\">'+this._get(inst,'weekHeader')+'</th>':'';for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+='<th'+((dow+firstDay+6)%7>=5?' class=\"ui-datepicker-week-end\"':'')+'>'+'<span title=\"'+dayNames[day]+'\">'+dayNamesMin[day]+'</span></th>';}\ncalender+=thead+'</tr></thead><tbody>';daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}\nleadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/ 7);numRows=isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows;this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+='<tr>';tbody=!showWeek?'':'<td class=\"ui-datepicker-week-col\">'+\nthis._get(inst,'calculateWeek')(printDate)+'</td>';for(dow=0;dow<7;dow++){daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[true,''];otherMonth=printDate.getMonth()!==drawMonth;unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='<td class=\"'+\n((dow+firstDay+6)%7>=5?' ui-datepicker-week-end':'')+\n(otherMonth?' ui-datepicker-other-month':'')+\n(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?' '+this._dayOverClass:'')+\n(unselectable?' '+this._unselectableClass+' ui-state-disabled':'')+\n(otherMonth&&!showOtherMonths?'':' '+daySettings[1]+\n(printDate.getTime()===currentDate.getTime()?' '+this._currentClass:'')+\n(printDate.getDate()===today.getDate()&&printDate.getMonth()===today.getMonth()&&printDate.getYear()===today.getYear()?' ui-datepicker-today':''))+'\"'+\n((!otherMonth||showOtherMonths)&&daySettings[2]?' title=\"'+daySettings[2]+'\"':'')+\n(unselectable?'':' data-handler=\"selectDay\" data-event=\"click\" data-month=\"'+''+printDate.getMonth()+'\" data-year=\"'+printDate.getFullYear()+'\"')+'>'+\n(otherMonth&&!showOtherMonths?'&#xa0;':unselectable?'<span class=\"ui-state-default\">'+printDate.getDate()+'</span>':'<a class=\"ui-state-default'+\n(printDate.getTime()===today.getTime()?' ':'')+\n(printDate.getTime()===currentDate.getTime()?' ui-state-active':'')+\n(otherMonth?' ui-priority-secondary':'')+'\" href=\"#\">'+printDate.getDate()+'</a>')+'</td>';printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}\ncalender+=tbody+'</tr>';}\ndrawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}\ncalender+='</tbody></table>'+(isMultiMonth?'</div>'+\n(numMonths[0]>0&&col===numMonths[1]-1?'<div class=\"ui-datepicker-row-break\"></div>':''):'');group+=calender;}\nhtml+=group;}\nhtml+=buttonPanel+($.ui.ie6&&!inst.inline?'<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>':'');inst._keyEvent=false;return html;};},_setCurrentDate:function(element){if(!element.val()){element[this._picker()]('setTimezoneDate').val('');}},_initPicker:function(element){var picker=element[this._picker()](this.options),pickerButtonText=picker.next('.ui-datepicker-trigger').find('img').attr('title');picker.next('.ui-datepicker-trigger').addClass('v-middle').text('').append('<span>'+pickerButtonText+'</span>');$(element).attr('autocomplete',this.options.autoComplete?'on':'off');this._setCurrentDate(element);},_destroy:function(){this.element[this._picker()]('destroy');this._super();},getTimezoneDate:function(){return datepickerPrototype._getTimezoneDate.call(this,this.options);}});calendarBasePrototype=$.mage.calendar.prototype;$.widget('mage.calendar',$.extend({},calendarBasePrototype,{dateTimeFormat:{date:{'EEEE':'DD','EEE':'D','EE':'D','E':'D','D':'o','MMMM':'MM','MMM':'M','MM':'mm','M':'mm','yyyy':'yy','y':'yy','Y':'yy','yy':'yy'},time:{'a':'TT'}},_create:function(){if(this.options.dateFormat){this.options.dateFormat=this._convertFormat(this.options.dateFormat,'date');}\nif(this.options.timeFormat){this.options.timeFormat=this._convertFormat(this.options.timeFormat,'time');}\ncalendarBasePrototype._create.apply(this,arguments);},_convertFormat:function(format,type){var symbols=format.match(/([a-z]+)/ig),separators=format.match(/([^a-z]+)/ig),self=this,convertedFormat='';if(symbols){$.each(symbols,function(key,val){convertedFormat+=(self.dateTimeFormat[type][val]||val)+\n(separators[key]||'');});}\nreturn convertedFormat;}}));$.widget('mage.dateRange',$.mage.calendar,{_initPicker:function(){var from,to;if(this.options.from&&this.options.to){from=this.element.find('#'+this.options.from.id);to=this.element.find('#'+this.options.to.id);this.options.onSelect=$.proxy(function(selectedDate){to[this._picker()]('option','minDate',selectedDate);},this);$.mage.calendar.prototype._initPicker.call(this,from);from.on('change',$.proxy(function(){to[this._picker()]('option','minDate',from[this._picker()]('getDate'));},this));this.options.onSelect=$.proxy(function(selectedDate){from[this._picker()]('option','maxDate',selectedDate);},this);$.mage.calendar.prototype._initPicker.call(this,to);to.on('change',$.proxy(function(){from[this._picker()]('option','maxDate',to[this._picker()]('getDate'));},this));}},_destroy:function(){if(this.options.from){this.element.find('#'+this.options.from.id)[this._picker()]('destroy');}\nif(this.options.to){this.element.find('#'+this.options.to.id)[this._picker()]('destroy');}\nthis._super();}});$.datepicker._gotoTodayOriginal=$.datepicker._gotoToday;$.datepicker._showDatepickerOriginal=$.datepicker._showDatepicker;$.datepicker._showDatepicker=function(input){if(!input.disabled){$.datepicker._showDatepickerOriginal.call(this,input);}};$.datepicker._gotoToday=function(el){$(el).datepicker('setTimezoneDate').blur().trigger('change');};return{dateRange:$.mage.dateRange,calendar:$.mage.calendar};});","mage/view/composite.min.js":"define(['jquery'],function($){return function(){var renderedChildren={},children={};return{addChild:function(child,key){children[key]=child;},render:function(root){$.each(children,function(key,child){var childRoot=$('<div>');renderedChildren[key]=child.render(childRoot);root.append(childRoot);});}};};});","mage/utils/main.min.js":"define(function(require){'use strict';var utils={},_=require('underscore');return _.extend(utils,require('./arrays'),require('./compare'),require('./misc'),require('./objects'),require('./strings'),require('./template'));});","mage/utils/compare.min.js":"define(['underscore','mage/utils/objects'],function(_,utils){'use strict';var result=[];function equalArrays(keepOrder,target){var args=_.toArray(arguments),arrays;if(!Array.isArray(keepOrder)){arrays=args.slice(2);}else{target=keepOrder;keepOrder=false;arrays=args.slice(1);}\nif(!arrays.length){return true;}\nreturn arrays.every(function(array){if(array===target){return true;}else if(array.length!==target.length){return false;}else if(!keepOrder){return!_.difference(target,array).length;}\nreturn array.every(function(value,index){return target[index]===value;});});}\nfunction isDifferent(a,b){var oldIsPrimitive=utils.isPrimitive(a);if(Array.isArray(a)&&Array.isArray(b)){return!equalArrays(true,a,b);}\nreturn oldIsPrimitive?a!==b:true;}\nfunction getPath(prefix,part){return prefix?prefix+'.'+part:part;}\nfunction hasOwn(obj,key){return Object.prototype.hasOwnProperty.call(obj,key);}\nfunction getContainers(changes){var containers={},indexed=_.indexBy(changes,'path');_.each(indexed,function(change,name){var path;name.split('.').forEach(function(part){path=getPath(path,part);if(path in indexed){return;}\n(containers[path]=containers[path]||[]).push(change);});});return containers;}\nfunction addChange(path,name,type,newValue,oldValue){var data;data={path:path,name:name,type:type};if(type!=='remove'){data.value=newValue;data.oldValue=oldValue;}else{data.oldValue=newValue;}\nresult.push(data);}\nfunction setAll(ns,name,type,iterator,placeholder){var key;if(arguments.length>4){type==='add'?addChange(ns,name,'update',iterator,placeholder):addChange(ns,name,'update',placeholder,iterator);}else{addChange(ns,name,type,iterator);}\nif(!utils.isObject(iterator)){return;}\nfor(key in iterator){if(hasOwn(iterator,key)){setAll(getPath(ns,key),key,type,iterator[key]);}}}\nfunction compare(old,current,ns,name){var key,oldIsObj=utils.isObject(old),newIsObj=utils.isObject(current);if(oldIsObj&&newIsObj){for(key in old){if(hasOwn(old,key)&&!hasOwn(current,key)){setAll(getPath(ns,key),key,'remove',old[key]);}}\nfor(key in current){if(hasOwn(current,key)){hasOwn(old,key)?compare(old[key],current[key],getPath(ns,key),key):setAll(getPath(ns,key),key,'add',current[key]);}}}else if(oldIsObj){setAll(ns,name,'remove',old,current);}else if(newIsObj){setAll(ns,name,'add',current,old);}else if(isDifferent(old,current)){addChange(ns,name,'update',current,old);}}\nreturn{compare:function(){var changes;compare.apply(null,arguments);changes=result.splice(0);return{containers:getContainers(changes),changes:changes,equal:!changes.length};},equalArrays:equalArrays};});","mage/utils/strings.min.js":"define(['underscore'],function(_){'use strict';var jsonRe=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;return{castString:function(str){try{str=str==='true'?true:str==='false'?false:str==='null'?null:+str+''===str?+str:jsonRe.test(str)?JSON.parse(str):str;}catch(e){}\nreturn str;},stringToArray:function(str,separator){separator=separator||' ';return typeof str==='string'?str.split(separator):str;},serializeName:function(name,separator){var result;separator=separator||'.';name=name.split(separator);result=name.shift();name.forEach(function(part){result+='['+part+']';});return result;},isEmpty:function(value){return value===''||_.isUndefined(value)||_.isNull(value);},fullPath:function(prefix,part){return prefix?prefix+'.'+part:part;},getPart:function(parts,offset,delimiter){delimiter=delimiter||'.';parts=parts.split(delimiter);offset=this.formatOffset(parts,offset);parts.splice(offset,1);return parts.join(delimiter)||'';},camelCaseToMinus:function camelCaseToMinus(string){return(''+string).split('').map(function(symbol,index){return index?symbol.toUpperCase()===symbol?'-'+symbol.toLowerCase():symbol:symbol.toLowerCase();}).join('');},minusToCamelCase:function minusToCamelCase(string){return(''+string).split('-').map(function(part,index){return index?part.charAt(0).toUpperCase()+part.slice(1):part;}).join('');}};});","mage/utils/arrays.min.js":"define(['underscore','./strings'],function(_,utils){'use strict';function getIndex(item,container){var index=container.indexOf(item);if(~index){return index;}\nreturn _.findIndex(container,function(value){return value&&value.name===item;});}\nreturn{toggle:function(arr,value,add){return add?this.add(arr,value):this.remove(arr,value);},remove:function(arr,value){var index=arr.indexOf(value);if(~index){arr.splice(index,1);}\nreturn this;},add:function(arr){var values=_.toArray(arguments).slice(1);values.forEach(function(value){if(!~arr.indexOf(value)){arr.push(value);}});return this;},insert:function(item,container,position){var currentIndex=getIndex(item,container),newIndex,target;if(typeof position==='undefined'){position=-1;}else if(typeof position==='string'){position=isNaN(+position)?position:+position;}\nnewIndex=position;if(~currentIndex){target=container.splice(currentIndex,1)[0];if(typeof item==='string'){item=target;}}\nif(typeof position!=='number'){target=position.after||position.before||position;newIndex=getIndex(target,container);if(~newIndex&&(position.after||newIndex>=currentIndex)){newIndex++;}}\nif(newIndex<0){newIndex+=container.length+1;}\ncontainer[newIndex]?container.splice(newIndex,0,item):container[newIndex]=item;return!~currentIndex?item:currentIndex!==newIndex;},formatOffset:function(elems,offset){if(utils.isEmpty(offset)){offset=-1;}\noffset=+offset;if(offset<0){offset+=elems.length+1;}\nreturn offset;}};});","mage/utils/wrapper.min.js":"define(['underscore'],function(_){'use strict';var superReg=/\\b_super\\b/;return{wrap:function(target,wrapper){if(!_.isFunction(target)||!_.isFunction(wrapper)){return wrapper;}\nreturn function(){var args=_.toArray(arguments),ctx=this,_super;_super=function(){var superArgs=arguments.length?arguments:args.slice(1);return target.apply(ctx,superArgs);};args.unshift(_super);return wrapper.apply(ctx,args);};},wrapSuper:function(target,wrapper){if(!this.hasSuper(wrapper)||!_.isFunction(target)){return wrapper;}\nreturn function(){var _super=this._super,args=arguments,result;this._super=function(){var superArgs=arguments.length?arguments:args;return target.apply(this,superArgs);};result=wrapper.apply(this,args);this._super=_super;return result;};},hasSuper:function(fn){return _.isFunction(fn)&&superReg.test(fn);},extend:function(target){var extenders=_.toArray(arguments).slice(1),iterator=this._extend.bind(this,target);extenders.forEach(iterator);return target;},_extend:function(target,extender){_.each(extender,function(value,key){target[key]=this.wrap(target[key],extender[key]);},this);}};});","mage/utils/misc.min.js":"define(['underscore','jquery','mage/utils/objects'],function(_,$,utils){'use strict';var defaultAttributes,ajaxSettings,map;defaultAttributes={method:'post',enctype:'multipart/form-data'};ajaxSettings={default:{method:'POST',cache:false,processData:false,contentType:false},simple:{method:'POST',dataType:'json'}};map={'D':'DDD','dd':'DD','d':'D','EEEE':'dddd','EEE':'ddd','e':'d','yyyy':'YYYY','yy':'YY','y':'YYYY','a':'A'};return{uniqueid:function(size){var code=Math.random()*25+65|0,idstr=String.fromCharCode(code);size=size||7;while(idstr.length<size){code=Math.floor(Math.random()*42+48);if(code<58||code>64){idstr+=String.fromCharCode(code);}}\nreturn idstr;},limit:function(owner,target,limit){var fn=owner[target];owner[target]=_.debounce(fn.bind(owner),limit);},normalizeDate:function(mageFormat){var result=mageFormat;_.each(map,function(moment,mage){result=result.replace(mage,moment);});return result;},inRange:function(value,min,max){return Math.min(Math.max(min,value),max);},submit:function(options,attrs){var form=document.createElement('form'),data=utils.serialize(options.data),attributes=_.extend({},defaultAttributes,attrs||{});if(!attributes.action){attributes.action=options.url;}\ndata['form_key']=window.FORM_KEY;_.each(attributes,function(value,name){form.setAttribute(name,value);});data=_.map(data,function(value,name){return'<input type=\"hidden\" '+'name=\"'+_.escape(name)+'\" '+'value=\"'+_.escape(value)+'\"'+' />';}).join('');form.insertAdjacentHTML('afterbegin',data);document.body.appendChild(form);form.submit();},ajaxSubmit:function(options,config){var t=new Date().getTime(),settings;options.data['form_key']=window.FORM_KEY;options.data=this.prepareFormData(options.data,config.ajaxSaveType);settings=_.extend({},ajaxSettings[config.ajaxSaveType],options||{});if(!config.ignoreProcessEvents){$('body').trigger('processStart');}\nreturn $.ajax(settings).done(function(data){if(config.response){data.t=t;config.response.data(data);config.response.status(undefined);config.response.status(!data.error);}}).fail(function(){if(config.response){config.response.status(undefined);config.response.status(false);config.response.data({error:true,messages:'Something went wrong.',t:t});}}).always(function(){if(!config.ignoreProcessEvents){$('body').trigger('processStop');}});},prepareFormData:function(data,type){var formData;if(type==='default'){formData=new FormData();_.each(utils.serialize(data),function(val,name){formData.append(name,val);});}else if(type==='simple'){formData=utils.serialize(data);}\nreturn formData;},filterFormData:function(data,suffix,separator){data=data||{};suffix=suffix||'prepared-for-send';separator=separator||'-';_.each(data,function(value,key){if(_.isObject(value)&&!Array.isArray(value)){this.filterFormData(value,suffix,separator);}else if(_.isString(key)&&~key.indexOf(suffix)){data[key.split(separator)[0]]=value;delete data[key];}},this);return data;},escape:function(string){return string?$('<p/>').text(string).html().replace(/\"/g,'&quot;'):string;},unescape:function(data){var unescaped=_.unescape(data),mapCharacters={'&#039;':'\\''};_.each(mapCharacters,function(value,key){unescaped=unescaped.replace(key,value);});return unescaped;},convertToMomentFormat:function(format){var newFormat;newFormat=format.replace(/yyyy|yy|y/,'YYYY');newFormat=newFormat.replace(/dd|d/g,'DD');return newFormat;},getUrlParameters:function(url){var params={},queries=url.split('?'),temp,i,l;if(!queries[1]){return params;}\nqueries=queries[1].split('&');for(i=0,l=queries.length;i<l;i++){temp=queries[i].split('=');if(temp[1]){params[temp[0]]=decodeURIComponent(temp[1].replace(/\\+/g,'%20'));}else{params[temp[0]]='';}}\nreturn params;}};});","mage/utils/template.min.js":"define(['jquery','underscore','mage/utils/objects','mage/utils/strings'],function($,_,utils,stringUtils){'use strict';var tmplSettings=_.templateSettings,interpolate=/\\$\\{([\\s\\S]+?)\\}/g,opener='${',template,hasStringTmpls;hasStringTmpls=(function(){var testString='var foo = \"bar\"; return `${ foo }` === foo';try{return Function(testString)();}catch(e){return false;}})();function isTmplIgnored(tmpl,target){var parsedTmpl;try{parsedTmpl=JSON.parse(tmpl);if(typeof parsedTmpl==='object'){return tmpl.includes('__disableTmpl');}}catch(e){}\nif(typeof target!=='undefined'){if(typeof target==='object'&&target.hasOwnProperty('__disableTmpl')){return target.__disableTmpl;}}\nreturn false;}\nif(hasStringTmpls){template=function(tmpl,$){return eval('`'+tmpl+'`');};}else{template=function(tmpl,data){var cached=tmplSettings.interpolate;tmplSettings.interpolate=interpolate;tmpl=_.template(tmpl,{variable:'$'})(data);tmplSettings.interpolate=cached;return tmpl;};}\nfunction isTemplate(value){return typeof value==='string'&&value.indexOf(opener)!==-1&&value.indexOf('${{')===-1;}\nfunction render(tmpl,data,castString,maxCycles){var last=tmpl,cycles=0;while(~tmpl.indexOf(opener)&&(typeof maxCycles==='undefined'||cycles<maxCycles)){if(!isTmplIgnored(tmpl)){tmpl=template(tmpl,data);}\nif(tmpl===last){break;}\nlast=tmpl;cycles++;}\nreturn castString?stringUtils.castString(tmpl):tmpl;}\nreturn{template:function(tmpl,data,castString,dontClone){if(typeof tmpl==='string'){return render(tmpl,data,castString);}\nif(!dontClone){tmpl=utils.copy(tmpl);}\ntmpl.$data=data||{};_.each(tmpl,function iterate(value,key,list){var disabled,maxCycles;if(key==='$data'){return;}\nif(isTemplate(key)){delete list[key];key=render(key,tmpl);list[key]=value;}\nif(isTemplate(value)){disabled=isTmplIgnored(value,list);if(typeof disabled==='object'&&disabled.hasOwnProperty(key)&&disabled[key]!==false){maxCycles=disabled[key];}\nif(disabled===true||maxCycles===true){maxCycles=0;}\nlist[key]=render(value,tmpl,castString,maxCycles);}else if($.isPlainObject(value)||Array.isArray(value)){_.each(value,iterate);}});delete tmpl.$data;return tmpl;}};});","mage/utils/objects.min.js":"define(['ko','jquery','underscore','mage/utils/strings'],function(ko,$,_,stringUtils){'use strict';var primitives=['undefined','boolean','number','string'];function setNested(parent,path,value){var last=path.pop(),len=path.length,pi=0,part=path[pi];for(;pi<len;part=path[++pi]){if(!_.isObject(parent[part])){parent[part]={};}\nparent=parent[part];}\nif(typeof parent[last]==='function'){parent[last](value);}else{parent[last]=value;}\nreturn value;}\nfunction getNested(parent,path){var exists=true,len=path.length,pi=0;for(;pi<len&&exists;pi++){parent=parent[path[pi]];if(typeof parent==='undefined'){exists=false;}}\nif(exists){if(ko.isObservable(parent)){parent=parent();}\nreturn parent;}}\nfunction removeNested(parent,path){var field=path.pop();parent=getNested(parent,path);if(_.isObject(parent)){delete parent[field];}}\nreturn{nested:function(data,path,value){var action=arguments.length>2?setNested:getNested;path=path?path.split('.'):[];return action(data,path,value);},nestedRemove:function(data,path){path=path.split('.');removeNested(data,path);},flatten:function(data,separator,parent,result){separator=separator||'.';result=result||{};if(!data){return result;}\n_.each(Object.keys(data),function(name){var node=data[name];if({}.toString.call(node)==='[object Function]'){return;}\nif(parent){name=parent+separator+name;}\ntypeof node==='object'?this.flatten(node,separator,name,result):result[name]=node;},this);return result;},unflatten:function(data,separator){var result={};separator=separator||'.';_.each(data,function(value,nodes){nodes=nodes.split(separator);setNested(result,nodes,value);});return result;},serialize:function(data){var result={};data=this.flatten(data);_.each(data,function(value,keys){keys=stringUtils.serializeName(keys);value=_.isUndefined(value)?'':value;result[keys]=value;},this);return result;},extend:function(){var args=_.toArray(arguments);args.unshift(true);return $.extend.apply($,args);},copy:function(data){var result=data,isArray=Array.isArray(data),placeholder;if(this.isObject(data)||isArray){placeholder=isArray?[]:{};result=this.extend(placeholder,data);}\nreturn result;},hardCopy:function(original){if(original===null||typeof original!=='object'){return original;}\nreturn JSON.parse(JSON.stringify(original));},omit:function(target,list){var removed={},ignored=list;if(this.isObject(list)){ignored=[];_.each(list,function(value,key){if(value){ignored.push(key);}});}else if(_.isString(list)){ignored=_.toArray(arguments).slice(1);}\n_.each(ignored,function(path){var value=this.nested(target,path);if(!_.isUndefined(value)){removed[path]=value;this.nestedRemove(target,path);}},this);return removed;},isObject:function(value){var objProto=Object.prototype;return typeof value=='object'?objProto.toString.call(value)==='[object Object]':false;},isPrimitive:function(value){return value===null||~primitives.indexOf(typeof value);},forEachRecursive:function(data,action,maxDepth){maxDepth=typeof maxDepth==='number'&&!isNaN(maxDepth)?maxDepth-1:7;if(!_.isFunction(action)||_.isFunction(data)||maxDepth<0){return;}\nif(!_.isObject(data)){action(data);return;}\n_.each(data,function(value){this.forEachRecursive(value,action,maxDepth);},this);action(data);},mapRecursive:function(data,action,maxDepth){var newData;maxDepth=typeof maxDepth==='number'&&!isNaN(maxDepth)?maxDepth-1:7;if(!_.isFunction(action)||_.isFunction(data)||maxDepth<0){return data;}\nif(!_.isObject(data)){return action(data);}\nif(_.isArray(data)){newData=_.map(data,function(item){return this.mapRecursive(item,action,maxDepth);},this);return action(newData);}\nnewData=_.mapObject(data,function(val,key){if(data.hasOwnProperty(key)){return this.mapRecursive(val,action,maxDepth);}\nreturn val;},this);return action(newData);},removeEmptyValues:function(data){if(!_.isObject(data)){return data;}\nif(_.isArray(data)){return data.filter(function(item){return!this.isEmptyObj(item);},this);}\nreturn _.omit(data,this.isEmptyObj.bind(this));},isEmptyObj:function(val){return _.isObject(val)&&_.isEmpty(val)||this.isEmpty(val)||val&&val.trim&&this.isEmpty(val.trim());}};});","mage/app/config.min.js":"define([],function(){return{getBaseUrl:function(){return this.values.baseUrl;},getFormKey:function(){return this.values.formKey;}};});","mage/apply/main.min.js":"define(['underscore','jquery','./scripts'],function(_,$,processScripts){'use strict';var dataAttr='data-mage-init',nodeSelector='['+dataAttr+']';function init(el,config,component){require([component],function(fn){var $el;if(typeof fn==='object'){fn=fn[component].bind(fn);}\nif(_.isFunction(fn)){fn=fn.bind(null,config,el);}else{$el=$(el);if($el[component]){fn=$el[component].bind($el,config);}}\nsetTimeout(fn);},function(error){if('console'in window&&typeof window.console.error==='function'){console.error(error);}\nreturn true;});}\nfunction getData(el){var data=el.getAttribute(dataAttr);el.removeAttribute(dataAttr);return{el:el,data:JSON.parse(data)};}\nreturn{apply:function(context){var virtuals=processScripts(!context?document:context),nodes=document.querySelectorAll(nodeSelector);_.toArray(nodes).map(getData).concat(virtuals).forEach(function(itemContainer){var element=itemContainer.el;_.each(itemContainer.data,function(obj,key){if(obj.mixins){require(obj.mixins,function(){var i,len;for(i=0,len=arguments.length;i<len;i++){$.extend(true,itemContainer.data[key],arguments[i](itemContainer.data[key],element));}\ndelete obj.mixins;init.call(null,element,obj,key);});}else{init.call(null,element,obj,key);}});});},applyFor:init};});","mage/apply/scripts.min.js":"define(['underscore','jquery'],function(_,$){'use strict';var scriptSelector='script[type=\"text/x-magento-init\"]',dataAttr='data-mage-init',virtuals=[];function addVirtual(components){virtuals.push({el:false,data:components});}\nfunction setData(components,elem){var data=elem.getAttribute(dataAttr);data=data?JSON.parse(data):{};_.each(components,function(obj,key){if(_.has(obj,'mixins')){data[key]=data[key]||{};data[key].mixins=data[key].mixins||[];data[key].mixins=data[key].mixins.concat(obj.mixins);delete obj.mixins;}});data=$.extend(true,data,components);data=JSON.stringify(data);elem.setAttribute(dataAttr,data);}\nfunction processElems(components,selector){var elems,iterator;if(selector==='*'){addVirtual(components);return;}\nelems=document.querySelectorAll(selector);iterator=setData.bind(null,components);_.toArray(elems).forEach(iterator);}\nfunction getNodeData(node){var data=node.textContent;node.parentNode.removeChild(node);return JSON.parse(data);}\nreturn function(){var nodes=document.querySelectorAll(scriptSelector);_.toArray(nodes).map(getNodeData).forEach(function(item){_.each(item,processElems);});return virtuals.splice(0,virtuals.length);};});","mage/backend/validation.min.js":"define(['jquery','underscore','Magento_Ui/js/modal/alert','jquery/ui','jquery/validate','mage/translate','mage/validation'],function($,_,alert){'use strict';$.extend(true,$.validator.prototype,{focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.errorList.length&&this.errorList[0].element||[]).focus().trigger('focusin');}catch(e){}}},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find('input, select, textarea').not(this.settings.forceIgnore).not(':submit, :reset, :image, [disabled]').not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error('%o has no name assigned',this);}\nif(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}\nrulesCache[this.name]=true;return true;});}});$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.on(type,$.proxy(function(event){var target=$(event.target),form=target[0].form;if(form&&$(form).is(this)&&$.data(form,'validator')&&target.is(delegate)){return handler.apply(target,arguments);}},this));}});$.widget('mage.validation',$.mage.validation,{options:{messagesId:'messages',forceIgnore:'',ignore:':disabled, .ignore-validate, .no-display.template, '+':disabled input, .ignore-validate input, .no-display.template input, '+':disabled select, .ignore-validate select, .no-display.template select, '+':disabled textarea, .ignore-validate textarea, .no-display.template textarea',errorElement:'label',errorUrl:typeof BASE_URL!=='undefined'?BASE_URL:null,highlight:function(element){if($.validator.defaults.highlight&&$.isFunction($.validator.defaults.highlight)){$.validator.defaults.highlight.apply(this,arguments);}\n$(element).trigger('highlight.validate');},unhighlight:function(element){if($.validator.defaults.unhighlight&&$.isFunction($.validator.defaults.unhighlight)){$.validator.defaults.unhighlight.apply(this,arguments);}\n$(element).trigger('unhighlight.validate');}},_create:function(){if(!this.options.submitHandler&&$.type(this.options.submitHandler)!=='function'){if(!this.options.frontendOnly&&this.options.validationUrl){this.options.submitHandler=$.proxy(this._ajaxValidate,this);}else{this.options.submitHandler=$.proxy(this._submit,this);}}\nthis.element.on('resetElement',function(e){$(e.target).rules('remove');});this._super('_create');},_ajaxValidate:function(){$.ajax({url:this.options.validationUrl,type:'POST',dataType:'json',data:this.element.serialize(),context:$('body'),success:$.proxy(this._onSuccess,this),error:$.proxy(this._onError,this),showLoader:true,dontHide:false});},_onSuccess:function(response){if(!response.error){this._submit();}else{this._showErrors(response);$(this.element[0]).trigger('afterValidate.error');$('body').trigger('processStop');}},_submit:function(){$(this.element[0]).trigger('afterValidate.beforeSubmit');this.element[0].submit();},_showErrors:function(data){$('body').notification('clear').notification('add',{error:data.error,message:data.message,insertMethod:function(message){$('.messages:first').html(message);}});},_getByCode:function(code){var parent=this.element[0],element;element=parent.querySelector('#'+code)||parent.querySelector('input[name='+code+']');return $(element);},_onError:function(){$(this.element[0]).trigger('afterValidate.error');$('body').trigger('processStop');if(this.options.errorUrl){location.href=this.options.errorUrl;}}});_.each({'validate-greater-zero-based-on-option':[function(v,el){var optionType=$(el).closest('.form-list').prev('.fieldset-alt').find('select.select-product-option-type'),optionTypeVal=optionType.val();v=Number(v)||0;if(optionType&&(optionTypeVal=='checkbox'||optionTypeVal=='multi')&&v<=0){return false;}\nreturn true;},$.mage.__('Please enter a number greater 0 in this field.')],'validate-rating':[function(){var ratings=$('#detailed_rating').find('.field-rating'),noError=true;ratings.each(function(index,rating){noError=noError&&$(rating).find('input:checked').length>0;});return noError;},$.mage.__('Please select one of each ratings above.')],'validate-downloadable-file':[function(v,element){var elmParent=$(element).parent(),linkType=elmParent.find('input[value=\"file\"]'),newFileContainer;if(linkType.is(':checked')&&(v===''||v==='[]')){newFileContainer=elmParent.find('.new-file');if(!alertAlreadyDisplayed&&(newFileContainer.empty()||newFileContainer.is(':visible'))){window.alertAlreadyDisplayed=true;alert({content:$.mage.__('There are files that were selected but not uploaded yet. '+'Please upload or remove them first')});}\nreturn false;}\nreturn true;},'Please upload a file.'],'validate-downloadable-url':[function(v,element){var linkType=$(element).parent().find('input[value=\"url\"]');if(linkType.is(':checked')&&v===''){return false;}\nreturn true;},$.mage.__('Please specify Url.')]},function(rule,i){rule.unshift(i);$.validator.addMethod.apply($.validator,rule);});return $.mage.validation;});","mage/backend/form.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.form',{options:{handlersData:{save:{},saveAndContinueEdit:{action:{args:{back:'edit'}}},preview:{target:'_blank'}}},_create:function(){this._bind();},_rollback:function(){if(this.oldAttributes){this.element.prop(this.oldAttributes);}},_changesObserver:function(e){var target=$(e.target),changed;if(e.type==='focus'||e.type==='focusin'){this.currentField={statuses:{checked:target.is(':checked'),selected:target.is(':selected')},val:target.val()};}else{if(this.currentField){changed=target.val()!==this.currentField.val||target.is(':checked')!==this.currentField.statuses.checked||target.is(':selected')!==this.currentField.statuses.selected;if(changed){target.trigger('changed');}}}},_getHandlers:function(){var handlers=[];$.each(this.options.handlersData,function(key){handlers.push(key);});return handlers;},_storeAttribute:function(attrName){var prop;this.oldAttributes=this.oldAttributes||{};if(!this.oldAttributes[attrName]){prop=this.element.attr(attrName);this.oldAttributes[attrName]=prop?prop:'';}},_bind:function(){this.element.on(this._getHandlers().join(' '),$.proxy(this._submit,this)).on('focus blur focusin focusout',$.proxy(this._changesObserver,this));},_getActionUrl:function(data){if($.type(data)==='object'){return this._buildURL(this.oldAttributes.action,data.args);}\nreturn $.type(data)==='string'?data:this.oldAttributes.action;},_buildURL:function(url,params){var concat=/\\?/.test(url)?['&','=']:['/','/'];url=url.replace(/[\\/&]+$/,'');$.each(params,function(key,value){url+=concat[0]+key+concat[1]+window.encodeURIComponent(value);});return url+(concat[0]==='/'?'/':'');},_processData:function(data){$.each(data,$.proxy(function(attrName,attrValue){this._storeAttribute(attrName);if(attrName==='action'){data[attrName]=this._getActionUrl(attrValue);}},this));return data;},_beforeSubmit:function(handlerName,data){var submitData={},event=new $.Event('beforeSubmit');this.element.trigger(event,[submitData,handlerName]);data=$.extend(true,{},this.options.handlersData[handlerName]||{},submitData,data);this.element.prop(this._processData(data));return!event.isDefaultPrevented();},_submit:function(e,data){this._rollback();if(this._beforeSubmit(e.type,data)!==false){this.element.trigger('submit',e);}}});return $.mage.form;});","mage/backend/tree-suggest.min.js":"define(['jquery','jquery/ui','jquery/jstree/jquery.jstree','mage/backend/suggest'],function($){'use strict';var hover_node,dehover_node,select_node,init;$.extend(true,$,{mage:{treeToList:function(list,nodes,level,path){$.each(nodes,function(){if($.type(this)==='object'){list.push({label:this.label,id:this.id,level:level,item:this,path:path+this.label});if(this.children){$.mage.treeToList(list,this.children,level+1,path+this.label+' / ');}}});return list;}}});hover_node=$.jstree._instance.prototype.hover_node;dehover_node=$.jstree._instance.prototype.dehover_node;select_node=$.jstree._instance.prototype.select_node;init=$.jstree._instance.prototype.init;$.extend(true,$.jstree._instance.prototype,{init:function(){this.get_container().show().on('keydown',$.proxy(function(e){var o;if(e.keyCode===$.ui.keyCode.ENTER){o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.select_node(o,true);}},this));init.call(this);},hover_node:function(obj){hover_node.apply(this,arguments);obj=this._get_node(obj);if(!obj.length){return false;}\nthis.get_container().trigger('hover_node',[{item:obj.find('a:first')}]);},dehover_node:function(){dehover_node.call(this);this.get_container().trigger('dehover_node');},select_node:function(o){var node;select_node.apply(this,arguments);node=this._get_node(o);(node?$(node):this.data.ui.last_selected).trigger('select_tree_node');}});$.widget('mage.treeSuggest',$.mage.suggest,{widgetEventPrefix:'suggest',options:{template:'<% if (data.items.length) { %>'+'<% if (data.allShown()) { %>'+'<% if (typeof data.nested === \"undefined\") { %>'+'<div style=\"display:none;\" data-mage-init=\"{&quot;jstree&quot;:{&quot;plugins&quot;:[&quot;themes&quot;,&quot;html_data&quot;,&quot;ui&quot;,&quot;hotkeys&quot;],&quot;themes&quot;:{&quot;theme&quot;:&quot;default&quot;,&quot;dots&quot;:false,&quot;icons&quot;:false}}}\">'+'<% } %>'+'<ul>'+'<% _.each(data.items, function(value) { %>'+'<li class=\"<% if (data.itemSelected(value)) { %>mage-suggest-selected<% } %>'+'                   <% if (value.is_active == 0) { %> mage-suggest-not-active<% } %>\">'+'<a href=\"#\" <%= data.optionData(value) %>><%- value.label %></a>'+'<% if (value.children && value.children.length) { %>'+'<%= data.renderTreeLevel(value.children) %>'+'<% } %>'+'</li>'+'<% }); %>'+'</ul>'+'<% if (typeof data.nested === \"undefined\") { %>'+'</div>'+'<% } %>'+'<% } else { %>'+'<ul data-mage-init=\"{&quot;menu&quot;:[]}\">'+'<% _.each(data.items, function(value) { %>'+'<% if (!data.itemSelected(value)) {%>'+'<li <%= data.optionData(value) %>>'+'<a href=\"#\">'+'<span class=\"category-label\"><%- value.label %></span>'+'<span class=\"category-path\"><%- value.path %></span>'+'</a>'+'</li>'+'<% } %>'+'<% }); %>'+'</ul>'+'<% } %>'+'<% } else { %>'+'<span class=\"mage-suggest-no-records\"><%- data.noRecordsText %></span>'+'<% } %>',controls:{selector:':ui-menu, :mage-menu, .jstree',eventsMap:{focus:['menufocus','hover_node'],blur:['menublur','dehover_node'],select:['menuselect','select_tree_node']}}},_bind:function(){this._super();this._on({keydown:function(event){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.LEFT:case keyCode.RIGHT:if(this.isDropdownShown()){event.preventDefault();this._proxyEvents(event);}\nbreak;}}});},close:function(e){var eType=e?e.type:null;if(eType==='select_tree_node'){this.element.focus();}else{this._superApply(arguments);}},_filterSelected:function(items,context){if(context._allShown){return items;}\nreturn this._superApply(arguments);},_prepareDropdownContext:function(){var context=this._superApply(arguments),optionData=context.optionData,templates=this.templates,tmplName=this.templateName;context.optionData=function(item){item=$.extend({},item);delete item.children;return optionData(item);};return $.extend(context,{renderTreeLevel:function(children){var _context=$.extend({},this,{items:children,nested:true}),tmpl=templates[tmplName];tmpl=tmpl({data:_context});return $('<div>').append($(tmpl)).html();}});},_processResponse:function(e,items,context){var control;if(context&&!context._allShown){items=this.filter($.mage.treeToList([],items,0,''),this._term);}\ncontrol=this.dropdown.find(this._control.selector);if(control.length&&control.hasClass('jstree')){control.jstree('destroy');}\nthis._superApply([e,items,context]);}});return $.mage.treeSuggest;});","mage/backend/editablemultiselect.min.js":"define(['jquery','Magento_Ui/js/modal/alert','Magento_Ui/js/modal/confirm','jquery/editableMultiselect/js/jquery.editable','jquery/editableMultiselect/js/jquery.multiselect'],function($,alert,confirm){window.EditableMultiselect=function(settings){this.settings=settings||{};this.addButtonCaption=this.settings['add_button_caption']||'Add new value';this.newUrl=this.settings['new_url'];this.saveUrl=this.settings['save_url'];this.deleteUrl=this.settings['delete_url'];this.deleteConfirmMessage=this.settings['delete_confirm_message'];this.targetSelectId=this.settings['target_select_id'];this.submitData=this.settings['submit_data']||{};this.entityIdName=this.settings['entity_id_name']||'entity_id';this.entityValueName=this.settings['entity_value_name']||'entity_value';this.isEntityEditable=this.settings['is_entity_editable']||false;EditableMultiselect.prototype.init=function(){var self=this,mselectOptions={addText:this.addButtonCaption,mselectInputSubmitCallback:function(value,options){self.createEntity(value,options);}},mselectList;if(!this.isEntityEditable){mselectOptions.layout='<section class=\"block %mselectListClass%\">'+'<div class=\"block-content\"><div class=\"%mselectItemsWrapperClass%\">'+'%items%'+'</div></div>'+'<div class=\"%mselectInputContainerClass%\">'+'<input type=\"text\" class=\"%mselectInputClass%\" title=\"%inputTitle%\"/>'+'<span class=\"%mselectButtonCancelClass%\" title=\"%cancelText%\"></span>'+'<span class=\"%mselectButtonSaveClass%\" title=\"Add\"></span>'+'</div>'+'</section>';}\n$('#'+this.targetSelectId).multiselect(mselectOptions);if(this.isEntityEditable){this.makeMultiselectEditable();mselectList=$('#'+this.targetSelectId).next();this.attachEventsToControls(mselectList);}};EditableMultiselect.prototype.attachEventsToControls=function(mselectList){mselectList.on('click.mselect-delete','.mselect-delete',{container:this},function(event){event.data.container.deleteEntity({'delete_button':this});});mselectList.on('click.mselect-checked','.mselect-list-item input',{container:this},function(event){var el=$(this),checkedClassName='mselect-checked';el[el.is(':checked')?'addClass':'removeClass'](checkedClassName);event.data.container.makeMultiselectEditable();});mselectList.on('click.mselect-edit','.mselect-edit',{container:this},function(event){event.data.container.makeMultiselectEditable();$(this).parent().find('label span').trigger('dblclick');});};EditableMultiselect.prototype.makeMultiselectEditable=function(){var entityIdName=this.entityIdName,entityValueName=this.entityValueName,selectList=$('#'+this.targetSelectId).next();selectList.find('.mselect-list-item:not(.mselect-list-item-not-editable) label span').editable(this.saveUrl,{type:'text',submit:'<button class=\"mselect-save\" title=\"Save\" type=\"submit\" />',cancel:'<span class=\"mselect-cancel\" title=\"Cancel\"></span>',event:'dblclick',placeholder:'',isChecked:function(){var that=$(this),checked;if(!that.closest('.mselect-list-item').hasClass('mselect-disabled')){checked=that.parent().find('[type=checkbox]').prop('disabled');that.parent().find('[type=checkbox]').prop({disabled:!checked});}},data:function(value,sett){var retval;sett.isChecked.apply(this,[sett]);if(typeof value==='string'){retval=value.unescapeHTML();return retval;}\nreturn value;},submitdata:this.submitData,onblur:'cancel',name:entityValueName,ajaxoptions:{dataType:'json'},onsubmit:function(sett,original){var select=$(original).closest('.mselect-list').prev(),current=$(original).closest('.mselect-list-item').index(),entityId=select.find('option').eq(current).val(),entityInfo={};entityInfo[entityIdName]=entityId;sett.submitdata=$.extend(sett.submitdata||{},entityInfo);},callback:function(result,sett){var select,current;sett.isChecked.apply(this,[sett]);select=$(this).closest('.mselect-list').prev();current=$(this).closest('.mselect-list-item').index();if(result.success){if(typeof result[entityValueName]==='string'){select.find('option').eq(current).val(result[entityIdName]).text(result[entityValueName]);$(this).html(result[entityValueName].escapeHTML());}}else{alert({content:result['error_message']});}}});};EditableMultiselect.prototype.createEntity=function(value,options){var select,entityIdName,entityValueName,entityInfo,postData,ajaxOptions;if(!value){return;}\nselect=$('#'+this.targetSelectId),entityIdName=this.entityIdName,entityValueName=this.entityValueName,entityInfo={};entityInfo[entityIdName]=null;entityInfo[entityValueName]=value;postData=$.extend(entityInfo,this.submitData);ajaxOptions={type:'POST',data:postData,dataType:'json',url:this.newUrl,success:function(result){var resultEntityValueName,mselectItemHtml,sectionBlock,itemsWrapper,inputSelector;if(result.success){resultEntityValueName='';if(typeof result[entityValueName]==='string'){resultEntityValueName=result[entityValueName].escapeHTML();}else{resultEntityValueName=result[entityValueName];}\nselect.append('<option value=\"'+result[entityIdName]+'\" selected=\"selected\">'+\nresultEntityValueName+'</option>');mselectItemHtml=$(options.item.replace(/%value%|%label%/gi,resultEntityValueName).replace(/%mselectDisabledClass%|%iseditable%|%isremovable%/gi,'').replace(/%mselectListItemClass%/gi,options.mselectListItemClass)).find('[type=checkbox]').attr('checked',true).addClass(options.mselectCheckedClass).end();sectionBlock=select.nextAll('section.block:first');itemsWrapper=sectionBlock.find('.'+options.mselectItemsWrapperClass+'');if(itemsWrapper.children('.'+options.mselectListItemClass+'').length){itemsWrapper.children('.'+options.mselectListItemClass+':last').after(mselectItemHtml);}else{itemsWrapper.prepend(mselectItemHtml);}\ninputSelector='.'+options.mselectInputContainerClass+' [type=text].'+\noptions.mselectInputClass+'';sectionBlock.find(inputSelector).trigger('blur');}else{alert({content:result['error_message']});}}};$.ajax(ajaxOptions);};EditableMultiselect.prototype.deleteEntity=function(options){var self=this;if(options['delete_button']){confirm({content:this.deleteConfirmMessage,actions:{confirm:function(){var deleteButton=$(options['delete_button']),index=deleteButton.parent().index(),select=deleteButton.closest('.mselect-list').prev(),entityId=select.find('option').eq(index).val(),entityInfo={},postData,ajaxOptions;entityInfo[self.entityIdName]=entityId;postData=$.extend(entityInfo,self.submitData);ajaxOptions={type:'POST',data:postData,dataType:'json',url:self.deleteUrl,success:function(result){if(result.success){deleteButton.parent().remove();select.find('option').eq(index).remove();}else{alert({content:result['error_message']});}}};$.ajax(ajaxOptions);}}});}};};});","mage/backend/jstree-mixin.min.js":"define(['jquery'],function($){'use strict';return function(){$.jstree._themes=require.s.contexts._.config.baseUrl+'jquery/jstree/themes/';};});","mage/backend/floating-header.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.floatingHeader',{options:{placeholderAttrs:{'class':'page-actions-placeholder'},fixedClass:'_fixed',hiddenClass:'_hidden',title:'.page-title-wrapper .page-title',pageMainActions:'.page-main-actions',contains:'[data-role=modal]'},_create:function(){var title=$(this.options.title).text(),wrapped=this.element.find('.page-actions-buttons').children();if(this.element.parents(this.options.contains).length){return this;}\nthis._setVars();this._bind();this.element.find('script').remove();if(wrapped.length){wrapped.unwrap().unwrap();}\nthis.element.wrapInner($('<div/>',{'class':'page-actions-buttons'}));this.element.wrapInner($('<div/>',{'class':'page-actions-inner','data-title':title}));this.element.removeClass('floating-header');},_setVars:function(){this._placeholder=this.element.before($('<div/>',this.options.placeholderAttrs)).prev();this._offsetTop=this._placeholder.offset().top;this._height=this.element.parents(this.options.pageMainActions).outerHeight();},_bind:function(){this._on(window,{scroll:this._handlePageScroll,resize:this._handlePageScroll});},_handlePageScroll:function(){var isActive=$(window).scrollTop()>this._offsetTop;if(isActive){this.element.addClass(this.options.fixedClass).parents(this.options.pageMainActions).addClass(this.options.hiddenClass);}else{this.element.removeClass(this.options.fixedClass).parents(this.options.pageMainActions).removeClass(this.options.hiddenClass);}\nthis._placeholder.height(isActive?this._height:'');},_destroy:function(){if(this._placeholder){this._placeholder.remove();}\nthis._off($(window));}});return $.mage.floatingHeader;});","mage/backend/bootstrap.min.js":"define(['jquery','mage/apply/main','mage/backend/notification','Magento_Ui/js/lib/knockout/bootstrap','mage/mage','mage/translate'],function($,mage,notification){'use strict';var bootstrap;$.ajaxSetup({type:'POST',beforeSend:function(jqXHR,settings){var formKey=typeof FORM_KEY!=='undefined'?FORM_KEY:null;if(!settings.url.match(new RegExp('[?&]isAjax=true',''))){settings.url=settings.url.match(new RegExp('\\\\?','g'))?settings.url+'&isAjax=true':settings.url+'?isAjax=true';}\nif(!settings.data){settings.data={'form_key':formKey};}else if($.type(settings.data)==='string'&&settings.data.indexOf('form_key=')===-1){settings.data+='&'+$.param({'form_key':formKey});}else if($.isPlainObject(settings.data)&&!settings.data['form_key']){settings.data['form_key']=formKey;}},complete:function(jqXHR){var jsonObject;if(jqXHR.readyState===4){try{jsonObject=$.parseJSON(jqXHR.responseText);if(jsonObject.ajaxExpired&&jsonObject.ajaxRedirect){window.location.replace(jsonObject.ajaxRedirect);}}catch(e){}}},error:function(){$('body').notification('clear').notification('add',{error:true,message:$.mage.__('A technical problem with the server created an error. '+'Try again to continue what you were doing. If the problem persists, try again later.'),insertMethod:function(message){var $wrapper=$('<div/>').html(message);$('.page-main-actions').after($wrapper);}});}});bootstrap=function(){mage.apply();notification({},$('body'));};$(bootstrap);});","mage/backend/tabs.min.js":"define(['jquery','jquery/ui'],function($){'use strict';var rhash,isLocal;$.widget('mage.tabs',$.ui.tabs,{options:{spinner:false,groups:null,tabPanelClass:'',excludedPanel:''},_create:function(){var activeIndex=this._getTabIndex(this.options.active);this.options.active=activeIndex>=0?activeIndex:0;this._super();},_getList:function(){if(this.options.groups){return this.element.find(this.options.groups);}\nreturn this._super();},activeAnchor:function(){return this.anchors.eq(this.option('active'));},_getTabIndex:function(id){var anchors=this.anchors?this.anchors:this._getList().find('> li > a[href]');return anchors.index($('#'+id));},_toggle:function(event,eventData){var anchor=$(eventData.newTab).find('a');if($(eventData.newTab).find('a').data().tabType==='link'){location.href=anchor.prop('href');}else{this._superApply(arguments);}}});rhash=/#.*$/;isLocal=function(anchor){return anchor.hash.length>1&&anchor.href.replace(rhash,'')===location.href.replace(rhash,'').replace(/\\s/g,'%20');};$.widget('mage.tabs',$.mage.tabs,{_create:function(){this._super();this._movePanelsInDestination(this.panels);},_getPanelForTab:function(tab){var panel=this._superApply(arguments),id;if(!panel.length){id=$(tab).attr('aria-controls');panel=$(this.options.destination).find(this._sanitizeSelector('#'+id));}\nreturn panel;},_processTabs:function(){var that=this;this.tablist=this._getList().addClass('ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all').attr('role','tablist');this.tabs=this.tablist.find('> li:has(a[href])').addClass('ui-state-default ui-corner-top').attr({role:'tab',tabIndex:-1});this.anchors=this.tabs.map(function(){return $('a',this)[0];}).addClass('ui-tabs-anchor').attr({role:'presentation',tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr('id'),tab=$(anchor).closest('li'),originalAriaControls=tab.attr('aria-controls');if(isLocal(anchor)){selector=anchor.hash;panel=that.document.find(that._sanitizeSelector(selector));}else{panelId=that._tabId(tab);selector='#'+panelId;panel=that.document.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}\npanel.attr('aria-live','polite');}\nif(panel.length){that.panels=that.panels.add(panel);}\nif(originalAriaControls){tab.data('ui-tabs-aria-controls',originalAriaControls);}\ntab.attr({'aria-controls':selector.substring(1),'aria-labelledby':anchorId});panel.attr('aria-labelledby',anchorId);if(that.options.excludedPanel.indexOf(anchorId+'_content')<0){panel.addClass(that.options.tabPanelClass);}});this.panels.addClass('ui-tabs-panel ui-widget-content ui-corner-bottom').attr('role','tabpanel');},_movePanelsInDestination:function(panels){if(this.options.destination&&!panels.parents(this.options.destination).length){this.element.trigger('beforePanelsMove',panels);panels.find('script:not([type]), script[type=\"text/javascript\"]').remove();panels.appendTo(this.options.destination).each($.proxy(function(i,panel){$(panel).trigger('move.tabs',this.anchors.eq(i));},this));}},_toggle:function(event,eventData){this._movePanelsInDestination(eventData.newPanel);this._superApply(arguments);}});$.widget('mage.tabs',$.mage.tabs,{options:{ajaxOptions:{data:{isAjax:true,'form_key':typeof FORM_KEY!=='undefined'?FORM_KEY:null}},load:function(event,ui){var panel=$(ui.panel);$(ui.tab).prop('href','#'+panel.prop('id'));panel.trigger('contentUpdated');}}});$.widget('mage.tabs',$.mage.tabs,{options:{tabIdArgument:'tab',tabsBlockPrefix:null},_refresh:function(){this._super();$.each(this.tabs,$.proxy(function(i,tab){$(this._getPanelForTab(tab)).off('changed'+this.eventNamespace).off('highlight.validate'+this.eventNamespace).off('focusin'+this.eventNamespace).on('changed'+this.eventNamespace,{index:i},$.proxy(this._onContentChange,this)).on('highlight.validate'+this.eventNamespace,{index:i},$.proxy(this._onInvalid,this)).on('focusin'+this.eventNamespace,{index:i},$.proxy(this._onFocus,this));},this));($(this.options.destination).is('form')?$(this.options.destination):$(this.options.destination).closest('form')).off('beforeSubmit'+this.eventNamespace).on('beforeSubmit'+this.eventNamespace,$.proxy(this._onBeforeSubmit,this));},_onContentChange:function(e){var cssChanged='_changed';this.anchors.eq(e.data.index).addClass(cssChanged);this._updateNavTitleMessages(e,cssChanged);},_updateNavTitleMessages:function(e,messageType){var curAnchor=this.anchors.eq(e.data.index),curItem=curAnchor.parents('[data-role=\"container\"]').find('[data-role=\"title\"]'),curItemMessages=curItem.find('[data-role=\"title-messages\"]'),activeClass='_active';if(curItemMessages.is(':empty')){curAnchor.find('[data-role=\"item-messages\"]').clone().appendTo(curItemMessages);}\ncurItemMessages.find('.'+messageType).addClass(activeClass);},_onInvalid:function(e){var cssError='_error',fakeEvent=e;fakeEvent.currentTarget=$(this.anchors).eq(e.data.index);this._eventHandler(fakeEvent);this.anchors.eq(e.data.index).addClass(cssError).find('.'+cssError).show();this._updateNavTitleMessages(e,cssError);},_onFocus:function(e){this.option('_active',e.data.index);},_onBeforeSubmit:function(e,data){var activeAnchor=this.activeAnchor(),activeTabId=activeAnchor.prop('id'),options;if(this.options.tabsBlockPrefix){if(activeAnchor.is('[id*=\"'+this.options.tabsBlockPrefix+'\"]')){activeTabId=activeAnchor.prop('id').substr(this.options.tabsBlockPrefix.length);}}\n$(this.anchors).removeClass('error');options={action:{args:{}}};options.action.args[this.options.tabIdArgument]=activeTabId;data=data?$.extend(data,options):options;}});$.widget('mage.tabs',$.mage.tabs,{_refresh:function(){var anchors,shadowTabs,tabs;this._super();anchors=this.anchors;shadowTabs=this.options.shadowTabs;tabs=this.tabs;if(shadowTabs){anchors.each($.proxy(function(i,anchor){var anchorId=$(anchor).prop('id');if(shadowTabs[anchorId]){$(anchor).parents('li').on('click',$.proxy(function(){$.each(shadowTabs[anchorId],$.proxy(function(key,id){this.load($(tabs).index($('#'+id).parents('li')),{});},this));},this));}},this));}}});return $.mage.tabs;});","mage/backend/suggest.min.js":"define(['jquery','mage/template','mage/mage','jquery/ui','mage/backend/menu','mage/translate'],function($,mageTemplate){'use strict';$.widget('mage.suggest',{widgetEventPrefix:'suggest',options:{template:'<% if (data.items.length) { %>'+'<% if (!data.term && !data.allShown() && data.recentShown()) { %>'+'<h5 class=\"title\"><%- data.recentTitle %></h5>'+'<% } %>'+'<ul data-mage-init=\\'{\"menu\":[]}\\'>'+'<% _.each(data.items, function(value){ %>'+'<% if (!data.itemSelected(value)) { %><li <%= data.optionData(value) %>>'+'<a href=\"#\"><%- value.label %></a></li><% } %>'+'<% }); %>'+'<% if (!data.term && !data.allShown() && data.recentShown()) { %>'+'<li data-mage-init=\\'{\"actionLink\":{\"event\":\"showAll\"}}\\' class=\"show-all\">'+'<a href=\"#\"><%- data.showAllTitle %></a></li>'+'<% } %>'+'</ul><% } else { %><span class=\"mage-suggest-no-records\"><%- data.noRecordsText %></span><% } %>',minLength:1,source:null,delay:500,loadingClass:'mage-suggest-state-loading',events:{},appendMethod:'after',controls:{selector:':ui-menu, :mage-menu',eventsMap:{focus:['menufocus'],blur:['menublur'],select:['menuselect']}},termAjaxArgument:'label_part',filterProperty:'label',className:null,inputWrapper:'<div class=\"mage-suggest\"><div class=\"mage-suggest-inner\"></div></div>',dropdownWrapper:'<div class=\"mage-suggest-dropdown\"></div>',preventClickPropagation:true,currentlySelected:null,submitInputOnEnter:true},_create:function(){this._term=null;this._nonSelectedItem={id:'',label:''};this.templates={};this._renderedContext=null;this._selectedItem=this._nonSelectedItem;this._control=this.options.controls||{};this._setTemplate();this._prepareValueField();this._render();this._bind();},_render:function(){var wrapper;this.dropdown=$(this.options.dropdownWrapper).hide();wrapper=this.options.className?$(this.options.inputWrapper).addClass(this.options.className):$(this.options.inputWrapper);this.element.wrap(wrapper)[this.options.appendMethod](this.dropdown).attr('autocomplete','off');},_prepareValueField:function(){if(this.options.valueField){this.valueField=$(this.options.valueField);}else{this.valueField=this._createValueField().insertBefore(this.element).attr('name',this.element.attr('name'));this.element.removeAttr('name');}},_createValueField:function(){return $('<input/>',{type:'hidden'});},_destroy:function(){this.element.unwrap().removeAttr('autocomplete');if(!this.options.valueField){this.element.attr('name',this.valueField.attr('name'));this.valueField.remove();}\nthis.dropdown.remove();this._off(this.element,'keydown keyup blur');},_value:function(){return $.trim(this.element[this.element.is(':input')?'val':'text']());},_proxyEvents:function(event){var fakeEvent=$.extend({},$.Event(event.type),{ctrlKey:event.ctrlKey,keyCode:event.keyCode,which:event.keyCode}),target=this._control.selector?this.dropdown.find(this._control.selector):this.dropdown;target.trigger(fakeEvent);},_bind:function(){this._on($.extend({keydown:function(event){var keyCode=$.ui.keyCode,suggestList,hasSuggestedItems,hasSelectedItems,selectedItem;switch(event.keyCode){case keyCode.PAGE_UP:case keyCode.UP:if(!event.shiftKey){event.preventDefault();this._proxyEvents(event);}\nsuggestList=event.currentTarget.parentNode.getElementsByTagName('ul')[0];hasSuggestedItems=event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length>=0;if(hasSuggestedItems){selectedItem=$(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').prev().addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}\nbreak;case keyCode.PAGE_DOWN:case keyCode.DOWN:if(!event.shiftKey){event.preventDefault();this._proxyEvents(event);}\nsuggestList=event.currentTarget.parentNode.getElementsByTagName('ul')[0];hasSuggestedItems=event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length>=0;if(hasSuggestedItems){hasSelectedItems=suggestList.getElementsByClassName('_active').length===0;if(hasSelectedItems){selectedItem=$(suggestList.children[0]).addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}else{selectedItem=$(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').next().addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}}\nbreak;case keyCode.TAB:if(this.isDropdownShown()){this._onSelectItem(event,null);event.preventDefault();}\nbreak;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._toggleEnter(event);if(this.isDropdownShown()&&this._focused){this._proxyEvents(event);event.preventDefault();}\nbreak;case keyCode.ESCAPE:if(this.isDropdownShown()){event.stopPropagation();}\nthis.close(event);this._blurItem();break;}},keyup:function(event){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.HOME:case keyCode.END:case keyCode.PAGE_UP:case keyCode.PAGE_DOWN:case keyCode.ESCAPE:case keyCode.UP:case keyCode.DOWN:case keyCode.LEFT:case keyCode.RIGHT:case keyCode.TAB:break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.isDropdownShown()){event.preventDefault();}\nbreak;default:this.search(event);}},blur:function(event){if(!this.preventBlur){this._abortSearch();this.close(event);this._change(event);}else{this.element.trigger('focus');}},cut:this.search,paste:this.search,input:this.search,selectItem:this._onSelectItem,click:this.search},this.options.events));this._bindSubmit();this._bindDropdown();},_toggleEnter:function(event){var suggestList,activeItems,selectedItem;if(!this.options.submitInputOnEnter){event.preventDefault();}\nsuggestList=$(event.currentTarget.parentNode).find('ul').first();activeItems=suggestList.find('._active');if(activeItems.length>=0){selectedItem=activeItems.first();if(selectedItem.find('a')&&selectedItem.find('a').attr('href')!==undefined){window.location=selectedItem.find('a').attr('href');event.preventDefault();}}},_bindSubmit:function(){this.element.parents('form').on('submit',function(event){if(!this.submitInputOnEnter){event.preventDefault();}});},_change:function(e){if(this._term!==this._value()){this._trigger('change',e);}},_bindDropdown:function(){var events={click:function(e){e.preventDefault();},mousedown:function(e){e.preventDefault();}};$.each(this._control.eventsMap,$.proxy(function(suggestEvent,controlEvents){$.each(controlEvents,$.proxy(function(i,handlerName){switch(suggestEvent){case'select':events[handlerName]=this._onSelectItem;break;case'focus':events[handlerName]=this._focusItem;break;case'blur':events[handlerName]=this._blurItem;break;}},this));},this));if(this.options.preventClickPropagation){this._on(this.dropdown,events);}\nthis._on(this.dropdown,{mousedown:function(){this.preventBlur=true;},mouseup:function(){this.preventBlur=false;}});},_trigger:function(type,event){var result=this._superApply(arguments);if(result===false&&event){event.stopImmediatePropagation();event.preventDefault();}\nreturn result;},_focusItem:function(e,ui){if(ui&&ui.item){this._focused=$(ui.item).prop('tagName')?this._readItemData(ui.item):ui.item;this.element.val(this._focused.label);this._trigger('focus',e,{item:this._focused});}},_blurItem:function(){this._focused=null;this.element.val(this._term);},_onSelectItem:function(e,item){if(item&&$.type(item)==='object'&&$(e.target).is(this.element)){this._focusItem(e,{item:item});}\nif(this._trigger('beforeselect',e||null,{item:this._focused})===false){return;}\nthis._selectItem(e);this._blurItem();this._trigger('select',e||null,{item:this._selectedItem});},_selectItem:function(e){if(this._focused){this._selectedItem=this._focused;if(this._selectedItem!==this._nonSelectedItem){this._term=this._selectedItem.label;this.valueField.val(this._selectedItem.id);this.close(e);}}},_readItemData:function(element){return element.data('suggestOption')||this._nonSelectedItem;},isDropdownShown:function(){return this.dropdown.is(':visible');},open:function(e){if(!this.isDropdownShown()){this.element.addClass('_suggest-dropdown-open');this.dropdown.show();this._trigger('open',e);}},close:function(e){this._renderedContext=null;if(this.dropdown.length){this.element.removeClass('_suggest-dropdown-open');this.dropdown.hide().empty();}\nthis._trigger('close',e);},_setTemplate:function(){this.templateName='suggest'+Math.random().toString(36).substr(2);this.templates[this.templateName]=mageTemplate(this.options.template);},search:function(e){var term=this._value();if((this._term!==term||term.length===0)&&!this.preventBlur){this._term=term;if($.type(term)==='string'&&term.length>=this.options.minLength){if(this._trigger('search',e)===false){return;}\nthis._search(e,term,{});}else{this._selectedItem=this._nonSelectedItem;this._resetSuggestValue();}}},_resetSuggestValue:function(){this.valueField.val(this._nonSelectedItem.id);},_search:function(e,term,context){var response=$.proxy(function(items){return this._processResponse(e,items,context||{});},this);this.element.addClass(this.options.loadingClass);if(this.options.delay){if($.type(this.options.data)!=='undefined'){response(this.filter(this.options.data,term));}\nclearTimeout(this._searchTimeout);this._searchTimeout=this._delay(function(){this._source(term,response);},this.options.delay);}else{this._source(term,response);}},_prepareDropdownContext:function(context){return $.extend(context,{items:this._items,term:this._term,optionData:function(item){return'data-suggest-option=\"'+\n$('<div>').text(JSON.stringify(item)).html().replace(/\"/g,'&quot;')+'\"';},itemSelected:$.proxy(this._isItemSelected,this),noRecordsText:$.mage.__('No records found.')});},_isItemSelected:function(item){return item.id==(this._selectedItem&&this._selectedItem.id?this._selectedItem.id:this.options.currentlySelected);},_renderDropdown:function(e,items,context){var tmpl=this.templates[this.templateName];this._items=items;tmpl=tmpl({data:this._prepareDropdownContext(context)});$(tmpl).appendTo(this.dropdown.empty());this.dropdown.trigger('contentUpdated').find(this._control.selector).on('focus',function(event){event.preventDefault();});this._renderedContext=context;this.element.removeClass(this.options.loadingClass);this.open(e);},_processResponse:function(e,items,context){var renderer=$.proxy(function(i){return this._renderDropdown(e,i,context||{});},this);if(this._trigger('response',e,[items,renderer])===false){return;}\nthis._renderDropdown(e,items,context);},_source:function(term,response){var o=this.options,ajaxData;if($.isArray(o.source)){response(this.filter(o.source,term));}else if($.type(o.source)==='string'){ajaxData={};ajaxData[this.options.termAjaxArgument]=term;this._xhr=$.ajax($.extend(true,{url:o.source,type:'POST',dataType:'json',data:ajaxData,success:$.proxy(function(items){this.options.data=items;response.apply(response,arguments);},this)},o.ajaxOptions||{}));}else if($.type(o.source)==='function'){o.source.apply(o.source,arguments);}},_abortSearch:function(){this.element.removeClass(this.options.loadingClass);clearTimeout(this._searchTimeout);},filter:function(items,term){var matcher=new RegExp(term.replace(/[\\-\\/\\\\\\^$*+?.()|\\[\\]{}]/g,'\\\\$&'),'i'),itemsArray=$.isArray(items)?items:$.map(items,function(element){return element;}),property=this.options.filterProperty;return $.grep(itemsArray,function(value){return matcher.test(value[property]||value.id||value);});}});$.widget('mage.suggest',$.mage.suggest,{options:{showRecent:false,showAll:false,storageKey:'suggest',storageLimit:10},_create:function(){var recentItems;if(this.options.showRecent&&window.localStorage){recentItems=JSON.parse(localStorage.getItem(this.options.storageKey));this._recentItems=$.isArray(recentItems)?recentItems:[];}\nthis._super();},_bind:function(){this._super();this._on(this.dropdown,{showAll:function(e){e.stopImmediatePropagation();e.preventDefault();this.element.trigger('showAll');}});if(this.options.showRecent||this.options.showAll){this._on({focus:function(e){if(!this.isDropdownShown()){this.search(e);}},showAll:this._showAll});}},_showAll:function(e){this._abortSearch();this._search(e,'',{_allShown:true});},search:function(e){if(!this._value()){if(this.options.showRecent){if(this._recentItems.length){this._processResponse(e,this._recentItems,{});}else{this._showAll(e);}}else if(this.options.showAll){this._showAll(e);}}\nthis._superApply(arguments);},_selectItem:function(){this._superApply(arguments);if(this._selectedItem&&this._selectedItem.id&&this.options.showRecent){this._addRecent(this._selectedItem);}},_prepareDropdownContext:function(){var context=this._superApply(arguments);return $.extend(context,{recentShown:$.proxy(function(){return this.options.showRecent;},this),recentTitle:$.mage.__('Recent items'),showAllTitle:$.mage.__('Show all...'),allShown:function(){return!!context._allShown;}});},_addRecent:function(item){this._recentItems=$.grep(this._recentItems,function(obj){return obj.id!==item.id;});this._recentItems.unshift(item);this._recentItems=this._recentItems.slice(0,this.options.storageLimit);localStorage.setItem(this.options.storageKey,JSON.stringify(this._recentItems));}});$.widget('mage.suggest',$.mage.suggest,{options:{multiSuggestWrapper:'<ul class=\"mage-suggest-choices\">'+'<li class=\"mage-suggest-search-field\" data-role=\"parent-choice-element\"><'+'label class=\"mage-suggest-search-label\"></label></li></ul>',choiceTemplate:'<li class=\"mage-suggest-choice button\"><div><%- text %></div>'+'<span class=\"mage-suggest-choice-close\" tabindex=\"-1\" '+'data-mage-init=\\'{\"actionLink\":{\"event\":\"removeOption\"}}\\'></span></li>',selectedClass:'mage-suggest-selected'},_create:function(){this.choiceTmpl=mageTemplate(this.options.choiceTemplate);this._super();if(this.options.multiselect){this.valueField.hide();}},_render:function(){this._super();if(this.options.multiselect){this._renderMultiselect();}},_renderMultiselect:function(){var that=this;this.element.wrap(this.options.multiSuggestWrapper);this.elementWrapper=this.element.closest('[data-role=\"parent-choice-element\"]');$(function(){that._getOptions().each(function(i,option){option=$(option);that._createOption({id:option.val(),label:option.text()});});});},_getOptions:function(){return this.valueField.find('option');},_bind:function(){this._super();if(this.options.multiselect){this._on({keydown:function(event){if(event.keyCode===$.ui.keyCode.BACKSPACE){if(!this._value()){this._removeLastAdded(event);}}},removeOption:this.removeOption});}},_filterSelected:function(items){var options=this._getOptions();return $.grep(items,function(value){var itemSelected=false;$.each(options,function(){if(value.id==$(this).val()){itemSelected=true;}});return!itemSelected;});},_processResponse:function(e,items,context){if(this.options.multiselect){items=this._filterSelected(items,context);}\nthis._superApply([e,items,context]);},_prepareValueField:function(){this._super();if(this.options.multiselect&&!this.options.valueField&&this.options.selectedItems){$.each(this.options.selectedItems,$.proxy(function(i,item){this._addOption(item);},this));}},_resetSuggestValue:function(){if(!this.options.multiselect){this._super();}},_createValueField:function(){if(this.options.multiselect){return $('<select/>',{type:'hidden',multiple:'multiple'});}\nreturn this._super();},_selectItem:function(e){if(this.options.multiselect){if(this._focused){this._selectedItem=this._focused;if(this._selectedItem!==this._nonSelectedItem){this._term='';this.element.val(this._term);if(this._isItemSelected(this._selectedItem)){$(e.target).removeClass(this.options.selectedClass);this.removeOption(e,this._selectedItem);this._selectedItem=this._nonSelectedItem;}else{$(e.target).addClass(this.options.selectedClass);this._addOption(e,this._selectedItem);}}}\nthis.close(e);}else{this._superApply(arguments);}},_isItemSelected:function(item){if(this.options.multiselect){return this.valueField.find('option[value='+item.id+']').length>0;}\nreturn this._superApply(arguments);},_createOption:function(item){var option=this._getOption(item);if(!option.length){option=$('<option>',{value:item.id,selected:true}).text(item.label);}\nreturn option.data('renderedOption',this._renderOption(item));},_addOption:function(e,item){this.valueField.append(this._createOption(item).data('selectTarget',$(e.target)));},_getOption:function(item){return $(item).prop('tagName')?$(item):this.valueField.find('option[value='+item.id+']');},_removeLastAdded:function(e){var lastAdded=this._getOptions().last();if(lastAdded.length){this.removeOption(e,lastAdded);}},removeOption:function(e,item){var option=this._getOption(item),selectTarget=option.data('selectTarget');if(selectTarget&&selectTarget.length){selectTarget.removeClass(this.options.selectedClass);}\noption.data('renderedOption').remove();option.remove();},_renderOption:function(item){var tmpl=this.choiceTmpl({text:item.label});return $(tmpl).insertBefore(this.elementWrapper).trigger('contentUpdated').on('removeOption',$.proxy(function(e){this.removeOption(e,item);},this));}});return $.mage.suggest;});","mage/backend/menu.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.menu',{widgetEventPrefix:'menu',version:'1.10.1',defaultElement:'<ul>',delay:300,options:{icons:{submenu:'ui-icon-carat-1-e'},menus:'ul',position:{my:'left top',at:'right top'},role:'menu',blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass('ui-menu ui-widget ui-widget-content ui-corner-all').toggleClass('ui-menu-icons',!!this.element.find('.ui-icon').length).attr({role:this.options.role,tabIndex:0}).on('click'+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass('ui-state-disabled').attr('aria-disabled','true');}\nthis._on({'mousedown .ui-menu-item > a':function(event){event.preventDefault();},'click .ui-state-disabled > a':function(event){event.preventDefault();},'click .ui-menu-item:has(a)':function(event){var target=$(event.target).closest('.ui-menu-item');if(!this.mouseHandled&&target.not('.ui-state-disabled').length){this.mouseHandled=true;this.select(event);if(target.has('.ui-menu').length){this.expand(event);}else if(!this.element.is(':focus')){this.element.trigger('focus',[true]);if(this.active&&this.active.parents('.ui-menu').length===1){clearTimeout(this.timer);}}}},'mouseenter .ui-menu-item':function(event){var target=$(event.currentTarget);target.siblings().children('.ui-state-active').removeClass('ui-state-active');this.focus(event,target);},mouseleave:'collapseAll','mouseleave .ui-menu':'collapseAll',focus:function(event,keepActiveItem){var item=this.active||this.element.children('.ui-menu-item').eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:'_keydown'});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest('.ui-menu').length){this.collapseAll(event);}\nthis.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr('aria-activedescendant').find('.ui-menu').addBack().removeClass('ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons').removeAttr('role').removeAttr('tabIndex').removeAttr('aria-labelledby').removeAttr('aria-expanded').removeAttr('aria-hidden').removeAttr('aria-disabled').removeUniqueId().show();this.element.find('.ui-menu-item').removeClass('ui-menu-item').removeAttr('role').removeAttr('aria-disabled').children('a').removeUniqueId().removeClass('ui-corner-all ui-state-hover').removeAttr('tabIndex').removeAttr('role').removeAttr('aria-haspopup').children().each(function(){var elem=$(this);if(elem.data('ui-menu-submenu-carat')){elem.remove();}});this.element.find('.ui-menu-divider').removeClass('ui-menu-divider ui-widget-content');},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,'\\\\$&');}\nswitch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move('first','first',event);break;case $.ui.keyCode.END:this._move('last','last',event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is('.ui-state-disabled')){this.expand(event);}\nbreak;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||'';character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}\nregex=new RegExp('^'+escape(character),'i');match=this.activeMenu.children('.ui-menu-item').filter(function(){return regex.test($(this).children('a').text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll('.ui-menu-item'):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp('^'+escape(character),'i');match=this.activeMenu.children('.ui-menu-item').filter(function(){return regex.test($(this).children('a').text());});}\nif(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}\nif(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is('.ui-state-disabled')){if(this.active.children('a[aria-haspopup=\"true\"]').length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(':not(.ui-menu)').addClass('ui-menu ui-widget ui-widget-content ui-corner-all').hide().attr({role:this.options.role,'aria-hidden':'true','aria-expanded':'false'}).each(function(){var menu=$(this),item=menu.prev('a'),submenuCarat=$('<span>').addClass('ui-menu-icon ui-icon '+icon).data('ui-menu-submenu-carat',true);item.attr('aria-haspopup','true').prepend(submenuCarat);menu.attr('aria-labelledby',item.attr('id'));});menus=submenus.add(this.element);menus.children(':not(.ui-menu-item):has(a)').addClass('ui-menu-item').attr('role','presentation').children('a').uniqueId().addClass('ui-corner-all').attr({tabIndex:-1,role:this._itemRole()});menus.children(':not(.ui-menu-item)').each(function(){var item=$(this);if(!/[^\\-\\u2014\\u2013\\s]/.test(item.text())){item.addClass('ui-widget-content ui-menu-divider');}});menus.children('.ui-state-disabled').attr('aria-disabled','true');if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:'menuitem',listbox:'option'}[this.options.role];},_setOption:function(key,value){if(key==='icons'){this.element.find('.ui-menu-icon').removeClass(this.options.icons.submenu).addClass(value.submenu);}\nthis._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==='focus');this._scrollIntoView(item);this.active=item.first();focused=this.active.children('a').addClass('ui-state-focus');if(this.options.role){this.element.attr('aria-activedescendant',focused.attr('id'));}\nthis.active.parent().closest('.ui-menu-item').children('a:first').addClass('ui-state-active');if(event&&event.type==='keydown'){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}\nnested=item.children('.ui-menu');if(nested.length&&/^mouse/.test(event.type)){this._startOpening(nested);}\nthis.activeMenu=item.parent();this._trigger('focus',event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],'borderTopWidth'))||0;paddingTop=parseFloat($.css(this.activeMenu[0],'paddingTop'))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}\nif(!this.active){return;}\nthis.active.children('a').removeClass('ui-state-focus');this.active=null;this._trigger('blur',event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr('aria-hidden')!=='true'){return;}\nthis.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find('.ui-menu').not(submenu.parents('.ui-menu')).hide().attr('aria-hidden','true');submenu.show().removeAttr('aria-hidden').attr('aria-expanded','true').position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find('.ui-menu'));if(!currentMenu.length){currentMenu=this.element;}\nthis._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}\nstartMenu.find('.ui-menu').hide().attr('aria-hidden','true').attr('aria-expanded','false').end().find('a.ui-state-active').removeClass('ui-state-active');},collapse:function(event){var newItem=this.active&&this.active.parent().closest('.ui-menu-item',this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children('.ui-menu ').children('.ui-menu-item').first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move('next','first',event);},previous:function(event){this._move('prev','last',event);},isFirstItem:function(){return this.active&&!this.active.prevAll('.ui-menu-item').length;},isLastItem:function(){return this.active&&!this.active.nextAll('.ui-menu-item').length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==='first'||direction==='last'){next=this.active\n[direction==='first'?'prevAll':'nextAll']('.ui-menu-item').eq(-1);}else{next=this.active\n[direction+'All']('.ui-menu-item').eq(0);}}\nif(!next||!next.length||!this.active){next=this.activeMenu.children('.ui-menu-item')[filter]();}\nthis.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isLastItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll('.ui-menu-item').each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children('.ui-menu-item')\n[!this.active?'first':'last']());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isFirstItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll('.ui-menu-item').each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children('.ui-menu-item').first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop('scrollHeight');},select:function(event){var ui;this.active=this.active||$(event.target).closest('.ui-menu-item');ui={item:this.active};if(!this.active.has('.ui-menu').length){this.collapseAll(event,true);}\nthis._trigger('select',event,ui);}});return $.mage.menu;});","mage/backend/button.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('ui.button',$.ui.button,{options:{eventData:{},waitTillResolved:true},_create:function(){if(this.options.event){this.options.target=this.options.target||this.element;this._bind();}\nthis._super();},_bind:function(){this.element.off('click.button').on('click.button',$.proxy(this._click,this));},_click:function(){var options=this.options;$(options.target).trigger(options.event,[options.eventData]);}});return $.ui.button;});","mage/backend/notification.min.js":"define(['jquery','mage/template','jquery/ui'],function($,mageTemplate){'use strict';$.widget('mage.notification',{options:{templates:{global:'<div data-role=\"messages\" id=\"messages\">'+'<div class=\"message <% if (data.error) { %>error<% } %>\"><div><%- data.message %></div></div>'+'</div>',error:'<div data-role=\"messages\" id=\"messages\">'+'<div class=\"messages\"><div class=\"message message-error error\">'+'<div data-ui-id=\"messages-message-error\"><%- data.message %></div></div>'+'</div></div>'}},placeholder:'[data-role=messages]',_create:function(){$(document).on('ajaxComplete ajaxError',$.proxy(this._add,this));},_add:function(event,jqXHR){var response;try{response=JSON.parse(jqXHR.responseText);if(response&&response.error&&response['html_message']){$(this.placeholder).html(response['html_message']);}}catch(e){}},add:function(data){var template=data.error?this.options.templates.error:this.options.templates.global,message=mageTemplate(template,{data:data}),messageContainer;if(typeof data.insertMethod==='function'){data.insertMethod(message);}else{messageContainer=data.messageContainer||this.placeholder;$(messageContainer).prepend(message);}\nreturn this;},clear:function(){$(this.placeholder).html('');}});return $.mage.notification;});","mage/backend/action-link.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.actionLink',{_create:function(){this._bind();},_bind:function(){var keyCode=$.ui.keyCode;this._on({mousedown:function(e){this._stopPropogation(e);},mouseup:function(e){this._stopPropogation(e);},click:function(e){this._stopPropogation(e);this._triggerEvent();},keydown:function(e){switch(e.keyCode){case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._stopPropogation(e);this._triggerEvent();break;}},keyup:function(e){switch(e.keyCode){case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._stopPropogation(e);break;}}});},_stopPropogation:function(e){e.stopImmediatePropagation();e.preventDefault();},_triggerEvent:function(){$(this.options.related||this.element).trigger(this.options.event,this.options.eventData?[this.options.eventData]:[{}]);}});return $.mage.actionLink;});","mage/msie/file-reader.min.js":"define(['jquery'],function($){'use strict';var readAsBinaryStringIEFunc=function(fileData){var binary='',self=this,reader=new FileReader();reader.onload=function(){var bytes,length,index;bytes=new Uint8Array(reader.result);length=bytes.length;for(index=0;index<length;index++){binary+=String.fromCharCode(bytes[index]);}\nself.content=binary;$(self).trigger('onload');};reader.readAsArrayBuffer(fileData);};if(typeof FileReader.prototype.readAsBinaryString==='undefined'){FileReader.prototype.readAsBinaryString=readAsBinaryStringIEFunc;}});","mage/requirejs/resolver.min.js":"define(['underscore','domReady!'],function(_){'use strict';var context=require.s.contexts._,execCb=context.execCb,registry=context.registry,callbacks=[],retries=10,updateDelay=1,ready,update;function isSubscribed(callback){return!!_.findWhere(callbacks,callback);}\nfunction isRejected(module){return registry[module.id]&&(registry[module.id].inited||registry[module.id].error);}\nfunction isPathFallback(module){return registry[module.id]&&registry[module.id].events.error;}\nfunction isPending(module){if(!module.depCount){return false;}\nreturn module.depCount>_.filter(module.depMaps,isRejected).length+_.filter(module.depMaps,isPathFallback).length;}\nfunction hasPending(){return _.some(registry,isPending);}\nfunction isReady(){return ready&&!hasPending();}\nfunction invoke(callback){callback.handler.call(callback.ctx);}\nfunction resolve(){ready=true;callbacks.splice(0).forEach(invoke);}\nfunction tick(){ready=false;update(retries);}\nfunction subscribe(handler,ctx){var callback={handler:handler,ctx:ctx};if(!isSubscribed(callback)){callbacks.push(callback);if(isReady()){_.defer(tick);}}}\nupdate=_.debounce(function(retry){if(!hasPending()){retry?update(--retry):resolve();}},updateDelay);context.execCb=function(){var exported=execCb.apply(context,arguments);tick();return exported;};return subscribe;});","mage/requirejs/baseUrlResolver.min.js":"define('baseUrlInterceptor',['module'],function(module){'use strict';var ctx=require.s.contexts._,origNameToUrl=ctx.nameToUrl,newContextConstr=require.s.newContext;function trimDots(ary){var i,part,length=ary.length;for(i=0;i<length;i++){part=ary[i];if(part==='.'){ary.splice(i,1);i-=1;}else if(part==='..'){if(i===1&&(ary[2]==='..'||ary[0]==='..')){break;}else if(i>0){ary.splice(i-1,2);i-=2;}}}}\nfunction normalize(name,baseName,applyMap,localContext){var lastIndex,baseParts=baseName&&baseName.split('/'),normalizedBaseParts=baseParts;if(name&&name.charAt(0)==='.'){if(baseName){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=name.split('/');lastIndex=name.length-1;if(localContext.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}\nname=normalizedBaseParts.concat(name);trimDots(name);name=name.join('/');}else if(name.indexOf('./')===0){name=name.substring(2);}}\nreturn name;}\nfunction getUrl(context,url){var baseUrl=context.config.baseUrl,newConfig=context.config,modulePath=url.replace(baseUrl,''),newBaseUrl,rewrite=module.config()[modulePath];if(!rewrite){return url;}\nnewBaseUrl=normalize(rewrite,baseUrl,undefined,newConfig);return newBaseUrl+modulePath;}\nctx.nameToUrl=function(){return getUrl(ctx,origNameToUrl.apply(ctx,arguments));};require.s.newContext=function(){var newCtx=newContextConstr.apply(require.s,arguments),newOrigNameToUrl=newCtx.nameToUrl;newCtx.nameToUrl=function(){return getUrl(newCtx,newOrigNameToUrl.apply(newCtx,arguments));};return newCtx;};});require(['baseUrlInterceptor'],function(){'use strict';});","mage/requirejs/text.min.js":"define(['module'],function(module){'use strict';var xmlRegExp=/^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,bodyRegExp=/<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,stripReg=/!strip$/i,defaultConfig=module.config&&module.config()||{};function stripContent(external){var matches;if(!external){return'';}\nmatches=external.match(bodyRegExp);external=matches?matches[1]:external.replace(xmlRegExp,'');return external;}\nfunction sameDomain(url){var uProtocol,uHostName,uPort,xdRegExp=/^([\\w:]+)?\\/\\/([^\\/\\\\]+)/i,location=window.location,match=xdRegExp.exec(url);if(!match){return true;}\nuProtocol=match[1];uHostName=match[2];uHostName=uHostName.split(':');uPort=uHostName[1]||'';uHostName=uHostName[0];return(!uProtocol||uProtocol===location.protocol)&&(!uHostName||uHostName.toLowerCase()===location.hostname.toLowerCase())&&(!uPort&&!uHostName||uPort===location.port);}\nfunction createRequest(url){var xhr=new XMLHttpRequest();if(!sameDomain(url)&&typeof XDomainRequest!=='undefined'){xhr=new XDomainRequest();}\nreturn xhr;}\nfunction getContent(url,callback,fail,headers){var xhr=createRequest(url),header;xhr.open('GET',url);if('setRequestHeader'in xhr&&headers){for(header in headers){if(headers.hasOwnProperty(header)){xhr.setRequestHeader(header.toLowerCase(),headers[header]);}}}\nxhr.onreadystatechange=function(){var status,err;if(xhr.readyState===4){status=xhr.status||0;if(status>399&&status<600){err=new Error(url+' HTTP status: '+status);err.xhr=xhr;if(fail){fail(err);}}else{callback(xhr.responseText);if(defaultConfig.onXhrComplete){defaultConfig.onXhrComplete(xhr,url);}}}};if(defaultConfig.onXhr){defaultConfig.onXhr(xhr,url);}\nxhr.send();}\nfunction loadContent(name,req,onLoad){var toStrip=stripReg.test(name),url=req.toUrl(name.replace(stripReg,'')),headers=defaultConfig.headers;getContent(url,function(content){content=toStrip?stripContent(content):content;onLoad(content);},onLoad.error,headers);}\nreturn{load:loadContent,get:getContent};});","mage/adminhtml/globals.min.js":"define(['Magento_Ui/js/modal/confirm','mage/dataPost'],function(confirm,dataPost){'use strict';window.setLocation=function(url){window.location.href=url;};window.deleteConfirm=function(message,url,postData){confirm({content:message,actions:{confirm:function(){if(postData!==undefined){postData.action=url;dataPost().postData(postData);}else{setLocation(url);}}}});return false;};window.confirmSetLocation=window.deleteConfirm;});","mage/adminhtml/form.min.js":"define(['jquery','prototype','mage/adminhtml/events'],function(jQuery){var varienElementMethods;(function($){$(document).ready(function(){$(document).on('beforeSubmit',function(e){if(typeof varienGlobalEvents!=='undefined'){varienGlobalEvents.fireEvent('formSubmit',$(e.target).attr('id'));}});});})(jQuery);varienElementMethods={setHasChanges:function(element){var elm;if($(element)&&$(element).hasClassName('no-changes')){return;}\nelm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar){Element.addClassName($(elm.statusBar),'changed');}\nelm=elm.parentNode;}},setHasError:function(element,flag,form){var elm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar){if(form.errorSections.keys().indexOf(elm.statusBar.id)<0){form.errorSections.set(elm.statusBar.id,flag);}\nif(flag){Element.addClassName($(elm.statusBar),'error');if(form.canShowError&&$(elm.statusBar).show){form.canShowError=false;$(elm.statusBar).show();}\nform.errorSections.set(elm.statusBar.id,flag);}else if(!form.errorSections.get(elm.statusBar.id)){Element.removeClassName($(elm.statusBar),'error');}}\nelm=elm.parentNode;}\nthis.canShowElement=false;}};Element.addMethods(varienElementMethods);window.varienWindowOnloadCache={};function varienWindowOnload(useCache){var dataElements=$$('input','select','textarea'),i;for(i=0;i<dataElements.length;i++){if(dataElements[i]&&dataElements[i].id){if(!useCache||!varienWindowOnloadCache[dataElements[i].id]){Event.observe(dataElements[i],'change',dataElements[i].setHasChanges.bind(dataElements[i]));if(useCache){varienWindowOnloadCache[dataElements[i].id]=true;}}}}}\nEvent.observe(window,'load',varienWindowOnload);window.RegionUpdater=Class.create();RegionUpdater.prototype={initialize:function(countryEl,regionTextEl,regionSelectEl,regions,disableAction,clearRegionValueOnDisable){this.isRegionRequired=true;this.countryEl=$(countryEl);this.regionTextEl=$(regionTextEl);this.regionSelectEl=$(regionSelectEl);this.config=regions.config;delete regions.config;this.regions=regions;this.sortedRegions=this.getSortedRegions();this.disableAction=typeof disableAction==='undefined'?'hide':disableAction;this.clearRegionValueOnDisable=typeof clearRegionValueOnDisable==='undefined'?false:clearRegionValueOnDisable;if(this.regionSelectEl.options.length<=1){this.update();}else{this.lastCountryId=this.countryEl.value;}\nthis.countryEl.changeUpdater=this.update.bind(this);Event.observe(this.countryEl,'change',this.update.bind(this));},_checkRegionRequired:function(){var label,wildCard,elements,that,regionRequired;if(!this.isRegionRequired){return;}\nelements=[this.regionTextEl,this.regionSelectEl];that=this;if(typeof this.config=='undefined'){return;}\nregionRequired=this.config['regions_required'].indexOf(this.countryEl.value)>=0;elements.each(function(currentElement){var form,validationInstance,field,topElement;if(!currentElement){return;}\nform=currentElement.form;validationInstance=form?jQuery(form).data('validation'):null;field=currentElement.up('.field')||new Element('div');if(validationInstance){validationInstance.clearError(currentElement);}\nlabel=$$('label[for=\"'+currentElement.id+'\"]')[0];if(label){wildCard=label.down('em')||label.down('span.required');topElement=label.up('tr')||label.up('li');if(!that.config['show_all_regions']&&topElement){if(regionRequired){topElement.show();}else{topElement.hide();}}}\nif(label&&wildCard){if(!regionRequired){wildCard.hide();}else{wildCard.show();}}\nif(!regionRequired||!currentElement.visible()){if(field.hasClassName('required')){field.removeClassName('required');}\nif(currentElement.hasClassName('required-entry')){currentElement.removeClassName('required-entry');}\nif(currentElement.tagName.toLowerCase()=='select'&&currentElement.hasClassName('validate-select')){currentElement.removeClassName('validate-select');}}else{if(!field.hasClassName('required')){field.addClassName('required');}\nif(!currentElement.hasClassName('required-entry')){currentElement.addClassName('required-entry');}\nif(currentElement.tagName.toLowerCase()=='select'&&!currentElement.hasClassName('validate-select')){currentElement.addClassName('validate-select');}}});},disableRegionValidation:function(){this.isRegionRequired=false;},update:function(){var option,selectElement,def,regionId,region;selectElement=this.regionSelectEl;if(this.sortedRegions[this.countryEl.value]){if(this.lastCountryId!=this.countryEl.value){def=selectElement.getAttribute('defaultValue');if(this.regionTextEl){if(!def){def=this.regionTextEl.value.toLowerCase();}\nthis.regionTextEl.value='';}\nselectElement.options.length=1;this.sortedRegions[this.countryEl.value].forEach(function(item){regionId=item[0];region=item[1];option=document.createElement('OPTION');option.value=regionId;option.text=region.name.stripTags();option.title=region.name;if(selectElement.options.add){selectElement.options.add(option);}else{selectElement.appendChild(option);}\nif(regionId==def||region.name.toLowerCase()==def||region.code.toLowerCase()==def){selectElement.value=regionId;}});}\nif(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='none';this.regionTextEl.style.disabled=true;}\nthis.regionSelectEl.style.display='';this.regionSelectEl.disabled=false;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=true;}\nthis.regionSelectEl.disabled=false;}\nthis.setMarkDisplay(this.regionSelectEl,true);this.lastCountryId=this.countryEl.value;}else{if(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='';this.regionTextEl.style.disabled=false;}\nthis.regionSelectEl.style.display='none';this.regionSelectEl.disabled=true;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=false;}\nthis.regionSelectEl.disabled=true;if(this.clearRegionValueOnDisable){this.regionSelectEl.value='';}}else if(this.disableAction=='nullify'){this.regionSelectEl.options.length=1;this.regionSelectEl.value='';this.regionSelectEl.selectedIndex=0;this.lastCountryId='';}\nthis.setMarkDisplay(this.regionSelectEl,false);}\nvarienGlobalEvents.fireEvent('address_country_changed',this.countryEl);this._checkRegionRequired();},setMarkDisplay:function(elem,display){var marks;if(elem.parentNode.parentNode){marks=Element.select(elem.parentNode.parentNode,'.required');if(marks[0]){display?marks[0].show():marks[0].hide();}}},getSortedRegions:function(){var country,regionsEntries,regionsByCountry;regionsByCountry=[];for(country in this.regions){regionsEntries=Object.entries(this.regions[country]);regionsEntries.sort(function(a,b){return a[1].name>b[1].name?1:-1;});regionsByCountry[country]=regionsEntries;}\nreturn regionsByCountry;}};window.regionUpdater=RegionUpdater;Event.pointerX=function(event){try{return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));}\ncatch(e){}};Event.pointerY=function(event){try{return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));}\ncatch(e){}};window.FormElementDependenceController=Class.create();FormElementDependenceController.prototype={initialize:function(elementsMap,config){var idTo,idFrom,values,fromId,radioFrom;if(config){this._config=jQuery.extend(this._config,config);}\nfor(idTo in elementsMap){for(idFrom in elementsMap[idTo]){if($(idFrom)){Event.observe($(idFrom),'change',this.trackChange.bindAsEventListener(this,idTo,elementsMap[idTo]));}else{values=elementsMap[idTo][idFrom].values;fromId=$(idFrom+values[0]);radioFrom=fromId?$$('[name=\"'+fromId.name+'\"]'):false;if(radioFrom){radioFrom.invoke('on','change',this.trackChange.bindAsEventListener(this,idTo,elementsMap[idTo]));}}\nthis.trackChange(null,idTo,elementsMap[idTo]);}}},_config:{'levels_up':1},trackChange:function(e,idTo,valuesFrom){var shouldShowUp=true,idFrom,from,values,isInArray,isNegative,headElement,isInheritCheckboxChecked,target,inputs,isAnInputOrSelect,currentConfig,rowElement,fromId,radioFrom,targetArray,isChooser;for(idFrom in valuesFrom){from=$(idFrom);if(from){values=valuesFrom[idFrom].values;isInArray=values.indexOf(from.value)!=-1;isNegative=valuesFrom[idFrom].negative;if(!from||isInArray&&isNegative||!isInArray&&!isNegative){shouldShowUp=false;}}else{values=valuesFrom[idFrom].values;fromId=$(idFrom+values[0]);if(fromId){radioFrom=$$('[name=\"'+fromId.name+'\"]:checked');isInArray=radioFrom.length>0&&values.indexOf(radioFrom[0].value)!==-1;isNegative=valuesFrom[idFrom].negative;if(!radioFrom||isInArray&&isNegative||!isInArray&&!isNegative){shouldShowUp=false;}}}}\nheadElement=jQuery('#'+idTo+'-head');isInheritCheckboxChecked=$(idTo+'_inherit')&&$(idTo+'_inherit').checked;target=$(idTo);if(target===null&&headElement.length===0&&idTo.substring(0,16)==='options_fieldset'){targetArray=$$('input[id*=\"'+idTo+'\"]');isChooser=true;if(targetArray!==null&&targetArray.length>0){target=targetArray[0];}\nheadElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);}\nif(target){inputs=target.up(this._config['levels_up']).select('input','select','td');isAnInputOrSelect=['input','select'].indexOf(target.tagName.toLowerCase())!=-1;if(target.type==='fieldset'){inputs=target.select('input','select','td');}}else{inputs=false;isAnInputOrSelect=false;}\nif(shouldShowUp){currentConfig=this._config;if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)&&!(currentConfig['can_edit_price']!=undefined&&!currentConfig['can_edit_price'])&&!item.getAttribute('readonly')||isChooser){item.disabled=false;jQuery(item).removeClass('ignore-validate');}});}\nif(headElement.length>0){headElement.show();if(headElement.hasClass('open')&&target){target.show();}else if(target){target.hide();}}else{if(target){target.show();headElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);headElement.show();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){if(target.getAttribute('readonly')){target.disabled=true;}else{target.disabled=false;}}\njQuery('#'+idTo).removeClass('ignore-validate');}}}else{if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)){item.disabled=true;jQuery(item).addClass('ignore-validate');}});}\nif(headElement.length>0){headElement.hide();}else{headElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);headElement.hide();}\nif(target){target.hide();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){target.disabled=true;}\njQuery('#'+idTo).addClass('ignore-validate');}}\nrowElement=$('row_'+idTo);if(rowElement==undefined&&target){rowElement=target.up(this._config['levels_up']);if(target.type==='fieldset'){rowElement=target;}}\nif(rowElement){if(shouldShowUp){rowElement.show();}else{rowElement.hide();}}}};window.varienWindowOnload=varienWindowOnload;window.varienElementMethods=varienElementMethods;});","mage/adminhtml/accordion.min.js":"define(['prototype'],function(){window.varienAccordion=new Class.create();varienAccordion.prototype={initialize:function(containerId,activeOnlyOne){var links,i;this.containerId=containerId;this.activeOnlyOne=activeOnlyOne||false;this.container=$(this.containerId);this.items=$$('#'+this.containerId+' dt');this.loader=new varienLoader(true);links=$$('#'+this.containerId+' dt a');for(i in links){if(links[i].href){Event.observe(links[i],'click',this.clickItem.bind(this));this.items[i].dd=this.items[i].next('dd');this.items[i].link=links[i];}}\nthis.initFromCookie();},initFromCookie:function(){var activeItemId,visibility;if(this.activeOnlyOne&&(activeItemId=Cookie.read(this.cookiePrefix()+'active-item'))!==null){this.hideAllItems();this.showItem(this.getItemById(activeItemId));}else if(!this.activeOnlyOne){this.items.each(function(item){if((visibility=Cookie.read(this.cookiePrefix()+item.id))!==null){if(visibility==0){this.hideItem(item);}else{this.showItem(item);}}}.bind(this));}},cookiePrefix:function(){return'accordion-'+this.containerId+'-';},getItemById:function(itemId){var result=null;this.items.each(function(item){if(item.id==itemId){result=item;throw $break;}});return result;},clickItem:function(event){var item=Event.findElement(event,'dt');if(this.activeOnlyOne){this.hideAllItems();this.showItem(item);Cookie.write(this.cookiePrefix()+'active-item',item.id,30*24*60*60);}else{if(this.isItemVisible(item)){this.hideItem(item);Cookie.write(this.cookiePrefix()+item.id,0,30*24*60*60);}else{this.showItem(item);Cookie.write(this.cookiePrefix()+item.id,1,30*24*60*60);}}\nEvent.stop(event);},showItem:function(item){if(item&&item.link){if(item.link.href){this.loadContent(item);}\nElement.addClassName(item,'open');Element.addClassName(item.dd,'open');}},hideItem:function(item){Element.removeClassName(item,'open');Element.removeClassName(item.dd,'open');},isItemVisible:function(item){return Element.hasClassName(item,'open');},loadContent:function(item){if(item.link.href.indexOf('#')==item.link.href.length-1){return;}\nif(Element.hasClassName(item.link,'ajax')){this.loadingItem=item;this.loader.load(item.link.href,{updaterId:this.loadingItem.dd.id},this.setItemContent.bind(this));return;}\nlocation.href=item.link.href;},setItemContent:function(content){if(content.isJSON){return;}\nthis.loadingItem.dd.innerHTML=content;},hideAllItems:function(){var i;for(i in this.items){if(this.items[i].id){Element.removeClassName(this.items[i],'open');Element.removeClassName(this.items[i].dd,'open');}}}};});","mage/adminhtml/browser.min.js":"define(['jquery','wysiwygAdapter','Magento_Ui/js/modal/prompt','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert','underscore','Magento_Ui/js/modal/modal','jquery/ui','jquery/jstree/jquery.jstree','mage/mage'],function($,wysiwyg,prompt,confirm,alert,_){window.MediabrowserUtility={windowId:'modal_dialog_message',modalLoaded:false,targetElementId:false,pathId:'',getMaxZIndex:function(){var max=0,cn=document.body.childNodes,i,el,zIndex;for(i=0;i<cn.length;i++){el=cn[i];zIndex=el.nodeType==1?parseInt(el.style.zIndex,10)||0:0;if(zIndex<10000){max=Math.max(max,zIndex);}}\nreturn max+10;},openDialog:function(url,width,height,title,options){var windowId=this.windowId,content='<div class=\"popup-window\" id=\"'+windowId+'\"></div>';if(this.modalLoaded){if(!_.isUndefined(options)){this.modal.modal('option','closed',options.closed);}\nthis.modal.modal('openModal');this.setTargetElementId(options,url);this.setPathId(url);$(window).trigger('reload.MediaGallery');return;}\nthis.modal=$(content).modal($.extend({title:title||'Insert File...',modalClass:'magento',type:'slide',buttons:[]},options));this.modal.modal('openModal');$.ajax({url:url,type:'get',context:$(this),showLoader:true}).done(function(data){this.modal.html(data).trigger('contentUpdated');this.modalLoaded=true;this.setTargetElementId(options,url);this.setPathId(url);}.bind(this));},setPathId:function(url){this.pathId=url.match(/(&|\\/|%26)current_tree_path(=|\\/)([\\s\\S].*?)(\\/|$)/)[3];},setTargetElementId:function(options,url){this.targetElementId=options&&options.targetElementId?options.targetElementId:url.match(/\\/target_element_id\\/([\\s\\S].*?)\\//)[1];},closeDialog:function(){this.modal.modal('closeModal');}};$.widget('mage.mediabrowser',{eventPrefix:'mediabrowser',options:{contentsUrl:null,onInsertUrl:null,newFolderUrl:null,deleteFolderUrl:null,deleteFilesUrl:null,headerText:null,tree:null,currentNode:null,storeId:null,showBreadcrumbs:null,hidden:'no-display'},_create:function(){this._on({'click [data-row=file]':'selectFile','dblclick [data-row=file]':'insert','click #new_folder':'newFolder','click #delete_folder':'deleteFolder','click #delete_files':'deleteFiles','click #insert_files':'insertSelectedFiles','fileuploaddone':'_uploadDone','click [data-row=breadcrumb]':'selectFolder'});$(window).on('reload.MediaGallery',$.proxy(this.reload,this));this.activeNode=null;this.tree=this.element.find('[data-role=tree]');this.tree.on('select_node.jstree',$.proxy(this._selectNode,this));},_selectNode:function(event,data){var node=data.rslt.obj.data('node');this.activeNode=node;this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden,true);this.element.find('#contents').toggleClass(this.options.hidden,false);this.element.find('#delete_folder').toggleClass(this.options.hidden,node.id=='root');this.element.find('#content_header_text').html(node.id=='root'?this.headerText:node.text);this.drawBreadcrumbs(data);this.loadFileList(node);},reload:function(uploaded){return this.loadFileList(this.activeNode,uploaded);},insertAtCursor:function(element,value){var sel,startPos,endPos,scrollTop;if('selection'in document){element.focus();sel=document.selection.createRange();sel.text=value;element.focus();}else if(element.selectionStart||element.selectionStart=='0'){startPos=element.selectionStart;endPos=element.selectionEnd;scrollTop=element.scrollTop;element.value=element.value.substring(0,startPos)+value+\nelement.value.substring(startPos,endPos)+element.value.substring(endPos,element.value.length);element.focus();element.selectionStart=startPos+value.length;element.selectionEnd=startPos+value.length+element.value.substring(startPos,endPos).length;element.scrollTop=scrollTop;}else{element.value+=value;element.focus();}},loadFileList:function(node,uploaded){var contentBlock=this.element.find('#contents');return $.ajax({url:this.options.contentsUrl,type:'GET',dataType:'html',data:{'form_key':FORM_KEY,node:node.id},context:contentBlock,showLoader:true}).done(function(data){contentBlock.html(data).trigger('contentUpdated');if(uploaded){contentBlock.find('.filecnt:last').click();}});},selectFolder:function(event){this.element.find('[data-id=\"'+$(event.currentTarget).data('node').id+'\"]>a').click();},insertSelectedFiles:function(){this.element.find('[data-row=file].selected').trigger('dblclick');},selectFile:function(event){var fileRow=$(event.currentTarget);fileRow.toggleClass('selected');this.element.find('[data-row=file]').not(fileRow).removeClass('selected');this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden,!fileRow.is('.selected'));fileRow.trigger('selectfile');},_uploadDone:function(){this.element.find('.file-row').remove();this.reload(true);},insert:function(event){var fileRow=$(event.currentTarget),targetEl;if(!fileRow.prop('id')){return false;}\ntargetEl=this.getTargetElement();if(!targetEl.length){MediabrowserUtility.closeDialog();throw'Target element not found for content update';}\nreturn $.ajax({url:this.options.onInsertUrl,data:{filename:fileRow.attr('id'),node:this.activeNode.id,store:this.options.storeId,'as_is':targetEl.is('textarea')?1:0,'force_static_path':targetEl.data('force_static_path')?1:0,'form_key':FORM_KEY},context:this,showLoader:true}).done($.proxy(function(data){if(targetEl.is('textarea')){this.insertAtCursor(targetEl.get(0),data);}else{targetEl.val(data).data('size',fileRow.data('size')).data('mime-type',fileRow.data('mime-type')).trigger('change');}\nMediabrowserUtility.closeDialog();targetEl.focus();jQuery(targetEl).change();},this));},getTargetElement:function(){var opener,targetElementId,mediaBrowser=window.MediabrowserUtility;if(!_.isUndefined(wysiwyg)&&wysiwyg.get(mediaBrowser.targetElementId)){opener=this.getMediaBrowserOpener()||window;targetElementId=tinyMceEditors.get(mediaBrowser.targetElementId).getMediaBrowserTargetElementId();return $(opener.document.getElementById(targetElementId));}\nreturn $('#'+mediaBrowser.targetElementId);},getMediaBrowserOpener:function(){var targetElementId=window.MediabrowserUtility.targetElementId;if(!_.isUndefined(wysiwyg)&&wysiwyg.get(targetElementId)&&!_.isUndefined(tinyMceEditors)&&!tinyMceEditors.get(targetElementId).getMediaBrowserOpener().closed){return tinyMceEditors.get(targetElementId).getMediaBrowserOpener();}\nreturn null;},newFolder:function(){var self=this;prompt({title:this.options.newFolderPrompt,actions:{confirm:function(folderName){$.ajax({url:self.options.newFolderUrl,dataType:'json',data:{name:folderName,node:self.activeNode.id,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(data){if(data.error){alert({content:data.message});}else{self.tree.jstree('refresh',self.element.find('[data-id=\"'+self.activeNode.id+'\"]'));}},this));return true;}}});},deleteFolder:function(){var self=this;confirm({content:this.options.deleteFolderConfirmationMessage,actions:{confirm:function(){return $.ajax({url:self.options.deleteFolderUrl,dataType:'json',data:{node:self.activeNode.id,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(){self.tree.jstree('refresh',self.activeNode.id);self.reload();$(window).trigger('fileDeleted.mediabrowser',{ids:self.activeNode.id});},this));},cancel:function(){return false;}}});},deleteFiles:function(){var self=this;confirm({content:this.options.deleteFileConfirmationMessage,actions:{confirm:function(){var selectedFiles=self.element.find('[data-row=file].selected'),ids=selectedFiles.map(function(){return $(this).attr('id');}).toArray();return $.ajax({url:self.options.deleteFilesUrl,data:{files:ids,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(){self.reload();self.element.find('#delete_files, #insert_files').toggleClass(self.options.hidden,true);$(window).trigger('fileDeleted.mediabrowser',{ids:ids});},this));},cancel:function(){return false;}}});},drawBreadcrumbs:function(data){var node,breadcrumbs;if(this.element.find('#breadcrumbs').length){this.element.find('#breadcrumbs').remove();}\nnode=data.rslt.obj.data('node');if(node.id=='root'){return;}\nbreadcrumbs=$('<ul class=\"breadcrumbs\" id=\"breadcrumbs\" />');$(data.rslt.obj.parents('[data-id]').get().reverse()).add(data.rslt.obj).each(function(index,element){var nodeData=$(element).data('node');if(index>0){breadcrumbs.append($('<li>\\/</li>'));}\nbreadcrumbs.append($('<li />').data('node',nodeData).attr('data-row','breadcrumb').text(nodeData.text));});breadcrumbs.insertAfter(this.element.find('#content_header'));}});return window.MediabrowserUtility;});","mage/adminhtml/events.min.js":"define(['Magento_Ui/js/modal/alert','prototype'],function(alert){window.varienEvents=Class.create();varienEvents.prototype={initialize:function(){this.arrEvents={};this.eventPrefix='';},attachEventHandler:function(eventName,handler){var asynchVar,handlerObj;if(typeof handler=='undefined'||handler==null){return;}\neventName+=this.eventPrefix;if(this.arrEvents[eventName]==null){this.arrEvents[eventName]=[];}\nasynchVar=arguments.length>2?arguments[2]:false;handlerObj={method:handler,asynch:asynchVar};this.arrEvents[eventName].push(handlerObj);},removeEventHandler:function(eventName,handler){eventName+=this.eventPrefix;if(this.arrEvents[eventName]!=null){this.arrEvents[eventName]=this.arrEvents[eventName].reject(function(obj){return obj.method==handler;});}},clearEventHandlers:function(eventName){eventName+=this.eventPrefix;this.arrEvents[eventName]=null;},clearAllEventHandlers:function(){this.arrEvents={};},fireEventReducer:function(eventName,arg){var evtName=eventName+this.eventPrefix,result=arg,len,i;if(!this.arrEvents[evtName]){return result;}\nlen=this.arrEvents[evtName].length;for(i=0;i<len;i++){try{result=this.arrEvents[evtName][i].method(result);}catch(e){if(this.id){alert({content:'error: error in '+this.id+'.fireEventReducer():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}else{alert({content:'error: error in [unknown object].fireEventReducer():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}}}\nreturn result;},fireEvent:function(eventName){var evtName=eventName+this.eventPrefix,results=[],result,len,i,eventArgs,method,eventHandler;if(this.arrEvents[evtName]!=null){len=this.arrEvents[evtName].length;for(i=0;i<len;i++){try{if(arguments.length>1){if(this.arrEvents[evtName][i].asynch){eventArgs=arguments[1];method=this.arrEvents[evtName][i].method.bind(this);setTimeout(function(){method(eventArgs);},10);}else{result=this.arrEvents[evtName][i].method(arguments[1]);}}else{if(this.arrEvents[evtName][i].asynch){eventHandler=this.arrEvents[evtName][i].method;setTimeout(eventHandler,1);}else if(this.arrEvents&&this.arrEvents[evtName]&&this.arrEvents[evtName][i]&&this.arrEvents[evtName][i].method){result=this.arrEvents[evtName][i].method();}}\nresults.push(result);}\ncatch(e){if(this.id){alert({content:'error: error in '+this.id+'.fireEvent():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}else{alert({content:'error: error in [unknown object].fireEvent():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}}}}\nreturn results;}};window.varienGlobalEvents=new varienEvents();return window.varienGlobalEvents;});","mage/adminhtml/backup.min.js":"define(['jquery','Magento_Ui/js/modal/modal','mage/mage','prototype'],function(jQuery){window.AdminBackup=new Class.create();AdminBackup.prototype={initialize:function(){this.reset();this.rollbackUrl=this.backupUrl='';},reset:function(){this.time=0;this.type='';},backup:function(type){this.reset();this.type=type;this.requestBackupOptions();return false;},rollback:function(type,time){this.reset();this.time=time;this.type=type;this.showRollbackWarning();return false;},showRollbackWarning:function(){this.showPopup('rollback-warning');},requestBackupOptions:function(){this.hidePopups();this.showPopup('backup-options');if(this.type==='snapshot'){jQuery('#exclude-media-checkbox-container').removeClass('no-display');}},requestPassword:function(){this.hidePopups();this.showPopup('rollback-request-password');this.type!='db'?$('use-ftp-checkbox-row').show():$('use-ftp-checkbox-row').hide();},toggleFtpCredentialsForm:function(){$('use_ftp').checked?$('ftp-credentials-container').show():$('ftp-credentials-container').hide();$$('#ftp-credentials-container input').each(function(item){if(item.name=='ftp_path'){return;}\n$('use_ftp').checked?item.addClassName('required-entry'):item.removeClassName('required-entry');});},submitBackup:function(){var data={'type':this.type,'maintenance_mode':$('backup_maintenance_mode').checked?1:0,'backup_name':$('backup_name').value,'exclude_media':$('exclude_media').checked?1:0};new Ajax.Request(this.backupUrl,{onSuccess:function(transport){this.processResponse(transport,'backup-options');}.bind(this),method:'post',parameters:data});this.modal.modal('closeModal');},submitRollback:function(){var data=this.getPostData();new Ajax.Request(this.rollbackUrl,{onSuccess:function(transport){this.processResponse(transport,'rollback-request-password');}.bind(this),method:'post',parameters:data});this.modal.modal('closeModal');},processResponse:function(transport,popupId){var json;if(!transport.responseText.isJSON()){return;}\njson=transport.responseText.evalJSON();if(json.error){this.showPopup(popupId);this.displayError(popupId,json.error);return;}\nif(json['redirect_url']){setLocation(json['redirect_url']);}},displayError:function(parentContainer,message){var messageHtml=this.getErrorMessageHtml(message);$$('#'+parentContainer+' .backup-messages .messages').invoke('update',messageHtml);$$('#'+parentContainer+' .backup-messages').invoke('show');},getErrorMessageHtml:function(message){return'<div class=\"message message-error error\"><div>'+message+'</div></div>';},getPostData:function(){var data=$('rollback-form').serialize(true);data.time=this.time;data.type=this.type;return data;},backupConfig:{'backup-options':{title:jQuery.mage.__('Backup options'),content:function(){return document.getElementById('backup-options-template').textContent;},actionOk:function(){this.modal.find('#backup-form').validation({submitHandler:jQuery.proxy(this.submitBackup,this)});this.modal.find('#backup-form').submit();}},'rollback-warning':{title:jQuery.mage.__('Warning'),content:function(){return document.getElementById('rollback-warning-template').textContent;},actionOk:function(){this.modal.modal('closeModal');this.requestPassword();}},'rollback-request-password':{title:jQuery.mage.__('Backup options'),content:function(){return document.getElementById('rollback-request-password-template').textContent;},actionOk:function(){this.modal.find('#rollback-form').validation({submitHandler:jQuery.proxy(this.submitRollback,this)});this.modal.find('#rollback-form').submit();},opened:function(){this.toggleFtpCredentialsForm();}}},showPopup:function(divId){var self=this;this.modal=jQuery('<div/>').attr({id:divId}).html(this.backupConfig[divId].content()).modal({modalClass:'magento',title:this.backupConfig[divId].title,type:'slide',closed:function(e,modal){modal.modal.remove();},opened:function(){if(self.backupConfig[divId].opened){self.backupConfig[divId].opened.call(self);}},buttons:[{text:jQuery.mage.__('Cancel'),'class':'action cancel',click:function(){this.closeModal();}},{text:jQuery.mage.__('Ok'),'class':'action primary',click:function(){self.backupConfig[divId].actionOk.call(self);}}]});this.modal.modal('openModal');},hidePopups:function(){var mask;$$('.backup-dialog').each(Element.hide);mask=$('popup-window-mask');if(mask){mask.hide();}}};});","mage/adminhtml/grid.min.js":"define(['jquery','mage/template','Magento_Ui/js/modal/alert','Magento_Ui/js/modal/confirm','mage/mage','prototype','mage/adminhtml/form','mage/adminhtml/events'],function(jQuery,mageTemplate,alert,confirm){function openGridRow(grid,event){var element=Event.findElement(event,'tr');if(['a','input','select','option'].indexOf(Event.element(event).tagName.toLowerCase())!==-1){return;}\nif(element.title){setLocation(element.title);}}\nwindow.openGridRow=openGridRow;window.varienGrid=new Class.create();varienGrid.prototype={initialize:function(containerId,url,pageVar,sortVar,dirVar,filterVar){this.containerId=containerId;jQuery('#'+containerId).data('gridObject',this);this.url=url;this.pageVar=pageVar||false;this.sortVar=sortVar||false;this.dirVar=dirVar||false;this.filterVar=filterVar||false;this.tableSufix='_table';this.useAjax=false;this.rowClickCallback=false;this.checkboxCheckCallback=false;this.preInitCallback=false;this.initCallback=false;this.initRowCallback=false;this.doFilterCallback=false;this.sortableUpdateCallback=false;this.targetElement=undefined;this.filterKeyPressCallback=false;this.reloadParams=false;this.trOnMouseOver=this.rowMouseOver.bindAsEventListener(this);this.trOnMouseOut=this.rowMouseOut.bindAsEventListener(this);this.trOnMouseDown=this.rowMouseDown.bindAsEventListener(this);this.trOnClick=this.rowMouseClick.bindAsEventListener(this);this.trOnDblClick=this.rowMouseDblClick.bindAsEventListener(this);this.trOnKeyPress=this.keyPress.bindAsEventListener(this);this.thLinkOnClick=this.doSort.bindAsEventListener(this);this.initGrid();},initGrid:function(){var row,columns,col;if(this.preInitCallback){this.preInitCallback(this);}\nif($(this.containerId+this.tableSufix)){this.rows=$$('#'+this.containerId+this.tableSufix+' tbody tr');for(row=0;row<this.rows.length;row++){if(row%2==0){Element.addClassName(this.rows[row],'even');}\nEvent.observe(this.rows[row],'mouseover',this.trOnMouseOver);Event.observe(this.rows[row],'mouseout',this.trOnMouseOut);Event.observe(this.rows[row],'mousedown',this.trOnMouseDown);Event.observe(this.rows[row],'click',this.trOnClick);Event.observe(this.rows[row],'dblclick',this.trOnDblClick);}}\nif(this.sortVar&&this.dirVar){columns=$$('#'+this.containerId+this.tableSufix+' thead [data-sort]');for(col=0;col<columns.length;col++){Event.observe(columns[col],'click',this.thLinkOnClick);}}\nthis.bindFilterFields();this.bindFieldsChange();if(this.initCallback){try{this.initCallback(this);}catch(e){if(window.console){console.log(e);}}}\njQuery('#'+this.containerId).trigger('gridinit',this);},initGridAjax:function(){this.initGrid();this.initGridRows();},initGridRows:function(){var row;if(this.initRowCallback){for(row=0;row<this.rows.length;row++){try{this.initRowCallback(this,this.rows[row]);}catch(e){if(window.console){console.log(e);}}}}},rowMouseOver:function(event){var element=Event.findElement(event,'tr');if(!element.title){return;}\nElement.addClassName(element,'on-mouse');if(!Element.hasClassName('_clickable')&&(this.rowClickCallback!==openGridRow||element.title)){if(element.title){Element.addClassName(element,'_clickable');}}},rowMouseOut:function(event){var element=Event.findElement(event,'tr');Element.removeClassName(element,'on-mouse');},rowMouseDown:function(event){this.targetElement=event.target;},rowMouseClick:function(event){if(this.rowClickCallback){try{this.rowClickCallback(this,event);}catch(e){}}\nvarienGlobalEvents.fireEvent('gridRowClick',event);this.targetElement=undefined;},rowMouseDblClick:function(event){varienGlobalEvents.fireEvent('gridRowDblClick',event);},keyPress:function(){},doSort:function(event){var element=Event.findElement(event,'th');if(element.readAttribute('data-sort')&&element.readAttribute('data-direction')){this.addVarToUrl(this.sortVar,element.readAttribute('data-sort'));this.addVarToUrl(this.dirVar,element.readAttribute('data-direction'));this.reload(this.url);}\nEvent.stop(event);return false;},loadByElement:function(element){if(element&&element.name){this.reload(this.addVarToUrl(element.name,element.value));}},_onAjaxSeccess:function(data,textStatus,transport){var responseText,response,divId;try{responseText=transport.responseText;if(transport.responseText.isJSON()){response=transport.responseText.evalJSON();if(response.error){alert({content:response.message});}\nif(response.ajaxExpired&&response.ajaxRedirect){setLocation(response.ajaxRedirect);}}else{divId=$(this.containerId);if(divId.id==this.containerId){divId.update(responseText);}else{$$('div[id=\"'+this.containerId+'\"]')[0].update(responseText);}}}catch(e){divId=$(this.containerId);if(divId.id==this.containerId){divId.update(responseText);}else{$$('div[id=\"'+this.containerId+'\"]')[0].update(responseText);}}\njQuery('#'+this.containerId).trigger('contentUpdated');},reload:function(url,onSuccessCallback){var ajaxSettings,ajaxRequest;this.reloadParams=this.reloadParams||{};this.reloadParams['form_key']=FORM_KEY;url=url||this.url;if(this.useAjax){ajaxSettings={url:url+(url.match(new RegExp('\\\\?'))?'&ajax=true':'?ajax=true'),showLoader:true,method:'post',context:jQuery('#'+this.containerId),data:this.reloadParams,error:this._processFailure.bind(this),complete:this.initGridAjax.bind(this),dataType:'html',success:function(data,textStatus,transport){this._onAjaxSeccess(data,textStatus,transport);if(onSuccessCallback&&typeof onSuccessCallback==='function'){onSuccessCallback();}}.bind(this)};jQuery('#'+this.containerId).trigger('gridajaxsettings',ajaxSettings);ajaxRequest=jQuery.ajax(ajaxSettings);jQuery('#'+this.containerId).trigger('gridajax',ajaxRequest);return ajaxRequest;}\nif(this.reloadParams){$H(this.reloadParams).each(function(pair){url=this.addVarToUrl(pair.key,pair.value);}.bind(this));}\nlocation.href=url;},_processFailure:function(){location.href=BASE_URL;},_addVarToUrl:function(url,varName,varValue){var re=new RegExp('\\/('+varName+'\\/.*?\\/)'),parts=url.split(new RegExp('\\\\?'));url=parts[0].replace(re,'/');url+=varName+'/'+varValue+'/';if(parts.size()>1){url+='?'+parts[1];}\nreturn url;},_buildFormAndSubmit:function(url,varName,varValue){var re=new RegExp('\\/('+varName+'\\/.*?\\/)'),parts=url.split(new RegExp('\\\\?')),form=jQuery('<form/>'),inputProps=[{name:varName,value:varValue},{name:'form_key',value:window.FORM_KEY}],input;url=parts[0].replace(re,'/');if(parts.size()>1){url+='?'+parts[1];}\nform.attr('action',url);form.attr('method','POST');inputProps.forEach(function(item){input=jQuery('<input/>');input.attr('name',item.name);input.attr('type','hidden');input.val(item.value);form.append(input);});jQuery('[data-container=\"body\"]').append(form);form.submit();form.remove();},addVarToUrl:function(varName,varValue){this.url=this._addVarToUrl(this.url,varName,varValue);return this.url;},doExport:function(){var exportUrl;if($(this.containerId+'_export')){exportUrl=$(this.containerId+'_export').value;if(this.massaction&&this.massaction.checkedString){this._buildFormAndSubmit(exportUrl,this.massaction.formFieldNameInternal,this.massaction.checkedString);}else{location.href=exportUrl;}}},bindFilterFields:function(){var filters=$$('#'+this.containerId+' [data-role=\"filter-form\"] input','#'+this.containerId+' [data-role=\"filter-form\"] select'),i;for(i=0;i<filters.length;i++){Event.observe(filters[i],'keypress',this.filterKeyPress.bind(this));}},bindFieldsChange:function(){var dataElements,i;if(!$(this.containerId)){return;}\ndataElements=$(this.containerId+this.tableSufix).down('tbody').select('input','select');for(i=0;i<dataElements.length;i++){Event.observe(dataElements[i],'change',dataElements[i].setHasChanges.bind(dataElements[i]));}},bindSortable:function(){if(jQuery('#'+this.containerId).find('.draggable-handle').length){jQuery('#'+this.containerId).find('tbody').sortable({axis:'y',handle:'.draggable-handle',helper:function(event,ui){ui.children().each(function(){jQuery(this).width(jQuery(this).width());});return ui;},update:this.sortableUpdateCallback?this.sortableUpdateCallback:function(){},tolerance:'pointer'});}},filterKeyPress:function(event){if(event.keyCode==Event.KEY_RETURN){this.doFilter();}\nif(this.filterKeyPressCallback){this.filterKeyPressCallback(this,event);}},doFilter:function(callback){var filters=$$('#'+this.containerId+' [data-role=\"filter-form\"] input','#'+this.containerId+' [data-role=\"filter-form\"] select'),elements=[],i;for(i in filters){if(filters[i].value&&filters[i].value.length){elements.push(filters[i]);}}\nif(!this.doFilterCallback||this.doFilterCallback&&this.doFilterCallback()){this.reload(this.addVarToUrl(this.filterVar,Base64.encode(Form.serializeElements(elements))),callback);}},resetFilter:function(callback){this.reload(this.addVarToUrl(this.filterVar,''),callback);},checkCheckboxes:function(element){var elements=Element.select($(this.containerId),'input[name=\"'+element.name+'\"]'),i;for(i=0;i<elements.length;i++){this.setCheckboxChecked(elements[i],element.checked);}},setCheckboxChecked:function(element,checked){element.checked=checked;jQuery(element).trigger('change');element.setHasChanges({});if(this.checkboxCheckCallback){this.checkboxCheckCallback(this,element,checked);}},inputPage:function(event,lastId){var element=Event.element(event),keyCode=event.keyCode||event.which,enteredValue=parseInt(element.value,10),pageId=parseInt(lastId,10);if(keyCode==Event.KEY_RETURN){if(enteredValue>pageId){this.setPage(pageId);}else{this.setPage(enteredValue);}}},setPage:function(pageNumber){this.reload(this.addVarToUrl(this.pageVar,pageNumber));}};window.varienGridMassaction=Class.create();varienGridMassaction.prototype={checkedValues:$H({}),checkedString:'',oldCallbacks:{},errorText:'',items:{},gridIds:[],useSelectAll:false,currentItem:false,lastChecked:{left:false,top:false,checkbox:false},fieldTemplate:mageTemplate('<input type=\"hidden\" name=\"<%- name %>\" value=\"<%- value %>\" />'),initialize:function(containerId,grid,checkedValues,formFieldNameInternal,formFieldName){this.setOldCallback('row_click',grid.rowClickCallback);this.setOldCallback('init',grid.initCallback);this.setOldCallback('init_row',grid.initRowCallback);this.setOldCallback('pre_init',grid.preInitCallback);this.useAjax=false;this.grid=grid;this.grid.massaction=this;this.containerId=containerId;this.initMassactionElements();this.checkedString=checkedValues;this.formFieldName=formFieldName;this.formFieldNameInternal=formFieldNameInternal;this.grid.initCallback=this.onGridInit.bind(this);this.grid.preInitCallback=this.onGridPreInit.bind(this);this.grid.initRowCallback=this.onGridRowInit.bind(this);this.grid.rowClickCallback=this.onGridRowClick.bind(this);this.initCheckboxes();this.checkCheckboxes();},setUseAjax:function(flag){this.useAjax=flag;},setUseSelectAll:function(flag){this.useSelectAll=flag;},initMassactionElements:function(){this.container=$(this.containerId);this.multiselect=$(this.containerId+'-mass-select');this.count=$(this.containerId+'-count');this.formHiddens=$(this.containerId+'-form-hiddens');this.formAdditional=$(this.containerId+'-form-additional');this.select=$(this.containerId+'-select');this.form=this.prepareForm();jQuery(this.form).mage('validation');this.select.observe('change',this.onSelectChange.bindAsEventListener(this));this.lastChecked={left:false,top:false,checkbox:false};this.select.addClassName(this.select.value?'_selected':'');this.initMassSelect();},prepareForm:function(){var form=$(this.containerId+'-form'),formPlace=null,formElement=this.formHiddens||this.formAdditional;if(!formElement){formElement=this.container.getElementsByTagName('button')[0];formElement&&formElement.parentNode;}\nif(!form&&formElement){form=document.createElement('form');form.setAttribute('method','post');form.setAttribute('action','');form.id=this.containerId+'-form';formPlace=formElement.parentNode;formPlace.parentNode.appendChild(form);form.appendChild(formPlace);}\nreturn form;},setGridIds:function(gridIds){this.gridIds=gridIds;this.updateCount();},getGridIds:function(){return this.gridIds;},setItems:function(items){this.items=items;this.updateCount();},getItems:function(){return this.items;},getItem:function(itemId){if(this.items[itemId]){return this.items[itemId];}\nreturn false;},getOldCallback:function(callbackName){return this.oldCallbacks[callbackName]?this.oldCallbacks[callbackName]:Prototype.emptyFunction;},setOldCallback:function(callbackName,callback){this.oldCallbacks[callbackName]=callback;},onGridPreInit:function(grid){this.initMassactionElements();this.getOldCallback('pre_init')(grid);},onGridInit:function(grid){this.initCheckboxes();this.checkCheckboxes();this.updateCount();this.getOldCallback('init')(grid);},onGridRowInit:function(grid,row){this.getOldCallback('init_row')(grid,row);},isDisabled:function(evt){var target=jQuery(evt.target),tr,checkbox;tr=target.is('tr')?target:target.closest('tr');checkbox=tr.find('input[type=\"checkbox\"]');return checkbox.is(':disabled');},onGridRowClick:function(grid,evt){var tdElement=Event.findElement(evt,'td'),trElement=Event.findElement(evt,'tr'),checkbox,isInput,checked;if(this.isDisabled(evt)){return false;}\nif(!$(tdElement).down('input')){if($(tdElement).down('a')||$(tdElement).down('select')){return;}\nif(trElement.title&&trElement.title.strip()!='#'){this.getOldCallback('row_click')(grid,evt);}else{checkbox=Element.select(trElement,'input');isInput=Event.element(evt).tagName=='input';checked=isInput?checkbox[0].checked:!checkbox[0].checked;if(checked){this.checkedString=varienStringArray.add(checkbox[0].value,this.checkedString);}else{this.checkedString=varienStringArray.remove(checkbox[0].value,this.checkedString);}\nthis.grid.setCheckboxChecked(checkbox[0],checked);this.updateCount();}\nreturn;}\nif(Event.element(evt).isMassactionCheckbox){this.setCheckbox(Event.element(evt));}else if(checkbox=this.findCheckbox(evt)){checkbox.checked=!checkbox.checked;jQuery(checkbox).trigger('change');this.setCheckbox(checkbox);}},onSelectChange:function(evt){var item=this.getSelectedItem();if(item){this.formAdditional.update($(this.containerId+'-item-'+item.id+'-block').innerHTML);evt.target.addClassName('_selected');}else{this.formAdditional.update('');evt.target.removeClassName('_selected');}\njQuery(this.form).data('validator').resetForm();},findCheckbox:function(evt){if(['a','input','select'].indexOf(Event.element(evt).tagName.toLowerCase())!==-1){return false;}\ncheckbox=false;Event.findElement(evt,'tr').select('[data-role=\"select-row\"]').each(function(element){if(element.isMassactionCheckbox){checkbox=element;}});return checkbox;},initCheckboxes:function(){this.getCheckboxes().each(function(checkbox){checkbox.isMassactionCheckbox=true;});},checkCheckboxes:function(){this.getCheckboxes().each(function(checkbox){checkbox.checked=varienStringArray.has(checkbox.value,this.checkedString);jQuery(checkbox).trigger('change');}.bind(this));},selectAll:function(){this.setCheckedValues(this.useSelectAll?this.getGridIds():this.getCheckboxesValuesAsString());this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},unselectAll:function(){this.setCheckedValues('');this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},selectVisible:function(){this.setCheckedValues(this.getCheckboxesValuesAsString());this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},unselectVisible:function(){this.getCheckboxesValues().each(function(key){this.checkedString=varienStringArray.remove(key,this.checkedString);}.bind(this));this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},setCheckedValues:function(values){this.checkedString=values;},getCheckedValues:function(){return this.checkedString;},getCheckboxes:function(){var result=[];this.grid.rows.each(function(row){var checkboxes=row.select('[data-role=\"select-row\"]');checkboxes.each(function(checkbox){result.push(checkbox);});});return result;},getCheckboxesValues:function(){var result=[];this.getCheckboxes().each(function(checkbox){result.push(checkbox.value);});return result;},getCheckboxesValuesAsString:function(){return this.getCheckboxesValues().join(',');},setCheckbox:function(checkbox){if(checkbox.checked){this.checkedString=varienStringArray.add(checkbox.value,this.checkedString);}else{this.checkedString=varienStringArray.remove(checkbox.value,this.checkedString);}\nthis.updateCount();},updateCount:function(){var checkboxesTotal=varienStringArray.count(this.useSelectAll?this.getGridIds():this.getCheckboxesValuesAsString()),checkboxesChecked=varienStringArray.count(this.checkedString);jQuery('[data-role=\"counter\"]',this.count).html(checkboxesChecked);if(!checkboxesTotal){this.multiselect.addClassName('_disabled');}else{this.multiselect.removeClassName('_disabled');}\nif(checkboxesChecked==checkboxesTotal&&checkboxesTotal!=0){this.count.removeClassName('_empty');this.multiselect.addClassName('_checked').removeClassName('_indeterminate');}else if(checkboxesChecked==0){this.count.addClassName('_empty');this.multiselect.removeClassName('_checked').removeClassName('_indeterminate');}else{this.count.removeClassName('_empty');this.multiselect.addClassName('_checked').addClassName('_indeterminate');}\nif(!this.grid.reloadParams){this.grid.reloadParams={};}\nthis.grid.reloadParams[this.formFieldNameInternal]=this.checkedString;},getSelectedItem:function(){if(this.getItem(this.select.value)){return this.getItem(this.select.value);}\nreturn false;},apply:function(){var item,fieldName;if(varienStringArray.count(this.checkedString)==0){alert({content:this.errorText});return;}\nitem=this.getSelectedItem();if(!item){jQuery(this.form).valid();return;}\nthis.currentItem=item;fieldName=item.field?item.field:this.formFieldName;if(this.currentItem.confirm){confirm({content:this.currentItem.confirm,actions:{confirm:this.onConfirm.bind(this,fieldName,item)}});}else{this.onConfirm(fieldName,item);}},onConfirm:function(fieldName,item){this.formHiddens.update('');new Insertion.Bottom(this.formHiddens,this.fieldTemplate({name:fieldName,value:this.checkedString}));new Insertion.Bottom(this.formHiddens,this.fieldTemplate({name:'massaction_prepare_key',value:fieldName}));if(!jQuery(this.form).valid()){return;}\nif(this.useAjax&&item.url){new Ajax.Request(item.url,{'method':'post','parameters':this.form.serialize(true),'onComplete':this.onMassactionComplete.bind(this)});}else if(item.url){this.form.action=item.url;this.form.submit();}},onMassactionComplete:function(transport){var listener;if(this.currentItem.complete){try{listener=this.getListener(this.currentItem.complete)||Prototype.emptyFunction;listener(this.grid,this,transport);}catch(e){}}},getListener:function(strValue){return eval(strValue);},initMassSelect:function(){$$('input[data-role=\"select-row\"]').each(function(element){element.observe('click',this.massSelect.bind(this));}.bind(this));},clearLastChecked:function(){this.lastChecked={left:false,top:false,checkbox:false};},massSelect:function(evt){var currentCheckbox,lastCheckbox,start,finish;if(this.lastChecked.left!==false&&this.lastChecked.top!==false&&evt.button===0&&evt.shiftKey===true){currentCheckbox=Event.element(evt);lastCheckbox=this.lastChecked.checkbox;if(lastCheckbox!=currentCheckbox){start=this.getCheckboxOrder(lastCheckbox);finish=this.getCheckboxOrder(currentCheckbox);if(start!==false&&finish!==false){this.selectCheckboxRange(Math.min(start,finish),Math.max(start,finish),currentCheckbox.checked);}}}\nthis.lastChecked={left:Event.element(evt).viewportOffset().left,top:Event.element(evt).viewportOffset().top,checkbox:Event.element(evt)};},getCheckboxOrder:function(curCheckbox){var order=false;this.getCheckboxes().each(function(checkbox,key){if(curCheckbox==checkbox){order=key;}});return order;},selectCheckboxRange:function(start,finish,isChecked){this.getCheckboxes().each(function(checkbox,key){if(key>=start&&key<=finish){checkbox.checked=isChecked;this.setCheckbox(checkbox);}}.bind(this));}};window.varienGridAction={execute:function(select){var config,win;if(!select.value||!select.value.isJSON()){return;}\nconfig=select.value.evalJSON();if(config.confirm&&!window.confirm(config.confirm)){select.options[0].selected=true;return;}\nif(config.popup){win=window.open(config.href,'action_window','width=500,height=600,resizable=1,scrollbars=1');win.focus();select.options[0].selected=true;}else{setLocation(config.href);}}};window.varienStringArray={remove:function(str,haystack){haystack=','+haystack+',';haystack=haystack.replace(new RegExp(','+str+',','g'),',');return this.trimComma(haystack);},add:function(str,haystack){haystack=','+haystack+',';if(haystack.search(new RegExp(','+str+',','g'),haystack)===-1){haystack+=str+',';}\nreturn this.trimComma(haystack);},has:function(str,haystack){haystack=','+haystack+',';if(haystack.search(new RegExp(','+str+',','g'),haystack)===-1){return false;}\nreturn true;},count:function(haystack){var match;if(typeof haystack!='string'){return 0;}\nif(match=haystack.match(new RegExp(',','g'))){return match.length+1;}else if(haystack.length!=0){return 1;}\nreturn 0;},each:function(haystack,fnc){var i;haystack=haystack.split(',');for(i=0;i<haystack.length;i++){fnc(haystack[i]);}},trimComma:function(string){string=string.replace(new RegExp('^(,+)','i'),'');string=string.replace(new RegExp('(,+)$','i'),'');return string;}};window.serializerController=Class.create();serializerController.prototype={oldCallbacks:{},initialize:function(hiddenDataHolder,predefinedData,inputsToManage,grid,reloadParamName){this.tabIndex=1000;this.inputsToManage=inputsToManage;this.multidimensionalMode=inputsToManage.length>0;this.gridData=this.getGridDataHash(predefinedData);this.hiddenDataHolder=$(hiddenDataHolder);this.hiddenDataHolder.value=this.serializeObject();this.grid=grid;this.setOldCallback('row_click',this.grid.rowClickCallback);this.setOldCallback('init_row',this.grid.initRowCallback);this.setOldCallback('checkbox_check',this.grid.checkboxCheckCallback);this.reloadParamName=reloadParamName;this.grid.reloadParams={};this.grid.reloadParams[this.reloadParamName+'[]']=this.getDataForReloadParam();this.grid.rowClickCallback=this.rowClick.bind(this);this.grid.initRowCallback=this.rowInit.bind(this);this.grid.checkboxCheckCallback=this.registerData.bind(this);this.grid.rows.each(this.eachRow.bind(this));},setOldCallback:function(callbackName,callback){this.oldCallbacks[callbackName]=callback;},getOldCallback:function(callbackName){return this.oldCallbacks[callbackName]?this.oldCallbacks[callbackName]:Prototype.emptyFunction;},registerData:function(grid,element,checked){var i;if(this.multidimensionalMode){if(checked){if(element.inputElements){this.gridData.set(element.value,{});for(i=0;i<element.inputElements.length;i++){element.inputElements[i].disabled=false;this.gridData.get(element.value)[element.inputElements[i].name]=element.inputElements[i].value;}}}else{if(element.inputElements){for(i=0;i<element.inputElements.length;i++){element.inputElements[i].disabled=true;}}\nthis.gridData.unset(element.value);}}else{if(checked){this.gridData.set(element.value,element.value);}else{this.gridData.unset(element.value);}}\nthis.hiddenDataHolder.value=this.serializeObject();this.grid.reloadParams={};this.grid.reloadParams[this.reloadParamName+'[]']=this.getDataForReloadParam();this.getOldCallback('checkbox_check')(grid,element,checked);},eachRow:function(row){this.rowInit(this.grid,row);},rowClick:function(grid,event){var trElement=Event.findElement(event,'tr'),isInput=Event.element(event).tagName=='INPUT',checkbox,checked;if(trElement){checkbox=Element.select(trElement,'input');if(checkbox[0]&&!checkbox[0].disabled){checked=isInput?checkbox[0].checked:!checkbox[0].checked;this.grid.setCheckboxChecked(checkbox[0],checked);}}\nthis.getOldCallback('row_click')(grid,event);},inputChange:function(event){var element=Event.element(event);if(element&&element.checkboxElement&&element.checkboxElement.checked){this.gridData.get(element.checkboxElement.value)[element.name]=element.value;this.hiddenDataHolder.value=this.serializeObject();}},rowInit:function(grid,row){var checkbox,selectors,inputs,i;if(this.multidimensionalMode){checkbox=$(row).select('.checkbox')[0];selectors=this.inputsToManage.map(function(name){return['input[name=\"'+name+'\"]','select[name=\"'+name+'\"]'];});inputs=$(row).select.apply($(row),selectors.flatten());if(checkbox&&inputs.length>0){checkbox.inputElements=inputs;for(i=0;i<inputs.length;i++){inputs[i].checkboxElement=checkbox;if(this.gridData.get(checkbox.value)&&this.gridData.get(checkbox.value)[inputs[i].name]){inputs[i].value=this.gridData.get(checkbox.value)[inputs[i].name];}\ninputs[i].disabled=!checkbox.checked;inputs[i].tabIndex=this.tabIndex++;Event.observe(inputs[i],'keyup',this.inputChange.bind(this));Event.observe(inputs[i],'change',this.inputChange.bind(this));}}}\nthis.getOldCallback('init_row')(grid,row);},getGridDataHash:function(_object){return $H(this.multidimensionalMode?_object:this.convertArrayToObject(_object));},getDataForReloadParam:function(){return this.multidimensionalMode?this.gridData.keys():this.gridData.values();},serializeObject:function(){var clone;if(this.multidimensionalMode){clone=this.gridData.clone();clone.each(function(pair){clone.set(pair.key,Base64.encode(Object.toQueryString(pair.value)));});return clone.toQueryString();}\nreturn this.gridData.values().join('&');},convertArrayToObject:function(_array){var _object={},i,l;for(i=0,l=_array.length;i<l;i++){_object[_array[i]]=_array[i];}\nreturn _object;}};});","mage/adminhtml/wysiwyg/events.min.js":"define([],function(){'use strict';return{afterInitialization:'afterInitialization',afterChangeContent:'afterChangeContent',afterUndo:'afterUndo',afterPaste:'afterPaste',beforeSetContent:'beforeSetContent',afterSetContent:'afterSetContent',afterSave:'afterSave',afterOpenFileBrowser:'afterOpenFileBrowser',afterFormSubmit:'afterFormSubmit',afterBlur:'afterBlur',afterFocus:'afterFocus'};});"}
}});

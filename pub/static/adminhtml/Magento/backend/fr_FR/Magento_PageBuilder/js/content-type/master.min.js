function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
define(["underscore","Magento_PageBuilder/js/utils/object","Magento_PageBuilder/js/content-type/appearance-config"],function(_underscore,_object,_appearanceConfig){var Master=function(){"use strict";function Master(contentType,observableUpdater){this.data={};this.contentType=contentType;this.observableUpdater=observableUpdater;this.bindEvents();}
var _proto=Master.prototype;_proto.getData=function getData(element){var data=_underscore.extend({},this.contentType.dataStore.getState());if(undefined===element){return data;}
var appearanceConfiguration=(0,_appearanceConfig)(this.contentType.config.name,data.appearance);var config=appearanceConfiguration.elements;data=this.observableUpdater.convertData(data,appearanceConfiguration.converters);var result={};if(undefined!==config[element].tag.var){result[config[element].tag.var]=(0,_object.get)(data,config[element].tag.var);}
return result;};_proto.destroy=function destroy(){return;};_proto.bindEvents=function bindEvents(){var _this=this;this.contentType.dataStore.subscribe(function(){_this.updateObservables();});};_proto.afterObservablesUpdated=function afterObservablesUpdated(){return;};_proto.updateObservables=function updateObservables(){this.observableUpdater.update(this,_underscore.extend({name:this.contentType.config.name},this.contentType.dataStore.getState()),this.contentType.getDataStoresStates());this.afterObservablesUpdated();};_createClass(Master,[{key:"template",get:function get(){return(0,_appearanceConfig)(this.contentType.config.name,this.getData().appearance).master_template;}}]);return Master;}();return Master;});
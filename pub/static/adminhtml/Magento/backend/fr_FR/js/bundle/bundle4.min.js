require.config({"config": {
        "jsbuild":{"jquery/spectrum/tinycolor.min.js":"(function(Math){var trimLeft=/^\\s+/,trimRight=/\\s+$/,tinyCounter=0,mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,mathRandom=Math.random;function tinycolor(color,opts){color=(color)?color:'';opts=opts||{};if(color instanceof tinycolor){return color;}\nif(!(this instanceof tinycolor)){return new tinycolor(color,opts);}\nvar rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/ 100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;if(this._r<1){this._r=mathRound(this._r);}\nif(this._g<1){this._g=mathRound(this._g);}\nif(this._b<1){this._b=mathRound(this._b);}\nthis._ok=rgb.ok;this._tc_id=tinyCounter++;}\ntinycolor.prototype={isDark:function(){return this.getBrightness()<128;},isLight:function(){return!this.isDark();},isValid:function(){return this._ok;},getOriginalInput:function(){return this._originalInput;},getFormat:function(){return this._format;},getAlpha:function(){return this._a;},getBrightness:function(){var rgb=this.toRgb();return(rgb.r*299+rgb.g*587+rgb.b*114)/ 1000;},getLuminance:function(){var rgb=this.toRgb();var RsRGB,GsRGB,BsRGB,R,G,B;RsRGB=rgb.r/255;GsRGB=rgb.g/255;BsRGB=rgb.b/255;if(RsRGB<=0.03928){R=RsRGB / 12.92;}else{R=Math.pow(((RsRGB+0.055)/ 1.055),2.4);}\nif(GsRGB<=0.03928){G=GsRGB / 12.92;}else{G=Math.pow(((GsRGB+0.055)/ 1.055),2.4);}\nif(BsRGB<=0.03928){B=BsRGB / 12.92;}else{B=Math.pow(((BsRGB+0.055)/ 1.055),2.4);}\nreturn(0.2126*R)+(0.7152*G)+(0.0722*B);},setAlpha:function(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/ 100;return this;},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:this._a};},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(hsv.h*360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return(this._a==1)?\"hsv(\"+h+\", \"+s+\"%, \"+v+\"%)\":\"hsva(\"+h+\", \"+s+\"%, \"+v+\"%, \"+this._roundA+\")\";},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:this._a};},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return(this._a==1)?\"hsl(\"+h+\", \"+s+\"%, \"+l+\"%)\":\"hsla(\"+h+\", \"+s+\"%, \"+l+\"%, \"+this._roundA+\")\";},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char);},toHexString:function(allow3Char){return'#'+this.toHex(allow3Char);},toHex8:function(allow4Char){return rgbaToHex(this._r,this._g,this._b,this._a,allow4Char);},toHex8String:function(allow4Char){return'#'+this.toHex8(allow4Char);},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a};},toRgbString:function(){return(this._a==1)?\"rgb(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\")\":\"rgba(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\", \"+this._roundA+\")\";},toPercentageRgb:function(){return{r:mathRound(bound01(this._r,255)*100)+\"%\",g:mathRound(bound01(this._g,255)*100)+\"%\",b:mathRound(bound01(this._b,255)*100)+\"%\",a:this._a};},toPercentageRgbString:function(){return(this._a==1)?\"rgb(\"+mathRound(bound01(this._r,255)*100)+\"%, \"+mathRound(bound01(this._g,255)*100)+\"%, \"+mathRound(bound01(this._b,255)*100)+\"%)\":\"rgba(\"+mathRound(bound01(this._r,255)*100)+\"%, \"+mathRound(bound01(this._g,255)*100)+\"%, \"+mathRound(bound01(this._b,255)*100)+\"%, \"+this._roundA+\")\";},toName:function(){if(this._a===0){return\"transparent\";}\nif(this._a<1){return false;}\nreturn hexNames[rgbToHex(this._r,this._g,this._b,true)]||false;},toFilter:function(secondColor){var hex8String='#'+rgbaToArgbHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?\"GradientType = 1, \":\"\";if(secondColor){var s=tinycolor(secondColor);secondHex8String='#'+rgbaToArgbHex(s._r,s._g,s._b,s._a);}\nreturn\"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&(format===\"hex\"||format===\"hex6\"||format===\"hex3\"||format===\"hex4\"||format===\"hex8\"||format===\"name\");if(needsAlphaFormat){if(format===\"name\"&&this._a===0){return this.toName();}\nreturn this.toRgbString();}\nif(format===\"rgb\"){formattedString=this.toRgbString();}\nif(format===\"prgb\"){formattedString=this.toPercentageRgbString();}\nif(format===\"hex\"||format===\"hex6\"){formattedString=this.toHexString();}\nif(format===\"hex3\"){formattedString=this.toHexString(true);}\nif(format===\"hex4\"){formattedString=this.toHex8String(true);}\nif(format===\"hex8\"){formattedString=this.toHex8String();}\nif(format===\"name\"){formattedString=this.toName();}\nif(format===\"hsl\"){formattedString=this.toHslString();}\nif(format===\"hsv\"){formattedString=this.toHsvString();}\nreturn formattedString||this.toHexString();},clone:function(){return tinycolor(this.toString());},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this;},lighten:function(){return this._applyModification(lighten,arguments);},brighten:function(){return this._applyModification(brighten,arguments);},darken:function(){return this._applyModification(darken,arguments);},desaturate:function(){return this._applyModification(desaturate,arguments);},saturate:function(){return this._applyModification(saturate,arguments);},greyscale:function(){return this._applyModification(greyscale,arguments);},spin:function(){return this._applyModification(spin,arguments);},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)));},analogous:function(){return this._applyCombination(analogous,arguments);},complement:function(){return this._applyCombination(complement,arguments);},monochromatic:function(){return this._applyCombination(monochromatic,arguments);},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments);},triad:function(){return this._applyCombination(triad,arguments);},tetrad:function(){return this._applyCombination(tetrad,arguments);}};tinycolor.fromRatio=function(color,opts){if(typeof color==\"object\"){var newColor={};for(var i in color){if(color.hasOwnProperty(i)){if(i===\"a\"){newColor[i]=color[i];}\nelse{newColor[i]=convertToPercentage(color[i]);}}}\ncolor=newColor;}\nreturn tinycolor(color,opts);};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var s=null;var v=null;var l=null;var ok=false;var format=false;if(typeof color==\"string\"){color=stringInputToObject(color);}\nif(typeof color==\"object\"){if(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)===\"%\"?\"prgb\":\"rgb\";}\nelse if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)){s=convertToPercentage(color.s);v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,s,v);ok=true;format=\"hsv\";}\nelse if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)){s=convertToPercentage(color.s);l=convertToPercentage(color.l);rgb=hslToRgb(color.h,s,l);ok=true;format=\"hsl\";}\nif(color.hasOwnProperty(\"a\")){a=color.a;}}\na=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a};}\nfunction rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255};}\nfunction rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/ 2;if(max==min){h=s=0;}\nelse{var d=max-min;s=l>0.5?d /(2-max-min):d /(max+min);switch(max){case r:h=(g-b)/ d+(g<b?6:0);break;case g:h=(b-r)/ d+2;break;case b:h=(r-g)/ d+4;break;}\nh /=6;}\nreturn{h:h,s:s,l:l};}\nfunction hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}\nif(s===0){r=g=b=l;}\nelse{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}\nreturn{r:r*255,g:g*255,b:b*255};}\nfunction rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d / max;if(max==min){h=0;}\nelse{switch(max){case r:h=(g-b)/ d+(g<b?6:0);break;case g:h=(b-r)/ d+2;break;case b:h=(r-g)/ d+4;break;}\nh /=6;}\nreturn{h:h,s:s,v:v};}\nfunction hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255};}\nfunction rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);}\nreturn hex.join(\"\");}\nfunction rgbaToHex(r,g,b,a,allow4Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16)),pad2(convertDecimalToHex(a))];if(allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0);}\nreturn hex.join(\"\");}\nfunction rgbaToArgbHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join(\"\");}\ntinycolor.equals=function(color1,color2){if(!color1||!color2){return false;}\nreturn tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString();};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()});};function desaturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s-=amount / 100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}\nfunction saturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s+=amount / 100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}\nfunction greyscale(color){return tinycolor(color).desaturate(100);}\nfunction lighten(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l+=amount / 100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}\nfunction brighten(color,amount){amount=(amount===0)?0:(amount||10);var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount / 100))));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount / 100))));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount / 100))));return tinycolor(rgb);}\nfunction darken(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l-=amount / 100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}\nfunction spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(hsl.h+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl);}\nfunction complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl);}\nfunction triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})];}\nfunction tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})];}\nfunction splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})];}\nfunction analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360 / slices;var ret=[tinycolor(color)];for(hsl.h=((hsl.h-(part*results>>1))+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl));}\nreturn ret;}\nfunction monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1 / results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1;}\nreturn ret;}\ntinycolor.mix=function(color1,color2,amount){amount=(amount===0)?0:(amount||50);var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount / 100;var rgba={r:((rgb2.r-rgb1.r)*p)+rgb1.r,g:((rgb2.g-rgb1.g)*p)+rgb1.g,b:((rgb2.b-rgb1.b)*p)+rgb1.b,a:((rgb2.a-rgb1.a)*p)+rgb1.a};return tinycolor(rgba);};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+0.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+0.05);};tinycolor.isReadable=function(color1,color2,wcag2){var readability=tinycolor.readability(color1,color2);var wcag2Parms,out;out=false;wcag2Parms=validateWCAG2Parms(wcag2);switch(wcag2Parms.level+wcag2Parms.size){case\"AAsmall\":case\"AAAlarge\":out=readability>=4.5;break;case\"AAlarge\":out=readability>=3;break;case\"AAAsmall\":out=readability>=7;break;}\nreturn out;};tinycolor.mostReadable=function(baseColor,colorList,args){var bestColor=null;var bestScore=0;var readability;var includeFallbackColors,level,size;args=args||{};includeFallbackColors=args.includeFallbackColors;level=args.level;size=args.size;for(var i=0;i<colorList.length;i++){readability=tinycolor.readability(baseColor,colorList[i]);if(readability>bestScore){bestScore=readability;bestColor=tinycolor(colorList[i]);}}\nif(tinycolor.isReadable(baseColor,bestColor,{\"level\":level,\"size\":size})||!includeFallbackColors){return bestColor;}\nelse{args.includeFallbackColors=false;return tinycolor.mostReadable(baseColor,[\"#fff\",\"#000\"],args);}};var names=tinycolor.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o){if(o.hasOwnProperty(i)){flipped[o[i]]=i;}}\nreturn flipped;}\nfunction boundAlpha(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1;}\nreturn a;}\nfunction bound01(n,max){if(isOnePointZero(n)){n=\"100%\";}\nvar processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent){n=parseInt(n*max,10)/ 100;}\nif((Math.abs(n-max)<0.000001)){return 1;}\nreturn(n%max)/ parseFloat(max);}\nfunction clamp01(val){return mathMin(1,mathMax(0,val));}\nfunction parseIntFromHex(val){return parseInt(val,16);}\nfunction isOnePointZero(n){return typeof n==\"string\"&&n.indexOf('.')!=-1&&parseFloat(n)===1;}\nfunction isPercentage(n){return typeof n===\"string\"&&n.indexOf('%')!=-1;}\nfunction pad2(c){return c.length==1?'0'+c:''+c;}\nfunction convertToPercentage(n){if(n<=1){n=(n*100)+\"%\";}\nreturn n;}\nfunction convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16);}\nfunction convertHexToDecimal(h){return(parseIntFromHex(h)/ 255);}\nvar matchers=(function(){var CSS_INTEGER=\"[-\\\\+]?\\\\d+%?\";var CSS_NUMBER=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";var CSS_UNIT=\"(?:\"+CSS_NUMBER+\")|(?:\"+CSS_INTEGER+\")\";var PERMISSIVE_MATCH3=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\";var PERMISSIVE_MATCH4=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\";return{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp(\"rgb\"+PERMISSIVE_MATCH3),rgba:new RegExp(\"rgba\"+PERMISSIVE_MATCH4),hsl:new RegExp(\"hsl\"+PERMISSIVE_MATCH3),hsla:new RegExp(\"hsla\"+PERMISSIVE_MATCH4),hsv:new RegExp(\"hsv\"+PERMISSIVE_MATCH3),hsva:new RegExp(\"hsva\"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};})();function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color);}\nfunction stringInputToObject(color){color=color.replace(trimLeft,'').replace(trimRight,'').toLowerCase();var named=false;if(names[color]){color=names[color];named=true;}\nelse if(color=='transparent'){return{r:0,g:0,b:0,a:0,format:\"name\"};}\nvar match;if((match=matchers.rgb.exec(color))){return{r:match[1],g:match[2],b:match[3]};}\nif((match=matchers.rgba.exec(color))){return{r:match[1],g:match[2],b:match[3],a:match[4]};}\nif((match=matchers.hsl.exec(color))){return{h:match[1],s:match[2],l:match[3]};}\nif((match=matchers.hsla.exec(color))){return{h:match[1],s:match[2],l:match[3],a:match[4]};}\nif((match=matchers.hsv.exec(color))){return{h:match[1],s:match[2],v:match[3]};}\nif((match=matchers.hsva.exec(color))){return{h:match[1],s:match[2],v:match[3],a:match[4]};}\nif((match=matchers.hex8.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?\"name\":\"hex8\"};}\nif((match=matchers.hex6.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?\"name\":\"hex\"};}\nif((match=matchers.hex4.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),a:convertHexToDecimal(match[4]+''+match[4]),format:named?\"name\":\"hex8\"};}\nif((match=matchers.hex3.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),format:named?\"name\":\"hex\"};}\nreturn false;}\nfunction validateWCAG2Parms(parms){var level,size;parms=parms||{\"level\":\"AA\",\"size\":\"small\"};level=(parms.level||\"AA\").toUpperCase();size=(parms.size||\"small\").toLowerCase();if(level!==\"AA\"&&level!==\"AAA\"){level=\"AA\";}\nif(size!==\"small\"&&size!==\"large\"){size=\"small\";}\nreturn{\"level\":level,\"size\":size};}\nif(typeof module!==\"undefined\"&&module.exports){module.exports=tinycolor;}\nelse if(typeof define==='function'&&define.amd){define(function(){return tinycolor;});}\nelse{window.tinycolor=tinycolor;}})(Math);","jquery/spectrum/spectrum.min.js":"(function(factory){\"use strict\";if(typeof define==='function'&&define.amd){define(['jquery'],factory);}\nelse if(typeof exports==\"object\"&&typeof module==\"object\"){module.exports=factory(require('jquery'));}\nelse{factory(jQuery);}})(function($,undefined){\"use strict\";var defaultOpts={beforeShow:noop,move:noop,change:noop,show:noop,hide:noop,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:\"body\",maxSelectionSize:7,cancelText:\"cancel\",chooseText:\"choose\",togglePaletteMoreText:\"more\",togglePaletteLessText:\"less\",clearText:\"Clear Color Selection\",noColorSelectedText:\"No Color Selected\",preferredFormat:false,className:\"\",containerClassName:\"\",replacerClassName:\"\",showAlpha:false,theme:\"sp-light\",palette:[[\"#ffffff\",\"#000000\",\"#ff0000\",\"#ff8000\",\"#ffff00\",\"#008000\",\"#0000ff\",\"#4b0082\",\"#9400d3\"]],selectionPalette:[],disabled:false,offset:null},spectrums=[],IE=!!/msie/i.exec(window.navigator.userAgent),rgbaSupport=(function(){function contains(str,substr){return!!~(''+str).indexOf(substr);}\nvar elem=document.createElement('div');var style=elem.style;style.cssText='background-color:rgba(0,0,0,.5)';return contains(style.backgroundColor,'rgba')||contains(style.backgroundColor,'hsla');})(),replaceInput=[\"<div class='sp-replacer'>\",\"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\"<div class='sp-dd'>&#9660;</div>\",\"</div>\"].join(''),markup=(function(){var gradientFix=\"\";if(IE){for(var i=1;i<=6;i++){gradientFix+=\"<div class='sp-\"+i+\"'></div>\";}}\nreturn[\"<div class='sp-container sp-hidden'>\",\"<div class='sp-palette-container'>\",\"<div class='sp-palette sp-thumb sp-cf'></div>\",\"<div class='sp-palette-button-container sp-cf'>\",\"<button type='button' class='sp-palette-toggle'></button>\",\"</div>\",\"</div>\",\"<div class='sp-picker-container'>\",\"<div class='sp-top sp-cf'>\",\"<div class='sp-fill'></div>\",\"<div class='sp-top-inner'>\",\"<div class='sp-color'>\",\"<div class='sp-sat'>\",\"<div class='sp-val'>\",\"<div class='sp-dragger'></div>\",\"</div>\",\"</div>\",\"</div>\",\"<div class='sp-clear sp-clear-display'>\",\"</div>\",\"<div class='sp-hue'>\",\"<div class='sp-slider'></div>\",gradientFix,\"</div>\",\"</div>\",\"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\"</div>\",\"<div class='sp-input-container sp-cf'>\",\"<input class='sp-input' type='text' spellcheck='false'  />\",\"</div>\",\"<div class='sp-initial sp-thumb sp-cf'></div>\",\"<div class='sp-button-container sp-cf'>\",\"<a class='sp-cancel' href='#'></a>\",\"<button type='button' class='sp-choose'></button>\",\"</div>\",\"</div>\",\"</div>\"].join(\"\");})();function paletteTemplate(p,color,className,opts){var html=[];for(var i=0;i<p.length;i++){var current=p[i];if(current){var tiny=tinycolor(current);var c=tiny.toHsl().l<0.5?\"sp-thumb-el sp-thumb-dark\":\"sp-thumb-el sp-thumb-light\";c+=(tinycolor.equals(color,current))?\" sp-thumb-active\":\"\";var formattedString=tiny.toString(opts.preferredFormat||\"rgb\");var swatchStyle=rgbaSupport?(\"background-color:\"+tiny.toRgbString()):\"filter:\"+tiny.toFilter();html.push('<span title=\"'+formattedString+'\" data-color=\"'+tiny.toRgbString()+'\" class=\"'+c+'\"><span class=\"sp-thumb-inner\" style=\"'+swatchStyle+';\" /></span>');}else{var cls='sp-clear-display';html.push($('<div />').append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"'+cls+'\"></span>').attr('title',opts.noColorSelectedText)).html());}}\nreturn\"<div class='sp-cf \"+className+\"'>\"+html.join('')+\"</div>\";}\nfunction hideAll(){for(var i=0;i<spectrums.length;i++){if(spectrums[i]){spectrums[i].hide();}}}\nfunction instanceOptions(o,callbackContext){var opts=$.extend({},defaultOpts,o);opts.callbacks={'move':bind(opts.move,callbackContext),'change':bind(opts.change,callbackContext),'show':bind(opts.show,callbackContext),'hide':bind(opts.hide,callbackContext),'beforeShow':bind(opts.beforeShow,callbackContext)};return opts;}\nfunction spectrum(element,o){var opts=instanceOptions(o,element),flat=opts.flat,showSelectionPalette=opts.showSelectionPalette,localStorageKey=opts.localStorageKey,theme=opts.theme,callbacks=opts.callbacks,resize=throttle(reflow,10),visible=false,isDragging=false,dragWidth=0,dragHeight=0,dragHelperHeight=0,slideHeight=0,slideWidth=0,alphaWidth=0,alphaSlideHelperWidth=0,slideHelperHeight=0,currentHue=0,currentSaturation=0,currentValue=0,currentAlpha=1,palette=[],paletteArray=[],paletteLookup={},selectionPalette=opts.selectionPalette.slice(0),maxSelectionSize=opts.maxSelectionSize,draggingClass=\"sp-dragging\",shiftMovementDirection=null;var doc=element.ownerDocument,body=doc.body,boundElement=$(element),disabled=false,container=$(markup,doc).addClass(theme),pickerContainer=container.find(\".sp-picker-container\"),dragger=container.find(\".sp-color\"),dragHelper=container.find(\".sp-dragger\"),slider=container.find(\".sp-hue\"),slideHelper=container.find(\".sp-slider\"),alphaSliderInner=container.find(\".sp-alpha-inner\"),alphaSlider=container.find(\".sp-alpha\"),alphaSlideHelper=container.find(\".sp-alpha-handle\"),textInput=container.find(\".sp-input\"),paletteContainer=container.find(\".sp-palette\"),initialColorContainer=container.find(\".sp-initial\"),cancelButton=container.find(\".sp-cancel\"),clearButton=container.find(\".sp-clear\"),chooseButton=container.find(\".sp-choose\"),toggleButton=container.find(\".sp-palette-toggle\"),isInput=boundElement.is(\"input\"),isInputTypeColor=isInput&&boundElement.attr(\"type\")===\"color\"&&inputTypeColorSupport(),shouldReplace=isInput&&!flat,replacer=(shouldReplace)?$(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName):$([]),offsetElement=(shouldReplace)?replacer:boundElement,previewElement=replacer.find(\".sp-preview-inner\"),initialColor=opts.color||(isInput&&boundElement.val()),colorOnShow=false,currentPreferredFormat=opts.preferredFormat,clickoutFiresChange=!opts.showButtons||opts.clickoutFiresChange,isEmpty=!initialColor,allowEmpty=opts.allowEmpty&&!isInputTypeColor;function applyOptions(){if(opts.showPaletteOnly){opts.showPalette=true;}\ntoggleButton.text(opts.showPaletteOnly?opts.togglePaletteMoreText:opts.togglePaletteLessText);if(opts.palette){palette=opts.palette.slice(0);paletteArray=$.isArray(palette[0])?palette:[palette];paletteLookup={};for(var i=0;i<paletteArray.length;i++){for(var j=0;j<paletteArray[i].length;j++){var rgb=tinycolor(paletteArray[i][j]).toRgbString();paletteLookup[rgb]=true;}}}\ncontainer.toggleClass(\"sp-flat\",flat);container.toggleClass(\"sp-input-disabled\",!opts.showInput);container.toggleClass(\"sp-alpha-enabled\",opts.showAlpha);container.toggleClass(\"sp-clear-enabled\",allowEmpty);container.toggleClass(\"sp-buttons-disabled\",!opts.showButtons);container.toggleClass(\"sp-palette-buttons-disabled\",!opts.togglePaletteOnly);container.toggleClass(\"sp-palette-disabled\",!opts.showPalette);container.toggleClass(\"sp-palette-only\",opts.showPaletteOnly);container.toggleClass(\"sp-initial-disabled\",!opts.showInitial);container.addClass(opts.className).addClass(opts.containerClassName);reflow();}\nfunction initialize(){if(IE){container.find(\"*:not(input)\").attr(\"unselectable\",\"on\");}\napplyOptions();if(shouldReplace){boundElement.after(replacer).hide();}\nif(!allowEmpty){clearButton.hide();}\nif(flat){boundElement.after(container).hide();}\nelse{var appendTo=opts.appendTo===\"parent\"?boundElement.parent():$(opts.appendTo);if(appendTo.length!==1){appendTo=$(\"body\");}\nappendTo.append(container);}\nupdateSelectionPaletteFromStorage();offsetElement.bind(\"click.spectrum touchstart.spectrum\",function(e){if(!disabled){toggle();}\ne.stopPropagation();if(!$(e.target).is(\"input\")){e.preventDefault();}});if(boundElement.is(\":disabled\")||(opts.disabled===true)){disable();}\ncontainer.click(stopPropagation);textInput.change(setFromTextInput);textInput.bind(\"paste\",function(){setTimeout(setFromTextInput,1);});textInput.keydown(function(e){if(e.keyCode==13){setFromTextInput();}});cancelButton.text(opts.cancelText);cancelButton.bind(\"click.spectrum\",function(e){e.stopPropagation();e.preventDefault();revert();hide();});clearButton.attr(\"title\",opts.clearText);clearButton.bind(\"click.spectrum\",function(e){e.stopPropagation();e.preventDefault();isEmpty=true;move();if(flat){updateOriginalInput(true);}});chooseButton.text(opts.chooseText);chooseButton.bind(\"click.spectrum\",function(e){e.stopPropagation();e.preventDefault();if(IE&&textInput.is(\":focus\")){textInput.trigger('change');}\nif(isValid()){updateOriginalInput(true);hide();}});toggleButton.text(opts.showPaletteOnly?opts.togglePaletteMoreText:opts.togglePaletteLessText);toggleButton.bind(\"click.spectrum\",function(e){e.stopPropagation();e.preventDefault();opts.showPaletteOnly=!opts.showPaletteOnly;if(!opts.showPaletteOnly&&!flat){container.css('left','-='+(pickerContainer.outerWidth(true)+5));}\napplyOptions();});draggable(alphaSlider,function(dragX,dragY,e){currentAlpha=(dragX / alphaWidth);isEmpty=false;if(e.shiftKey){currentAlpha=Math.round(currentAlpha*10)/ 10;}\nmove();},dragStart,dragStop);draggable(slider,function(dragX,dragY){currentHue=parseFloat(dragY / slideHeight);isEmpty=false;if(!opts.showAlpha){currentAlpha=1;}\nmove();},dragStart,dragStop);draggable(dragger,function(dragX,dragY,e){if(!e.shiftKey){shiftMovementDirection=null;}\nelse if(!shiftMovementDirection){var oldDragX=currentSaturation*dragWidth;var oldDragY=dragHeight-(currentValue*dragHeight);var furtherFromX=Math.abs(dragX-oldDragX)>Math.abs(dragY-oldDragY);shiftMovementDirection=furtherFromX?\"x\":\"y\";}\nvar setSaturation=!shiftMovementDirection||shiftMovementDirection===\"x\";var setValue=!shiftMovementDirection||shiftMovementDirection===\"y\";if(setSaturation){currentSaturation=parseFloat(dragX / dragWidth);}\nif(setValue){currentValue=parseFloat((dragHeight-dragY)/ dragHeight);}\nisEmpty=false;if(!opts.showAlpha){currentAlpha=1;}\nmove();},dragStart,dragStop);if(!!initialColor){set(initialColor);updateUI();currentPreferredFormat=opts.preferredFormat||tinycolor(initialColor).format;addColorToSelectionPalette(initialColor);}\nelse{updateUI();}\nif(flat){show();}\nfunction paletteElementClick(e){if(e.data&&e.data.ignore){set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));move();}\nelse{set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));move();updateOriginalInput(true);if(opts.hideAfterPaletteSelect){hide();}}\nreturn false;}\nvar paletteEvent=IE?\"mousedown.spectrum\":\"click.spectrum touchstart.spectrum\";paletteContainer.delegate(\".sp-thumb-el\",paletteEvent,paletteElementClick);initialColorContainer.delegate(\".sp-thumb-el:nth-child(1)\",paletteEvent,{ignore:true},paletteElementClick);}\nfunction updateSelectionPaletteFromStorage(){if(localStorageKey&&window.localStorage){try{var oldPalette=window.localStorage[localStorageKey].split(\",#\");if(oldPalette.length>1){delete window.localStorage[localStorageKey];$.each(oldPalette,function(i,c){addColorToSelectionPalette(c);});}}\ncatch(e){}\ntry{selectionPalette=window.localStorage[localStorageKey].split(\";\");}\ncatch(e){}}}\nfunction addColorToSelectionPalette(color){if(showSelectionPalette){var rgb=tinycolor(color).toRgbString();if(!paletteLookup[rgb]&&$.inArray(rgb,selectionPalette)===-1){selectionPalette.push(rgb);while(selectionPalette.length>maxSelectionSize){selectionPalette.shift();}}\nif(localStorageKey&&window.localStorage){try{window.localStorage[localStorageKey]=selectionPalette.join(\";\");}\ncatch(e){}}}}\nfunction getUniqueSelectionPalette(){var unique=[];if(opts.showPalette){for(var i=0;i<selectionPalette.length;i++){var rgb=tinycolor(selectionPalette[i]).toRgbString();if(!paletteLookup[rgb]){unique.push(selectionPalette[i]);}}}\nreturn unique.reverse().slice(0,opts.maxSelectionSize);}\nfunction drawPalette(){var currentColor=get();var html=$.map(paletteArray,function(palette,i){return paletteTemplate(palette,currentColor,\"sp-palette-row sp-palette-row-\"+i,opts);});updateSelectionPaletteFromStorage();if(selectionPalette){html.push(paletteTemplate(getUniqueSelectionPalette(),currentColor,\"sp-palette-row sp-palette-row-selection\",opts));}\npaletteContainer.html(html.join(\"\"));}\nfunction drawInitial(){if(opts.showInitial){var initial=colorOnShow;var current=get();initialColorContainer.html(paletteTemplate([initial,current],current,\"sp-palette-row-initial\",opts));}}\nfunction dragStart(){if(dragHeight<=0||dragWidth<=0||slideHeight<=0){reflow();}\nisDragging=true;container.addClass(draggingClass);shiftMovementDirection=null;boundElement.trigger('dragstart.spectrum',[get()]);}\nfunction dragStop(){isDragging=false;container.removeClass(draggingClass);boundElement.trigger('dragstop.spectrum',[get()]);}\nfunction setFromTextInput(){var value=textInput.val();if((value===null||value===\"\")&&allowEmpty){set(null);updateOriginalInput(true);}\nelse{var tiny=tinycolor(value);if(tiny.isValid()){set(tiny);updateOriginalInput(true);}\nelse{textInput.addClass(\"sp-validation-error\");}}}\nfunction toggle(){if(visible){hide();}\nelse{show();}}\nfunction show(){var event=$.Event('beforeShow.spectrum');if(visible){reflow();return;}\nboundElement.trigger(event,[get()]);if(callbacks.beforeShow(get())===false||event.isDefaultPrevented()){return;}\nhideAll();visible=true;$(doc).bind(\"keydown.spectrum\",onkeydown);$(doc).bind(\"click.spectrum\",clickout);$(window).bind(\"resize.spectrum\",resize);replacer.addClass(\"sp-active\");container.removeClass(\"sp-hidden\");reflow();updateUI();colorOnShow=get();drawInitial();callbacks.show(colorOnShow);boundElement.trigger('show.spectrum',[colorOnShow]);}\nfunction onkeydown(e){if(e.keyCode===27){hide();}}\nfunction clickout(e){if(e.button==2){return;}\nif(isDragging){return;}\nif(clickoutFiresChange){updateOriginalInput(true);}\nelse{revert();}\nhide();}\nfunction hide(){if(!visible||flat){return;}\nvisible=false;$(doc).unbind(\"keydown.spectrum\",onkeydown);$(doc).unbind(\"click.spectrum\",clickout);$(window).unbind(\"resize.spectrum\",resize);replacer.removeClass(\"sp-active\");container.addClass(\"sp-hidden\");callbacks.hide(get());boundElement.trigger('hide.spectrum',[get()]);}\nfunction revert(){set(colorOnShow,true);}\nfunction set(color,ignoreFormatChange){if(tinycolor.equals(color,get())){updateUI();return;}\nvar newColor,newHsv;if(!color&&allowEmpty){isEmpty=true;}else{isEmpty=false;newColor=tinycolor(color);newHsv=newColor.toHsv();currentHue=(newHsv.h%360)/ 360;currentSaturation=newHsv.s;currentValue=newHsv.v;currentAlpha=newHsv.a;}\nupdateUI();if(newColor&&newColor.isValid()&&!ignoreFormatChange){currentPreferredFormat=opts.preferredFormat||newColor.getFormat();}}\nfunction get(opts){opts=opts||{};if(allowEmpty&&isEmpty){return null;}\nreturn tinycolor.fromRatio({h:currentHue,s:currentSaturation,v:currentValue,a:Math.round(currentAlpha*100)/ 100},{format:opts.format||currentPreferredFormat});}\nfunction isValid(){return!textInput.hasClass(\"sp-validation-error\");}\nfunction move(){updateUI();callbacks.move(get());boundElement.trigger('move.spectrum',[get()]);}\nfunction updateUI(){textInput.removeClass(\"sp-validation-error\");updateHelperLocations();var flatColor=tinycolor.fromRatio({h:currentHue,s:1,v:1});dragger.css(\"background-color\",flatColor.toHexString());var format=currentPreferredFormat;if(currentAlpha<1&&!(currentAlpha===0&&format===\"name\")){if(format===\"hex\"||format===\"hex3\"||format===\"hex6\"||format===\"name\"){format=\"rgb\";}}\nvar realColor=get({format:format}),displayColor='';previewElement.removeClass(\"sp-clear-display\");previewElement.css('background-color','transparent');if(!realColor&&allowEmpty){previewElement.addClass(\"sp-clear-display\");}\nelse{var realHex=realColor.toHexString(),realRgb=realColor.toRgbString();if(rgbaSupport||realColor.alpha===1){previewElement.css(\"background-color\",realRgb);}\nelse{previewElement.css(\"background-color\",\"transparent\");previewElement.css(\"filter\",realColor.toFilter());}\nif(opts.showAlpha){var rgb=realColor.toRgb();rgb.a=0;var realAlpha=tinycolor(rgb).toRgbString();var gradient=\"linear-gradient(left, \"+realAlpha+\", \"+realHex+\")\";if(IE){alphaSliderInner.css(\"filter\",tinycolor(realAlpha).toFilter({gradientType:1},realHex));}\nelse{alphaSliderInner.css(\"background\",\"-webkit-\"+gradient);alphaSliderInner.css(\"background\",\"-moz-\"+gradient);alphaSliderInner.css(\"background\",\"-ms-\"+gradient);alphaSliderInner.css(\"background\",\"linear-gradient(to right, \"+realAlpha+\", \"+realHex+\")\");}}\ndisplayColor=realColor.toString(format);}\nif(opts.showInput){textInput.val(displayColor);}\nif(opts.showPalette){drawPalette();}\ndrawInitial();}\nfunction updateHelperLocations(){var s=currentSaturation;var v=currentValue;if(allowEmpty&&isEmpty){alphaSlideHelper.hide();slideHelper.hide();dragHelper.hide();}\nelse{alphaSlideHelper.show();slideHelper.show();dragHelper.show();var dragX=s*dragWidth;var dragY=dragHeight-(v*dragHeight);dragX=Math.max(-dragHelperHeight,Math.min(dragWidth-dragHelperHeight,dragX-dragHelperHeight));dragY=Math.max(-dragHelperHeight,Math.min(dragHeight-dragHelperHeight,dragY-dragHelperHeight));dragHelper.css({\"top\":dragY+\"px\",\"left\":dragX+\"px\"});var alphaX=currentAlpha*alphaWidth;alphaSlideHelper.css({\"left\":(alphaX-(alphaSlideHelperWidth / 2))+\"px\"});var slideY=(currentHue)*slideHeight;slideHelper.css({\"top\":(slideY-slideHelperHeight)+\"px\"});}}\nfunction updateOriginalInput(fireCallback){var color=get(),displayColor='',hasChanged=!tinycolor.equals(color,colorOnShow);if(color){displayColor=color.toString(currentPreferredFormat);addColorToSelectionPalette(color);}\nif(isInput){boundElement.val(displayColor);}\nif(fireCallback&&hasChanged){callbacks.change(color);boundElement.trigger('change',[color]);}}\nfunction reflow(){if(!visible){return;}\ndragWidth=dragger.width();dragHeight=dragger.height();dragHelperHeight=dragHelper.height();slideWidth=slider.width();slideHeight=slider.height();slideHelperHeight=slideHelper.height();alphaWidth=alphaSlider.width();alphaSlideHelperWidth=alphaSlideHelper.width();if(!flat){container.css(\"position\",\"absolute\");if(opts.offset){container.offset(opts.offset);}else{container.offset(getOffset(container,offsetElement));}}\nupdateHelperLocations();if(opts.showPalette){drawPalette();}\nboundElement.trigger('reflow.spectrum');}\nfunction destroy(){boundElement.show();offsetElement.unbind(\"click.spectrum touchstart.spectrum\");container.remove();replacer.remove();spectrums[spect.id]=null;}\nfunction option(optionName,optionValue){if(optionName===undefined){return $.extend({},opts);}\nif(optionValue===undefined){return opts[optionName];}\nopts[optionName]=optionValue;if(optionName===\"preferredFormat\"){currentPreferredFormat=opts.preferredFormat;}\napplyOptions();}\nfunction enable(){disabled=false;boundElement.attr(\"disabled\",false);offsetElement.removeClass(\"sp-disabled\");}\nfunction disable(){hide();disabled=true;boundElement.attr(\"disabled\",true);offsetElement.addClass(\"sp-disabled\");}\nfunction setOffset(coord){opts.offset=coord;reflow();}\ninitialize();var spect={show:show,hide:hide,toggle:toggle,reflow:reflow,option:option,enable:enable,disable:disable,offset:setOffset,set:function(c){set(c);updateOriginalInput();},get:get,destroy:destroy,container:container};spect.id=spectrums.push(spect)-1;return spect;}\nfunction getOffset(picker,input){var extraY=0;var dpWidth=picker.outerWidth();var dpHeight=picker.outerHeight();var inputHeight=input.outerHeight();var doc=picker[0].ownerDocument;var docElem=doc.documentElement;var viewWidth=docElem.clientWidth+$(doc).scrollLeft();var viewHeight=docElem.clientHeight+$(doc).scrollTop();var offset=input.offset();offset.top+=inputHeight;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,((offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight-extraY):extraY));return offset;}\nfunction noop(){}\nfunction stopPropagation(e){e.stopPropagation();}\nfunction bind(func,obj){var slice=Array.prototype.slice;var args=slice.call(arguments,2);return function(){return func.apply(obj,args.concat(slice.call(arguments)));};}\nfunction draggable(element,onmove,onstart,onstop){onmove=onmove||function(){};onstart=onstart||function(){};onstop=onstop||function(){};var doc=document;var dragging=false;var offset={};var maxHeight=0;var maxWidth=0;var hasTouch=('ontouchstart'in window);var duringDragEvents={};duringDragEvents[\"selectstart\"]=prevent;duringDragEvents[\"dragstart\"]=prevent;duringDragEvents[\"touchmove mousemove\"]=move;duringDragEvents[\"touchend mouseup\"]=stop;function prevent(e){if(e.stopPropagation){e.stopPropagation();}\nif(e.preventDefault){e.preventDefault();}\ne.returnValue=false;}\nfunction move(e){if(dragging){if(IE&&doc.documentMode<9&&!e.button){return stop();}\nvar t0=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0];var pageX=t0&&t0.pageX||e.pageX;var pageY=t0&&t0.pageY||e.pageY;var dragX=Math.max(0,Math.min(pageX-offset.left,maxWidth));var dragY=Math.max(0,Math.min(pageY-offset.top,maxHeight));if(hasTouch){prevent(e);}\nonmove.apply(element,[dragX,dragY,e]);}}\nfunction start(e){var rightclick=(e.which)?(e.which==3):(e.button==2);if(!rightclick&&!dragging){if(onstart.apply(element,arguments)!==false){dragging=true;maxHeight=$(element).height();maxWidth=$(element).width();offset=$(element).offset();$(doc).bind(duringDragEvents);$(doc.body).addClass(\"sp-dragging\");move(e);prevent(e);}}}\nfunction stop(){if(dragging){$(doc).unbind(duringDragEvents);$(doc.body).removeClass(\"sp-dragging\");setTimeout(function(){onstop.apply(element,arguments);},0);}\ndragging=false;}\n$(element).bind(\"touchstart mousedown\",start);}\nfunction throttle(func,wait,debounce){var timeout;return function(){var context=this,args=arguments;var throttler=function(){timeout=null;func.apply(context,args);};if(debounce)clearTimeout(timeout);if(debounce||!timeout)timeout=setTimeout(throttler,wait);};}\nfunction inputTypeColorSupport(){return $.fn.spectrum.inputTypeColorSupport();}\nvar dataID=\"spectrum.id\";$.fn.spectrum=function(opts,extra){if(typeof opts==\"string\"){var returnValue=this;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var spect=spectrums[$(this).data(dataID)];if(spect){var method=spect[opts];if(!method){throw new Error(\"Spectrum: no such method: '\"+opts+\"'\");}\nif(opts==\"get\"){returnValue=spect.get();}\nelse if(opts==\"container\"){returnValue=spect.container;}\nelse if(opts==\"option\"){returnValue=spect.option.apply(spect,args);}\nelse if(opts==\"destroy\"){spect.destroy();$(this).removeData(dataID);}\nelse{method.apply(spect,args);}}});return returnValue;}\nreturn this.spectrum(\"destroy\").each(function(){var options=$.extend({},opts,$(this).data());var spect=spectrum(this,options);$(this).data(dataID,spect.id);});};$.fn.spectrum.load=true;$.fn.spectrum.loadOpts={};$.fn.spectrum.draggable=draggable;$.fn.spectrum.defaults=defaultOpts;$.fn.spectrum.inputTypeColorSupport=function inputTypeColorSupport(){if(typeof inputTypeColorSupport._cachedResult===\"undefined\"){var colorInput=$(\"<input type='color'/>\")[0];inputTypeColorSupport._cachedResult=colorInput.type===\"color\"&&colorInput.value!==\"\";}\nreturn inputTypeColorSupport._cachedResult;};$.spectrum={};$.spectrum.localization={};$.spectrum.palettes={};$.fn.spectrum.processNativeColorInputs=function(){var colorInputs=$(\"input[type=color]\");if(colorInputs.length&&!inputTypeColorSupport()){colorInputs.spectrum({preferredFormat:\"hex6\"});}};(function(){var trimLeft=/^[\\s,#]+/,trimRight=/\\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;var tinycolor=function(color,opts){color=(color)?color:'';opts=opts||{};if(color instanceof tinycolor){return color;}\nif(!(this instanceof tinycolor)){return new tinycolor(color,opts);}\nvar rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/ 100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;if(this._r<1){this._r=mathRound(this._r);}\nif(this._g<1){this._g=mathRound(this._g);}\nif(this._b<1){this._b=mathRound(this._b);}\nthis._ok=rgb.ok;this._tc_id=tinyCounter++;};tinycolor.prototype={isDark:function(){return this.getBrightness()<128;},isLight:function(){return!this.isDark();},isValid:function(){return this._ok;},getOriginalInput:function(){return this._originalInput;},getFormat:function(){return this._format;},getAlpha:function(){return this._a;},getBrightness:function(){var rgb=this.toRgb();return(rgb.r*299+rgb.g*587+rgb.b*114)/ 1000;},setAlpha:function(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/ 100;return this;},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:this._a};},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(hsv.h*360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return(this._a==1)?\"hsv(\"+h+\", \"+s+\"%, \"+v+\"%)\":\"hsva(\"+h+\", \"+s+\"%, \"+v+\"%, \"+this._roundA+\")\";},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:this._a};},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return(this._a==1)?\"hsl(\"+h+\", \"+s+\"%, \"+l+\"%)\":\"hsla(\"+h+\", \"+s+\"%, \"+l+\"%, \"+this._roundA+\")\";},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char);},toHexString:function(allow3Char){return'#'+this.toHex(allow3Char);},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a);},toHex8String:function(){return'#'+this.toHex8();},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a};},toRgbString:function(){return(this._a==1)?\"rgb(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\")\":\"rgba(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\", \"+this._roundA+\")\";},toPercentageRgb:function(){return{r:mathRound(bound01(this._r,255)*100)+\"%\",g:mathRound(bound01(this._g,255)*100)+\"%\",b:mathRound(bound01(this._b,255)*100)+\"%\",a:this._a};},toPercentageRgbString:function(){return(this._a==1)?\"rgb(\"+mathRound(bound01(this._r,255)*100)+\"%, \"+mathRound(bound01(this._g,255)*100)+\"%, \"+mathRound(bound01(this._b,255)*100)+\"%)\":\"rgba(\"+mathRound(bound01(this._r,255)*100)+\"%, \"+mathRound(bound01(this._g,255)*100)+\"%, \"+mathRound(bound01(this._b,255)*100)+\"%, \"+this._roundA+\")\";},toName:function(){if(this._a===0){return\"transparent\";}\nif(this._a<1){return false;}\nreturn hexNames[rgbToHex(this._r,this._g,this._b,true)]||false;},toFilter:function(secondColor){var hex8String='#'+rgbaToHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?\"GradientType = 1, \":\"\";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String();}\nreturn\"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&(format===\"hex\"||format===\"hex6\"||format===\"hex3\"||format===\"name\");if(needsAlphaFormat){if(format===\"name\"&&this._a===0){return this.toName();}\nreturn this.toRgbString();}\nif(format===\"rgb\"){formattedString=this.toRgbString();}\nif(format===\"prgb\"){formattedString=this.toPercentageRgbString();}\nif(format===\"hex\"||format===\"hex6\"){formattedString=this.toHexString();}\nif(format===\"hex3\"){formattedString=this.toHexString(true);}\nif(format===\"hex8\"){formattedString=this.toHex8String();}\nif(format===\"name\"){formattedString=this.toName();}\nif(format===\"hsl\"){formattedString=this.toHslString();}\nif(format===\"hsv\"){formattedString=this.toHsvString();}\nreturn formattedString||this.toHexString();},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this;},lighten:function(){return this._applyModification(lighten,arguments);},brighten:function(){return this._applyModification(brighten,arguments);},darken:function(){return this._applyModification(darken,arguments);},desaturate:function(){return this._applyModification(desaturate,arguments);},saturate:function(){return this._applyModification(saturate,arguments);},greyscale:function(){return this._applyModification(greyscale,arguments);},spin:function(){return this._applyModification(spin,arguments);},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)));},analogous:function(){return this._applyCombination(analogous,arguments);},complement:function(){return this._applyCombination(complement,arguments);},monochromatic:function(){return this._applyCombination(monochromatic,arguments);},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments);},triad:function(){return this._applyCombination(triad,arguments);},tetrad:function(){return this._applyCombination(tetrad,arguments);}};tinycolor.fromRatio=function(color,opts){if(typeof color==\"object\"){var newColor={};for(var i in color){if(color.hasOwnProperty(i)){if(i===\"a\"){newColor[i]=color[i];}\nelse{newColor[i]=convertToPercentage(color[i]);}}}\ncolor=newColor;}\nreturn tinycolor(color,opts);};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var ok=false;var format=false;if(typeof color==\"string\"){color=stringInputToObject(color);}\nif(typeof color==\"object\"){if(color.hasOwnProperty(\"r\")&&color.hasOwnProperty(\"g\")&&color.hasOwnProperty(\"b\")){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)===\"%\"?\"prgb\":\"rgb\";}\nelse if(color.hasOwnProperty(\"h\")&&color.hasOwnProperty(\"s\")&&color.hasOwnProperty(\"v\")){color.s=convertToPercentage(color.s);color.v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,color.s,color.v);ok=true;format=\"hsv\";}\nelse if(color.hasOwnProperty(\"h\")&&color.hasOwnProperty(\"s\")&&color.hasOwnProperty(\"l\")){color.s=convertToPercentage(color.s);color.l=convertToPercentage(color.l);rgb=hslToRgb(color.h,color.s,color.l);ok=true;format=\"hsl\";}\nif(color.hasOwnProperty(\"a\")){a=color.a;}}\na=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a};}\nfunction rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255};}\nfunction rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/ 2;if(max==min){h=s=0;}\nelse{var d=max-min;s=l>0.5?d /(2-max-min):d /(max+min);switch(max){case r:h=(g-b)/ d+(g<b?6:0);break;case g:h=(b-r)/ d+2;break;case b:h=(r-g)/ d+4;break;}\nh /=6;}\nreturn{h:h,s:s,l:l};}\nfunction hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}\nif(s===0){r=g=b=l;}\nelse{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}\nreturn{r:r*255,g:g*255,b:b*255};}\nfunction rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d / max;if(max==min){h=0;}\nelse{switch(max){case r:h=(g-b)/ d+(g<b?6:0);break;case g:h=(b-r)/ d+2;break;case b:h=(r-g)/ d+4;break;}\nh /=6;}\nreturn{h:h,s:s,v:v};}\nfunction hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255};}\nfunction rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);}\nreturn hex.join(\"\");}\nfunction rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join(\"\");}\ntinycolor.equals=function(color1,color2){if(!color1||!color2){return false;}\nreturn tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString();};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()});};function desaturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s-=amount / 100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}\nfunction saturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s+=amount / 100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}\nfunction greyscale(color){return tinycolor(color).desaturate(100);}\nfunction lighten(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l+=amount / 100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}\nfunction brighten(color,amount){amount=(amount===0)?0:(amount||10);var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount / 100))));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount / 100))));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount / 100))));return tinycolor(rgb);}\nfunction darken(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l-=amount / 100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}\nfunction spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(mathRound(hsl.h)+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl);}\nfunction complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl);}\nfunction triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})];}\nfunction tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})];}\nfunction splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})];}\nfunction analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360 / slices;var ret=[tinycolor(color)];for(hsl.h=((hsl.h-(part*results>>1))+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl));}\nreturn ret;}\nfunction monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1 / results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1;}\nreturn ret;}\ntinycolor.mix=function(color1,color2,amount){amount=(amount===0)?0:(amount||50);var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount / 100;var w=p*2-1;var a=rgb2.a-rgb1.a;var w1;if(w*a==-1){w1=w;}else{w1=(w+a)/(1+w*a);}\nw1=(w1+1)/ 2;var w2=1-w1;var rgba={r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)};return tinycolor(rgba);};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);var rgb1=c1.toRgb();var rgb2=c2.toRgb();var brightnessA=c1.getBrightness();var brightnessB=c2.getBrightness();var colorDiff=(Math.max(rgb1.r,rgb2.r)-Math.min(rgb1.r,rgb2.r)+\nMath.max(rgb1.g,rgb2.g)-Math.min(rgb1.g,rgb2.g)+\nMath.max(rgb1.b,rgb2.b)-Math.min(rgb1.b,rgb2.b));return{brightness:Math.abs(brightnessA-brightnessB),color:colorDiff};};tinycolor.isReadable=function(color1,color2){var readability=tinycolor.readability(color1,color2);return readability.brightness>125&&readability.color>500;};tinycolor.mostReadable=function(baseColor,colorList){var bestColor=null;var bestScore=0;var bestIsReadable=false;for(var i=0;i<colorList.length;i++){var readability=tinycolor.readability(baseColor,colorList[i]);var readable=readability.brightness>125&&readability.color>500;var score=3*(readability.brightness / 125)+(readability.color / 500);if((readable&&!bestIsReadable)||(readable&&bestIsReadable&&score>bestScore)||((!readable)&&(!bestIsReadable)&&score>bestScore)){bestIsReadable=readable;bestScore=score;bestColor=tinycolor(colorList[i]);}}\nreturn bestColor;};var names=tinycolor.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o){if(o.hasOwnProperty(i)){flipped[o[i]]=i;}}\nreturn flipped;}\nfunction boundAlpha(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1;}\nreturn a;}\nfunction bound01(n,max){if(isOnePointZero(n)){n=\"100%\";}\nvar processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent){n=parseInt(n*max,10)/ 100;}\nif((math.abs(n-max)<0.000001)){return 1;}\nreturn(n%max)/ parseFloat(max);}\nfunction clamp01(val){return mathMin(1,mathMax(0,val));}\nfunction parseIntFromHex(val){return parseInt(val,16);}\nfunction isOnePointZero(n){return typeof n==\"string\"&&n.indexOf('.')!=-1&&parseFloat(n)===1;}\nfunction isPercentage(n){return typeof n===\"string\"&&n.indexOf('%')!=-1;}\nfunction pad2(c){return c.length==1?'0'+c:''+c;}\nfunction convertToPercentage(n){if(n<=1){n=(n*100)+\"%\";}\nreturn n;}\nfunction convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16);}\nfunction convertHexToDecimal(h){return(parseIntFromHex(h)/ 255);}\nvar matchers=(function(){var CSS_INTEGER=\"[-\\\\+]?\\\\d+%?\";var CSS_NUMBER=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";var CSS_UNIT=\"(?:\"+CSS_NUMBER+\")|(?:\"+CSS_INTEGER+\")\";var PERMISSIVE_MATCH3=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\";var PERMISSIVE_MATCH4=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\";return{rgb:new RegExp(\"rgb\"+PERMISSIVE_MATCH3),rgba:new RegExp(\"rgba\"+PERMISSIVE_MATCH4),hsl:new RegExp(\"hsl\"+PERMISSIVE_MATCH3),hsla:new RegExp(\"hsla\"+PERMISSIVE_MATCH4),hsv:new RegExp(\"hsv\"+PERMISSIVE_MATCH3),hsva:new RegExp(\"hsva\"+PERMISSIVE_MATCH4),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};})();function stringInputToObject(color){color=color.replace(trimLeft,'').replace(trimRight,'').toLowerCase();var named=false;if(names[color]){color=names[color];named=true;}\nelse if(color=='transparent'){return{r:0,g:0,b:0,a:0,format:\"name\"};}\nvar match;if((match=matchers.rgb.exec(color))){return{r:match[1],g:match[2],b:match[3]};}\nif((match=matchers.rgba.exec(color))){return{r:match[1],g:match[2],b:match[3],a:match[4]};}\nif((match=matchers.hsl.exec(color))){return{h:match[1],s:match[2],l:match[3]};}\nif((match=matchers.hsla.exec(color))){return{h:match[1],s:match[2],l:match[3],a:match[4]};}\nif((match=matchers.hsv.exec(color))){return{h:match[1],s:match[2],v:match[3]};}\nif((match=matchers.hsva.exec(color))){return{h:match[1],s:match[2],v:match[3],a:match[4]};}\nif((match=matchers.hex8.exec(color))){return{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?\"name\":\"hex8\"};}\nif((match=matchers.hex6.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?\"name\":\"hex\"};}\nif((match=matchers.hex3.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),format:named?\"name\":\"hex\"};}\nreturn false;}\nwindow.tinycolor=tinycolor;})();$(function(){if($.fn.spectrum.load){$.fn.spectrum.processNativeColorInputs();}});});","jquery/patches/jquery-ui.min.js":"define(['jquery','jquery-ui-modules/widget'],function($){'use strict';function dialogPatch(){$.widget('ui.dialog',$.ui.dialog,{_createTitlebar:function(){this.options.closeText=$('<a>').text(''+this.options.closeText).html();this._superApply();},_setOption:function(key,value){if(key==='closeText'){value=$('<a>').text(''+value).html();}\nthis._super(key,value);}});}\nreturn function(){var majorVersion=$.ui.version.split('.')[0],minorVersion=$.ui.version.split('.')[1];if(majorVersion===1&&minorVersion>=12||majorVersion>=2){console.warn('jQuery patch for CVE-2016-7103 is no longer necessary, and should be removed');}\ndialogPatch();};});","jquery/patches/jquery.min.js":"define([],function(){'use strict';function ajaxResponsePatch(jQuery){jQuery.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});}\nreturn function($){var majorVersion=$.fn.jquery.split('.')[0];if(majorVersion>=3){console.warn('jQuery patch for CVE-2015-9251 is no longer necessary, and should be removed');}\najaxResponsePatch($);return $;};});","jquery/fileUploader/jquery.iframe-transport.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(window.jQuery);}})(function($){'use strict';var counter=0,jsonAPI=$,jsonParse='parseJSON';if('JSON'in window&&'parse'in JSON){jsonAPI=JSON;jsonParse='parse';}\n$.ajaxTransport('iframe',function(options){if(options.async){var initialIframeSrc=options.initialIframeSrc||'javascript:false;',form,iframe,addParamChar;return{send:function(_,completeCallback){form=$('<form style=\"display:none;\"></form>');form.attr('accept-charset',options.formAcceptCharset);addParamChar=/\\?/.test(options.url)?'&':'?';if(options.type==='DELETE'){options.url=options.url+addParamChar+'_method=DELETE';options.type='POST';}else if(options.type==='PUT'){options.url=options.url+addParamChar+'_method=PUT';options.type='POST';}else if(options.type==='PATCH'){options.url=options.url+addParamChar+'_method=PATCH';options.type='POST';}\ncounter+=1;iframe=$('<iframe src=\"'+\ninitialIframeSrc+'\" name=\"iframe-transport-'+\ncounter+'\"></iframe>').on('load',function(){var fileInputClones,paramNames=$.isArray(options.paramName)?options.paramName:[options.paramName];iframe.off('load').on('load',function(){var response;try{response=iframe.contents();if(!response.length||!response[0].firstChild){throw new Error();}}catch(e){response=undefined;}\ncompleteCallback(200,'success',{iframe:response});$('<iframe src=\"'+initialIframeSrc+'\"></iframe>').appendTo(form);window.setTimeout(function(){form.remove();},0);});form.prop('target',iframe.prop('name')).prop('action',options.url).prop('method',options.type);if(options.formData){$.each(options.formData,function(index,field){$('<input type=\"hidden\"/>').prop('name',field.name).val(field.value).appendTo(form);});}\nif(options.fileInput&&options.fileInput.length&&options.type==='POST'){fileInputClones=options.fileInput.clone();options.fileInput.after(function(index){return fileInputClones[index];});if(options.paramName){options.fileInput.each(function(index){$(this).prop('name',paramNames[index]||options.paramName);});}\nform.append(options.fileInput).prop('enctype','multipart/form-data').prop('encoding','multipart/form-data');options.fileInput.removeAttr('form');}\nwindow.setTimeout(function(){form.submit();if(fileInputClones&&fileInputClones.length){options.fileInput.each(function(index,input){var clone=$(fileInputClones[index]);$(input).prop('name',clone.prop('name')).attr('form',clone.attr('form'));clone.replaceWith(input);});}},0);});form.append(iframe).appendTo(document.body);},abort:function(){if(iframe){iframe.off('load').prop('src',initialIframeSrc);}\nif(form){form.remove();}}};}});$.ajaxSetup({converters:{'iframe text':function(iframe){return iframe&&$(iframe[0].body).text();},'iframe json':function(iframe){return iframe&&jsonAPI[jsonParse]($(iframe[0].body).text());},'iframe html':function(iframe){return iframe&&$(iframe[0].body).html();},'iframe xml':function(iframe){var xmlDoc=iframe&&iframe[0];return xmlDoc&&$.isXMLDoc(xmlDoc)?xmlDoc:$.parseXML((xmlDoc.XMLDocument&&xmlDoc.XMLDocument.xml)||$(xmlDoc.body).html());},'iframe script':function(iframe){return iframe&&$.globalEval($(iframe[0].body).text());}}});});","jquery/fileUploader/jquery.fileupload.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/vendor/jquery.ui.widget'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/vendor/jquery.ui.widget'));}else{factory(window.jQuery);}})(function($){'use strict';$.support.fileInput=!(new RegExp('(Android (1\\\\.[0156]|2\\\\.[01]))'+'|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)'+'|(w(eb)?OSBrowser)|(webOS)'+'|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))').test(window.navigator.userAgent)||$('<input type=\"file\"/>').prop('disabled'));$.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);$.support.xhrFormDataFileUpload=!!window.FormData;$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);function getDragHandler(type){var isDragOver=type==='dragover';return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var dataTransfer=e.dataTransfer;if(dataTransfer&&$.inArray('Files',dataTransfer.types)!==-1&&this._trigger(type,$.Event(type,{delegatedEvent:e}))!==false){e.preventDefault();if(isDragOver){dataTransfer.dropEffect='copy';}}};}\n$.widget('blueimp.fileupload',{options:{dropZone:$(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,uniqueFilenames:undefined,messages:{uploadedBytes:'Uploaded bytes exceed file size'},i18n:function(message,context){message=this.messages[message]||message.toString();if(context){$.each(context,function(key,value){message=message.replace('{'+key+'}',value);});}\nreturn message;},formData:function(form){return form.serializeArray();},add:function(e,data){if(e.isDefaultPrevented()){return false;}\nif(data.autoUpload||(data.autoUpload!==false&&$(this).fileupload('option','autoUpload'))){data.process().done(function(){data.submit();});}},processData:false,contentType:false,cache:false,timeout:0},_promisePipe:(function(){var parts=$.fn.jquery.split('.');return Number(parts[0])>1||Number(parts[1])>7?'then':'pipe';})(),_specialOptions:['fileInput','dropZone','pasteZone','multipart','forceIframeTransport'],_blobSlice:$.support.blobSlice&&function(){var slice=this.slice||this.webkitSlice||this.mozSlice;return slice.apply(this,arguments);},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():new Date().getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(now,loaded,interval){var timeDiff=now-this.timestamp;if(!this.bitrate||!interval||timeDiff>interval){this.bitrate=(loaded-this.loaded)*(1000 / timeDiff)*8;this.loaded=loaded;this.timestamp=now;}\nreturn this.bitrate;};},_isXHRUpload:function(options){return(!options.forceIframeTransport&&((!options.multipart&&$.support.xhrFileUpload)||$.support.xhrFormDataFileUpload));},_getFormData:function(options){var formData;if($.type(options.formData)==='function'){return options.formData(options.form);}\nif($.isArray(options.formData)){return options.formData;}\nif($.type(options.formData)==='object'){formData=[];$.each(options.formData,function(name,value){formData.push({name:name,value:value});});return formData;}\nreturn[];},_getTotal:function(files){var total=0;$.each(files,function(index,file){total+=file.size||1;});return total;},_initProgressObject:function(obj){var progress={loaded:0,total:0,bitrate:0};if(obj._progress){$.extend(obj._progress,progress);}else{obj._progress=progress;}},_initResponseObject:function(obj){var prop;if(obj._response){for(prop in obj._response){if(Object.prototype.hasOwnProperty.call(obj._response,prop)){delete obj._response[prop];}}}else{obj._response={};}},_onProgress:function(e,data){if(e.lengthComputable){var now=Date.now?Date.now():new Date().getTime(),loaded;if(data._time&&data.progressInterval&&now-data._time<data.progressInterval&&e.loaded!==e.total){return;}\ndata._time=now;loaded=Math.floor((e.loaded / e.total)*(data.chunkSize||data._progress.total))+(data.uploadedBytes||0);this._progress.loaded+=loaded-data._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(now,this._progress.loaded,data.bitrateInterval);data._progress.loaded=data.loaded=loaded;data._progress.bitrate=data.bitrate=data._bitrateTimer.getBitrate(now,loaded,data.bitrateInterval);this._trigger('progress',$.Event('progress',{delegatedEvent:e}),data);this._trigger('progressall',$.Event('progressall',{delegatedEvent:e}),this._progress);}},_initProgressListener:function(options){var that=this,xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();if(xhr.upload){$(xhr.upload).on('progress',function(e){var oe=e.originalEvent;e.lengthComputable=oe.lengthComputable;e.loaded=oe.loaded;e.total=oe.total;that._onProgress(e,options);});options.xhr=function(){return xhr;};}},_deinitProgressListener:function(options){var xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();if(xhr.upload){$(xhr.upload).off('progress');}},_isInstanceOf:function(type,obj){return Object.prototype.toString.call(obj)==='[object '+type+']';},_getUniqueFilename:function(name,map){name=String(name);if(map[name]){name=name.replace(/(?: \\(([\\d]+)\\))?(\\.[^.]+)?$/,function(_,p1,p2){var index=p1?Number(p1)+1:1;var ext=p2||'';return' ('+index+')'+ext;});return this._getUniqueFilename(name,map);}\nmap[name]=true;return name;},_initXHRData:function(options){var that=this,formData,file=options.files[0],multipart=options.multipart||!$.support.xhrFileUpload,paramName=$.type(options.paramName)==='array'?options.paramName[0]:options.paramName;options.headers=$.extend({},options.headers);if(options.contentRange){options.headers['Content-Range']=options.contentRange;}\nif(!multipart||options.blob||!this._isInstanceOf('File',file)){options.headers['Content-Disposition']='attachment; filename=\"'+\nencodeURI(file.uploadName||file.name)+'\"';}\nif(!multipart){options.contentType=file.type||'application/octet-stream';options.data=options.blob||file;}else if($.support.xhrFormDataFileUpload){if(options.postMessage){formData=this._getFormData(options);if(options.blob){formData.push({name:paramName,value:options.blob});}else{$.each(options.files,function(index,file){formData.push({name:($.type(options.paramName)==='array'&&options.paramName[index])||paramName,value:file});});}}else{if(that._isInstanceOf('FormData',options.formData)){formData=options.formData;}else{formData=new FormData();$.each(this._getFormData(options),function(index,field){formData.append(field.name,field.value);});}\nif(options.blob){formData.append(paramName,options.blob,file.uploadName||file.name);}else{$.each(options.files,function(index,file){if(that._isInstanceOf('File',file)||that._isInstanceOf('Blob',file)){var fileName=file.uploadName||file.name;if(options.uniqueFilenames){fileName=that._getUniqueFilename(fileName,options.uniqueFilenames);}\nformData.append(($.type(options.paramName)==='array'&&options.paramName[index])||paramName,file,fileName);}});}}\noptions.data=formData;}\noptions.blob=null;},_initIframeSettings:function(options){var targetHost=$('<a></a>').prop('href',options.url).prop('host');options.dataType='iframe '+(options.dataType||'');options.formData=this._getFormData(options);if(options.redirect&&targetHost&&targetHost!==location.host){options.formData.push({name:options.redirectParamName||'redirect',value:options.redirect});}},_initDataSettings:function(options){if(this._isXHRUpload(options)){if(!this._chunkedUpload(options,true)){if(!options.data){this._initXHRData(options);}\nthis._initProgressListener(options);}\nif(options.postMessage){options.dataType='postmessage '+(options.dataType||'');}}else{this._initIframeSettings(options);}},_getParamName:function(options){var fileInput=$(options.fileInput),paramName=options.paramName;if(!paramName){paramName=[];fileInput.each(function(){var input=$(this),name=input.prop('name')||'files[]',i=(input.prop('files')||[1]).length;while(i){paramName.push(name);i-=1;}});if(!paramName.length){paramName=[fileInput.prop('name')||'files[]'];}}else if(!$.isArray(paramName)){paramName=[paramName];}\nreturn paramName;},_initFormSettings:function(options){if(!options.form||!options.form.length){options.form=$(options.fileInput.prop('form'));if(!options.form.length){options.form=$(this.options.fileInput.prop('form'));}}\noptions.paramName=this._getParamName(options);if(!options.url){options.url=options.form.prop('action')||location.href;}\noptions.type=(options.type||($.type(options.form.prop('method'))==='string'&&options.form.prop('method'))||'').toUpperCase();if(options.type!=='POST'&&options.type!=='PUT'&&options.type!=='PATCH'){options.type='POST';}\nif(!options.formAcceptCharset){options.formAcceptCharset=options.form.attr('accept-charset');}},_getAJAXSettings:function(data){var options=$.extend({},this.options,data);this._initFormSettings(options);this._initDataSettings(options);return options;},_getDeferredState:function(deferred){if(deferred.state){return deferred.state();}\nif(deferred.isResolved()){return'resolved';}\nif(deferred.isRejected()){return'rejected';}\nreturn'pending';},_enhancePromise:function(promise){promise.success=promise.done;promise.error=promise.fail;promise.complete=promise.always;return promise;},_getXHRPromise:function(resolveOrReject,context,args){var dfd=$.Deferred(),promise=dfd.promise();context=context||this.options.context||promise;if(resolveOrReject===true){dfd.resolveWith(context,args);}else if(resolveOrReject===false){dfd.rejectWith(context,args);}\npromise.abort=dfd.promise;return this._enhancePromise(promise);},_addConvenienceMethods:function(e,data){var that=this,getPromise=function(args){return $.Deferred().resolveWith(that,args).promise();};data.process=function(resolveFunc,rejectFunc){if(resolveFunc||rejectFunc){data._processQueue=this._processQueue=(this._processQueue||getPromise([this]))\n[that._promisePipe](function(){if(data.errorThrown){return $.Deferred().rejectWith(that,[data]).promise();}\nreturn getPromise(arguments);})\n[that._promisePipe](resolveFunc,rejectFunc);}\nreturn this._processQueue||getPromise([this]);};data.submit=function(){if(this.state()!=='pending'){data.jqXHR=this.jqXHR=that._trigger('submit',$.Event('submit',{delegatedEvent:e}),this)!==false&&that._onSend(e,this);}\nreturn this.jqXHR||that._getXHRPromise();};data.abort=function(){if(this.jqXHR){return this.jqXHR.abort();}\nthis.errorThrown='abort';that._trigger('fail',null,this);return that._getXHRPromise(false);};data.state=function(){if(this.jqXHR){return that._getDeferredState(this.jqXHR);}\nif(this._processQueue){return that._getDeferredState(this._processQueue);}};data.processing=function(){return(!this.jqXHR&&this._processQueue&&that._getDeferredState(this._processQueue)==='pending');};data.progress=function(){return this._progress;};data.response=function(){return this._response;};},_getUploadedBytes:function(jqXHR){var range=jqXHR.getResponseHeader('Range'),parts=range&&range.split('-'),upperBytesPos=parts&&parts.length>1&&parseInt(parts[1],10);return upperBytesPos&&upperBytesPos+1;},_chunkedUpload:function(options,testOnly){options.uploadedBytes=options.uploadedBytes||0;var that=this,file=options.files[0],fs=file.size,ub=options.uploadedBytes,mcs=options.maxChunkSize||fs,slice=this._blobSlice,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,upload;if(!(this._isXHRUpload(options)&&slice&&(ub||($.type(mcs)==='function'?mcs(options):mcs)<fs))||options.data){return false;}\nif(testOnly){return true;}\nif(ub>=fs){file.error=options.i18n('uploadedBytes');return this._getXHRPromise(false,options.context,[null,'error',file.error]);}\nupload=function(){var o=$.extend({},options),currentLoaded=o._progress.loaded;o.blob=slice.call(file,ub,ub+($.type(mcs)==='function'?mcs(o):mcs),file.type);o.chunkSize=o.blob.size;o.contentRange='bytes '+ub+'-'+(ub+o.chunkSize-1)+'/'+fs;that._trigger('chunkbeforesend',null,o);that._initXHRData(o);that._initProgressListener(o);jqXHR=((that._trigger('chunksend',null,o)!==false&&$.ajax(o))||that._getXHRPromise(false,o.context)).done(function(result,textStatus,jqXHR){ub=that._getUploadedBytes(jqXHR)||ub+o.chunkSize;if(currentLoaded+o.chunkSize-o._progress.loaded){that._onProgress($.Event('progress',{lengthComputable:true,loaded:ub-o.uploadedBytes,total:ub-o.uploadedBytes}),o);}\noptions.uploadedBytes=o.uploadedBytes=ub;o.result=result;o.textStatus=textStatus;o.jqXHR=jqXHR;that._trigger('chunkdone',null,o);that._trigger('chunkalways',null,o);if(ub<fs){upload();}else{dfd.resolveWith(o.context,[result,textStatus,jqXHR]);}}).fail(function(jqXHR,textStatus,errorThrown){o.jqXHR=jqXHR;o.textStatus=textStatus;o.errorThrown=errorThrown;that._trigger('chunkfail',null,o);that._trigger('chunkalways',null,o);dfd.rejectWith(o.context,[jqXHR,textStatus,errorThrown]);}).always(function(){that._deinitProgressListener(o);});};this._enhancePromise(promise);promise.abort=function(){return jqXHR.abort();};upload();return promise;},_beforeSend:function(e,data){if(this._active===0){this._trigger('start');this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0;}\nthis._initResponseObject(data);this._initProgressObject(data);data._progress.loaded=data.loaded=data.uploadedBytes||0;data._progress.total=data.total=this._getTotal(data.files)||1;data._progress.bitrate=data.bitrate=0;this._active+=1;this._progress.loaded+=data.loaded;this._progress.total+=data.total;},_onDone:function(result,textStatus,jqXHR,options){var total=options._progress.total,response=options._response;if(options._progress.loaded<total){this._onProgress($.Event('progress',{lengthComputable:true,loaded:total,total:total}),options);}\nresponse.result=options.result=result;response.textStatus=options.textStatus=textStatus;response.jqXHR=options.jqXHR=jqXHR;this._trigger('done',null,options);},_onFail:function(jqXHR,textStatus,errorThrown,options){var response=options._response;if(options.recalculateProgress){this._progress.loaded-=options._progress.loaded;this._progress.total-=options._progress.total;}\nresponse.jqXHR=options.jqXHR=jqXHR;response.textStatus=options.textStatus=textStatus;response.errorThrown=options.errorThrown=errorThrown;this._trigger('fail',null,options);},_onAlways:function(jqXHRorResult,textStatus,jqXHRorError,options){this._trigger('always',null,options);},_onSend:function(e,data){if(!data.submit){this._addConvenienceMethods(e,data);}\nvar that=this,jqXHR,aborted,slot,pipe,options=that._getAJAXSettings(data),send=function(){that._sending+=1;options._bitrateTimer=new that._BitrateTimer();jqXHR=jqXHR||(((aborted||that._trigger('send',$.Event('send',{delegatedEvent:e}),options)===false)&&that._getXHRPromise(false,options.context,aborted))||that._chunkedUpload(options)||$.ajax(options)).done(function(result,textStatus,jqXHR){that._onDone(result,textStatus,jqXHR,options);}).fail(function(jqXHR,textStatus,errorThrown){that._onFail(jqXHR,textStatus,errorThrown,options);}).always(function(jqXHRorResult,textStatus,jqXHRorError){that._deinitProgressListener(options);that._onAlways(jqXHRorResult,textStatus,jqXHRorError,options);that._sending-=1;that._active-=1;if(options.limitConcurrentUploads&&options.limitConcurrentUploads>that._sending){var nextSlot=that._slots.shift();while(nextSlot){if(that._getDeferredState(nextSlot)==='pending'){nextSlot.resolve();break;}\nnextSlot=that._slots.shift();}}\nif(that._active===0){that._trigger('stop');}});return jqXHR;};this._beforeSend(e,options);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){slot=$.Deferred();this._slots.push(slot);pipe=slot[that._promisePipe](send);}else{this._sequence=this._sequence[that._promisePipe](send,send);pipe=this._sequence;}\npipe.abort=function(){aborted=[undefined,'abort','abort'];if(!jqXHR){if(slot){slot.rejectWith(options.context,aborted);}\nreturn send();}\nreturn jqXHR.abort();};return this._enhancePromise(pipe);}\nreturn send();},_onAdd:function(e,data){var that=this,result=true,options=$.extend({},this.options,data),files=data.files,filesLength=files.length,limit=options.limitMultiFileUploads,limitSize=options.limitMultiFileUploadSize,overhead=options.limitMultiFileUploadSizeOverhead,batchSize=0,paramName=this._getParamName(options),paramNameSet,paramNameSlice,fileSet,i,j=0;if(!filesLength){return false;}\nif(limitSize&&files[0].size===undefined){limitSize=undefined;}\nif(!(options.singleFileUploads||limit||limitSize)||!this._isXHRUpload(options)){fileSet=[files];paramNameSet=[paramName];}else if(!(options.singleFileUploads||limitSize)&&limit){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i+=limit){fileSet.push(files.slice(i,i+limit));paramNameSlice=paramName.slice(i,i+limit);if(!paramNameSlice.length){paramNameSlice=paramName;}\nparamNameSet.push(paramNameSlice);}}else if(!options.singleFileUploads&&limitSize){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i=i+1){batchSize+=files[i].size+overhead;if(i+1===filesLength||batchSize+files[i+1].size+overhead>limitSize||(limit&&i+1-j>=limit)){fileSet.push(files.slice(j,i+1));paramNameSlice=paramName.slice(j,i+1);if(!paramNameSlice.length){paramNameSlice=paramName;}\nparamNameSet.push(paramNameSlice);j=i+1;batchSize=0;}}}else{paramNameSet=paramName;}\ndata.originalFiles=files;$.each(fileSet||files,function(index,element){var newData=$.extend({},data);newData.files=fileSet?element:[element];newData.paramName=paramNameSet[index];that._initResponseObject(newData);that._initProgressObject(newData);that._addConvenienceMethods(e,newData);result=that._trigger('add',$.Event('add',{delegatedEvent:e}),newData);return result;});return result;},_replaceFileInput:function(data){var input=data.fileInput,inputClone=input.clone(true),restoreFocus=input.is(document.activeElement);data.fileInputClone=inputClone;$('<form></form>').append(inputClone)[0].reset();input.after(inputClone).detach();if(restoreFocus){inputClone.trigger('focus');}\n$.cleanData(input.off('remove'));this.options.fileInput=this.options.fileInput.map(function(i,el){if(el===input[0]){return inputClone[0];}\nreturn el;});if(input[0]===this.element[0]){this.element=inputClone;}},_handleFileTreeEntry:function(entry,path){var that=this,dfd=$.Deferred(),entries=[],dirReader,errorHandler=function(e){if(e&&!e.entry){e.entry=entry;}\ndfd.resolve([e]);},successHandler=function(entries){that._handleFileTreeEntries(entries,path+entry.name+'/').done(function(files){dfd.resolve(files);}).fail(errorHandler);},readEntries=function(){dirReader.readEntries(function(results){if(!results.length){successHandler(entries);}else{entries=entries.concat(results);readEntries();}},errorHandler);};path=path||'';if(entry.isFile){if(entry._file){entry._file.relativePath=path;dfd.resolve(entry._file);}else{entry.file(function(file){file.relativePath=path;dfd.resolve(file);},errorHandler);}}else if(entry.isDirectory){dirReader=entry.createReader();readEntries();}else{dfd.resolve([]);}\nreturn dfd.promise();},_handleFileTreeEntries:function(entries,path){var that=this;return $.when.apply($,$.map(entries,function(entry){return that._handleFileTreeEntry(entry,path);}))\n[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments);});},_getDroppedFiles:function(dataTransfer){dataTransfer=dataTransfer||{};var items=dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry||items[0].getAsEntry)){return this._handleFileTreeEntries($.map(items,function(item){var entry;if(item.webkitGetAsEntry){entry=item.webkitGetAsEntry();if(entry){entry._file=item.getAsFile();}\nreturn entry;}\nreturn item.getAsEntry();}));}\nreturn $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();},_getSingleFileInputFiles:function(fileInput){fileInput=$(fileInput);var entries=fileInput.prop('webkitEntries')||fileInput.prop('entries'),files,value;if(entries&&entries.length){return this._handleFileTreeEntries(entries);}\nfiles=$.makeArray(fileInput.prop('files'));if(!files.length){value=fileInput.prop('value');if(!value){return $.Deferred().resolve([]).promise();}\nfiles=[{name:value.replace(/^.*\\\\/,'')}];}else if(files[0].name===undefined&&files[0].fileName){$.each(files,function(index,file){file.name=file.fileName;file.size=file.fileSize;});}\nreturn $.Deferred().resolve(files).promise();},_getFileInputFiles:function(fileInput){if(!(fileInput instanceof $)||fileInput.length===1){return this._getSingleFileInputFiles(fileInput);}\nreturn $.when.apply($,$.map(fileInput,this._getSingleFileInputFiles))\n[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments);});},_onChange:function(e){var that=this,data={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;if(that.options.replaceFileInput){that._replaceFileInput(data);}\nif(that._trigger('change',$.Event('change',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});},_onPaste:function(e){var items=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,data={files:[]};if(items&&items.length){$.each(items,function(index,item){var file=item.getAsFile&&item.getAsFile();if(file){data.files.push(file);}});if(this._trigger('paste',$.Event('paste',{delegatedEvent:e}),data)!==false){this._onAdd(e,data);}}},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var that=this,dataTransfer=e.dataTransfer,data={};if(dataTransfer&&dataTransfer.files&&dataTransfer.files.length){e.preventDefault();this._getDroppedFiles(dataTransfer).always(function(files){data.files=files;if(that._trigger('drop',$.Event('drop',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});}},_onDragOver:getDragHandler('dragover'),_onDragEnter:getDragHandler('dragenter'),_onDragLeave:getDragHandler('dragleave'),_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave});this._on(this.options.pasteZone,{paste:this._onPaste});}\nif($.support.fileInput){this._on(this.options.fileInput,{change:this._onChange});}},_destroyEventHandlers:function(){this._off(this.options.dropZone,'dragenter dragleave dragover drop');this._off(this.options.pasteZone,'paste');this._off(this.options.fileInput,'change');},_destroy:function(){this._destroyEventHandlers();},_setOption:function(key,value){var reinit=$.inArray(key,this._specialOptions)!==-1;if(reinit){this._destroyEventHandlers();}\nthis._super(key,value);if(reinit){this._initSpecialOptions();this._initEventHandlers();}},_initSpecialOptions:function(){var options=this.options;if(options.fileInput===undefined){options.fileInput=this.element.is('input[type=\"file\"]')?this.element:this.element.find('input[type=\"file\"]');}else if(!(options.fileInput instanceof $)){options.fileInput=$(options.fileInput);}\nif(!(options.dropZone instanceof $)){options.dropZone=$(options.dropZone);}\nif(!(options.pasteZone instanceof $)){options.pasteZone=$(options.pasteZone);}},_getRegExp:function(str){var parts=str.split('/'),modifiers=parts.pop();parts.shift();return new RegExp(parts.join('/'),modifiers);},_isRegExpOption:function(key,value){return(key!=='url'&&$.type(value)==='string'&&/^\\/.*\\/[igm]{0,3}$/.test(value));},_initDataAttributes:function(){var that=this,options=this.options,data=this.element.data();$.each(this.element[0].attributes,function(index,attr){var key=attr.name.toLowerCase(),value;if(/^data-/.test(key)){key=key.slice(5).replace(/-[a-z]/g,function(str){return str.charAt(1).toUpperCase();});value=data[key];if(that._isRegExpOption(key,value)){value=that._getRegExp(value);}\noptions[key]=value;}});},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers();},active:function(){return this._active;},progress:function(){return this._progress;},add:function(data){var that=this;if(!data||this.options.disabled){return;}\nif(data.fileInput&&!data.files){this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;that._onAdd(null,data);});}else{data.files=$.makeArray(data.files);this._onAdd(null,data);}},send:function(data){if(data&&!this.options.disabled){if(data.fileInput&&!data.files){var that=this,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,aborted;promise.abort=function(){aborted=true;if(jqXHR){return jqXHR.abort();}\ndfd.reject(null,'abort','abort');return promise;};this._getFileInputFiles(data.fileInput).always(function(files){if(aborted){return;}\nif(!files.length){dfd.reject();return;}\ndata.files=files;jqXHR=that._onSend(null,data);jqXHR.then(function(result,textStatus,jqXHR){dfd.resolve(result,textStatus,jqXHR);},function(jqXHR,textStatus,errorThrown){dfd.reject(jqXHR,textStatus,errorThrown);});});return this._enhancePromise(promise);}\ndata.files=$.makeArray(data.files);if(data.files.length){return this._onSend(null,data);}}\nreturn this._getXHRPromise(false,data&&data.context);}});});","jquery/fileUploader/jquery.fileupload-validate.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/jquery.fileupload-process'));}else{factory(window.jQuery);}})(function($){'use strict';$.blueimp.fileupload.prototype.options.processQueue.push({action:'validate',always:true,acceptFileTypes:'@',maxFileSize:'@',minFileSize:'@',maxNumberOfFiles:'@',disabled:'@disableValidation'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:'Maximum number of files exceeded',acceptFileTypes:'File type not allowed',maxFileSize:'File is too large',minFileSize:'File is too small'}},processActions:{validate:function(data,options){if(options.disabled){return data;}\nvar dfd=$.Deferred(),settings=this.options,file=data.files[data.index],fileSize;if(options.minFileSize||options.maxFileSize){fileSize=file.size;}\nif($.type(options.maxNumberOfFiles)==='number'&&(settings.getNumberOfFiles()||0)+data.files.length>options.maxNumberOfFiles){file.error=settings.i18n('maxNumberOfFiles');}else if(options.acceptFileTypes&&!(options.acceptFileTypes.test(file.type)||options.acceptFileTypes.test(file.name))){file.error=settings.i18n('acceptFileTypes');}else if(fileSize>options.maxFileSize){file.error=settings.i18n('maxFileSize');}else if($.type(fileSize)==='number'&&fileSize<options.minFileSize){file.error=settings.i18n('minFileSize');}else{delete file.error;}\nif(file.error||data.files.error){data.files.error=true;dfd.rejectWith(this,[data]);}else{dfd.resolveWith(this,[data]);}\nreturn dfd.promise();}}});});","jquery/fileUploader/jquery.fileupload-ui.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/vendor/blueimp-tmpl/js/tmpl','jquery/fileUploader/jquery.fileupload-image','jquery/fileUploader/jquery.fileupload-audio','jquery/fileUploader/jquery.fileupload-video','jquery/fileUploader/jquery.fileupload-validate'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/vendor/blueimp-tmpl/js/tmpl'),require('jquery/fileUploader/jquery.fileupload-image'),require('jquery/fileUploader/jquery.fileupload-audio'),require('jquery/fileUploader/jquery.fileupload-video'),require('jquery/fileUploader/jquery.fileupload-validate'));}else{factory(window.jQuery,window.tmpl);}})(function($,tmpl){'use strict';$.blueimp.fileupload.prototype._specialOptions.push('filesContainer','uploadTemplateId','downloadTemplateId');$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{autoUpload:false,showElementClass:'in',uploadTemplateId:'template-upload',downloadTemplateId:'template-download',filesContainer:undefined,prependFiles:false,dataType:'json',messages:{unknownError:'Unknown error'},getNumberOfFiles:function(){return this.filesContainer.children().not('.processing').length;},getFilesFromResponse:function(data){if(data.result&&$.isArray(data.result.files)){return data.result.files;}\nreturn[];},add:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar $this=$(this),that=$this.data('blueimp-fileupload')||$this.data('fileupload'),options=that.options;data.context=that._renderUpload(data.files).data('data',data).addClass('processing');options.filesContainer[options.prependFiles?'prepend':'append'](data.context);that._forceReflow(data.context);that._transition(data.context);data.process(function(){return $this.fileupload('process',data);}).always(function(){data.context.each(function(index){$(this).find('.size').text(that._formatFileSize(data.files[index].size));}).removeClass('processing');that._renderPreviews(data);}).done(function(){data.context.find('.edit,.start').prop('disabled',false);if(that._trigger('added',e,data)!==false&&(options.autoUpload||data.autoUpload)&&data.autoUpload!==false){data.submit();}}).fail(function(){if(data.files.error){data.context.each(function(index){var error=data.files[index].error;if(error){$(this).find('.error').text(error);}});}});},send:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload');if(data.context&&data.dataType&&data.dataType.substr(0,6)==='iframe'){data.context.find('.progress').addClass(!$.support.transition&&'progress-animated').attr('aria-valuenow',100).children().first().css('width','100%');}\nreturn that._trigger('sent',e,data);},done:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),getFilesFromResponse=data.getFilesFromResponse||that.options.getFilesFromResponse,files=getFilesFromResponse(data),template,deferred;if(data.context){data.context.each(function(index){var file=files[index]||{error:'Empty file upload result'};deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=$(this);template=that._renderDownload([file]).replaceAll(node);that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger('completed',e,data);that._trigger('finished',e,data);deferred.resolve();});});});}else{template=that._renderDownload(files)\n[that.options.prependFiles?'prependTo':'appendTo'](that.options.filesContainer);that._forceReflow(template);deferred=that._addFinishedDeferreds();that._transition(template).done(function(){data.context=$(this);that._trigger('completed',e,data);that._trigger('finished',e,data);deferred.resolve();});}},fail:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),template,deferred;if(data.context){data.context.each(function(index){if(data.errorThrown!=='abort'){var file=data.files[index];file.error=file.error||data.errorThrown||data.i18n('unknownError');deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=$(this);template=that._renderDownload([file]).replaceAll(node);that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});});}else{deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){$(this).remove();that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});}});}else if(data.errorThrown!=='abort'){data.context=that._renderUpload(data.files)\n[that.options.prependFiles?'prependTo':'appendTo'](that.options.filesContainer).data('data',data);that._forceReflow(data.context);deferred=that._addFinishedDeferreds();that._transition(data.context).done(function(){data.context=$(this);that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});}else{that._trigger('failed',e,data);that._trigger('finished',e,data);that._addFinishedDeferreds().resolve();}},progress:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar progress=Math.floor((data.loaded / data.total)*100);if(data.context){data.context.each(function(){$(this).find('.progress').attr('aria-valuenow',progress).children().first().css('width',progress+'%');});}},progressall:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar $this=$(this),progress=Math.floor((data.loaded / data.total)*100),globalProgressNode=$this.find('.fileupload-progress'),extendedProgressNode=globalProgressNode.find('.progress-extended');if(extendedProgressNode.length){extendedProgressNode.html(($this.data('blueimp-fileupload')||$this.data('fileupload'))._renderExtendedProgress(data));}\nglobalProgressNode.find('.progress').attr('aria-valuenow',progress).children().first().css('width',progress+'%');},start:function(e){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload');that._resetFinishedDeferreds();that._transition($(this).find('.fileupload-progress')).done(function(){that._trigger('started',e);});},stop:function(e){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),deferred=that._addFinishedDeferreds();$.when.apply($,that._getFinishedDeferreds()).done(function(){that._trigger('stopped',e);});that._transition($(this).find('.fileupload-progress')).done(function(){$(this).find('.progress').attr('aria-valuenow','0').children().first().css('width','0%');$(this).find('.progress-extended').html('&nbsp;');deferred.resolve();});},processstart:function(e){if(e.isDefaultPrevented()){return false;}\n$(this).addClass('fileupload-processing');},processstop:function(e){if(e.isDefaultPrevented()){return false;}\n$(this).removeClass('fileupload-processing');},destroy:function(e,data){if(e.isDefaultPrevented()){return false;}\nvar that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),removeNode=function(){that._transition(data.context).done(function(){$(this).remove();that._trigger('destroyed',e,data);});};if(data.url){data.dataType=data.dataType||that.options.dataType;$.ajax(data).done(removeNode).fail(function(){that._trigger('destroyfailed',e,data);});}else{removeNode();}}},_resetFinishedDeferreds:function(){this._finishedUploads=[];},_addFinishedDeferreds:function(deferred){var promise=deferred||$.Deferred();this._finishedUploads.push(promise);return promise;},_getFinishedDeferreds:function(){return this._finishedUploads;},_enableDragToDesktop:function(){var link=$(this),url=link.prop('href'),name=link.prop('download'),type='application/octet-stream';link.on('dragstart',function(e){try{e.originalEvent.dataTransfer.setData('DownloadURL',[type,name,url].join(':'));}catch(ignore){}});},_formatFileSize:function(bytes){if(typeof bytes!=='number'){return'';}\nif(bytes>=1000000000){return(bytes / 1000000000).toFixed(2)+' GB';}\nif(bytes>=1000000){return(bytes / 1000000).toFixed(2)+' MB';}\nreturn(bytes / 1000).toFixed(2)+' KB';},_formatBitrate:function(bits){if(typeof bits!=='number'){return'';}\nif(bits>=1000000000){return(bits / 1000000000).toFixed(2)+' Gbit/s';}\nif(bits>=1000000){return(bits / 1000000).toFixed(2)+' Mbit/s';}\nif(bits>=1000){return(bits / 1000).toFixed(2)+' kbit/s';}\nreturn bits.toFixed(2)+' bit/s';},_formatTime:function(seconds){var date=new Date(seconds*1000),days=Math.floor(seconds / 86400);days=days?days+'d ':'';return(days+\n('0'+date.getUTCHours()).slice(-2)+':'+\n('0'+date.getUTCMinutes()).slice(-2)+':'+\n('0'+date.getUTCSeconds()).slice(-2));},_formatPercentage:function(floatValue){return(floatValue*100).toFixed(2)+' %';},_renderExtendedProgress:function(data){return(this._formatBitrate(data.bitrate)+' | '+\nthis._formatTime(((data.total-data.loaded)*8)/ data.bitrate)+' | '+\nthis._formatPercentage(data.loaded / data.total)+' | '+\nthis._formatFileSize(data.loaded)+' / '+\nthis._formatFileSize(data.total));},_renderTemplate:function(func,files){if(!func){return $();}\nvar result=func({files:files,formatFileSize:this._formatFileSize,options:this.options});if(result instanceof $){return result;}\nreturn $(this.options.templatesContainer).html(result).children();},_renderPreviews:function(data){data.context.find('.preview').each(function(index,elm){$(elm).empty().append(data.files[index].preview);});},_renderUpload:function(files){return this._renderTemplate(this.options.uploadTemplate,files);},_renderDownload:function(files){return this._renderTemplate(this.options.downloadTemplate,files).find('a[download]').each(this._enableDragToDesktop).end();},_editHandler:function(e){e.preventDefault();if(!this.options.edit)return;var that=this,button=$(e.currentTarget),template=button.closest('.template-upload'),data=template.data('data'),index=button.data().index;this.options.edit(data.files[index]).then(function(file){if(!file)return;data.files[index]=file;data.context.addClass('processing');template.find('.edit,.start').prop('disabled',true);$(that.element).fileupload('process',data).always(function(){template.find('.size').text(that._formatFileSize(data.files[index].size));data.context.removeClass('processing');that._renderPreviews(data);}).done(function(){template.find('.edit,.start').prop('disabled',false);}).fail(function(){template.find('.edit').prop('disabled',false);var error=data.files[index].error;if(error){template.find('.error').text(error);}});});},_startHandler:function(e){e.preventDefault();var button=$(e.currentTarget),template=button.closest('.template-upload'),data=template.data('data');button.prop('disabled',true);if(data&&data.submit){data.submit();}},_cancelHandler:function(e){e.preventDefault();var template=$(e.currentTarget).closest('.template-upload,.template-download'),data=template.data('data')||{};data.context=data.context||template;if(data.abort){data.abort();}else{data.errorThrown='abort';this._trigger('fail',e,data);}},_deleteHandler:function(e){e.preventDefault();var button=$(e.currentTarget);this._trigger('destroy',e,$.extend({context:button.closest('.template-download'),type:'DELETE'},button.data()));},_forceReflow:function(node){return $.support.transition&&node.length&&node[0].offsetWidth;},_transition:function(node){var dfd=$.Deferred();if($.support.transition&&node.hasClass('fade')&&node.is(':visible')){var transitionEndHandler=function(e){if(e.target===node[0]){node.off($.support.transition.end,transitionEndHandler);dfd.resolveWith(node);}};node.on($.support.transition.end,transitionEndHandler).toggleClass(this.options.showElementClass);}else{node.toggleClass(this.options.showElementClass);dfd.resolveWith(node);}\nreturn dfd;},_initButtonBarEventHandlers:function(){var fileUploadButtonBar=this.element.find('.fileupload-buttonbar'),filesList=this.options.filesContainer;this._on(fileUploadButtonBar.find('.start'),{click:function(e){e.preventDefault();filesList.find('.start').trigger('click');}});this._on(fileUploadButtonBar.find('.cancel'),{click:function(e){e.preventDefault();filesList.find('.cancel').trigger('click');}});this._on(fileUploadButtonBar.find('.delete'),{click:function(e){e.preventDefault();filesList.find('.toggle:checked').closest('.template-download').find('.delete').trigger('click');fileUploadButtonBar.find('.toggle').prop('checked',false);}});this._on(fileUploadButtonBar.find('.toggle'),{change:function(e){filesList.find('.toggle').prop('checked',$(e.currentTarget).is(':checked'));}});},_destroyButtonBarEventHandlers:function(){this._off(this.element.find('.fileupload-buttonbar').find('.start, .cancel, .delete'),'click');this._off(this.element.find('.fileupload-buttonbar .toggle'),'change.');},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{'click .edit':this._editHandler,'click .start':this._startHandler,'click .cancel':this._cancelHandler,'click .delete':this._deleteHandler});this._initButtonBarEventHandlers();},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,'click');this._super();},_enableFileInputButton:function(){this.element.find('.fileinput-button input').prop('disabled',false).parent().removeClass('disabled');},_disableFileInputButton:function(){this.element.find('.fileinput-button input').prop('disabled',true).parent().addClass('disabled');},_initTemplates:function(){var options=this.options;options.templatesContainer=this.document[0].createElement(options.filesContainer.prop('nodeName'));if(tmpl){if(options.uploadTemplateId){options.uploadTemplate=tmpl(options.uploadTemplateId);}\nif(options.downloadTemplateId){options.downloadTemplate=tmpl(options.downloadTemplateId);}}},_initFilesContainer:function(){var options=this.options;if(options.filesContainer===undefined){options.filesContainer=this.element.find('.files');}else if(!(options.filesContainer instanceof $)){options.filesContainer=$(options.filesContainer);}},_initSpecialOptions:function(){this._super();this._initFilesContainer();},_create:function(){this._super();this._resetFinishedDeferreds();if(!$.support.fileInput){this._disableFileInputButton();}},enable:function(){var wasDisabled=false;if(this.options.disabled){wasDisabled=true;}\nthis._super();if(wasDisabled){this.element.find('input, button').prop('disabled',false);this._enableFileInputButton();}},disable:function(){if(!this.options.disabled){this.element.find('input, button').prop('disabled',true);this._disableFileInputButton();}\nthis._super();}});});","jquery/fileUploader/jquery.fileupload-process.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/jquery.fileupload'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/jquery.fileupload'));}else{factory(window.jQuery);}})(function($){'use strict';var originalAdd=$.blueimp.fileupload.prototype.options.add;$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{processQueue:[],add:function(e,data){var $this=$(this);data.process(function(){return $this.fileupload('process',data);});originalAdd.call(this,e,data);}},processActions:{},_processFile:function(data,originalData){var that=this,dfd=$.Deferred().resolveWith(that,[data]),chain=dfd.promise();this._trigger('process',null,data);$.each(data.processQueue,function(i,settings){var func=function(data){if(originalData.errorThrown){return $.Deferred().rejectWith(that,[originalData]).promise();}\nreturn that.processActions[settings.action].call(that,data,settings);};chain=chain[that._promisePipe](func,settings.always&&func);});chain.done(function(){that._trigger('processdone',null,data);that._trigger('processalways',null,data);}).fail(function(){that._trigger('processfail',null,data);that._trigger('processalways',null,data);});return chain;},_transformProcessQueue:function(options){var processQueue=[];$.each(options.processQueue,function(){var settings={},action=this.action,prefix=this.prefix===true?action:this.prefix;$.each(this,function(key,value){if($.type(value)==='string'&&value.charAt(0)==='@'){settings[key]=options[value.slice(1)||(prefix?prefix+key.charAt(0).toUpperCase()+key.slice(1):key)];}else{settings[key]=value;}});processQueue.push(settings);});options.processQueue=processQueue;},processing:function(){return this._processing;},process:function(data){var that=this,options=$.extend({},this.options,data);if(options.processQueue&&options.processQueue.length){this._transformProcessQueue(options);if(this._processing===0){this._trigger('processstart');}\n$.each(data.files,function(index){var opts=index?$.extend({},options):options,func=function(){if(data.errorThrown){return $.Deferred().rejectWith(that,[data]).promise();}\nreturn that._processFile(opts,data);};opts.index=index;that._processing+=1;that._processingQueue=that._processingQueue[that._promisePipe](func,func).always(function(){that._processing-=1;if(that._processing===0){that._trigger('processstop');}});});}\nreturn this._processingQueue;},_create:function(){this._super();this._processing=0;this._processingQueue=$.Deferred().resolveWith(this).promise();}});});","jquery/fileUploader/jquery.fileupload-audio.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/jquery.fileupload-process'));}else{factory(window.jQuery,window.loadImage);}})(function($,loadImage){'use strict';$.blueimp.fileupload.prototype.options.processQueue.unshift({action:'loadAudio',prefix:true,fileTypes:'@',maxFileSize:'@',disabled:'@disableAudioPreview'},{action:'setAudio',name:'@audioPreviewName',disabled:'@disableAudioPreview'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\\/.*$/},_audioElement:document.createElement('audio'),processActions:{loadAudio:function(data,options){if(options.disabled){return data;}\nvar file=data.files[data.index],url,audio;if(this._audioElement.canPlayType&&this._audioElement.canPlayType(file.type)&&($.type(options.maxFileSize)!=='number'||file.size<=options.maxFileSize)&&(!options.fileTypes||options.fileTypes.test(file.type))){url=loadImage.createObjectURL(file);if(url){audio=this._audioElement.cloneNode(false);audio.src=url;audio.controls=true;data.audio=audio;return data;}}\nreturn data;},setAudio:function(data,options){if(data.audio&&!options.disabled){data.files[data.index][options.name||'preview']=data.audio;}\nreturn data;}}});});","jquery/fileUploader/jquery.fileupload-image.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-orientation','jquery/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob','jquery/fileUploader/jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-orientation'),require('jquery/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob'),require('jquery/fileUploader/jquery.fileupload-process'));}else{factory(window.jQuery,window.loadImage);}})(function($,loadImage){'use strict';$.blueimp.fileupload.prototype.options.processQueue.unshift({action:'loadImageMetaData',maxMetaDataSize:'@',disableImageHead:'@',disableMetaDataParsers:'@',disableExif:'@',disableExifOffsets:'@',includeExifTags:'@',excludeExifTags:'@',disableIptc:'@',disableIptcOffsets:'@',includeIptcTags:'@',excludeIptcTags:'@',disabled:'@disableImageMetaDataLoad'},{action:'loadImage',prefix:true,fileTypes:'@',maxFileSize:'@',noRevoke:'@',disabled:'@disableImageLoad'},{action:'resizeImage',prefix:'image',maxWidth:'@',maxHeight:'@',minWidth:'@',minHeight:'@',crop:'@',orientation:'@',forceResize:'@',disabled:'@disableImageResize'},{action:'saveImage',quality:'@imageQuality',type:'@imageType',disabled:'@disableImageResize'},{action:'saveImageMetaData',disabled:'@disableImageMetaDataSave'},{action:'resizeImage',prefix:'preview',maxWidth:'@',maxHeight:'@',minWidth:'@',minHeight:'@',crop:'@',orientation:'@',thumbnail:'@',canvas:'@',disabled:'@disableImagePreview'},{action:'setImage',name:'@imagePreviewName',disabled:'@disableImagePreview'},{action:'deleteImageReferences',disabled:'@disableImageReferencesDeletion'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{loadImageFileTypes:/^image\\/(gif|jpeg|png|svg\\+xml)$/,loadImageMaxFileSize:10000000,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:true,imageCrop:false,disableImageResize:true,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:true,previewThumbnail:true,previewCrop:false,previewCanvas:true},processActions:{loadImage:function(data,options){if(options.disabled){return data;}\nvar that=this,file=data.files[data.index],dfd=$.Deferred();if(($.type(options.maxFileSize)==='number'&&file.size>options.maxFileSize)||(options.fileTypes&&!options.fileTypes.test(file.type))||!loadImage(file,function(img){if(img.src){data.img=img;}\ndfd.resolveWith(that,[data]);},options)){return data;}\nreturn dfd.promise();},resizeImage:function(data,options){if(options.disabled||!(data.canvas||data.img)){return data;}\noptions=$.extend({canvas:true},options);var that=this,dfd=$.Deferred(),img=(options.canvas&&data.canvas)||data.img,resolve=function(newImg){if(newImg&&(newImg.width!==img.width||newImg.height!==img.height||options.forceResize)){data[newImg.getContext?'canvas':'img']=newImg;}\ndata.preview=newImg;dfd.resolveWith(that,[data]);},thumbnail,thumbnailBlob;if(data.exif&&options.thumbnail){thumbnail=data.exif.get('Thumbnail');thumbnailBlob=thumbnail&&thumbnail.get('Blob');if(thumbnailBlob){options.orientation=data.exif.get('Orientation');loadImage(thumbnailBlob,resolve,options);return dfd.promise();}}\nif(data.orientation){delete options.orientation;}else{data.orientation=options.orientation||loadImage.orientation;}\nif(img){resolve(loadImage.scale(img,options,data));return dfd.promise();}\nreturn data;},saveImage:function(data,options){if(!data.canvas||options.disabled){return data;}\nvar that=this,file=data.files[data.index],dfd=$.Deferred();if(data.canvas.toBlob){data.canvas.toBlob(function(blob){if(!blob.name){if(file.type===blob.type){blob.name=file.name;}else if(file.name){blob.name=file.name.replace(/\\.\\w+$/,'.'+blob.type.substr(6));}}\nif(file.type!==blob.type){delete data.imageHead;}\ndata.files[data.index]=blob;dfd.resolveWith(that,[data]);},options.type||file.type,options.quality);}else{return data;}\nreturn dfd.promise();},loadImageMetaData:function(data,options){if(options.disabled){return data;}\nvar that=this,dfd=$.Deferred();loadImage.parseMetaData(data.files[data.index],function(result){$.extend(data,result);dfd.resolveWith(that,[data]);},options);return dfd.promise();},saveImageMetaData:function(data,options){if(!(data.imageHead&&data.canvas&&data.canvas.toBlob&&!options.disabled)){return data;}\nvar that=this,file=data.files[data.index],dfd=$.Deferred();if(data.orientation===true&&data.exifOffsets){loadImage.writeExifData(data.imageHead,data,'Orientation',1);}\nloadImage.replaceHead(file,data.imageHead,function(blob){blob.name=file.name;data.files[data.index]=blob;dfd.resolveWith(that,[data]);});return dfd.promise();},setImage:function(data,options){if(data.preview&&!options.disabled){data.files[data.index][options.name||'preview']=data.preview;}\nreturn data;},deleteImageReferences:function(data,options){if(!options.disabled){delete data.img;delete data.canvas;delete data.preview;delete data.imageHead;}\nreturn data;}}});});","jquery/fileUploader/jquery.fileupload-video.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/jquery.fileupload-process'));}else{factory(window.jQuery,window.loadImage);}})(function($,loadImage){'use strict';$.blueimp.fileupload.prototype.options.processQueue.unshift({action:'loadVideo',prefix:true,fileTypes:'@',maxFileSize:'@',disabled:'@disableVideoPreview'},{action:'setVideo',name:'@videoPreviewName',disabled:'@disableVideoPreview'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\\/.*$/},_videoElement:document.createElement('video'),processActions:{loadVideo:function(data,options){if(options.disabled){return data;}\nvar file=data.files[data.index],url,video;if(this._videoElement.canPlayType&&this._videoElement.canPlayType(file.type)&&($.type(options.maxFileSize)!=='number'||file.size<=options.maxFileSize)&&(!options.fileTypes||options.fileTypes.test(file.type))){url=loadImage.createObjectURL(file);if(url){video=this._videoElement.cloneNode(false);video.src=url;video.controls=true;data.video=video;return data;}}\nreturn data;},setVideo:function(data,options){if(data.video&&!options.disabled){data.files[data.index][options.name||'preview']=data.video;}\nreturn data;}}});});","jquery/fileUploader/jquery.fileuploader.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery/fileUploader/jquery.fileupload-image','jquery/fileUploader/jquery.fileupload-audio','jquery/fileUploader/jquery.fileupload-video','jquery/fileUploader/jquery.iframe-transport',],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('jquery/fileUploader/jquery.fileupload-image'),require('jquery/fileUploader/jquery.fileupload-audio'),require('jquery/fileUploader/jquery.fileupload-video'),require('jquery/fileUploader/jquery.iframe-transport'));}else{factory(window.jQuery);}})();","jquery/fileUploader/cors/jquery.postmessage-transport.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(window.jQuery);}})(function($){'use strict';var counter=0,names=['accepts','cache','contents','contentType','crossDomain','data','dataType','headers','ifModified','mimeType','password','processData','timeout','traditional','type','url','username'],convert=function(p){return p;};$.ajaxSetup({converters:{'postmessage text':convert,'postmessage json':convert,'postmessage html':convert}});$.ajaxTransport('postmessage',function(options){if(options.postMessage&&window.postMessage){var iframe,loc=$('<a></a>').prop('href',options.postMessage)[0],target=loc.protocol+'//'+loc.host,xhrUpload=options.xhr().upload;if(/^(http:\\/\\/.+:80)|(https:\\/\\/.+:443)$/.test(target)){target=target.replace(/:(80|443)$/,'');}\nreturn{send:function(_,completeCallback){counter+=1;var message={id:'postmessage-transport-'+counter},eventName='message.'+message.id;iframe=$('<iframe style=\"display:none;\" src=\"'+\noptions.postMessage+'\" name=\"'+\nmessage.id+'\"></iframe>').on('load',function(){$.each(names,function(i,name){message[name]=options[name];});message.dataType=message.dataType.replace('postmessage ','');$(window).on(eventName,function(event){var e=event.originalEvent;var data=e.data;var ev;if(e.origin===target&&data.id===message.id){if(data.type==='progress'){ev=document.createEvent('Event');ev.initEvent(data.type,false,true);$.extend(ev,data);xhrUpload.dispatchEvent(ev);}else{completeCallback(data.status,data.statusText,{postmessage:data.result},data.headers);iframe.remove();$(window).off(eventName);}}});iframe[0].contentWindow.postMessage(message,target);}).appendTo(document.body);},abort:function(){if(iframe){iframe.remove();}}};}});});","jquery/fileUploader/cors/jquery.xdr-transport.min.js":"(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(window.jQuery);}})(function($){'use strict';if(window.XDomainRequest&&!$.support.cors){$.ajaxTransport(function(s){if(s.crossDomain&&s.async){if(s.timeout){s.xdrTimeout=s.timeout;delete s.timeout;}\nvar xdr;return{send:function(headers,completeCallback){var addParamChar=/\\?/.test(s.url)?'&':'?';function callback(status,statusText,responses,responseHeaders){xdr.onload=xdr.onerror=xdr.ontimeout=$.noop;xdr=null;completeCallback(status,statusText,responses,responseHeaders);}\nxdr=new XDomainRequest();if(s.type==='DELETE'){s.url=s.url+addParamChar+'_method=DELETE';s.type='POST';}else if(s.type==='PUT'){s.url=s.url+addParamChar+'_method=PUT';s.type='POST';}else if(s.type==='PATCH'){s.url=s.url+addParamChar+'_method=PATCH';s.type='POST';}\nxdr.open(s.type,s.url);xdr.onload=function(){callback(200,'OK',{text:xdr.responseText},'Content-Type: '+xdr.contentType);};xdr.onerror=function(){callback(404,'Not Found');};if(s.xdrTimeout){xdr.ontimeout=function(){callback(0,'timeout');};xdr.timeout=s.xdrTimeout;}\nxdr.send((s.hasContent&&s.data)||null);},abort:function(){if(xdr){xdr.onerror=$.noop();xdr.abort();}}};}});}});","jquery/fileUploader/vendor/jquery.ui.widget.min.js":"/*! jQuery UI - v1.12.1+0b7246b6eeadfa9e2696e22f3230f6452f8129dc - 2020-02-20\n * http://jqueryui.com\n * Includes: widget.js\n * Copyright jQuery Foundation and other contributors; Licensed MIT */\n(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(window.jQuery);}})(function($){('use strict');$.ui=$.ui||{};$.ui.version='1.12.1';/*!\n   * jQuery UI Widget 1.12.1\n   * http://jqueryui.com\n   *\n   * Copyright jQuery Foundation and other contributors\n   * Released under the MIT license.\n   * http://jquery.org/license\n   */\nif(!$.expr.pseudos){$.expr.pseudos=$.expr[':'];}\nif(!$.uniqueSort){$.uniqueSort=$.unique;}\nvar widgetUuid=0;var widgetHasOwnProperty=Array.prototype.hasOwnProperty;var widgetSlice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){events=$._data(elem,'events');if(events&&events.remove){$(elem).triggerHandler('remove');}}\norig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;var proxiedPrototype={};var namespace=name.split('.')[0];name=name.split('.')[1];var fullName=namespace+'-'+name;if(!prototype){prototype=base;base=$.Widget;}\nif($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype));}\n$.expr.pseudos[fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}\nif(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}\nproxiedPrototype[prop]=(function(){function _super(){return base.prototype[prop].apply(this,arguments);}\nfunction _superApply(args){return base.prototype[prop].apply(this,args);}\nreturn function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+'.'+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}\n$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(widgetHasOwnProperty.call(input[inputIndex],key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}\nreturn target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==='string';var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){if(!this.length&&options==='instance'){returnValue=undefined;}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==='instance'){returnValue=instance;return false;}\nif(!instance){return $.error('cannot call methods on '+\nname+' prior to initialization; '+\"attempted to call method '\"+\noptions+\"'\");}\nif(!$.isFunction(instance[options])||options.charAt(0)==='_'){return $.error(\"no such method '\"+\noptions+\"' for \"+\nname+' widget instance');}\nmethodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}\nthis.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}\nreturn returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace='.'+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}\nthis.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}\nthis._trigger('create',null,this._getCreateEventData());this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key);});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr('aria-disabled');this.bindings.off(this.eventNamespace);},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){return $.widget.extend({},this.options);}\nif(typeof key==='string'){options={};parts=key.split('.');key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}\nkey=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}\ncurOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}\noptions[key]=value;}}\nthis._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}\nreturn this;},_setOption:function(key,value){if(key==='classes'){this._setOptionClasses(value);}\nthis.options[key]=value;if(key==='disabled'){this._setOptionDisabled(value);}\nreturn this;},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue;}\nelements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}));}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+'-disabled',null,!!value);if(value){this._removeClass(this.hoverable,null,'ui-state-hover');this._removeClass(this.focusable,null,'ui-state-focus');}},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function bindRemoveEvent(){options.element.each(function(_,element){var isTracked=$.map(that.classesElementLookup,function(elements){return elements;}).some(function(elements){return elements.is(element);});if(!isTracked){that._on($(element),{remove:'_untrackClassesElement'});}});}\nfunction processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){bindRemoveEvent();current=$($.uniqueSort(current.get().concat(options.element.get())));}else{current=$(current.not(options.element).get());}\nthat.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]]);}}}\nif(options.keys){processClassString(options.keys.match(/\\S+/g)||[],true);}\nif(options.extra){processClassString(options.extra.match(/\\S+/g)||[]);}\nreturn full.join(' ');},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get());}});this._off($(event.target));},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false);},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true);},_toggleClass:function(element,keys,extra,add){add=typeof add==='boolean'?add:extra;var shift=typeof element==='string'||element===null,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this;},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=='boolean'){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}\nif(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}\n$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass('ui-state-disabled'))){return;}\nreturn(typeof handler==='string'?instance[handler]:handler).apply(instance,arguments);}\nif(typeof handler!=='string'){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}\nvar match=event.match(/^([\\w:-]*)\\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy);}else{element.on(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||'').split(' ').join(this.eventNamespace+' ')+\nthis.eventNamespace;element.off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){var instance=this;function handlerProxy(){return(typeof handler==='string'?instance[handler]:handler).apply(instance,arguments);}\nreturn setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,'ui-state-hover');},mouseleave:function(event){this._removeClass($(event.currentTarget),null,'ui-state-hover');}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,'ui-state-focus');},focusout:function(event){this._removeClass($(event.currentTarget),null,'ui-state-focus');}});},_trigger:function(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}\nthis.element.trigger(event,data);return!(($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false)||event.isDefaultPrevented());}};$.each({show:'fadeIn',hide:'fadeOut'},function(method,defaultEffect){$.Widget.prototype['_'+method]=function(element,options,callback){if(typeof options==='string'){options={effect:options};}\nvar hasOptions;var effectName=!options?method:options===true||typeof options==='number'?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==='number'){options={duration:options};}\nhasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}\nif(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}\nnext();});}};});});","jquery/fileUploader/vendor/blueimp-tmpl/js/tmpl.min.js":";(function($){'use strict'\nvar tmpl=function(str,data){var f=!/[^\\w\\-.:]/.test(str)?(tmpl.cache[str]=tmpl.cache[str]||tmpl(tmpl.load(str))):new Function(tmpl.arg+',tmpl','var _e=tmpl.encode'+\ntmpl.helper+\",_s='\"+\nstr.replace(tmpl.regexp,tmpl.func)+\"';return _s;\")\nreturn data?f(data,tmpl):function(data){return f(data,tmpl)}}\ntmpl.cache={}\ntmpl.load=function(id){return document.getElementById(id).innerHTML}\ntmpl.regexp=/([\\s'\\\\])(?!(?:[^{]|\\{(?!%))*%\\})|(?:\\{%(=|#)([\\s\\S]+?)%\\})|(\\{%)|(%\\})/g\ntmpl.func=function(s,p1,p2,p3,p4,p5){if(p1){return({'\\n':'\\\\n','\\r':'\\\\r','\\t':'\\\\t',' ':' '}[p1]||'\\\\'+p1)}\nif(p2){if(p2==='='){return\"'+_e(\"+p3+\")+'\"}\nreturn\"'+(\"+p3+\"==null?'':\"+p3+\")+'\"}\nif(p4){return\"';\"}\nif(p5){return\"_s+='\"}}\ntmpl.encReg=/[<>&\"'\\x00]/g\ntmpl.encMap={'<':'&lt;','>':'&gt;','&':'&amp;','\"':'&quot;',\"'\":'&#39;'}\ntmpl.encode=function(s){return(s==null?'':''+s).replace(tmpl.encReg,function(c){return tmpl.encMap[c]||''})}\ntmpl.arg='o'\ntmpl.helper=\",print=function(s,e){_s+=e?(s==null?'':s):_e(s);}\"+',include=function(s,d){_s+=tmpl(s,d);}'\nif(typeof define==='function'&&define.amd){define(function(){return tmpl})}else if(typeof module==='object'&&module.exports){module.exports=tmpl}else{$.tmpl=tmpl}})(this)","jquery/fileUploader/vendor/blueimp-tmpl/js/compile.min.js":"#!/usr/bin/env node;(function(){'use strict'\nvar path=require('path')\nvar tmpl=require(path.join(__dirname,'tmpl.js'))\nvar fs=require('fs')\nvar runtime=fs.readFileSync(path.join(__dirname,'runtime.js'),'utf8')\nvar regexp=/<script( id=\"([\\w-]+)\")? type=\"text\\/x-tmpl\"( id=\"([\\w-]+)\")?>([\\s\\S]+?)<\\/script>/gi\nvar helperRegexp=new RegExp(tmpl.helper.match(/\\w+(?=\\s*=\\s*function\\s*\\()/g).join('\\\\s*\\\\(|')+'\\\\s*\\\\(')\nvar list=[]\nvar code\ntmpl.print=function(str){var helper=helperRegexp.test(str)?tmpl.helper:''\nvar body=str.replace(tmpl.regexp,tmpl.func)\nif(helper||/_e\\s*\\(/.test(body)){helper='_e=tmpl.encode'+helper+','}\nreturn('function('+\ntmpl.arg+',tmpl){'+\n('var '+helper+\"_s='\"+body+\"';return _s;\").split(\"_s+='';\").join('')+'}')}\nprocess.argv.forEach(function(file,index){var listLength=list.length\nvar stats\nvar content\nvar result\nvar id\nif(index>1){stats=fs.statSync(file)\nif(!stats.isFile()){console.error(file+' is not a file.')\nreturn}\ncontent=fs.readFileSync(file,'utf8')\nwhile(true){result=regexp.exec(content)\nif(!result){break}\nid=result[2]||result[4]\nlist.push(\"'\"+id+\"':\"+tmpl.print(result[5]))}\nif(listLength===list.length){id=path.basename(file,path.extname(file))\nlist.push(\"'\"+id+\"':\"+tmpl.print(content))}}})\nif(!list.length){console.error('Missing input file.')\nreturn}\ncode=runtime.replace('{}','{'+list.join(',')+'}')\nconsole.log(code)})()","jquery/fileUploader/vendor/blueimp-tmpl/js/runtime.min.js":";(function($){'use strict'\nvar tmpl=function(id,data){var f=tmpl.cache[id]\nreturn data?f(data,tmpl):function(data){return f(data,tmpl)}}\ntmpl.cache={}\ntmpl.encReg=/[<>&\"'\\x00]/g\ntmpl.encMap={'<':'&lt;','>':'&gt;','&':'&amp;','\"':'&quot;',\"'\":'&#39;'}\ntmpl.encode=function(s){return(s==null?'':''+s).replace(tmpl.encReg,function(c){return tmpl.encMap[c]||''})}\nif(typeof define==='function'&&define.amd){define(function(){return tmpl})}else if(typeof module==='object'&&module.exports){module.exports=tmpl}else{$.tmpl=tmpl}})(this)","jquery/fileUploader/vendor/blueimp-canvas-to-blob/js/canvas-to-blob.min.js":";(function(window){'use strict'\nvar CanvasPrototype=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype\nvar hasBlobConstructor=window.Blob&&(function(){try{return Boolean(new Blob())}catch(e){return false}})()\nvar hasArrayBufferViewSupport=hasBlobConstructor&&window.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}})()\nvar BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder\nvar dataURIPattern=/^data:((.*?)(;charset=.*?)?)(;base64)?,/\nvar dataURLtoBlob=(hasBlobConstructor||BlobBuilder)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(dataURI){var matches,mediaType,isBase64,dataString,byteString,arrayBuffer,intArray,i,bb\nmatches=dataURI.match(dataURIPattern)\nif(!matches){throw new Error('invalid data URI')}\nmediaType=matches[2]?matches[1]:'text/plain'+(matches[3]||';charset=US-ASCII')\nisBase64=!!matches[4]\ndataString=dataURI.slice(matches[0].length)\nif(isBase64){byteString=atob(dataString)}else{byteString=decodeURIComponent(dataString)}\narrayBuffer=new ArrayBuffer(byteString.length)\nintArray=new Uint8Array(arrayBuffer)\nfor(i=0;i<byteString.length;i+=1){intArray[i]=byteString.charCodeAt(i)}\nif(hasBlobConstructor){return new Blob([hasArrayBufferViewSupport?intArray:arrayBuffer],{type:mediaType})}\nbb=new BlobBuilder()\nbb.append(arrayBuffer)\nreturn bb.getBlob(mediaType)}\nif(window.HTMLCanvasElement&&!CanvasPrototype.toBlob){if(CanvasPrototype.mozGetAsFile){CanvasPrototype.toBlob=function(callback,type,quality){var self=this\nsetTimeout(function(){if(quality&&CanvasPrototype.toDataURL&&dataURLtoBlob){callback(dataURLtoBlob(self.toDataURL(type,quality)))}else{callback(self.mozGetAsFile('blob',type))}})}}else if(CanvasPrototype.toDataURL&&dataURLtoBlob){if(CanvasPrototype.msToBlob){CanvasPrototype.toBlob=function(callback,type,quality){var self=this\nsetTimeout(function(){if(((type&&type!=='image/png')||quality)&&CanvasPrototype.toDataURL&&dataURLtoBlob){callback(dataURLtoBlob(self.toDataURL(type,quality)))}else{callback(self.msToBlob(type))}})}}else{CanvasPrototype.toBlob=function(callback,type,quality){var self=this\nsetTimeout(function(){callback(dataURLtoBlob(self.toDataURL(type,quality)))})}}}}\nif(typeof define==='function'&&define.amd){define(function(){return dataURLtoBlob})}else if(typeof module==='object'&&module.exports){module.exports=dataURLtoBlob}else{window.dataURLtoBlob=dataURLtoBlob}})(window)","jquery/fileUploader/vendor/blueimp-load-image/js/index.min.js":"module.exports=require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-fetch')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif-map')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc-map')\nrequire('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-orientation')","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nfunction ExifMap(tagCode){if(tagCode){Object.defineProperty(this,'map',{value:this.ifds[tagCode].map})\nObject.defineProperty(this,'tags',{value:(this.tags&&this.tags[tagCode])||{}})}}\nExifMap.prototype.map={Orientation:0x0112,Thumbnail:'ifd1',Blob:0x0201,Exif:0x8769,GPSInfo:0x8825,Interoperability:0xa005}\nExifMap.prototype.ifds={ifd1:{name:'Thumbnail',map:ExifMap.prototype.map},0x8769:{name:'Exif',map:{}},0x8825:{name:'GPSInfo',map:{}},0xa005:{name:'Interoperability',map:{}}}\nExifMap.prototype.get=function(id){return this[id]||this[this.map[id]]}\nfunction getExifThumbnail(dataView,offset,length){if(!length)return\nif(offset+length>dataView.byteLength){console.log('Invalid Exif data: Invalid thumbnail data.')\nreturn}\nreturn new Blob([loadImage.bufferSlice.call(dataView.buffer,offset,offset+length)],{type:'image/jpeg'})}\nvar ExifTagTypes={1:{getValue:function(dataView,dataOffset){return dataView.getUint8(dataOffset)},size:1},2:{getValue:function(dataView,dataOffset){return String.fromCharCode(dataView.getUint8(dataOffset))},size:1,ascii:true},3:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getUint16(dataOffset,littleEndian)},size:2},4:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getUint32(dataOffset,littleEndian)},size:4},5:{getValue:function(dataView,dataOffset,littleEndian){return(dataView.getUint32(dataOffset,littleEndian)/\ndataView.getUint32(dataOffset+4,littleEndian))},size:8},9:{getValue:function(dataView,dataOffset,littleEndian){return dataView.getInt32(dataOffset,littleEndian)},size:4},10:{getValue:function(dataView,dataOffset,littleEndian){return(dataView.getInt32(dataOffset,littleEndian)/\ndataView.getInt32(dataOffset+4,littleEndian))},size:8}}\nExifTagTypes[7]=ExifTagTypes[1]\nfunction getExifValue(dataView,tiffOffset,offset,type,length,littleEndian){var tagType=ExifTagTypes[type]\nvar tagSize\nvar dataOffset\nvar values\nvar i\nvar str\nvar c\nif(!tagType){console.log('Invalid Exif data: Invalid tag type.')\nreturn}\ntagSize=tagType.size*length\ndataOffset=tagSize>4?tiffOffset+dataView.getUint32(offset+8,littleEndian):offset+8\nif(dataOffset+tagSize>dataView.byteLength){console.log('Invalid Exif data: Invalid data offset.')\nreturn}\nif(length===1){return tagType.getValue(dataView,dataOffset,littleEndian)}\nvalues=[]\nfor(i=0;i<length;i+=1){values[i]=tagType.getValue(dataView,dataOffset+i*tagType.size,littleEndian)}\nif(tagType.ascii){str=''\nfor(i=0;i<values.length;i+=1){c=values[i]\nif(c==='\\u0000'){break}\nstr+=c}\nreturn str}\nreturn values}\nfunction shouldIncludeTag(includeTags,excludeTags,tagCode){return((!includeTags||includeTags[tagCode])&&(!excludeTags||excludeTags[tagCode]!==true))}\nfunction parseExifTags(dataView,tiffOffset,dirOffset,littleEndian,tags,tagOffsets,includeTags,excludeTags){var tagsNumber,dirEndOffset,i,tagOffset,tagNumber,tagValue\nif(dirOffset+6>dataView.byteLength){console.log('Invalid Exif data: Invalid directory offset.')\nreturn}\ntagsNumber=dataView.getUint16(dirOffset,littleEndian)\ndirEndOffset=dirOffset+2+12*tagsNumber\nif(dirEndOffset+4>dataView.byteLength){console.log('Invalid Exif data: Invalid directory size.')\nreturn}\nfor(i=0;i<tagsNumber;i+=1){tagOffset=dirOffset+2+12*i\ntagNumber=dataView.getUint16(tagOffset,littleEndian)\nif(!shouldIncludeTag(includeTags,excludeTags,tagNumber))continue\ntagValue=getExifValue(dataView,tiffOffset,tagOffset,dataView.getUint16(tagOffset+2,littleEndian),dataView.getUint32(tagOffset+4,littleEndian),littleEndian)\ntags[tagNumber]=tagValue\nif(tagOffsets){tagOffsets[tagNumber]=tagOffset}}\nreturn dataView.getUint32(dirEndOffset,littleEndian)}\nfunction parseExifIFD(data,tagCode,dataView,tiffOffset,littleEndian,includeTags,excludeTags){var dirOffset=data.exif[tagCode]\nif(dirOffset){data.exif[tagCode]=new ExifMap(tagCode)\nif(data.exifOffsets){data.exifOffsets[tagCode]=new ExifMap(tagCode)}\nparseExifTags(dataView,tiffOffset,tiffOffset+dirOffset,littleEndian,data.exif[tagCode],data.exifOffsets&&data.exifOffsets[tagCode],includeTags&&includeTags[tagCode],excludeTags&&excludeTags[tagCode])}}\nloadImage.parseExifData=function(dataView,offset,length,data,options){if(options.disableExif){return}\nvar includeTags=options.includeExifTags\nvar excludeTags=options.excludeExifTags||{0x8769:{0x927c:true}}\nvar tiffOffset=offset+10\nvar littleEndian\nvar dirOffset\nvar thumbnailIFD\nif(dataView.getUint32(offset+4)!==0x45786966){return}\nif(tiffOffset+8>dataView.byteLength){console.log('Invalid Exif data: Invalid segment size.')\nreturn}\nif(dataView.getUint16(offset+8)!==0x0000){console.log('Invalid Exif data: Missing byte alignment offset.')\nreturn}\nswitch(dataView.getUint16(tiffOffset)){case 0x4949:littleEndian=true\nbreak\ncase 0x4d4d:littleEndian=false\nbreak\ndefault:console.log('Invalid Exif data: Invalid byte alignment marker.')\nreturn}\nif(dataView.getUint16(tiffOffset+2,littleEndian)!==0x002a){console.log('Invalid Exif data: Missing TIFF marker.')\nreturn}\ndirOffset=dataView.getUint32(tiffOffset+4,littleEndian)\ndata.exif=new ExifMap()\nif(!options.disableExifOffsets){data.exifOffsets=new ExifMap()\ndata.exifTiffOffset=tiffOffset\ndata.exifLittleEndian=littleEndian}\ndirOffset=parseExifTags(dataView,tiffOffset,tiffOffset+dirOffset,littleEndian,data.exif,data.exifOffsets,includeTags,excludeTags)\nif(dirOffset&&shouldIncludeTag(includeTags,excludeTags,'ifd1')){data.exif.ifd1=dirOffset\nif(data.exifOffsets){data.exifOffsets.ifd1=tiffOffset+dirOffset}}\nObject.keys(data.exif.ifds).forEach(function(tagCode){parseExifIFD(data,tagCode,dataView,tiffOffset,littleEndian,includeTags,excludeTags)})\nthumbnailIFD=data.exif.ifd1\nif(thumbnailIFD&&thumbnailIFD[0x0201]){thumbnailIFD[0x0201]=getExifThumbnail(dataView,tiffOffset+thumbnailIFD[0x0201],thumbnailIFD[0x0202])}}\nloadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\nloadImage.exifWriters={0x0112:function(buffer,data,value){var orientationOffset=data.exifOffsets[0x0112]\nif(!orientationOffset)return buffer\nvar view=new DataView(buffer,orientationOffset+8,2)\nview.setUint16(0,value,data.exifLittleEndian)\nreturn buffer}}\nloadImage.writeExifData=function(buffer,data,id,value){loadImage.exifWriters[data.exif.map[id]](buffer,data,value)}\nloadImage.ExifMap=ExifMap})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nfunction IptcMap(){}\nIptcMap.prototype.map={ObjectName:5}\nIptcMap.prototype.types={0:'Uint16',200:'Uint16',201:'Uint16',202:'binary'}\nIptcMap.prototype.get=function(id){return this[id]||this[this.map[id]]}\nfunction getStringValue(dataView,offset,length){var outstr=''\nvar end=offset+length\nfor(var n=offset;n<end;n+=1){outstr+=String.fromCharCode(dataView.getUint8(n))}\nreturn outstr}\nfunction getTagValue(tagCode,map,dataView,offset,length){if(map.types[tagCode]==='binary'){return new Blob([dataView.buffer.slice(offset,offset+length)])}\nif(map.types[tagCode]==='Uint16'){return dataView.getUint16(offset)}\nreturn getStringValue(dataView,offset,length)}\nfunction combineTagValues(value,newValue){if(value===undefined)return newValue\nif(value instanceof Array){value.push(newValue)\nreturn value}\nreturn[value,newValue]}\nfunction parseIptcTags(dataView,segmentOffset,segmentLength,data,includeTags,excludeTags){var value,tagSize,tagCode\nvar segmentEnd=segmentOffset+segmentLength\nvar offset=segmentOffset\nwhile(offset<segmentEnd){if(dataView.getUint8(offset)===0x1c&&dataView.getUint8(offset+1)===0x02){tagCode=dataView.getUint8(offset+2)\nif((!includeTags||includeTags[tagCode])&&(!excludeTags||!excludeTags[tagCode])){tagSize=dataView.getInt16(offset+3)\nvalue=getTagValue(tagCode,data.iptc,dataView,offset+5,tagSize)\ndata.iptc[tagCode]=combineTagValues(data.iptc[tagCode],value)\nif(data.iptcOffsets){data.iptcOffsets[tagCode]=offset}}}\noffset+=1}}\nfunction isSegmentStart(dataView,offset){return(dataView.getUint32(offset)===0x3842494d&&dataView.getUint16(offset+4)===0x0404)}\nfunction getHeaderLength(dataView,offset){var length=dataView.getUint8(offset+7)\nif(length%2!==0)length+=1\nif(length===0){length=4}\nreturn length}\nloadImage.parseIptcData=function(dataView,offset,length,data,options){if(options.disableIptc){return}\nvar markerLength=offset+length\nwhile(offset+8<markerLength){if(isSegmentStart(dataView,offset)){var headerLength=getHeaderLength(dataView,offset)\nvar segmentOffset=offset+8+headerLength\nif(segmentOffset>markerLength){console.log('Invalid IPTC data: Invalid segment offset.')\nbreak}\nvar segmentLength=dataView.getUint16(offset+6+headerLength)\nif(offset+segmentLength>markerLength){console.log('Invalid IPTC data: Invalid segment size.')\nbreak}\ndata.iptc=new IptcMap()\nif(!options.disableIptcOffsets){data.iptcOffsets=new IptcMap()}\nparseIptcTags(dataView,segmentOffset,segmentLength,data,options.includeIptcTags,options.excludeIptcTags||{202:true})\nreturn}\noffset+=1}}\nloadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\nloadImage.IptcMap=IptcMap})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-orientation.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar originalTransform=loadImage.transform\nvar originalRequiresCanvas=loadImage.requiresCanvas\nvar originalRequiresMetaData=loadImage.requiresMetaData\nvar originalTransformCoordinates=loadImage.transformCoordinates\nvar originalGetTransformedOptions=loadImage.getTransformedOptions;(function($){if(!$.global.document)return\nvar testImageURL='data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA'+'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA'+'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE'+'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x'+'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA'+'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ'+'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw'+'H/9k='\nvar img=document.createElement('img')\nimg.onload=function(){$.orientation=img.width===2&&img.height===3\nif($.orientation){var canvas=$.createCanvas(1,1,true)\nvar ctx=canvas.getContext('2d')\nctx.drawImage(img,1,1,1,1,0,0,1,1)\n$.orientationCropBug=ctx.getImageData(0,0,1,1).data.toString()!=='255,255,255,255'}}\nimg.src=testImageURL})(loadImage)\nfunction requiresCanvasOrientation(options,withMetaData){var orientation=options&&options.orientation\nreturn((orientation===true&&!loadImage.orientation)||(orientation===1&&loadImage.orientation)||((!withMetaData||loadImage.orientation)&&orientation>1&&orientation<9))}\nfunction requiresOrientationChange(orientation,autoOrientation){return(orientation!==autoOrientation&&((orientation===1&&autoOrientation>1&&autoOrientation<9)||(orientation>1&&orientation<9)))}\nfunction requiresRot180(orientation,autoOrientation){if(autoOrientation>1&&autoOrientation<9){switch(orientation){case 2:case 4:return autoOrientation>4\ncase 5:case 7:return autoOrientation%2===0\ncase 6:case 8:return(autoOrientation===2||autoOrientation===4||autoOrientation===5||autoOrientation===7)}}\nreturn false}\nloadImage.requiresCanvas=function(options){return(requiresCanvasOrientation(options)||originalRequiresCanvas.call(loadImage,options))}\nloadImage.requiresMetaData=function(options){return(requiresCanvasOrientation(options,true)||originalRequiresMetaData.call(loadImage,options))}\nloadImage.transform=function(img,options,callback,file,data){originalTransform.call(loadImage,img,options,function(img,data){if(data){var autoOrientation=loadImage.orientation&&data.exif&&data.exif.get('Orientation')\nif(autoOrientation>4&&autoOrientation<9){var originalWidth=data.originalWidth\nvar originalHeight=data.originalHeight\ndata.originalWidth=originalHeight\ndata.originalHeight=originalWidth}}\ncallback(img,data)},file,data)}\nloadImage.getTransformedOptions=function(img,opts,data){var options=originalGetTransformedOptions.call(loadImage,img,opts)\nvar exifOrientation=data.exif&&data.exif.get('Orientation')\nvar orientation=options.orientation\nvar autoOrientation=loadImage.orientation&&exifOrientation\nif(orientation===true)orientation=exifOrientation\nif(!requiresOrientationChange(orientation,autoOrientation)){return options}\nvar top=options.top\nvar right=options.right\nvar bottom=options.bottom\nvar left=options.left\nvar newOptions={}\nfor(var i in options){if(Object.prototype.hasOwnProperty.call(options,i)){newOptions[i]=options[i]}}\nnewOptions.orientation=orientation\nif((orientation>4&&!(autoOrientation>4))||(orientation<5&&autoOrientation>4)){newOptions.maxWidth=options.maxHeight\nnewOptions.maxHeight=options.maxWidth\nnewOptions.minWidth=options.minHeight\nnewOptions.minHeight=options.minWidth\nnewOptions.sourceWidth=options.sourceHeight\nnewOptions.sourceHeight=options.sourceWidth}\nif(autoOrientation>1){switch(autoOrientation){case 2:right=options.left\nleft=options.right\nbreak\ncase 3:top=options.bottom\nright=options.left\nbottom=options.top\nleft=options.right\nbreak\ncase 4:top=options.bottom\nbottom=options.top\nbreak\ncase 5:top=options.left\nright=options.bottom\nbottom=options.right\nleft=options.top\nbreak\ncase 6:top=options.left\nright=options.top\nbottom=options.right\nleft=options.bottom\nbreak\ncase 7:top=options.right\nright=options.top\nbottom=options.left\nleft=options.bottom\nbreak\ncase 8:top=options.right\nright=options.bottom\nbottom=options.left\nleft=options.top\nbreak}\nif(requiresRot180(orientation,autoOrientation)){var tmpTop=top\nvar tmpRight=right\ntop=bottom\nright=left\nbottom=tmpTop\nleft=tmpRight}}\nnewOptions.top=top\nnewOptions.right=right\nnewOptions.bottom=bottom\nnewOptions.left=left\nswitch(orientation){case 2:newOptions.right=left\nnewOptions.left=right\nbreak\ncase 3:newOptions.top=bottom\nnewOptions.right=left\nnewOptions.bottom=top\nnewOptions.left=right\nbreak\ncase 4:newOptions.top=bottom\nnewOptions.bottom=top\nbreak\ncase 5:newOptions.top=left\nnewOptions.right=bottom\nnewOptions.bottom=right\nnewOptions.left=top\nbreak\ncase 6:newOptions.top=right\nnewOptions.right=bottom\nnewOptions.bottom=left\nnewOptions.left=top\nbreak\ncase 7:newOptions.top=right\nnewOptions.right=top\nnewOptions.bottom=left\nnewOptions.left=bottom\nbreak\ncase 8:newOptions.top=left\nnewOptions.right=top\nnewOptions.bottom=right\nnewOptions.left=bottom\nbreak}\nreturn newOptions}\nloadImage.transformCoordinates=function(canvas,options,data){originalTransformCoordinates.call(loadImage,canvas,options,data)\nvar orientation=options.orientation\nvar autoOrientation=loadImage.orientation&&data.exif&&data.exif.get('Orientation')\nif(!requiresOrientationChange(orientation,autoOrientation)){return}\nvar ctx=canvas.getContext('2d')\nvar width=canvas.width\nvar height=canvas.height\nvar sourceWidth=width\nvar sourceHeight=height\nif((orientation>4&&!(autoOrientation>4))||(orientation<5&&autoOrientation>4)){canvas.width=height\ncanvas.height=width}\nif(orientation>4){sourceWidth=height\nsourceHeight=width}\nswitch(autoOrientation){case 2:ctx.translate(sourceWidth,0)\nctx.scale(-1,1)\nbreak\ncase 3:ctx.translate(sourceWidth,sourceHeight)\nctx.rotate(Math.PI)\nbreak\ncase 4:ctx.translate(0,sourceHeight)\nctx.scale(1,-1)\nbreak\ncase 5:ctx.rotate(-0.5*Math.PI)\nctx.scale(-1,1)\nbreak\ncase 6:ctx.rotate(-0.5*Math.PI)\nctx.translate(-sourceWidth,0)\nbreak\ncase 7:ctx.rotate(-0.5*Math.PI)\nctx.translate(-sourceWidth,sourceHeight)\nctx.scale(1,-1)\nbreak\ncase 8:ctx.rotate(0.5*Math.PI)\nctx.translate(0,-sourceHeight)\nbreak}\nif(requiresRot180(orientation,autoOrientation)){ctx.translate(sourceWidth,sourceHeight)\nctx.rotate(Math.PI)}\nswitch(orientation){case 2:ctx.translate(width,0)\nctx.scale(-1,1)\nbreak\ncase 3:ctx.translate(width,height)\nctx.rotate(Math.PI)\nbreak\ncase 4:ctx.translate(0,height)\nctx.scale(1,-1)\nbreak\ncase 5:ctx.rotate(0.5*Math.PI)\nctx.scale(1,-1)\nbreak\ncase 6:ctx.rotate(0.5*Math.PI)\nctx.translate(0,-height)\nbreak\ncase 7:ctx.rotate(0.5*Math.PI)\nctx.translate(width,-height)\nctx.scale(-1,1)\nbreak\ncase 8:ctx.rotate(-0.5*Math.PI)\nctx.translate(-width,0)\nbreak}}})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image.min.js":";(function($){'use strict'\nvar urlAPI=$.URL||$.webkitURL\nfunction createObjectURL(blob){return urlAPI?urlAPI.createObjectURL(blob):false}\nfunction revokeObjectURL(url){return urlAPI?urlAPI.revokeObjectURL(url):false}\nfunction revokeHelper(url,options){if(url&&url.slice(0,5)==='blob:'&&!(options&&options.noRevoke)){revokeObjectURL(url)}}\nfunction readFile(file,onload,onerror,method){if(!$.FileReader)return false\nvar reader=new FileReader()\nreader.onload=function(){onload.call(reader,this.result)}\nif(onerror){reader.onabort=reader.onerror=function(){onerror.call(reader,this.error)}}\nvar readerMethod=reader[method||'readAsDataURL']\nif(readerMethod){readerMethod.call(reader,file)\nreturn reader}}\nfunction isInstanceOf(type,obj){return Object.prototype.toString.call(obj)==='[object '+type+']'}\nfunction loadImage(file,callback,options){function executor(resolve,reject){var img=document.createElement('img')\nvar url\nfunction resolveWrapper(img,data){if(resolve===reject){if(resolve)resolve(img,data)\nreturn}else if(img instanceof Error){reject(img)\nreturn}\ndata=data||{}\ndata.image=img\nresolve(data)}\nfunction fetchBlobCallback(blob,err){if(err&&$.console)console.log(err)\nif(blob&&isInstanceOf('Blob',blob)){file=blob\nurl=createObjectURL(file)}else{url=file\nif(options&&options.crossOrigin){img.crossOrigin=options.crossOrigin}}\nimg.src=url}\nimg.onerror=function(event){revokeHelper(url,options)\nif(reject)reject.call(img,event)}\nimg.onload=function(){revokeHelper(url,options)\nvar data={originalWidth:img.naturalWidth||img.width,originalHeight:img.naturalHeight||img.height}\ntry{loadImage.transform(img,options,resolveWrapper,file,data)}catch(error){if(reject)reject(error)}}\nif(typeof file==='string'){if(loadImage.requiresMetaData(options)){loadImage.fetchBlob(file,fetchBlobCallback,options)}else{fetchBlobCallback()}\nreturn img}else if(isInstanceOf('Blob',file)||isInstanceOf('File',file)){url=createObjectURL(file)\nif(url){img.src=url\nreturn img}\nreturn readFile(file,function(url){img.src=url},reject)}}\nif($.Promise&&typeof callback!=='function'){options=callback\nreturn new Promise(executor)}\nreturn executor(callback,callback)}\nloadImage.requiresMetaData=function(options){return options&&options.meta}\nloadImage.fetchBlob=function(url,callback){callback()}\nloadImage.transform=function(img,options,callback,file,data){callback(img,data)}\nloadImage.global=$\nloadImage.readFile=readFile\nloadImage.isInstanceOf=isInstanceOf\nloadImage.createObjectURL=createObjectURL\nloadImage.revokeObjectURL=revokeObjectURL\nif(typeof define==='function'&&define.amd){define(function(){return loadImage})}else if(typeof module==='object'&&module.exports){module.exports=loadImage}else{$.loadImage=loadImage}})((typeof window!=='undefined'&&window)||this)","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc-map.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-iptc'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar IptcMapProto=loadImage.IptcMap.prototype\nIptcMapProto.tags={0:'ApplicationRecordVersion',3:'ObjectTypeReference',4:'ObjectAttributeReference',5:'ObjectName',7:'EditStatus',8:'EditorialUpdate',10:'Urgency',12:'SubjectReference',15:'Category',20:'SupplementalCategories',22:'FixtureIdentifier',25:'Keywords',26:'ContentLocationCode',27:'ContentLocationName',30:'ReleaseDate',35:'ReleaseTime',37:'ExpirationDate',38:'ExpirationTime',40:'SpecialInstructions',42:'ActionAdvised',45:'ReferenceService',47:'ReferenceDate',50:'ReferenceNumber',55:'DateCreated',60:'TimeCreated',62:'DigitalCreationDate',63:'DigitalCreationTime',65:'OriginatingProgram',70:'ProgramVersion',75:'ObjectCycle',80:'Byline',85:'BylineTitle',90:'City',92:'Sublocation',95:'State',100:'CountryCode',101:'Country',103:'OriginalTransmissionReference',105:'Headline',110:'Credit',115:'Source',116:'CopyrightNotice',118:'Contact',120:'Caption',121:'LocalCaption',122:'Writer',125:'RasterizedCaption',130:'ImageType',131:'ImageOrientation',135:'LanguageIdentifier',150:'AudioType',151:'AudioSamplingRate',152:'AudioSamplingResolution',153:'AudioDuration',154:'AudioOutcue',184:'JobID',185:'MasterDocumentID',186:'ShortDocumentID',187:'UniqueDocumentID',188:'OwnerID',200:'ObjectPreviewFileFormat',201:'ObjectPreviewFileVersion',202:'ObjectPreviewData',221:'Prefs',225:'ClassifyState',228:'SimilarityIndex',230:'DocumentNotes',231:'DocumentHistory',232:'ExifCameraInfo',255:'CatalogSets'}\nIptcMapProto.stringValues={10:{0:'0 (reserved)',1:'1 (most urgent)',2:'2',3:'3',4:'4',5:'5 (normal urgency)',6:'6',7:'7',8:'8 (least urgent)',9:'9 (user-defined priority)'},75:{a:'Morning',b:'Both Morning and Evening',p:'Evening'},131:{L:'Landscape',P:'Portrait',S:'Square'}}\nIptcMapProto.getText=function(id){var value=this.get(id)\nvar tagCode=this.map[id]\nvar stringValue=this.stringValues[tagCode]\nif(stringValue)return stringValue[value]\nreturn String(value)}\nIptcMapProto.getAll=function(){var map={}\nvar prop\nvar name\nfor(prop in this){if(Object.prototype.hasOwnProperty.call(this,prop)){name=this.tags[prop]\nif(name)map[name]=this.getText(name)}}\nreturn map}\nIptcMapProto.getName=function(tagCode){return this.tags[tagCode]};(function(){var tags=IptcMapProto.tags\nvar map=IptcMapProto.map||{}\nvar prop\nfor(prop in tags){if(Object.prototype.hasOwnProperty.call(tags,prop)){map[tags[prop]]=Number(prop)}}})()})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-scale.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar originalTransform=loadImage.transform\nloadImage.createCanvas=function(width,height,offscreen){if(offscreen&&loadImage.global.OffscreenCanvas){return new OffscreenCanvas(width,height)}\nvar canvas=document.createElement('canvas')\ncanvas.width=width\ncanvas.height=height\nreturn canvas}\nloadImage.transform=function(img,options,callback,file,data){originalTransform.call(loadImage,loadImage.scale(img,options,data),options,callback,file,data)}\nloadImage.transformCoordinates=function(){}\nloadImage.getTransformedOptions=function(img,options){var aspectRatio=options.aspectRatio\nvar newOptions\nvar i\nvar width\nvar height\nif(!aspectRatio){return options}\nnewOptions={}\nfor(i in options){if(Object.prototype.hasOwnProperty.call(options,i)){newOptions[i]=options[i]}}\nnewOptions.crop=true\nwidth=img.naturalWidth||img.width\nheight=img.naturalHeight||img.height\nif(width / height>aspectRatio){newOptions.maxWidth=height*aspectRatio\nnewOptions.maxHeight=height}else{newOptions.maxWidth=width\nnewOptions.maxHeight=width / aspectRatio}\nreturn newOptions}\nloadImage.drawImage=function(img,canvas,sourceX,sourceY,sourceWidth,sourceHeight,destWidth,destHeight,options){var ctx=canvas.getContext('2d')\nif(options.imageSmoothingEnabled===false){ctx.msImageSmoothingEnabled=false\nctx.imageSmoothingEnabled=false}else if(options.imageSmoothingQuality){ctx.imageSmoothingQuality=options.imageSmoothingQuality}\nctx.drawImage(img,sourceX,sourceY,sourceWidth,sourceHeight,0,0,destWidth,destHeight)\nreturn ctx}\nloadImage.requiresCanvas=function(options){return options.canvas||options.crop||!!options.aspectRatio}\nloadImage.scale=function(img,options,data){options=options||{}\ndata=data||{}\nvar useCanvas=img.getContext||(loadImage.requiresCanvas(options)&&!!loadImage.global.HTMLCanvasElement)\nvar width=img.naturalWidth||img.width\nvar height=img.naturalHeight||img.height\nvar destWidth=width\nvar destHeight=height\nvar maxWidth\nvar maxHeight\nvar minWidth\nvar minHeight\nvar sourceWidth\nvar sourceHeight\nvar sourceX\nvar sourceY\nvar pixelRatio\nvar downsamplingRatio\nvar tmp\nvar canvas\nfunction scaleUp(){var scale=Math.max((minWidth||destWidth)/ destWidth,(minHeight||destHeight)/ destHeight)\nif(scale>1){destWidth*=scale\ndestHeight*=scale}}\nfunction scaleDown(){var scale=Math.min((maxWidth||destWidth)/ destWidth,(maxHeight||destHeight)/ destHeight)\nif(scale<1){destWidth*=scale\ndestHeight*=scale}}\nif(useCanvas){options=loadImage.getTransformedOptions(img,options,data)\nsourceX=options.left||0\nsourceY=options.top||0\nif(options.sourceWidth){sourceWidth=options.sourceWidth\nif(options.right!==undefined&&options.left===undefined){sourceX=width-sourceWidth-options.right}}else{sourceWidth=width-sourceX-(options.right||0)}\nif(options.sourceHeight){sourceHeight=options.sourceHeight\nif(options.bottom!==undefined&&options.top===undefined){sourceY=height-sourceHeight-options.bottom}}else{sourceHeight=height-sourceY-(options.bottom||0)}\ndestWidth=sourceWidth\ndestHeight=sourceHeight}\nmaxWidth=options.maxWidth\nmaxHeight=options.maxHeight\nminWidth=options.minWidth\nminHeight=options.minHeight\nif(useCanvas&&maxWidth&&maxHeight&&options.crop){destWidth=maxWidth\ndestHeight=maxHeight\ntmp=sourceWidth / sourceHeight-maxWidth / maxHeight\nif(tmp<0){sourceHeight=(maxHeight*sourceWidth)/ maxWidth\nif(options.top===undefined&&options.bottom===undefined){sourceY=(height-sourceHeight)/ 2}}else if(tmp>0){sourceWidth=(maxWidth*sourceHeight)/ maxHeight\nif(options.left===undefined&&options.right===undefined){sourceX=(width-sourceWidth)/ 2}}}else{if(options.contain||options.cover){minWidth=maxWidth=maxWidth||minWidth\nminHeight=maxHeight=maxHeight||minHeight}\nif(options.cover){scaleDown()\nscaleUp()}else{scaleUp()\nscaleDown()}}\nif(useCanvas){pixelRatio=options.pixelRatio\nif(pixelRatio>1&&!(img.style.width&&Math.floor(parseFloat(img.style.width,10))===Math.floor(width / pixelRatio))){destWidth*=pixelRatio\ndestHeight*=pixelRatio}\nif(loadImage.orientationCropBug&&!img.getContext&&(sourceX||sourceY||sourceWidth!==width||sourceHeight!==height)){tmp=img\nimg=loadImage.createCanvas(width,height,true)\nloadImage.drawImage(tmp,img,0,0,width,height,width,height,options)}\ndownsamplingRatio=options.downsamplingRatio\nif(downsamplingRatio>0&&downsamplingRatio<1&&destWidth<sourceWidth&&destHeight<sourceHeight){while(sourceWidth*downsamplingRatio>destWidth){canvas=loadImage.createCanvas(sourceWidth*downsamplingRatio,sourceHeight*downsamplingRatio,true)\nloadImage.drawImage(img,canvas,sourceX,sourceY,sourceWidth,sourceHeight,canvas.width,canvas.height,options)\nsourceX=0\nsourceY=0\nsourceWidth=canvas.width\nsourceHeight=canvas.height\nimg=canvas}}\ncanvas=loadImage.createCanvas(destWidth,destHeight)\nloadImage.transformCoordinates(canvas,options,data)\nif(pixelRatio>1){canvas.style.width=canvas.width / pixelRatio+'px'}\nloadImage.drawImage(img,canvas,sourceX,sourceY,sourceWidth,sourceHeight,destWidth,destHeight,options).setTransform(1,0,0,1,0,0)\nreturn canvas}\nimg.width=destWidth\nimg.height=destHeight\nreturn img}})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif-map.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image','jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'),require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image-exif'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar ExifMapProto=loadImage.ExifMap.prototype\nExifMapProto.tags={0x0100:'ImageWidth',0x0101:'ImageHeight',0x0102:'BitsPerSample',0x0103:'Compression',0x0106:'PhotometricInterpretation',0x0112:'Orientation',0x0115:'SamplesPerPixel',0x011c:'PlanarConfiguration',0x0212:'YCbCrSubSampling',0x0213:'YCbCrPositioning',0x011a:'XResolution',0x011b:'YResolution',0x0128:'ResolutionUnit',0x0111:'StripOffsets',0x0116:'RowsPerStrip',0x0117:'StripByteCounts',0x0201:'JPEGInterchangeFormat',0x0202:'JPEGInterchangeFormatLength',0x012d:'TransferFunction',0x013e:'WhitePoint',0x013f:'PrimaryChromaticities',0x0211:'YCbCrCoefficients',0x0214:'ReferenceBlackWhite',0x0132:'DateTime',0x010e:'ImageDescription',0x010f:'Make',0x0110:'Model',0x0131:'Software',0x013b:'Artist',0x8298:'Copyright',0x8769:{0x9000:'ExifVersion',0xa000:'FlashpixVersion',0xa001:'ColorSpace',0xa002:'PixelXDimension',0xa003:'PixelYDimension',0xa500:'Gamma',0x9101:'ComponentsConfiguration',0x9102:'CompressedBitsPerPixel',0x927c:'MakerNote',0x9286:'UserComment',0xa004:'RelatedSoundFile',0x9003:'DateTimeOriginal',0x9004:'DateTimeDigitized',0x9010:'OffsetTime',0x9011:'OffsetTimeOriginal',0x9012:'OffsetTimeDigitized',0x9290:'SubSecTime',0x9291:'SubSecTimeOriginal',0x9292:'SubSecTimeDigitized',0x829a:'ExposureTime',0x829d:'FNumber',0x8822:'ExposureProgram',0x8824:'SpectralSensitivity',0x8827:'PhotographicSensitivity',0x8828:'OECF',0x8830:'SensitivityType',0x8831:'StandardOutputSensitivity',0x8832:'RecommendedExposureIndex',0x8833:'ISOSpeed',0x8834:'ISOSpeedLatitudeyyy',0x8835:'ISOSpeedLatitudezzz',0x9201:'ShutterSpeedValue',0x9202:'ApertureValue',0x9203:'BrightnessValue',0x9204:'ExposureBias',0x9205:'MaxApertureValue',0x9206:'SubjectDistance',0x9207:'MeteringMode',0x9208:'LightSource',0x9209:'Flash',0x9214:'SubjectArea',0x920a:'FocalLength',0xa20b:'FlashEnergy',0xa20c:'SpatialFrequencyResponse',0xa20e:'FocalPlaneXResolution',0xa20f:'FocalPlaneYResolution',0xa210:'FocalPlaneResolutionUnit',0xa214:'SubjectLocation',0xa215:'ExposureIndex',0xa217:'SensingMethod',0xa300:'FileSource',0xa301:'SceneType',0xa302:'CFAPattern',0xa401:'CustomRendered',0xa402:'ExposureMode',0xa403:'WhiteBalance',0xa404:'DigitalZoomRatio',0xa405:'FocalLengthIn35mmFilm',0xa406:'SceneCaptureType',0xa407:'GainControl',0xa408:'Contrast',0xa409:'Saturation',0xa40a:'Sharpness',0xa40b:'DeviceSettingDescription',0xa40c:'SubjectDistanceRange',0xa420:'ImageUniqueID',0xa430:'CameraOwnerName',0xa431:'BodySerialNumber',0xa432:'LensSpecification',0xa433:'LensMake',0xa434:'LensModel',0xa435:'LensSerialNumber'},0x8825:{0x0000:'GPSVersionID',0x0001:'GPSLatitudeRef',0x0002:'GPSLatitude',0x0003:'GPSLongitudeRef',0x0004:'GPSLongitude',0x0005:'GPSAltitudeRef',0x0006:'GPSAltitude',0x0007:'GPSTimeStamp',0x0008:'GPSSatellites',0x0009:'GPSStatus',0x000a:'GPSMeasureMode',0x000b:'GPSDOP',0x000c:'GPSSpeedRef',0x000d:'GPSSpeed',0x000e:'GPSTrackRef',0x000f:'GPSTrack',0x0010:'GPSImgDirectionRef',0x0011:'GPSImgDirection',0x0012:'GPSMapDatum',0x0013:'GPSDestLatitudeRef',0x0014:'GPSDestLatitude',0x0015:'GPSDestLongitudeRef',0x0016:'GPSDestLongitude',0x0017:'GPSDestBearingRef',0x0018:'GPSDestBearing',0x0019:'GPSDestDistanceRef',0x001a:'GPSDestDistance',0x001b:'GPSProcessingMethod',0x001c:'GPSAreaInformation',0x001d:'GPSDateStamp',0x001e:'GPSDifferential',0x001f:'GPSHPositioningError'},0xa005:{0x0001:'InteroperabilityIndex'}}\nExifMapProto.tags.ifd1=ExifMapProto.tags\nExifMapProto.stringValues={ExposureProgram:{0:'Undefined',1:'Manual',2:'Normal program',3:'Aperture priority',4:'Shutter priority',5:'Creative program',6:'Action program',7:'Portrait mode',8:'Landscape mode'},MeteringMode:{0:'Unknown',1:'Average',2:'CenterWeightedAverage',3:'Spot',4:'MultiSpot',5:'Pattern',6:'Partial',255:'Other'},LightSource:{0:'Unknown',1:'Daylight',2:'Fluorescent',3:'Tungsten (incandescent light)',4:'Flash',9:'Fine weather',10:'Cloudy weather',11:'Shade',12:'Daylight fluorescent (D 5700 - 7100K)',13:'Day white fluorescent (N 4600 - 5400K)',14:'Cool white fluorescent (W 3900 - 4500K)',15:'White fluorescent (WW 3200 - 3700K)',17:'Standard light A',18:'Standard light B',19:'Standard light C',20:'D55',21:'D65',22:'D75',23:'D50',24:'ISO studio tungsten',255:'Other'},Flash:{0x0000:'Flash did not fire',0x0001:'Flash fired',0x0005:'Strobe return light not detected',0x0007:'Strobe return light detected',0x0009:'Flash fired, compulsory flash mode',0x000d:'Flash fired, compulsory flash mode, return light not detected',0x000f:'Flash fired, compulsory flash mode, return light detected',0x0010:'Flash did not fire, compulsory flash mode',0x0018:'Flash did not fire, auto mode',0x0019:'Flash fired, auto mode',0x001d:'Flash fired, auto mode, return light not detected',0x001f:'Flash fired, auto mode, return light detected',0x0020:'No flash function',0x0041:'Flash fired, red-eye reduction mode',0x0045:'Flash fired, red-eye reduction mode, return light not detected',0x0047:'Flash fired, red-eye reduction mode, return light detected',0x0049:'Flash fired, compulsory flash mode, red-eye reduction mode',0x004d:'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',0x004f:'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',0x0059:'Flash fired, auto mode, red-eye reduction mode',0x005d:'Flash fired, auto mode, return light not detected, red-eye reduction mode',0x005f:'Flash fired, auto mode, return light detected, red-eye reduction mode'},SensingMethod:{1:'Undefined',2:'One-chip color area sensor',3:'Two-chip color area sensor',4:'Three-chip color area sensor',5:'Color sequential area sensor',7:'Trilinear sensor',8:'Color sequential linear sensor'},SceneCaptureType:{0:'Standard',1:'Landscape',2:'Portrait',3:'Night scene'},SceneType:{1:'Directly photographed'},CustomRendered:{0:'Normal process',1:'Custom process'},WhiteBalance:{0:'Auto white balance',1:'Manual white balance'},GainControl:{0:'None',1:'Low gain up',2:'High gain up',3:'Low gain down',4:'High gain down'},Contrast:{0:'Normal',1:'Soft',2:'Hard'},Saturation:{0:'Normal',1:'Low saturation',2:'High saturation'},Sharpness:{0:'Normal',1:'Soft',2:'Hard'},SubjectDistanceRange:{0:'Unknown',1:'Macro',2:'Close view',3:'Distant view'},FileSource:{3:'DSC'},ComponentsConfiguration:{0:'',1:'Y',2:'Cb',3:'Cr',4:'R',5:'G',6:'B'},Orientation:{1:'Original',2:'Horizontal flip',3:'Rotate 180\u00b0 CCW',4:'Vertical flip',5:'Vertical flip + Rotate 90\u00b0 CW',6:'Rotate 90\u00b0 CW',7:'Horizontal flip + Rotate 90\u00b0 CW',8:'Rotate 90\u00b0 CCW'}}\nExifMapProto.getText=function(name){var value=this.get(name)\nswitch(name){case'LightSource':case'Flash':case'MeteringMode':case'ExposureProgram':case'SensingMethod':case'SceneCaptureType':case'SceneType':case'CustomRendered':case'WhiteBalance':case'GainControl':case'Contrast':case'Saturation':case'Sharpness':case'SubjectDistanceRange':case'FileSource':case'Orientation':return this.stringValues[name][value]\ncase'ExifVersion':case'FlashpixVersion':if(!value)return\nreturn String.fromCharCode(value[0],value[1],value[2],value[3])\ncase'ComponentsConfiguration':if(!value)return\nreturn(this.stringValues[name][value[0]]+\nthis.stringValues[name][value[1]]+\nthis.stringValues[name][value[2]]+\nthis.stringValues[name][value[3]])\ncase'GPSVersionID':if(!value)return\nreturn value[0]+'.'+value[1]+'.'+value[2]+'.'+value[3]}\nreturn String(value)}\nExifMapProto.getAll=function(){var map={}\nvar prop\nvar obj\nvar name\nfor(prop in this){if(Object.prototype.hasOwnProperty.call(this,prop)){obj=this[prop]\nif(obj&&obj.getAll){map[this.ifds[prop].name]=obj.getAll()}else{name=this.tags[prop]\nif(name)map[name]=this.getText(name)}}}\nreturn map}\nExifMapProto.getName=function(tagCode){var name=this.tags[tagCode]\nif(typeof name==='object')return this.ifds[tagCode].name\nreturn name};(function(){var tags=ExifMapProto.tags\nvar prop\nvar ifd\nvar subTags\nfor(prop in tags){if(Object.prototype.hasOwnProperty.call(tags,prop)){ifd=ExifMapProto.ifds[prop]\nif(ifd){subTags=tags[prop]\nfor(prop in subTags){if(Object.prototype.hasOwnProperty.call(subTags,prop)){ifd.map[subTags[prop]]=Number(prop)}}}else{ExifMapProto.map[tags[prop]]=Number(prop)}}}})()})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-meta.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar global=loadImage.global\nvar originalTransform=loadImage.transform\nvar blobSlice=global.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice)\nvar bufferSlice=(global.ArrayBuffer&&ArrayBuffer.prototype.slice)||function(begin,end){end=end||this.byteLength-begin\nvar arr1=new Uint8Array(this,begin,end)\nvar arr2=new Uint8Array(end)\narr2.set(arr1)\nreturn arr2.buffer}\nvar metaDataParsers={jpeg:{0xffe1:[],0xffed:[]}}\nfunction parseMetaData(file,callback,options,data){var that=this\nfunction executor(resolve,reject){if(!(global.DataView&&blobSlice&&file&&file.size>=12&&file.type==='image/jpeg')){return resolve(data)}\nvar maxMetaDataSize=options.maxMetaDataSize||262144\nif(!loadImage.readFile(blobSlice.call(file,0,maxMetaDataSize),function(buffer){var dataView=new DataView(buffer)\nif(dataView.getUint16(0)!==0xffd8){return reject(new Error('Invalid JPEG file: Missing JPEG marker.'))}\nvar offset=2\nvar maxOffset=dataView.byteLength-4\nvar headLength=offset\nvar markerBytes\nvar markerLength\nvar parsers\nvar i\nwhile(offset<maxOffset){markerBytes=dataView.getUint16(offset)\nif((markerBytes>=0xffe0&&markerBytes<=0xffef)||markerBytes===0xfffe){markerLength=dataView.getUint16(offset+2)+2\nif(offset+markerLength>dataView.byteLength){console.log('Invalid JPEG metadata: Invalid segment size.')\nbreak}\nparsers=metaDataParsers.jpeg[markerBytes]\nif(parsers&&!options.disableMetaDataParsers){for(i=0;i<parsers.length;i+=1){parsers[i].call(that,dataView,offset,markerLength,data,options)}}\noffset+=markerLength\nheadLength=offset}else{break}}\nif(!options.disableImageHead&&headLength>6){data.imageHead=bufferSlice.call(buffer,0,headLength)}\nresolve(data)},reject,'readAsArrayBuffer')){resolve(data)}}\noptions=options||{}\nif(global.Promise&&typeof callback!=='function'){options=callback||{}\ndata=options\nreturn new Promise(executor)}\ndata=data||{}\nreturn executor(callback,callback)}\nfunction replaceJPEGHead(blob,oldHead,newHead){if(!blob||!oldHead||!newHead)return null\nreturn new Blob([newHead,blobSlice.call(blob,oldHead.byteLength)],{type:'image/jpeg'})}\nfunction replaceHead(blob,head,callback){var options={maxMetaDataSize:256,disableMetaDataParsers:true}\nif(!callback&&global.Promise){return parseMetaData(blob,options).then(function(data){return replaceJPEGHead(blob,data.imageHead,head)})}\nparseMetaData(blob,function(data){callback(replaceJPEGHead(blob,data.imageHead,head))},options)}\nloadImage.transform=function(img,options,callback,file,data){if(loadImage.requiresMetaData(options)){data=data||{}\nparseMetaData(file,function(result){if(result!==data){if(global.console)console.log(result)\nresult=data}\noriginalTransform.call(loadImage,img,options,callback,file,result)},options,data)}else{originalTransform.apply(loadImage,arguments)}}\nloadImage.blobSlice=blobSlice\nloadImage.bufferSlice=bufferSlice\nloadImage.replaceHead=replaceHead\nloadImage.parseMetaData=parseMetaData\nloadImage.metaDataParsers=metaDataParsers})","jquery/fileUploader/vendor/blueimp-load-image/js/load-image-fetch.min.js":";(function(factory){'use strict'\nif(typeof define==='function'&&define.amd){define(['jquery/fileUploader/vendor/blueimp-load-image/js/load-image'],factory)}else if(typeof module==='object'&&module.exports){factory(require('jquery/fileUploader/vendor/blueimp-load-image/js/load-image'))}else{factory(window.loadImage)}})(function(loadImage){'use strict'\nvar global=loadImage.global\nif(global.fetch&&global.Request&&global.Response&&global.Response.prototype.blob){loadImage.fetchBlob=function(url,callback,options){function responseHandler(response){return response.blob()}\nif(global.Promise&&typeof callback!=='function'){return fetch(new Request(url,callback)).then(responseHandler)}\nfetch(new Request(url,options)).then(responseHandler).then(callback)\n['catch'](function(err){callback(null,err)})}}else if(global.XMLHttpRequest&&new XMLHttpRequest().responseType===''){loadImage.fetchBlob=function(url,callback,options){function executor(resolve,reject){options=options||{}\nvar req=new XMLHttpRequest()\nreq.open(options.method||'GET',url)\nif(options.headers){Object.keys(options.headers).forEach(function(key){req.setRequestHeader(key,options.headers[key])})}\nreq.withCredentials=options.credentials==='include'\nreq.responseType='blob'\nreq.onload=function(){resolve(req.response)}\nreq.onerror=req.onabort=req.ontimeout=function(err){if(resolve===reject){reject(null,err)}else{reject(err)}}\nreq.send(options.body)}\nif(global.Promise&&typeof callback!=='function'){options=callback\nreturn new Promise(executor)}\nreturn executor(callback,callback)}}})","jquery/jstree/jquery.jstree.min.js":"(function(factory){if(typeof define==='function'&&define.amd){define([\"jquery\",\"jquery/jquery.cookie\",\"jquery/jstree/jquery.hotkeys\"],factory);}else{factory(jQuery);}}(function($){\"use strict\";(function(){var is_ie6=false,is_ie7=false,is_ff2=false;(function($){$.vakata={};$.vakata.css={get_css:function(rule_name,delete_flag,sheet){rule_name=rule_name.toLowerCase();var css_rules=sheet.cssRules||sheet.rules,j=0;do{if(css_rules.length&&j>css_rules.length+5){return false;}\nif(css_rules[j].selectorText&&css_rules[j].selectorText.toLowerCase()==rule_name){if(delete_flag===true){if(sheet.removeRule){sheet.removeRule(j);}\nif(sheet.deleteRule){sheet.deleteRule(j);}\nreturn true;}\nelse{return css_rules[j];}}}\nwhile(css_rules[++j]);return false;},add_css:function(rule_name,sheet){if($.jstree.css.get_css(rule_name,false,sheet)){return false;}\nif(sheet.insertRule){sheet.insertRule(rule_name+' { }',0);}else{sheet.addRule(rule_name,null,0);}\nreturn $.vakata.css.get_css(rule_name);},remove_css:function(rule_name,sheet){return $.vakata.css.get_css(rule_name,true,sheet);},add_sheet:function(opts){var tmp=false,is_new=true;if(opts.str){if(opts.title){tmp=$(\"style[id='\"+opts.title+\"-stylesheet']\")[0];}\nif(tmp){is_new=false;}\nelse{tmp=document.createElement(\"style\");tmp.setAttribute('type',\"text/css\");if(opts.title){tmp.setAttribute(\"id\",opts.title+\"-stylesheet\");}}\nif(tmp.styleSheet){if(is_new){document.getElementsByTagName(\"head\")[0].appendChild(tmp);tmp.styleSheet.cssText=opts.str;}\nelse{tmp.styleSheet.cssText=tmp.styleSheet.cssText+\" \"+opts.str;}}\nelse{tmp.appendChild(document.createTextNode(opts.str));document.getElementsByTagName(\"head\")[0].appendChild(tmp);}\nreturn tmp.sheet||tmp.styleSheet;}\nif(opts.url){if(document.createStyleSheet){try{tmp=document.createStyleSheet(opts.url);}catch(e){}}\nelse{tmp=document.createElement('link');tmp.rel='stylesheet';tmp.type='text/css';tmp.media=\"all\";tmp.href=opts.url;document.getElementsByTagName(\"head\")[0].appendChild(tmp);return tmp.styleSheet;}}}};var instances=[],focused_instance=-1,plugins={},prepared_move={};$.fn.jstree=function(settings){var isMethodCall=(typeof settings=='string'),args=Array.prototype.slice.call(arguments,1),returnValue=this;if(isMethodCall){if(settings.substring(0,1)=='_'){return returnValue;}\nthis.each(function(){var instance=instances[$.data(this,\"jstree_instance_id\")],methodValue=(instance&&$.isFunction(instance[settings]))?instance[settings].apply(instance,args):instance;if(typeof methodValue!==\"undefined\"&&(settings.indexOf(\"is_\")===0||(methodValue!==true&&methodValue!==false))){returnValue=methodValue;return false;}});}\nelse{this.each(function(){var instance_id=$.data(this,\"jstree_instance_id\"),a=[],b=settings?$.extend({},true,settings):{},c=$(this),s=false,t=[];a=a.concat(args);if(c.data(\"jstree\")){a.push(c.data(\"jstree\"));}\nb=a.length?$.extend.apply(null,[true,b].concat(a)):b;if(typeof instance_id!==\"undefined\"&&instances[instance_id]){instances[instance_id].destroy();}\ninstance_id=parseInt(instances.push({}),10)-1;$.data(this,\"jstree_instance_id\",instance_id);b.plugins=$.isArray(b.plugins)?b.plugins:$.jstree.defaults.plugins.slice();b.plugins.unshift(\"core\");b.plugins=b.plugins.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");s=$.extend(true,{},$.jstree.defaults,b);s.plugins=b.plugins;$.each(plugins,function(i,val){if($.inArray(i,s.plugins)===-1){s[i]=null;delete s[i];}\nelse{t.push(i);}});s.plugins=t;instances[instance_id]=new $.jstree._instance(instance_id,$(this).addClass(\"jstree jstree-\"+instance_id),s);$.each(instances[instance_id]._get_settings().plugins,function(i,val){instances[instance_id].data[val]={};});$.each(instances[instance_id]._get_settings().plugins,function(i,val){if(plugins[val]){plugins[val].__init.apply(instances[instance_id]);}});setTimeout(function(){if(instances[instance_id]){instances[instance_id].init();}},0);});}\nreturn returnValue;};$.jstree={defaults:{plugins:[]},_focused:function(){return instances[focused_instance]||null;},_reference:function(needle){if(instances[needle]){return instances[needle];}\nvar o=$(needle);if(!o.length&&typeof needle===\"string\"){o=$(\"#\"+needle);}\nif(!o.length){return null;}\nreturn instances[o.closest(\".jstree\").data(\"jstree_instance_id\")]||null;},_instance:function(index,container,settings){this.data={core:{}};this.get_settings=function(){return $.extend(true,{},settings);};this._get_settings=function(){return settings;};this.get_index=function(){return index;};this.get_container=function(){return container;};this.get_container_ul=function(){return container.children(\"ul:eq(0)\");};this._set_settings=function(s){settings=$.extend(true,{},settings,s);};},_fn:{},plugin:function(pname,pdata){pdata=$.extend({},{__init:$.noop,__destroy:$.noop,_fn:{},defaults:false},pdata);plugins[pname]=pdata;$.jstree.defaults[pname]=pdata.defaults;$.each(pdata._fn,function(i,val){val.plugin=pname;val.old=$.jstree._fn[i];$.jstree._fn[i]=function(){var rslt,func=val,args=Array.prototype.slice.call(arguments),evnt=new $.Event(\"before.jstree\"),rlbk=false;if(this.data.core.locked===true&&i!==\"unlock\"&&i!==\"is_locked\"){return;}\ndo{if(func&&func.plugin&&$.inArray(func.plugin,this._get_settings().plugins)!==-1){break;}\nfunc=func.old;}while(func);if(!func){return;}\nif(i.indexOf(\"_\")===0){rslt=func.apply(this,args);}\nelse{rslt=this.get_container().triggerHandler(evnt,{\"func\":i,\"inst\":this,\"args\":args,\"plugin\":func.plugin});if(rslt===false){return;}\nif(typeof rslt!==\"undefined\"){args=rslt;}\nrslt=func.apply($.extend({},this,{__callback:function(data){this.get_container().triggerHandler(i+'.jstree',{\"inst\":this,\"args\":args,\"rslt\":data,\"rlbk\":rlbk});},__rollback:function(){rlbk=this.get_rollback();return rlbk;},__call_old:function(replace_arguments){return func.old.apply(this,(replace_arguments?Array.prototype.slice.call(arguments,1):args));}}),args);}\nreturn rslt;};$.jstree._fn[i].old=val.old;$.jstree._fn[i].plugin=pname;});},rollback:function(rb){if(rb){if(!$.isArray(rb)){rb=[rb];}\n$.each(rb,function(i,val){instances[val.i].set_rollback(val.h,val.d);});}}};$.jstree._fn=$.jstree._instance.prototype={};$(function(){var u=navigator.userAgent.toLowerCase(),v=(u.match(/.+?(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/)||[0,'0'])[1],css_string=''+'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } '+'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } '+'.jstree-rtl li { margin-left:0; margin-right:18px; } '+'.jstree > ul > li { margin-left:0px; } '+'.jstree-rtl > ul > li { margin-right:0px; } '+'.jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } '+'.jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } '+'.jstree a:focus { outline: none; } '+'.jstree a > ins { height:16px; width:16px; } '+'.jstree a > .jstree-icon { margin-right:3px; } '+'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } '+'li.jstree-open > ul { display:block; } '+'li.jstree-closed > ul { display:none; } ';if(/msie/.test(u)&&parseInt(v,10)==6){is_ie6=true;try{document.execCommand(\"BackgroundImageCache\",false,true);}catch(err){}\ncss_string+=''+'.jstree li { height:18px; margin-left:0; margin-right:0; } '+'.jstree li li { margin-left:18px; } '+'.jstree-rtl li li { margin-left:0px; margin-right:18px; } '+'li.jstree-open ul { display:block; } '+'li.jstree-closed ul { display:none !important; } '+'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } '+'.jstree li a ins { height:16px; width:16px; margin-right:3px; } '+'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';}\nif(/msie/.test(u)&&parseInt(v,10)==7){is_ie7=true;css_string+='.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';}\nif(!/compatible/.test(u)&&/mozilla/.test(u)&&parseFloat(v,10)<1.9){is_ff2=true;css_string+=''+'.jstree ins { display:-moz-inline-box; } '+'.jstree li { line-height:12px; } '+'.jstree a { display:-moz-inline-box; } '+'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';}\n$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});});$.jstree.plugin(\"core\",{__init:function(){this.data.core.locked=false;this.data.core.to_open=this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load;},defaults:{html_titles:false,animation:500,initially_open:[],initially_load:[],open_parents:true,notify_plugins:true,rtl:false,load_open:false,strings:{loading:\"Loading ...\",new_node:\"New node\",multiple_selection:\"Multiple selection\"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass(\"jstree-rtl\").css(\"direction\",\"rtl\");}\nthis.get_container().html(\"<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>\"+this._get_string(\"loading\")+\"</a></li></ul>\");this.data.core.li_height=this.get_container_ul().find(\"li.jstree-closed, li.jstree-leaf\").eq(0).height()||18;this.get_container().delegate(\"li > ins\",\"click.jstree\",$.proxy(function(event){var trgt=$(event.target);this.toggle_node(trgt);},this)).bind(\"mousedown.jstree\",$.proxy(function(){this.set_focus();},this)).bind(\"dblclick.jstree\",function(event){var sel;if(document.selection&&document.selection.empty){document.selection.empty();}\nelse{if(window.getSelection){sel=window.getSelection();try{sel.removeAllRanges();sel.collapse();}catch(err){}}}});if(this._get_settings().core.notify_plugins){this.get_container().bind(\"load_node.jstree\",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}\nif(!o.length){return;}\no.find(\"li\").each(function(){var th=$(this);if(th.data(\"jstree\")){$.each(th.data(\"jstree\"),function(plugin,values){if(t.data[plugin]&&$.isFunction(t[\"_\"+plugin+\"_notify\"])){t[\"_\"+plugin+\"_notify\"].call(t,th,values);}});}});},this));}\nif(this._get_settings().core.load_open){this.get_container().bind(\"load_node.jstree\",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}\nif(!o.length){return;}\no.find(\"li.jstree-open:not(:has(ul))\").each(function(){t.load_node(this,$.noop,$.noop);});},this));}\nthis.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes();});},destroy:function(){var i,n=this.get_index(),s=this._get_settings(),_this=this;$.each(s.plugins,function(i,val){try{plugins[val].__destroy.apply(_this);}catch(err){}});this.__callback();if(this.is_focused()){for(i in instances){if(instances.hasOwnProperty(i)&&i!=n){instances[i].set_focus();break;}}}\nif(n===focused_instance){focused_instance=-1;}\nthis.get_container().unbind(\".jstree\").undelegate(\".jstree\").removeData(\"jstree_instance_id\").find(\"[class^='jstree']\").addBack().attr(\"class\",function(){return this.className.replace(/jstree[^ ]*|$/ig,'');});$(document).unbind(\".jstree-\"+n).undelegate(\".jstree-\"+n);instances[n]=null;delete instances[n];},_core_notify:function(n,data){if(data.opened){this.open_node(n,false,true);}},lock:function(){this.data.core.locked=true;this.get_container().children(\"ul\").addClass(\"jstree-locked\").css(\"opacity\",\"0.7\");this.__callback({});},unlock:function(){this.data.core.locked=false;this.get_container().children(\"ul\").removeClass(\"jstree-locked\").css(\"opacity\",\"1\");this.__callback({});},is_locked:function(){return this.data.core.locked;},save_opened:function(){var _this=this;this.data.core.to_open=[];this.get_container_ul().find(\"li.jstree-open\").each(function(){if(this.id){_this.data.core.to_open.push(\"#\"+this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"));}});this.__callback(_this.data.core.to_open);},save_loaded:function(){},reload_nodes:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(!is_callback){this.data.core.reopen=false;this.data.core.refreshing=true;this.data.core.to_open=$.map($.makeArray(this.data.core.to_open),function(n){return\"#\"+n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\");});this.data.core.to_load=$.map($.makeArray(this.data.core.to_load),function(n){return\"#\"+n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\");});if(this.data.core.to_open.length){this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open);}}\nif(this.data.core.to_load.length){$.each(this.data.core.to_load,function(i,val){if(val==\"#\"){return true;}\nif($(val).length){current.push(val);}\nelse{remaining.push(val);}});if(current.length){this.data.core.to_load=remaining;$.each(current,function(i,val){if(!_this._is_loaded(val)){_this.load_node(val,function(){_this.reload_nodes(true);},function(){_this.reload_nodes(true);});done=false;}});}}\nif(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}\nif(done){if(this.data.core.reopen){clearTimeout(this.data.core.reopen);}\nthis.data.core.reopen=setTimeout(function(){_this.__callback({},_this);},50);this.data.core.refreshing=false;this.reopen();}},reopen:function(){var _this=this;if(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}\nthis.__callback({});},refresh:function(obj){var _this=this;this.save_opened();if(!obj){obj=-1;}\nobj=this._get_node(obj);if(!obj){obj=-1;}\nif(obj!==-1){obj.children(\"UL\").remove();}\nelse{this.get_container_ul().empty();}\nthis.load_node(obj,function(){_this.__callback({\"obj\":obj});_this.reload_nodes();});},loaded:function(){this.__callback();},set_focus:function(){if(this.is_focused()){return;}\nvar f=$.jstree._focused();if(f){f.unset_focus();}\nthis.get_container().addClass(\"jstree-focused\");focused_instance=this.get_index();this.__callback();},is_focused:function(){return focused_instance==this.get_index();},unset_focus:function(){if(this.is_focused()){this.get_container().removeClass(\"jstree-focused\");focused_instance=-1;}\nthis.__callback();},_get_node:function(obj){var $obj=$(obj,this.get_container());if($obj.is(\".jstree\")||obj==-1){return-1;}\n$obj=$obj.closest(\"li\",this.get_container());return $obj.length?$obj:false;},_get_next:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find(\"> ul > li:first-child\");}\nif(!obj.length){return false;}\nif(strict){return(obj.nextAll(\"li\").size()>0)?obj.nextAll(\"li:eq(0)\"):false;}\nif(obj.hasClass(\"jstree-open\")){return obj.find(\"li:eq(0)\");}\nelse if(obj.nextAll(\"li\").size()>0){return obj.nextAll(\"li:eq(0)\");}\nelse{return obj.parentsUntil(\".jstree\",\"li\").next(\"li\").eq(0);}},_get_prev:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find(\"> ul > li:last-child\");}\nif(!obj.length){return false;}\nif(strict){return(obj.prevAll(\"li\").length>0)?obj.prevAll(\"li:eq(0)\"):false;}\nif(obj.prev(\"li\").length){obj=obj.prev(\"li\").eq(0);while(obj.hasClass(\"jstree-open\")){obj=obj.children(\"ul:eq(0)\").children(\"li:last\");}\nreturn obj;}\nelse{var o=obj.parentsUntil(\".jstree\",\"li:eq(0)\");return o.length?o:false;}},_get_parent:function(obj){obj=this._get_node(obj);if(obj==-1||!obj.length){return false;}\nvar o=obj.parentsUntil(\".jstree\",\"li:eq(0)\");return o.length?o:-1;},_get_children:function(obj){obj=this._get_node(obj);if(obj===-1){return this.get_container().children(\"ul:eq(0)\").children(\"li\");}\nif(!obj.length){return false;}\nreturn obj.children(\"ul:eq(0)\").children(\"li\");},get_path:function(obj,id_mode){var p=[],_this=this;obj=this._get_node(obj);if(obj===-1||!obj||!obj.length){return false;}\nobj.parentsUntil(\".jstree\",\"li\").each(function(){p.push(id_mode?this.id:_this.get_text(this));});p.reverse();p.push(id_mode?obj.attr(\"id\"):this.get_text(obj));return p;},_get_string:function(key){return this._get_settings().core.strings[key]||key;},is_open:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass(\"jstree-open\");},is_closed:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass(\"jstree-closed\");},is_leaf:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass(\"jstree-leaf\");},correct_state:function(obj){obj=this._get_node(obj);if(!obj||obj===-1){return false;}\nobj.removeClass(\"jstree-closed jstree-open\").addClass(\"jstree-leaf\").children(\"ul\").remove();this.__callback({\"obj\":obj});},open_node:function(obj,callback,skip_animation){obj=this._get_node(obj);if(!obj.length){return false;}\nif(!obj.hasClass(\"jstree-closed\")){if(callback){callback.call();}return false;}\nvar s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!this._is_loaded(obj)){obj.children(\"a\").addClass(\"jstree-loading\");this.load_node(obj,function(){t.open_node(obj,callback,skip_animation);},callback);}\nelse{if(this._get_settings().core.open_parents){obj.parentsUntil(\".jstree\",\".jstree-closed\").each(function(){t.open_node(this,false,true);});}\nif(s){obj.children(\"ul\").css(\"display\",\"none\");}\nobj.removeClass(\"jstree-closed\").addClass(\"jstree-open\").children(\"a\").removeClass(\"jstree-loading\");if(s){obj.children(\"ul\").stop(true,true).slideDown(s,function(){this.style.display=\"\";t.after_open(obj);});}\nelse{t.after_open(obj);}\nthis.__callback({\"obj\":obj});if(callback){callback.call();}}},after_open:function(obj){this.__callback({\"obj\":obj});},close_node:function(obj,skip_animation){obj=this._get_node(obj);var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!obj.length||!obj.hasClass(\"jstree-open\")){return false;}\nif(s){obj.children(\"ul\").attr(\"style\",\"display:block !important\");}\nobj.removeClass(\"jstree-open\").addClass(\"jstree-closed\");if(s){obj.children(\"ul\").stop(true,true).slideUp(s,function(){this.style.display=\"\";t.after_close(obj);});}\nelse{t.after_close(obj);}\nthis.__callback({\"obj\":obj});},after_close:function(obj){this.__callback({\"obj\":obj});},toggle_node:function(obj){obj=this._get_node(obj);if(obj.hasClass(\"jstree-closed\")){return this.open_node(obj);}\nif(obj.hasClass(\"jstree-open\")){return this.close_node(obj);}},open_all:function(obj,do_animation,original_obj){obj=obj?this._get_node(obj):-1;if(!obj||obj===-1){obj=this.get_container_ul();}\nif(original_obj){obj=obj.find(\"li.jstree-closed\");}\nelse{original_obj=obj;if(obj.is(\".jstree-closed\")){obj=obj.find(\"li.jstree-closed\").addBack();}\nelse{obj=obj.find(\"li.jstree-closed\");}}\nvar _this=this;obj.each(function(){var __this=this;if(!_this._is_loaded(this)){_this.open_node(this,function(){_this.open_all(__this,do_animation,original_obj);},!do_animation);}\nelse{_this.open_node(this,false,!do_animation);}});if(original_obj.find('li.jstree-closed').length===0){this.__callback({\"obj\":original_obj});}},close_all:function(obj,do_animation){var _this=this;obj=obj?this._get_node(obj):this.get_container();if(!obj||obj===-1){obj=this.get_container_ul();}\nobj.find(\"li.jstree-open\").addBack().each(function(){_this.close_node(this,!do_animation);});this.__callback({\"obj\":obj});},clean_node:function(obj){obj=obj&&obj!=-1?$(obj):this.get_container_ul();obj=obj.is(\"li\")?obj.find(\"li\").addBack():obj.find(\"li\");obj.removeClass(\"jstree-last\").filter(\"li:last-child\").addClass(\"jstree-last\").end().filter(\":has(li)\").not(\".jstree-open\").removeClass(\"jstree-leaf\").addClass(\"jstree-closed\");obj.not(\".jstree-open, .jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();this.__callback({\"obj\":obj});},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children(\"ul\").clone(true),d:this.data};},set_rollback:function(html,data){this.get_container().empty().append(html);this.data=data;this.__callback();},load_node:function(obj,s_call,e_call){this.__callback({\"obj\":obj});},_is_loaded:function(obj){return true;},create_node:function(obj,position,js,callback,is_loaded){obj=this._get_node(obj);position=typeof position===\"undefined\"?\"last\":position;var d=$(\"<li />\"),s=this._get_settings().core,tmp;if(obj!==-1&&!obj.length){return false;}\nif(!is_loaded&&!this._is_loaded(obj)){this.load_node(obj,function(){this.create_node(obj,position,js,callback,true);});return false;}\nthis.__rollback();if(typeof js===\"string\"){js={\"data\":js};}\nif(!js){js={};}\nif(js.attr){d.attr(js.attr);}\nif(js.metadata){d.data(js.metadata);}\nif(js.state){d.addClass(\"jstree-\"+js.state);}\nif(!js.data){js.data=this._get_string(\"new_node\");}\nif(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}\n$.each(js.data,function(i,m){tmp=$(\"<a />\");if($.isFunction(m)){m=m.call(this,js);}\nif(typeof m==\"string\"){tmp.attr('href','#')[s.html_titles?\"html\":\"text\"](m);}\nelse{if(!m.attr){m.attr={};}\nif(!m.attr.href){m.attr.href='#';}\ntmp.attr(m.attr)[s.html_titles?\"html\":\"text\"](m.title);if(m.language){tmp.addClass(m.language);}}\ntmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");if(!m.icon&&js.icon){m.icon=js.icon;}\nif(m.icon){if(m.icon.indexOf(\"/\")===-1){tmp.children(\"ins\").addClass(m.icon);}\nelse{tmp.children(\"ins\").css(\"background\",\"url('\"+m.icon+\"') center center no-repeat\");}}\nd.append(tmp);});d.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");if(obj===-1){obj=this.get_container();if(position===\"before\"){position=\"first\";}\nif(position===\"after\"){position=\"last\";}}\nswitch(position){case\"before\":obj.before(d);tmp=this._get_parent(obj);break;case\"after\":obj.after(d);tmp=this._get_parent(obj);break;case\"inside\":case\"first\":if(!obj.children(\"ul\").length){obj.append(\"<ul />\");}\nobj.children(\"ul\").prepend(d);tmp=obj;break;case\"last\":if(!obj.children(\"ul\").length){obj.append(\"<ul />\");}\nobj.children(\"ul\").append(d);tmp=obj;break;default:if(!obj.children(\"ul\").length){obj.append(\"<ul />\");}\nif(!position){position=0;}\ntmp=obj.children(\"ul\").children(\"li\").eq(position);if(tmp.length){tmp.before(d);}\nelse{obj.children(\"ul\").append(d);}\ntmp=obj;break;}\nif(tmp===-1||tmp.get(0)===this.get_container().get(0)){tmp=-1;}\nthis.clean_node(tmp);this.__callback({\"obj\":d,\"parent\":tmp});if(callback){callback.call(this,d);}\nreturn d;},get_text:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}\nvar s=this._get_settings().core.html_titles;obj=obj.children(\"a:eq(0)\");if(s){obj=obj.clone();obj.children(\"INS\").remove();return obj.html();}\nelse{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val){obj=this._get_node(obj);if(!obj.length){return false;}\nobj=obj.children(\"a:eq(0)\");if(this._get_settings().core.html_titles){var tmp=obj.children(\"INS\").clone();obj.html(val).prepend(tmp);this.__callback({\"obj\":obj,\"name\":val});return true;}\nelse{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({\"obj\":obj,\"name\":val});return(obj.nodeValue=val);}},rename_node:function(obj,val){obj=this._get_node(obj);this.__rollback();if(obj&&obj.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({\"obj\":obj,\"name\":val});}},delete_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}\nthis.__rollback();var p=this._get_parent(obj),prev=$([]),t=this;obj.each(function(){prev=prev.add(t._get_prev(this));});obj=obj.detach();if(p!==-1&&p.find(\"> ul > li\").length===0){p.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\");}\nthis.clean_node(p);this.__callback({\"obj\":obj,\"prev\":prev,\"parent\":p});return obj;},prepare_move:function(o,r,pos,cb,is_cb){var p={};p.ot=$.jstree._reference(o)||this;p.o=p.ot._get_node(o);p.r=r===-1?-1:this._get_node(r);p.p=(typeof pos===\"undefined\"||pos===false)?\"last\":pos;if(!is_cb&&prepared_move.o&&prepared_move.o[0]===p.o[0]&&prepared_move.r[0]===p.r[0]&&prepared_move.p===p.p){this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}\nreturn;}\np.ot=$.jstree._reference(p.o)||this;p.rt=$.jstree._reference(p.r)||this;if(p.r===-1||!p.r){p.cr=-1;switch(p.p){case\"first\":case\"before\":case\"inside\":p.cp=0;break;case\"after\":case\"last\":p.cp=p.rt.get_container().find(\" > ul > li\").length;break;default:p.cp=p.p;break;}}\nelse{if(!/^(before|after)$/.test(p.p)&&!this._is_loaded(p.r)){return this.load_node(p.r,function(){this.prepare_move(o,r,pos,cb,true);});}\nswitch(p.p){case\"before\":p.cp=p.r.index();p.cr=p.rt._get_parent(p.r);break;case\"after\":p.cp=p.r.index()+1;p.cr=p.rt._get_parent(p.r);break;case\"inside\":case\"first\":p.cp=0;p.cr=p.r;break;case\"last\":p.cp=p.r.find(\" > ul > li\").length;p.cr=p.r;break;default:p.cp=p.p;p.cr=p.r;break;}}\np.np=p.cr==-1?p.rt.get_container():p.cr;p.op=p.ot._get_parent(p.o);p.cop=p.o.index();if(p.op===-1){p.op=p.ot?p.ot.get_container():this.get_container();}\nif(!/^(before|after)$/.test(p.p)&&p.op&&p.np&&p.op[0]===p.np[0]&&p.o.index()<p.cp){p.cp++;}\np.or=p.np.find(\" > ul > li:nth-child(\"+(p.cp+1)+\")\");prepared_move=p;this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}},check_move:function(){var obj=prepared_move,ret=true,r=obj.r===-1?this.get_container():obj.r;if(!obj||!obj.o||obj.or[0]===obj.o[0]){return false;}\nif(obj.op&&obj.np&&obj.op[0]===obj.np[0]&&obj.cp-1===obj.o.index()){return false;}\nobj.o.each(function(){if(r.parentsUntil(\".jstree\",\"li\").addBack().index(this)!==-1){ret=false;return false;}});return ret;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){if(!is_prepared){return this.prepare_move(obj,ref,position,function(p){this.move_node(p,false,false,is_copy,true,skip_check);});}\nif(is_copy){prepared_move.cy=true;}\nif(!skip_check&&!this.check_move()){return false;}\nthis.__rollback();var o=false;if(is_copy){o=obj.o.clone(true);o.find(\"*[id]\").addBack().each(function(){if(this.id){this.id=\"copy_\"+this.id;}});}\nelse{o=obj.o;}\nif(obj.or.length){obj.or.before(o);}\nelse{if(!obj.np.children(\"ul\").length){$(\"<ul />\").appendTo(obj.np);}\nobj.np.children(\"ul:eq(0)\").append(o);}\ntry{obj.ot.clean_node(obj.op);obj.rt.clean_node(obj.np);if(!obj.op.find(\"> ul > li\").length){obj.op.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();}}catch(e){}\nif(is_copy){prepared_move.cy=true;prepared_move.oc=o;}\nthis.__callback(prepared_move);return prepared_move;},_get_move:function(){return prepared_move;}}});})(jQuery);(function($){var scrollbar_width,e1,e2;$(function(){if(/msie/.test(navigator.userAgent.toLowerCase())){e1=$('<textarea cols=\"10\" rows=\"2\"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');e2=$('<textarea cols=\"10\" rows=\"2\" style=\"overflow: hidden;\"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');scrollbar_width=e1.width()-e2.width();e1.add(e2).remove();}\nelse{e1=$('<div />').css({width:100,height:100,overflow:'auto',position:'absolute',top:-1000,left:0}).prependTo('body').append('<div />').find('div').css({width:'100%',height:200});scrollbar_width=100-e1.width();e1.parent().remove();}});$.jstree.plugin(\"ui\",{__init:function(){this.data.ui.selected=$();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate(\"a\",\"click.jstree\",$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass(\"jstree-loading\")){this.select_node(event.currentTarget,true,event);}},this)).delegate(\"a\",\"mouseenter.jstree\",$.proxy(function(event){if(!$(event.currentTarget).hasClass(\"jstree-loading\")){this.hover_node(event.target);}},this)).delegate(\"a\",\"mouseleave.jstree\",$.proxy(function(event){if(!$(event.currentTarget).hasClass(\"jstree-loading\")){this.dehover_node(event.target);}},this)).bind(\"reopen.jstree\",$.proxy(function(){this.reselect();},this)).bind(\"get_rollback.jstree\",$.proxy(function(){this.dehover_node();this.save_selected();},this)).bind(\"set_rollback.jstree\",$.proxy(function(){this.reselect();},this)).bind(\"close_node.jstree\",$.proxy(function(event,data){var s=this._get_settings().ui,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.children(\"ul\").find(\"a.jstree-clicked\"):$(),_this=this;if(s.selected_parent_close===false||!clk.length){return;}\nclk.each(function(){_this.deselect_node(this);if(s.selected_parent_close===\"select_parent\"){_this.select_node(obj);}});},this)).bind(\"delete_node.jstree\",$.proxy(function(event,data){var s=this._get_settings().ui.select_prev_on_delete,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.find(\"a.jstree-clicked\"):[],_this=this;clk.each(function(){_this.deselect_node(this);});if(s&&clk.length){data.rslt.prev.each(function(){if(this.parentNode){_this.select_node(this);return false;}});}},this)).bind(\"move_node.jstree\",$.proxy(function(event,data){if(data.rslt.cy){data.rslt.oc.find(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");}},this));},defaults:{select_limit:-1,select_multiple_modifier:\"ctrl\",select_range_modifier:\"shift\",selected_parent_close:\"select_parent\",selected_parent_open:true,select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(obj,allow_multiple){if(typeof obj===\"undefined\"||obj===null){return allow_multiple?this.data.ui.selected:this.data.ui.last_selected;}\nvar $obj=$(obj,this.get_container());if($obj.is(\".jstree\")||obj==-1){return-1;}\n$obj=$obj.closest(\"li\",this.get_container());return $obj.length?$obj:false;},_ui_notify:function(n,data){if(data.selected){this.select_node(n,false);}},save_selected:function(){var _this=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){if(this.id){_this.data.ui.to_select.push(\"#\"+this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"));}});this.__callback(this.data.ui.to_select);},reselect:function(){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return\"#\"+n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\");});$.each(s,function(i,val){if(val&&val!==\"#\"){_this.select_node(val);}});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode;});this.__callback();},refresh:function(obj){this.save_selected();return this.__call_old();},hover_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}\nif(!obj.hasClass(\"jstree-hovered\")){this.dehover_node();}\nthis.data.ui.hovered=obj.children(\"a\").addClass(\"jstree-hovered\").parent();this._fix_scroll(obj);this.__callback({\"obj\":obj});},dehover_node:function(){var obj=this.data.ui.hovered,p;if(!obj||!obj.length){return false;}\np=obj.children(\"a\").removeClass(\"jstree-hovered\").parent();if(this.data.ui.hovered[0]===p[0]){this.data.ui.hovered=null;}\nthis.__callback({\"obj\":obj});},select_node:function(obj,check,e){obj=this._get_node(obj);if(obj==-1||!obj||!obj.length){return false;}\nvar s=this._get_settings().ui,is_multiple=(s.select_multiple_modifier==\"on\"||(s.select_multiple_modifier!==false&&e&&e[s.select_multiple_modifier+\"Key\"])),is_range=(s.select_range_modifier!==false&&e&&e[s.select_range_modifier+\"Key\"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==obj[0]&&this.data.ui.last_selected.parent()[0]===obj.parent()[0]),is_selected=this.is_selected(obj),proceed=true,t=this;if(check){if(s.disable_selecting_children&&is_multiple&&((obj.parentsUntil(\".jstree\",\"li\").children(\"a.jstree-clicked\").length)||(obj.children(\"ul\").find(\"a.jstree-clicked:eq(0)\").length))){return false;}\nproceed=false;switch(!0){case(is_range):this.data.ui.last_selected.addClass(\"jstree-last-selected\");obj=obj[obj.index()<this.data.ui.last_selected.index()?\"nextUntil\":\"prevUntil\"](\".jstree-last-selected\").addBack();if(s.select_limit==-1||obj.length<s.select_limit){this.data.ui.last_selected.removeClass(\"jstree-last-selected\");this.data.ui.selected.each(function(){if(this!==t.data.ui.last_selected[0]){t.deselect_node(this);}});is_selected=false;proceed=true;}\nelse{proceed=false;}\nbreak;case(is_selected&&!is_multiple):this.deselect_all();is_selected=false;proceed=true;break;case(!is_selected&&!is_multiple):if(s.select_limit==-1||s.select_limit>0){this.deselect_all();proceed=true;}\nbreak;case(is_selected&&is_multiple):this.deselect_node(obj);break;case(!is_selected&&is_multiple):if(s.select_limit==-1||this.data.ui.selected.length+1<=s.select_limit){proceed=true;}\nbreak;}}\nif(proceed&&!is_selected){if(!is_range){this.data.ui.last_selected=obj;}\nobj.children(\"a\").addClass(\"jstree-clicked\");if(s.selected_parent_open){obj.parents(\".jstree-closed\").each(function(){t.open_node(this,false,true);});}\nthis.data.ui.selected=this.data.ui.selected.add(obj);this._fix_scroll(obj.eq(0));this.__callback({\"obj\":obj,\"e\":e});}},_fix_scroll:function(obj){var c=this.get_container()[0],t;if(c.scrollHeight>c.offsetHeight){obj=this._get_node(obj);if(!obj||obj===-1||!obj.length||!obj.is(\":visible\")){return;}\nt=obj.offset().top-this.get_container().offset().top;if(t<0){c.scrollTop=c.scrollTop+t-1;}\nif(t+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?scrollbar_width:0)>c.offsetHeight){c.scrollTop=c.scrollTop+(t-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?scrollbar_width:0));}}},deselect_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}\nif(this.is_selected(obj)){obj.children(\"a\").removeClass(\"jstree-clicked\");this.data.ui.selected=this.data.ui.selected.not(obj);if(this.data.ui.last_selected.get(0)===obj.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0);}\nthis.__callback({\"obj\":obj});}},toggle_select:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}\nif(this.is_selected(obj)){this.deselect_node(obj);}\nelse{this.select_node(obj);}},is_selected:function(obj){return this.data.ui.selected.index(this._get_node(obj))>=0;},get_selected:function(context){return context?$(context).find(\"a.jstree-clicked\").parent():this.data.ui.selected;},deselect_all:function(context){var ret=context?$(context).find(\"a.jstree-clicked\").parent():this.get_container().find(\"a.jstree-clicked\").parent();ret.children(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");this.data.ui.selected=$([]);this.data.ui.last_selected=false;this.__callback({\"obj\":ret});}}});$.jstree.defaults.plugins.push(\"ui\");})(jQuery);(function($){$.jstree.plugin(\"crrm\",{__init:function(){this.get_container().bind(\"move_node.jstree\",$.proxy(function(e,data){if(this._get_settings().crrm.move.open_onmove){var t=this;data.rslt.np.parentsUntil(\".jstree\").addBack().filter(\".jstree-closed\").each(function(){t.open_node(this,false,true);});}},this));},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:\"last\",check_move:function(m){return true;}}},_fn:{_show_input:function(obj,callback){obj=this._get_node(obj);var rtl=this._get_settings().core.rtl,w=this._get_settings().crrm.input_width_limit,w1=obj.children(\"ins\").width(),w2=obj.find(\"> a:visible > ins\").width()*obj.find(\"> a:visible > ins\").length,t=this.get_text(obj),h1=$(\"<div />\",{css:{\"position\":\"absolute\",\"top\":\"-200px\",\"left\":(rtl?\"0px\":\"-1000px\"),\"visibility\":\"hidden\"}}).appendTo(\"body\"),h2=obj.css(\"position\",\"relative\").append($(\"<input />\",{\"value\":t,\"class\":\"jstree-rename-input\",\"css\":{\"padding\":\"0\",\"border\":\"1px solid silver\",\"position\":\"absolute\",\"left\":(rtl?\"auto\":(w1+w2+4)+\"px\"),\"right\":(rtl?(w1+w2+4)+\"px\":\"auto\"),\"top\":\"0px\",\"height\":(this.data.core.li_height-2)+\"px\",\"lineHeight\":(this.data.core.li_height-2)+\"px\",\"width\":\"150px\"},\"blur\":$.proxy(function(){var i=obj.children(\".jstree-rename-input\"),v=i.val();if(v===\"\"){v=t;}\nh1.remove();i.remove();this.set_text(obj,t);this.rename_node(obj,v);callback.call(this,obj,v,t);obj.css(\"position\",\"\");},this),\"keyup\":function(event){var key=event.keyCode||event.which;if(key==27){this.value=t;this.blur();return;}\nelse if(key==13){this.blur();return;}\nelse{h2.width(Math.min(h1.text(\"pW\"+this.value).width(),w));}},\"keypress\":function(event){var key=event.keyCode||event.which;if(key==13){return false;}}})).children(\".jstree-rename-input\");this.set_text(obj,\"\");h1.css({fontFamily:h2.css('fontFamily')||'',fontSize:h2.css('fontSize')||'',fontWeight:h2.css('fontWeight')||'',fontStyle:h2.css('fontStyle')||'',fontStretch:h2.css('fontStretch')||'',fontVariant:h2.css('fontVariant')||'',letterSpacing:h2.css('letterSpacing')||'',wordSpacing:h2.css('wordSpacing')||''});h2.width(Math.min(h1.text(\"pW\"+h2[0].value).width(),w))[0].select();},rename:function(obj){obj=this._get_node(obj);this.__rollback();var f=this.__callback;this._show_input(obj,function(obj,new_name,old_name){f.call(this,{\"obj\":obj,\"new_name\":new_name,\"old_name\":old_name});});},create:function(obj,position,js,callback,skip_rename){var t,_this=this;obj=this._get_node(obj);if(!obj){obj=-1;}\nthis.__rollback();t=this.create_node(obj,position,js,function(t){var p=this._get_parent(t),pos=$(t).index();if(callback){callback.call(this,t);}\nif(p.length&&p.hasClass(\"jstree-closed\")){this.open_node(p,false,true);}\nif(!skip_rename){this._show_input(t,function(obj,new_name,old_name){_this.__callback({\"obj\":obj,\"name\":new_name,\"parent\":p,\"position\":pos});});}\nelse{_this.__callback({\"obj\":t,\"name\":this.get_text(t),\"parent\":p,\"position\":pos});}});return t;},remove:function(obj){obj=this._get_node(obj,true);var p=this._get_parent(obj),prev=this._get_prev(obj);this.__rollback();obj=this.delete_node(obj);if(obj!==false){this.__callback({\"obj\":obj,\"prev\":prev,\"parent\":p});}},check_move:function(){if(!this.__call_old()){return false;}\nvar s=this._get_settings().crrm.move;if(!s.check_move.call(this,this._get_move())){return false;}\nreturn true;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){var s=this._get_settings().crrm.move;if(!is_prepared){if(typeof position===\"undefined\"){position=s.default_position;}\nif(position===\"inside\"&&!s.default_position.match(/^(before|after)$/)){position=s.default_position;}\nreturn this.__call_old(true,obj,ref,position,is_copy,false,skip_check);}\nif(s.always_copy===true||(s.always_copy===\"multitree\"&&obj.rt.get_index()!==obj.ot.get_index())){is_copy=true;}\nthis.__call_old(true,obj,ref,position,is_copy,true,skip_check);},cut:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}\nthis.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=obj;this.__callback({\"obj\":obj});},copy:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}\nthis.data.crrm.ct_nodes=false;this.data.crrm.cp_nodes=obj;this.__callback({\"obj\":obj});},paste:function(obj){obj=this._get_node(obj);if(!obj||!obj.length){return false;}\nvar nodes=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false;}\nif(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,obj);this.data.crrm.ct_nodes=false;}\nif(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,obj,false,true);}\nthis.__callback({\"obj\":obj,\"nodes\":nodes});}}});})(jQuery);(function($){var themes_loaded=[];$.jstree._themes=false;$.jstree.plugin(\"themes\",{__init:function(){this.get_container().bind(\"init.jstree\",$.proxy(function(){var s=this._get_settings().themes;this.data.themes.dots=s.dots;this.data.themes.icons=s.icons;this.set_theme(s.theme,s.url);},this)).bind(\"loaded.jstree\",$.proxy(function(){if(!this.data.themes.dots){this.hide_dots();}\nelse{this.show_dots();}\nif(!this.data.themes.icons){this.hide_icons();}\nelse{this.show_icons();}},this));},defaults:{theme:\"default\",url:false,dots:false,icons:true},_fn:{set_theme:function(theme_name,theme_url){if(!theme_name){return false;}\nif(!theme_url){theme_url=$.jstree._themes+theme_name+'/style.css';}\nif($.inArray(theme_url,themes_loaded)==-1){themes_loaded.push(theme_url);}\nif(this.data.themes.theme!=theme_name){this.get_container().removeClass('jstree-'+this.data.themes.theme);this.data.themes.theme=theme_name;}\nthis.get_container().addClass('jstree-'+theme_name);if(!this.data.themes.dots){this.hide_dots();}\nelse{this.show_dots();}\nif(!this.data.themes.icons){this.hide_icons();}\nelse{this.show_icons();}\nthis.__callback();},get_theme:function(){return this.data.themes.theme;},show_dots:function(){this.data.themes.dots=true;this.get_container().children(\"ul\").removeClass(\"jstree-no-dots\");},hide_dots:function(){this.data.themes.dots=false;this.get_container().children(\"ul\").addClass(\"jstree-no-dots\");},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots();}else{this.show_dots();}},show_icons:function(){this.data.themes.icons=true;this.get_container().children(\"ul\").removeClass(\"jstree-no-icons\");},hide_icons:function(){this.data.themes.icons=false;this.get_container().children(\"ul\").addClass(\"jstree-no-icons\");},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons();}else{this.show_icons();}}}});$(function(){if($.jstree._themes===false){$(\"script\").each(function(){if(this.src.toString().match(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/)){$.jstree._themes=this.src.toString().replace(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/,\"\")+'themes/';return false;}});}\nif($.jstree._themes===false){$.jstree._themes=\"themes/\";}});$.jstree.defaults.plugins.push(\"themes\");})(jQuery);(function($){var bound=[];function exec(i,event){var f=$.jstree._focused(),tmp;if(f&&f.data&&f.data.hotkeys&&f.data.hotkeys.enabled){tmp=f._get_settings().hotkeys[i];if(tmp){return tmp.call(f,event);}}}\n$.jstree.plugin(\"hotkeys\",{__init:function(){if(typeof $.hotkeys===\"undefined\"){throw\"jsTree hotkeys: jQuery hotkeys plugin not included.\";}\nif(!this.data.ui){throw\"jsTree hotkeys: jsTree UI plugin not included.\";}\n$.each(this._get_settings().hotkeys,function(i,v){if(v!==false&&$.inArray(i,bound)==-1){$(document).bind(\"keydown\",i,function(event){return exec(i,event);});bound.push(i);}});this.get_container().bind(\"lock.jstree\",$.proxy(function(){if(this.data.hotkeys.enabled){this.data.hotkeys.enabled=false;this.data.hotkeys.revert=true;}},this)).bind(\"unlock.jstree\",$.proxy(function(){if(this.data.hotkeys.revert){this.data.hotkeys.enabled=true;}},this));this.enable_hotkeys();},defaults:{\"up\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},\"ctrl+up\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},\"shift+up\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},\"down\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},\"ctrl+down\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},\"shift+down\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},\"left\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass(\"jstree-open\")){this.close_node(o);}\nelse{this.hover_node(this._get_prev(o));}}\nreturn false;},\"ctrl+left\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass(\"jstree-open\")){this.close_node(o);}\nelse{this.hover_node(this._get_prev(o));}}\nreturn false;},\"shift+left\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass(\"jstree-open\")){this.close_node(o);}\nelse{this.hover_node(this._get_prev(o));}}\nreturn false;},\"right\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass(\"jstree-closed\")){this.open_node(o);}\nelse{this.hover_node(this._get_next(o));}}\nreturn false;},\"ctrl+right\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass(\"jstree-closed\")){this.open_node(o);}\nelse{this.hover_node(this._get_next(o));}}\nreturn false;},\"shift+right\":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass(\"jstree-closed\")){this.open_node(o);}\nelse{this.hover_node(this._get_next(o));}}\nreturn false;},\"space\":function(){if(this.data.ui.hovered){this.data.ui.hovered.children(\"a:eq(0)\").click();}\nreturn false;},\"ctrl+space\":function(event){event.type=\"click\";if(this.data.ui.hovered){this.data.ui.hovered.children(\"a:eq(0)\").trigger(event);}\nreturn false;},\"shift+space\":function(event){event.type=\"click\";if(this.data.ui.hovered){this.data.ui.hovered.children(\"a:eq(0)\").trigger(event);}\nreturn false;},\"f2\":function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected);},\"del\":function(){this.remove(this.data.ui.hovered||this._get_node(null));}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true;},disable_hotkeys:function(){this.data.hotkeys.enabled=false;}}});})(jQuery);(function($){$.jstree.plugin(\"json_data\",{__init:function(){var s=this._get_settings().json_data;if(s.progressive_unload){this.get_container().bind(\"after_close.jstree\",function(e,data){data.rslt.obj.children(\"ul\").remove();});}},defaults:{data:false,ajax:false,correct_state:true,progressive_render:false,progressive_unload:false},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_json(obj,function(){_this.__callback({\"obj\":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().json_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!s.progressive_render&&!$.isFunction(s.data))||obj.is(\".jstree-open, .jstree-leaf\")||obj.children(\"ul\").children(\"li\").length>0;},refresh:function(obj){obj=this._get_node(obj);var s=this._get_settings().json_data;if(obj&&obj!==-1&&s.progressive_unload&&($.isFunction(s.data)||!!s.ajax)){obj.removeData(\"jstree_children\");}\nreturn this.__call_old();},load_node_json:function(obj,s_call,e_call){var s=this.get_settings().json_data,d,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1&&(s.progressive_render||s.progressive_unload)&&!obj.is(\".jstree-open, .jstree-leaf\")&&obj.children(\"ul\").children(\"li\").length===0&&obj.data(\"jstree_children\")){d=this._parse_json(obj.data(\"jstree_children\"),obj);if(d){obj.append(d);if(!s.progressive_unload){obj.removeData(\"jstree_children\");}}\nthis.clean_node(obj);if(s_call){s_call.call(this);}\nreturn;}\nif(obj&&obj!==-1){if(obj.data(\"jstree_is_loading\")){return;}\nelse{obj.data(\"jstree_is_loading\",true);}}\nswitch(!0){case(!s.data&&!s.ajax):throw\"Neither data nor ajax settings supplied.\";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){d=this._parse_json(d,obj);if(!d){if(obj===-1||!obj){if(s.correct_state){this.get_container().children(\"ul\").empty();}}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);}}\nif(e_call){e_call.call(this);}}\nelse{if(obj===-1||!obj){this.get_container().children(\"ul\").empty().append(d.children());}\nelse{obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");}\nthis.clean_node(obj);if(s_call){s_call.call(this);}}},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=this._parse_json(s.data,obj);if(d){this.get_container().children(\"ul\").empty().append(d.children());this.clean_node();}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();}}}\nif(s_call){s_call.call(this);}\nbreak;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().json_data.ajax.error;if(ef){ef.call(this,x,t,e);}\nif(obj!=-1&&obj.length){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(t===\"success\"&&s.correct_state){this.correct_state(obj);}}\nelse{if(t===\"success\"&&s.correct_state){this.get_container().children(\"ul\").empty();}}\nif(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().json_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}\nif(d===\"\"||(d&&d.toString&&d.toString().replace(/^[\\s\\n]+$/,\"\")===\"\")||(!$.isArray(d)&&!$.isPlainObject(d))){return error_func.call(this,x,t,\"\");}\nd=this._parse_json(d,obj);if(d){if(obj===-1||!obj){this.get_container().children(\"ul\").empty().append(d.children());}\nelse{obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");}\nthis.clean_node(obj);if(s_call){s_call.call(this);}}\nelse{if(obj===-1||!obj){if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType=\"json\";}\nif($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}\nif($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}\n$.ajax(s.ajax);break;}},_parse_json:function(js,obj,is_callback){var d=false,p=this._get_settings(),s=p.json_data,t=p.core.html_titles,tmp,i,j,ul1,ul2;if(!js){return d;}\nif(s.progressive_unload&&obj&&obj!==-1){obj.data(\"jstree_children\",d);}\nif($.isArray(js)){d=$();if(!js.length){return false;}\nfor(i=0,j=js.length;i<j;i++){tmp=this._parse_json(js[i],obj,true);if(tmp.length){d=d.add(tmp);}}}\nelse{if(typeof js==\"string\"){js={data:js};}\nif(!js.data&&js.data!==\"\"){return d;}\nd=$(\"<li />\");if(js.attr){d.attr(js.attr);}\nif(js.metadata){d.data(js.metadata);}\nif(js.state){d.addClass(\"jstree-\"+js.state);}\nif(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}\n$.each(js.data,function(i,m){tmp=$(\"<a />\");if($.isFunction(m)){m=m.call(this,js);}\nif(typeof m==\"string\"){tmp.attr('href','#')[t?\"html\":\"text\"](m);}\nelse{if(!m.attr){m.attr={};}\nif(!m.attr.href){m.attr.href='#';}\ntmp.attr(m.attr)[t?\"html\":\"text\"](m.title);if(m.language){tmp.addClass(m.language);}}\ntmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");if(!m.icon&&js.icon){m.icon=js.icon;}\nif(m.icon){if(m.icon.indexOf(\"/\")===-1){tmp.children(\"ins\").addClass(m.icon);}\nelse{tmp.children(\"ins\").css(\"background\",\"url('\"+m.icon+\"') center center no-repeat\");}}\nd.append(tmp);});d.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");if(js.children){if(s.progressive_render&&js.state!==\"open\"){d.addClass(\"jstree-closed\").data(\"jstree_children\",js.children);}\nelse{if(s.progressive_unload){d.data(\"jstree_children\",js.children);}\nif($.isArray(js.children)&&js.children.length){tmp=this._parse_json(js.children,obj,true);if(tmp.length){ul2=$(\"<ul />\");ul2.append(tmp);d.append(ul2);}}}}}\nif(!is_callback){ul1=$(\"<ul />\");ul1.append(d);d=ul1;}\nreturn d;},get_json:function(obj,li_attr,a_attr,is_callback){var result=[],s=this._get_settings(),_this=this,tmp1,tmp2,li,a,t,lang;obj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find(\"> ul > li\");}\nli_attr=$.isArray(li_attr)?li_attr:[\"id\",\"class\"];if(!is_callback&&this.data.types){li_attr.push(s.types.type_attr);}\na_attr=$.isArray(a_attr)?a_attr:[];obj.each(function(){li=$(this);tmp1={data:[]};if(li_attr.length){tmp1.attr={};}\n$.each(li_attr,function(i,v){tmp2=li.attr(v);if(tmp2&&tmp2.length&&tmp2.replace(/jstree[^ ]*/ig,'').length){tmp1.attr[v]=(\" \"+tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");}});if(li.hasClass(\"jstree-open\")){tmp1.state=\"open\";}\nif(li.hasClass(\"jstree-closed\")){tmp1.state=\"closed\";}\nif(li.data()){tmp1.metadata=li.data();}\na=li.children(\"a\");a.each(function(){t=$(this);if(a_attr.length||$.inArray(\"languages\",s.plugins)!==-1||t.children(\"ins\").get(0).style.backgroundImage.length||(t.children(\"ins\").get(0).className&&t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)){lang=false;if($.inArray(\"languages\",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(l,lv){if(t.hasClass(lv)){lang=lv;return false;}});}\ntmp2={attr:{},title:_this.get_text(t,lang)};$.each(a_attr,function(k,z){tmp2.attr[z]=(\" \"+(t.attr(z)||\"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");});if($.inArray(\"languages\",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(k,z){if(t.hasClass(z)){tmp2.language=z;return true;}});}\nif(t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length){tmp2.icon=t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");}\nif(t.children(\"ins\").get(0).style.backgroundImage.length){tmp2.icon=t.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\");}}\nelse{tmp2=_this.get_text(t);}\nif(a.length>1){tmp1.data.push(tmp2);}\nelse{tmp1.data=tmp2;}});li=li.find(\"> ul > li\");if(li.length){tmp1.children=_this.get_json(li,li_attr,a_attr,true);}\nresult.push(tmp1);});return result;}}});})(jQuery);(function($){$.jstree.plugin(\"languages\",{__init:function(){this._load_css();},defaults:[],_fn:{set_lang:function(i){var langs=this._get_settings().languages,st=false,selector=\".jstree-\"+this.get_index()+' a';if(!$.isArray(langs)||langs.length===0){return false;}\nif($.inArray(i,langs)==-1){if(!!langs[i]){i=langs[i];}\nelse{return false;}}\nif(i==this.data.languages.current_language){return true;}\nst=$.vakata.css.get_css(selector+\".\"+this.data.languages.current_language,false,this.data.languages.language_css);if(st!==false){st.style.display=\"none\";}\nst=$.vakata.css.get_css(selector+\".\"+i,false,this.data.languages.language_css);if(st!==false){st.style.display=\"\";}\nthis.data.languages.current_language=i;this.__callback(i);return true;},get_lang:function(){return this.data.languages.current_language;},_get_string:function(key,lang){var langs=this._get_settings().languages,s=this._get_settings().core.strings;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;}\nif(s[lang]&&s[lang][key]){return s[lang][key];}\nif(s[key]){return s[key];}\nreturn key;},get_text:function(obj,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}\nvar langs=this._get_settings().languages,s=this._get_settings().core.html_titles;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children(\"a.\"+lang);}\nelse{obj=obj.children(\"a:eq(0)\");}\nif(s){obj=obj.clone();obj.children(\"INS\").remove();return obj.html();}\nelse{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}\nvar langs=this._get_settings().languages,s=this._get_settings().core.html_titles,tmp;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children(\"a.\"+lang);}\nelse{obj=obj.children(\"a:eq(0)\");}\nif(s){tmp=obj.children(\"INS\").clone();obj.html(val).prepend(tmp);this.__callback({\"obj\":obj,\"name\":val,\"lang\":lang});return true;}\nelse{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({\"obj\":obj,\"name\":val,\"lang\":lang});return(obj.nodeValue=val);}},_load_css:function(){var langs=this._get_settings().languages,str=\"/* languages css */\",selector=\".jstree-\"+this.get_index()+' a',ln;if($.isArray(langs)&&langs.length){this.data.languages.current_language=langs[0];for(ln=0;ln<langs.length;ln++){str+=selector+\".\"+langs[ln]+\" {\";if(langs[ln]!=this.data.languages.current_language){str+=\" display:none; \";}\nstr+=\" } \";}\nthis.data.languages.language_css=$.vakata.css.add_sheet({'str':str,'title':\"jstree-languages\"});}},create_node:function(obj,position,js,callback){var t=this.__call_old(true,obj,position,js,function(t){var langs=this._get_settings().languages,a=t.children(\"a\"),ln;if($.isArray(langs)&&langs.length){for(ln=0;ln<langs.length;ln++){if(!a.is(\".\"+langs[ln])){t.append(a.eq(0).clone().removeClass(langs.join(\" \")).addClass(langs[ln]));}}\na.not(\".\"+langs.join(\", .\")).remove();}\nif(callback){callback.call(this,t);}});return t;}}});})(jQuery);(function($){$.jstree.plugin(\"cookies\",{__init:function(){if(typeof $.cookie===\"undefined\"){throw\"jsTree cookie: jQuery cookie plugin not included.\";}\nvar s=this._get_settings().cookies,tmp;if(!!s.save_loaded){tmp=$.cookie(s.save_loaded);if(tmp&&tmp.length){this.data.core.to_load=tmp.split(\",\");}}\nif(!!s.save_opened){tmp=$.cookie(s.save_opened);if(tmp&&tmp.length){this.data.core.to_open=tmp.split(\",\");}}\nif(!!s.save_selected){tmp=$.cookie(s.save_selected);if(tmp&&tmp.length&&this.data.ui){this.data.ui.to_select=tmp.split(\",\");}}\nthis.get_container().one((this.data.ui?\"reselect\":\"reopen\")+\".jstree\",$.proxy(function(){this.get_container().bind(\"open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree\",$.proxy(function(e){if(this._get_settings().cookies.auto_save){this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace(\"jstree\",\"\"));}},this));},this));},defaults:{save_loaded:\"jstree_load\",save_opened:\"jstree_open\",save_selected:\"jstree_select\",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(c){if(this.data.core.refreshing){return;}\nvar s=this._get_settings().cookies;if(!c){if(s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(\",\"),s.cookie_options);}\nif(s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(\",\"),s.cookie_options);}\nif(s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(\",\"),s.cookie_options);}\nreturn;}\nswitch(c){case\"open_node\":case\"close_node\":if(!!s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(\",\"),s.cookie_options);}\nif(!!s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(\",\"),s.cookie_options);}\nbreak;case\"select_node\":case\"deselect_node\":if(!!s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(\",\"),s.cookie_options);}\nbreak;}}}});})(jQuery);(function($){$.jstree.plugin(\"sort\",{__init:function(){this.get_container().bind(\"load_node.jstree\",$.proxy(function(e,data){var obj=this._get_node(data.rslt.obj);obj=obj===-1?this.get_container().children(\"ul\"):obj.children(\"ul\");this.sort(obj);},this)).bind(\"rename_node.jstree create_node.jstree create.jstree\",$.proxy(function(e,data){this.sort(data.rslt.obj.parent());},this)).bind(\"move_node.jstree\",$.proxy(function(e,data){var m=data.rslt.np==-1?this.get_container():data.rslt.np;this.sort(m.children(\"ul\"));},this));},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1;},_fn:{sort:function(obj){var s=this._get_settings().sort,t=this;obj.append($.makeArray(obj.children(\"li\")).sort($.proxy(s,t)));obj.find(\"> li > ul\").each(function(){t.sort($(this));});this.clean_node(obj);}}});})(jQuery);(function($){var o=false,r=false,m=false,ml=false,sli=false,sti=false,dir1=false,dir2=false,last_pos=false;$.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(e,data,html){if($.vakata.dnd.is_drag){$.vakata.drag_stop({});}\ntry{e.currentTarget.unselectable=\"on\";e.currentTarget.onselectstart=function(){return false;};if(e.currentTarget.style){e.currentTarget.style.MozUserSelect=\"none\";}}catch(err){}\n$.vakata.dnd.init_x=e.pageX;$.vakata.dnd.init_y=e.pageY;$.vakata.dnd.user_data=data;$.vakata.dnd.is_down=true;$.vakata.dnd.helper=$(\"<div id='vakata-dragged' />\").html(html);$(document).bind(\"mousemove\",$.vakata.dnd.drag);$(document).bind(\"mouseup\",$.vakata.dnd.drag_stop);return false;},drag:function(e){if(!$.vakata.dnd.is_down){return;}\nif(!$.vakata.dnd.is_drag){if(Math.abs(e.pageX-$.vakata.dnd.init_x)>5||Math.abs(e.pageY-$.vakata.dnd.init_y)>5){$.vakata.dnd.helper.appendTo(\"body\");$.vakata.dnd.is_drag=true;$(document).triggerHandler(\"drag_start.vakata\",{\"event\":e,\"data\":$.vakata.dnd.user_data});}\nelse{return;}}\nif(e.type===\"mousemove\"){var d=$(document),t=d.scrollTop(),l=d.scrollLeft();if(e.pageY-t<20){if(sti&&dir1===\"down\"){clearInterval(sti);sti=false;}\nif(!sti){dir1=\"up\";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()-$.vakata.dnd.scroll_spd);},150);}}\nelse{if(sti&&dir1===\"up\"){clearInterval(sti);sti=false;}}\nif($(window).height()-(e.pageY-t)<20){if(sti&&dir1===\"up\"){clearInterval(sti);sti=false;}\nif(!sti){dir1=\"down\";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()+$.vakata.dnd.scroll_spd);},150);}}\nelse{if(sti&&dir1===\"down\"){clearInterval(sti);sti=false;}}\nif(e.pageX-l<20){if(sli&&dir2===\"right\"){clearInterval(sli);sli=false;}\nif(!sli){dir2=\"left\";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()-$.vakata.dnd.scroll_spd);},150);}}\nelse{if(sli&&dir2===\"left\"){clearInterval(sli);sli=false;}}\nif($(window).width()-(e.pageX-l)<20){if(sli&&dir2===\"left\"){clearInterval(sli);sli=false;}\nif(!sli){dir2=\"right\";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()+$.vakata.dnd.scroll_spd);},150);}}\nelse{if(sli&&dir2===\"right\"){clearInterval(sli);sli=false;}}}\n$.vakata.dnd.helper.css({left:(e.pageX+$.vakata.dnd.helper_left)+\"px\",top:(e.pageY+$.vakata.dnd.helper_top)+\"px\"});$(document).triggerHandler(\"drag.vakata\",{\"event\":e,\"data\":$.vakata.dnd.user_data});},drag_stop:function(e){if(sli){clearInterval(sli);}\nif(sti){clearInterval(sti);}\n$(document).unbind(\"mousemove\",$.vakata.dnd.drag);$(document).unbind(\"mouseup\",$.vakata.dnd.drag_stop);$(document).triggerHandler(\"drag_stop.vakata\",{\"event\":e,\"data\":$.vakata.dnd.user_data});$.vakata.dnd.helper.remove();$.vakata.dnd.init_x=0;$.vakata.dnd.init_y=0;$.vakata.dnd.user_data={};$.vakata.dnd.is_down=false;$.vakata.dnd.is_drag=false;}};$(function(){var css_string='#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';$.vakata.css.add_sheet({str:css_string,title:\"vakata\"});});$.jstree.plugin(\"dnd\",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false,mto:false};this.get_container().bind(\"mouseenter.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.themes){m.attr(\"class\",\"jstree-\"+this.data.themes.theme);if(ml){ml.attr(\"class\",\"jstree-\"+this.data.themes.theme);}\n$.vakata.dnd.helper.attr(\"class\",\"jstree-dnd-helper jstree-\"+this.data.themes.theme);}\nif(e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0]!==e.target){var tr=$.jstree._reference(e.target),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{\"o\":o,\"r\":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");}}\nelse{tr.prepare_move(o,tr.get_container(),\"last\");if(tr.check_move()){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");}}}}},this)).bind(\"mouseup.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0]!==e.target){var tr=$.jstree._reference(e.currentTarget),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{\"o\":o,\"r\":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){tr._get_settings().dnd.drag_finish.call(this,{\"o\":o,\"r\":tr.get_container(),is_root:true});}}\nelse{tr.move_node(o,tr.get_container(),\"last\",e[tr._get_settings().dnd.copy_modifier+\"Key\"]);}}},this)).bind(\"mouseleave.jstree\",$.proxy(function(e){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id===\"jstree-marker-line\"){return false;}\nif($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}\nif(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}\nif(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}\nif(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}\nif($.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");}}},this)).bind(\"mousemove.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){var cnt=this.get_container()[0];if(e.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}\nthis.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft+=$.vakata.dnd.scroll_spd;},cnt),100);}\nelse if(e.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}\nthis.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft-=$.vakata.dnd.scroll_spd;},cnt),100);}\nelse{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}}\nif(e.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}\nthis.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop+=$.vakata.dnd.scroll_spd;},cnt),100);}\nelse if(e.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}\nthis.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop-=$.vakata.dnd.scroll_spd;},cnt),100);}\nelse{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}}}},this)).bind(\"scroll.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&m&&ml){m.hide();ml.hide();}},this)).delegate(\"a\",\"mousedown.jstree\",$.proxy(function(e){if(e.which===1){this.start_drag(e.currentTarget,e);return false;}},this)).delegate(\"a\",\"mouseenter.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_enter(e.currentTarget);}},this)).delegate(\"a\",\"mousemove.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!r||!r.length||r.children(\"a\")[0]!==e.currentTarget){this.dnd_enter(e.currentTarget);}\nif(typeof this.data.dnd.off.top===\"undefined\"){this.data.dnd.off=$(e.target).offset();}\nthis.data.dnd.w=(e.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height;}\nthis.dnd_show();}},this)).delegate(\"a\",\"mouseleave.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id===\"jstree-marker-line\"){return false;}\nif(m){m.hide();}\nif(ml){ml.hide();}\nthis.data.dnd.mto=setTimeout((function(t){return function(){t.dnd_leave(e);};})(this),0);}},this)).delegate(\"a\",\"mouseup.jstree\",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_finish(e);}},this));$(document).bind(\"drag_stop.vakata\",$.proxy(function(){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}\nif(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}\nif(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}\nif(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}\nthis.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.i1=false;this.data.dnd.i2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(m){m.css({\"top\":\"-2000px\"});}\nif(ml){ml.css({\"top\":\"-2000px\"});}},this)).bind(\"drag_start.vakata\",$.proxy(function(e,data){if(data.data.jstree){var et=$(data.event.target);if(et.closest(\".jstree\").hasClass(\"jstree-\"+this.get_index())){this.dnd_enter(et);}}},this));var s=this._get_settings().dnd;if(s.drag_target){$(document).delegate(s.drag_target,\"mousedown.jstree-\"+this.get_index(),$.proxy(function(e){o=e.target;$.vakata.dnd.drag_start(e,{jstree:true,obj:e.target},\"<ins class='jstree-icon'></ins>\"+$(e.target).text());if(this.data.themes){if(m){m.attr(\"class\",\"jstree-\"+this.data.themes.theme);}\nif(ml){ml.attr(\"class\",\"jstree-\"+this.data.themes.theme);}\n$.vakata.dnd.helper.attr(\"class\",\"jstree-dnd-helper jstree-\"+this.data.themes.theme);}\n$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");var cnt=this.get_container();this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.foreign=true;e.preventDefault();},this));}\nif(s.drop_target){$(document).delegate(s.drop_target,\"mouseenter.jstree-\"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{\"o\":o,\"r\":$(e.target),\"e\":e})){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");}},this)).delegate(s.drop_target,\"mouseleave.jstree-\"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");}},this)).delegate(s.drop_target,\"mouseup.jstree-\"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&$.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")){this._get_settings().dnd.drop_finish.call(this,{\"o\":o,\"r\":$(e.target),\"e\":e});}},this));}},defaults:{copy_modifier:\"ctrl\",check_timeout:100,open_timeout:500,drop_target:\".jstree-drop\",drop_check:function(data){return true;},drop_finish:$.noop,drag_target:\".jstree-draggable\",drag_finish:$.noop,drag_check:function(data){return{after:false,before:false,inside:true};}},_fn:{dnd_prepare:function(){if(!r||!r.length){return;}\nthis.data.dnd.off=r.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+r.width();}\nif(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{\"o\":o,\"r\":r});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=true;return this.dnd_show();}\nthis.prepare_move(o,r,\"before\");this.data.dnd.before=this.check_move();this.prepare_move(o,r,\"after\");this.data.dnd.after=this.check_move();if(this._is_loaded(r)){this.prepare_move(o,r,\"inside\");this.data.dnd.inside=this.check_move();}\nelse{this.data.dnd.inside=false;}\nthis.data.dnd.prepared=true;return this.dnd_show();},dnd_show:function(){if(!this.data.dnd.prepared){return;}\nvar o=[\"before\",\"inside\",\"after\"],r=false,rtl=this._get_settings().core.rtl,pos;if(this.data.dnd.w<this.data.core.li_height/3){o=[\"before\",\"inside\",\"after\"];}\nelse if(this.data.dnd.w<=this.data.core.li_height*2/3){o=this.data.dnd.w<this.data.core.li_height/2?[\"inside\",\"before\",\"after\"]:[\"inside\",\"after\",\"before\"];}\nelse{o=[\"after\",\"inside\",\"before\"];}\n$.each(o,$.proxy(function(i,val){if(this.data.dnd[val]){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");r=val;return false;}},this));if(r===false){$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");}\npos=rtl?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(r){case\"before\":m.css({\"left\":pos+\"px\",\"top\":(this.data.dnd.off.top-6)+\"px\"}).show();if(ml){ml.css({\"left\":(pos+8)+\"px\",\"top\":(this.data.dnd.off.top-1)+\"px\"}).show();}\nbreak;case\"after\":m.css({\"left\":pos+\"px\",\"top\":(this.data.dnd.off.top+this.data.core.li_height-6)+\"px\"}).show();if(ml){ml.css({\"left\":(pos+8)+\"px\",\"top\":(this.data.dnd.off.top+this.data.core.li_height-1)+\"px\"}).show();}\nbreak;case\"inside\":m.css({\"left\":pos+(rtl?-4:4)+\"px\",\"top\":(this.data.dnd.off.top+this.data.core.li_height/2-5)+\"px\"}).show();if(ml){ml.hide();}\nbreak;default:m.hide();if(ml){ml.hide();}\nbreak;}\nlast_pos=r;return r;},dnd_open:function(){this.data.dnd.to2=false;this.open_node(r,$.proxy(this.dnd_prepare,this),true);},dnd_finish:function(e){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{\"o\":o,\"r\":r,\"p\":last_pos});}}\nelse{this.dnd_prepare();this.move_node(o,r,last_pos,e[this._get_settings().dnd.copy_modifier+\"Key\"]);}\no=false;r=false;m.hide();if(ml){ml.hide();}},dnd_enter:function(obj){if(this.data.dnd.mto){clearTimeout(this.data.dnd.mto);this.data.dnd.mto=false;}\nvar s=this._get_settings().dnd;this.data.dnd.prepared=false;r=this._get_node(obj);if(s.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}\nthis.data.dnd.to1=setTimeout($.proxy(this.dnd_prepare,this),s.check_timeout);}\nelse{this.dnd_prepare();}\nif(s.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}\nif(r&&r.length&&r.hasClass(\"jstree-closed\")){this.data.dnd.to2=setTimeout($.proxy(this.dnd_open,this),s.open_timeout);}}\nelse{if(r&&r.length&&r.hasClass(\"jstree-closed\")){this.dnd_open();}}},dnd_leave:function(e){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");m.hide();if(ml){ml.hide();}\nif(r&&r[0]===e.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false;}\nif(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false;}}},start_drag:function(obj,e){o=this._get_node(obj);if(this.data.ui&&this.is_selected(o)){o=this._get_node(null,true);}\nvar dt=o.length>1?this._get_string(\"multiple_selection\"):this.get_text(o),cnt=this.get_container();if(!this._get_settings().core.html_titles){dt=dt.replace(/</ig,\"&lt;\").replace(/>/ig,\"&gt;\");}\n$.vakata.dnd.drag_start(e,{jstree:true,obj:o},\"<ins class='jstree-icon'></ins>\"+dt);if(this.data.themes){if(m){m.attr(\"class\",\"jstree-\"+this.data.themes.theme);}\nif(ml){ml.attr(\"class\",\"jstree-\"+this.data.themes.theme);}\n$.vakata.dnd.helper.attr(\"class\",\"jstree-dnd-helper jstree-\"+this.data.themes.theme);}\nthis.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.active=true;}}});$(function(){var css_string=''+'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; '+' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; '+'} '+'#vakata-dragged .jstree-ok { background:green; } '+'#vakata-dragged .jstree-invalid { background:red; } '+'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } '+'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; '+' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; '+' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; '+'}'+'';$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});m=$(\"<div />\").attr({id:\"jstree-marker\"}).hide().html(\"&raquo;\").bind(\"mouseleave mouseenter\",function(e){m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}).appendTo(\"body\");ml=$(\"<div />\").attr({id:\"jstree-marker-line\"}).hide().bind(\"mouseup\",function(e){if(r&&r.length){r.children(\"a\").trigger(e);e.preventDefault();e.stopImmediatePropagation();return false;}}).bind(\"mouseleave\",function(e){var rt=$(e.relatedTarget);if(rt.is(\".jstree\")||rt.closest(\".jstree\").length===0){if(r&&r.length){r.children(\"a\").trigger(e);m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}}}).appendTo(\"body\");$(document).bind(\"drag_start.vakata\",function(e,data){if(data.data.jstree){m.show();if(ml){ml.show();}}});$(document).bind(\"drag_stop.vakata\",function(e,data){if(data.data.jstree){m.hide();if(ml){ml.hide();}}});});})(jQuery);(function($){$.jstree.plugin(\"checkbox\",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui){this.select_node=this.deselect_node=this.deselect_all=$.noop;this.get_selected=this.get_checked;}\nthis.get_container().bind(\"open_node.jstree create_node.jstree clean_node.jstree refresh.jstree\",$.proxy(function(e,data){this._prepare_checkboxes(data.rslt.obj);},this)).bind(\"loaded.jstree\",$.proxy(function(e){this._prepare_checkboxes();},this)).delegate((this.data.ui&&this.data.checkbox.noui?\"a\":\"ins.jstree-checkbox\"),\"click.jstree\",$.proxy(function(e){e.preventDefault();if(this._get_node(e.target).hasClass(\"jstree-checked\")){this.uncheck_node(e.target);}\nelse{this.check_node(e.target);}\nif(this.data.ui&&this.data.checkbox.noui){this.save_selected();if(this.data.cookies){this.save_cookie(\"select_node\");}}\nelse{e.stopImmediatePropagation();return false;}},this));},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(n){return[(\"check_\"+(n[0].id||Math.ceil(Math.random()*10000))),1];}},__destroy:function(){this.get_container().find(\"input.jstree-real-checkbox\").removeClass(\"jstree-real-checkbox\").end().find(\"ins.jstree-checkbox\").remove();},_fn:{_checkbox_notify:function(n,data){if(data.checked){this.check_node(n,false);}},_prepare_checkboxes:function(obj){obj=!obj||obj==-1?this.get_container().find(\"> ul > li\"):this._get_node(obj);if(obj===false){return;}\nvar c,_this=this,t,ts=this._get_settings().checkbox.two_state,rc=this._get_settings().checkbox.real_checkboxes,rcn=this._get_settings().checkbox.real_checkboxes_names;obj.each(function(){t=$(this);c=t.is(\"li\")&&(t.hasClass(\"jstree-checked\")||(rc&&t.children(\":checked\").length))?\"jstree-checked\":\"jstree-unchecked\";t.find(\"li\").addBack().each(function(){var $t=$(this),nm;$t.children(\"a\"+(_this.data.languages?\"\":\":eq(0)\")).not(\":has(.jstree-checkbox)\").prepend(\"<ins class='jstree-checkbox'>&#160;</ins>\").parent().not(\".jstree-checked, .jstree-unchecked\").addClass(ts?\"jstree-unchecked\":c);if(rc){if(!$t.children(\":checkbox\").length){nm=rcn.call(_this,$t);$t.prepend(\"<input type='checkbox' class='jstree-real-checkbox' id='\"+nm[0]+\"' name='\"+nm[0]+\"' value='\"+nm[1]+\"' />\");}\nelse{$t.children(\":checkbox\").addClass(\"jstree-real-checkbox\");}}\nif(!ts){if(c===\"jstree-checked\"||$t.hasClass(\"jstree-checked\")||$t.children(':checked').length){$t.find(\"li\").addBack().addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\",true);}}\nelse{if($t.hasClass(\"jstree-checked\")||$t.children(':checked').length){$t.addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\",true);}}});});if(!ts){obj.find(\".jstree-checked\").parent().parent().each(function(){_this._repair_state(this);});}},change_state:function(obj,state){obj=this._get_node(obj);var coll=false,rc=this._get_settings().checkbox.real_checkboxes;if(!obj||obj===-1){return false;}\nstate=(state===false||state===true)?state:obj.hasClass(\"jstree-checked\");if(this._get_settings().checkbox.two_state){if(state){obj.removeClass(\"jstree-checked\").addClass(\"jstree-unchecked\");if(rc){obj.children(\":checkbox\").prop(\"checked\",false);}}\nelse{obj.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\");if(rc){obj.children(\":checkbox\").prop(\"checked\",true);}}}\nelse{if(state){coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-checked, .jstree-undetermined\").length){return false;}\ncoll.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",false);}}\nelse{coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-unchecked, .jstree-undetermined\").length){return false;}\ncoll.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",true);}\nif(this.data.ui){this.data.ui.last_selected=obj;}\nthis.data.checkbox.last_selected=obj;}\nobj.parentsUntil(\".jstree\",\"li\").each(function(){var $this=$(this);if(state){if($this.children(\"ul\").children(\"li.jstree-checked, li.jstree-undetermined\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}\nreturn false;}\nelse{$this.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");if(rc){$this.children(\":checkbox\").prop(\"checked\",false);}}}\nelse{if($this.children(\"ul\").children(\"li.jstree-unchecked, li.jstree-undetermined\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}\nreturn false;}\nelse{$this.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");if(rc){$this.children(\":checkbox\").prop(\"checked\",true);}}}});}\nif(this.data.ui&&this.data.checkbox.noui){this.data.ui.selected=this.get_checked();}\nthis.__callback(obj);return true;},check_node:function(obj){if(this.change_state(obj,false)){obj=this._get_node(obj);if(this._get_settings().checkbox.checked_parent_open){var t=this;obj.parents(\".jstree-closed\").each(function(){t.open_node(this,false,true);});}\nthis.__callback({\"obj\":obj});}},uncheck_node:function(obj){if(this.change_state(obj,true)){this.__callback({\"obj\":this._get_node(obj)});}},check_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find(\"li\"):this.get_container_ul().children(\"li\");coll.each(function(){_this.change_state(this,false);});this.__callback();},uncheck_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find(\"li\"):this.get_container_ul().children(\"li\");coll.each(function(){_this.change_state(this,true);});this.__callback();},is_checked:function(obj){obj=this._get_node(obj);return obj.length?obj.is(\".jstree-checked\"):false;},get_checked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(\".jstree-checked\"):obj.find(\"> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked\");},get_unchecked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(\".jstree-unchecked\"):obj.find(\"> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked\");},show_checkboxes:function(){this.get_container().children(\"ul\").removeClass(\"jstree-no-checkboxes\");},hide_checkboxes:function(){this.get_container().children(\"ul\").addClass(\"jstree-no-checkboxes\");},_repair_state:function(obj){obj=this._get_node(obj);if(!obj.length){return;}\nif(this._get_settings().checkbox.two_state){obj.find('li').addBack().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked',true);return;}\nvar rc=this._get_settings().checkbox.real_checkboxes,a=obj.find(\"> ul > .jstree-checked\").length,b=obj.find(\"> ul > .jstree-undetermined\").length,c=obj.find(\"> ul > li\").length;if(c===0){if(obj.hasClass(\"jstree-undetermined\")){this.change_state(obj,false);}}\nelse if(a===0&&b===0){this.change_state(obj,true);}\nelse if(a===c){this.change_state(obj,false);}\nelse{obj.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){obj.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return\"#\"+n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\");});this.deselect_all();$.each(s,function(i,val){_this.check_node(val);});this.__callback();}\nelse{this.__call_old();}},save_loaded:function(){var _this=this;this.data.core.to_load=[];this.get_container_ul().find(\"li.jstree-closed.jstree-undetermined\").each(function(){if(this.id){_this.data.core.to_load.push(\"#\"+this.id);}});}}});$(function(){var css_string='.jstree .jstree-real-checkbox { display:none; } ';$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});});})(jQuery);(function($){$.vakata.xslt=function(xml,xsl,callback){var rs=\"\",xm,xs,processor,support;if(document.recalc){xm=document.createElement('xml');xs=document.createElement('xml');xm.innerHTML=xml;xs.innerHTML=xsl;$(\"body\").append(xm).append(xs);setTimeout((function(xm,xs,callback){return function(){callback.call(null,xm.transformNode(xs.XMLDocument));setTimeout((function(xm,xs){return function(){$(xm).remove();$(xs).remove();};})(xm,xs),200);};})(xm,xs,callback),100);return true;}\nif(typeof window.DOMParser!==\"undefined\"&&typeof window.XMLHttpRequest!==\"undefined\"&&typeof window.XSLTProcessor===\"undefined\"){xml=new DOMParser().parseFromString(xml,\"text/xml\");xsl=new DOMParser().parseFromString(xsl,\"text/xml\");}\nif(typeof window.DOMParser!==\"undefined\"&&typeof window.XMLHttpRequest!==\"undefined\"&&typeof window.XSLTProcessor!==\"undefined\"){processor=new XSLTProcessor();support=$.isFunction(processor.transformDocument)?(typeof window.XMLSerializer!==\"undefined\"):true;if(!support){return false;}\nxml=new DOMParser().parseFromString(xml,\"text/xml\");xsl=new DOMParser().parseFromString(xsl,\"text/xml\");if($.isFunction(processor.transformDocument)){rs=document.implementation.createDocument(\"\",\"\",null);processor.transformDocument(xml,xsl,rs,null);callback.call(null,new XMLSerializer().serializeToString(rs));return true;}\nelse{processor.importStylesheet(xsl);rs=processor.transformToFragment(xml,document);callback.call(null,$(\"<div />\").append(rs).html());return true;}}\nreturn false;};var xsl={'nest':'<'+'?xml version=\"1.0\" encoding=\"utf-8\" ?>'+'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >'+'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/html\" />'+'<xsl:template match=\"/\">'+' <xsl:call-template name=\"nodes\">'+'  <xsl:with-param name=\"node\" select=\"/root\" />'+' </xsl:call-template>'+'</xsl:template>'+'<xsl:template name=\"nodes\">'+' <xsl:param name=\"node\" />'+' <ul>'+' <xsl:for-each select=\"$node/item\">'+'  <xsl:variable name=\"children\" select=\"count(./item) &gt; 0\" />'+'  <li>'+'   <xsl:attribute name=\"class\">'+'    <xsl:if test=\"position() = last()\">jstree-last </xsl:if>'+'    <xsl:choose>'+'     <xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>'+'     <xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>'+'     <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'    </xsl:choose>'+'    <xsl:value-of select=\"@class\" />'+'   </xsl:attribute>'+'   <xsl:for-each select=\"@*\">'+'    <xsl:if test=\"name() != \\'class\\' and name() != \\'state\\' and name() != \\'hasChildren\\'\">'+'     <xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>'+'    </xsl:if>'+'   </xsl:for-each>'+' <ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>'+'   <xsl:for-each select=\"content/name\">'+'    <a>'+'    <xsl:attribute name=\"href\">'+'     <xsl:choose>'+'     <xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>'+'     <xsl:otherwise>#</xsl:otherwise>'+'     </xsl:choose>'+'    </xsl:attribute>'+'    <xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>'+'    <xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>'+'    <xsl:for-each select=\"@*\">'+'     <xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">'+'      <xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>'+'     </xsl:if>'+'    </xsl:for-each>'+'     <ins>'+'      <xsl:attribute name=\"class\">jstree-icon '+'       <xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>'+'      </xsl:attribute>'+'      <xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>'+'      <xsl:text>&#xa0;</xsl:text>'+'     </ins>'+'     <xsl:copy-of select=\"./child::node()\" />'+'    </a>'+'   </xsl:for-each>'+'   <xsl:if test=\"$children or @hasChildren\"><xsl:call-template name=\"nodes\"><xsl:with-param name=\"node\" select=\"current()\" /></xsl:call-template></xsl:if>'+'  </li>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'</xsl:stylesheet>','flat':'<'+'?xml version=\"1.0\" encoding=\"utf-8\" ?>'+'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >'+'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/xml\" />'+'<xsl:template match=\"/\">'+' <ul>'+' <xsl:for-each select=\"//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]\">'+'  <xsl:call-template name=\"nodes\">'+'   <xsl:with-param name=\"node\" select=\".\" />'+'   <xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />'+'  </xsl:call-template>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'<xsl:template name=\"nodes\">'+' <xsl:param name=\"node\" />'+' <xsl:param name=\"is_last\" />'+' <xsl:variable name=\"children\" select=\"count(//item[@parent_id=$node/attribute::id]) &gt; 0\" />'+' <li>'+' <xsl:attribute name=\"class\">'+'  <xsl:if test=\"$is_last = true()\">jstree-last </xsl:if>'+'  <xsl:choose>'+'   <xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>'+'   <xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>'+'   <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'  </xsl:choose>'+'  <xsl:value-of select=\"@class\" />'+' </xsl:attribute>'+' <xsl:for-each select=\"@*\">'+'  <xsl:if test=\"name() != \\'parent_id\\' and name() != \\'hasChildren\\' and name() != \\'class\\' and name() != \\'state\\'\">'+'  <xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>'+'  </xsl:if>'+' </xsl:for-each>'+' <ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>'+' <xsl:for-each select=\"content/name\">'+'  <a>'+'  <xsl:attribute name=\"href\">'+'   <xsl:choose>'+'   <xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>'+'   <xsl:otherwise>#</xsl:otherwise>'+'   </xsl:choose>'+'  </xsl:attribute>'+'  <xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>'+'  <xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>'+'  <xsl:for-each select=\"@*\">'+'   <xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">'+'    <xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>'+'   </xsl:if>'+'  </xsl:for-each>'+'   <ins>'+'    <xsl:attribute name=\"class\">jstree-icon '+'     <xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>'+'    </xsl:attribute>'+'    <xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>'+'    <xsl:text>&#xa0;</xsl:text>'+'   </ins>'+'   <xsl:copy-of select=\"./child::node()\" />'+'  </a>'+' </xsl:for-each>'+' <xsl:if test=\"$children\">'+'  <ul>'+'  <xsl:for-each select=\"//item[@parent_id=$node/attribute::id]\">'+'   <xsl:call-template name=\"nodes\">'+'    <xsl:with-param name=\"node\" select=\".\" />'+'    <xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />'+'   </xsl:call-template>'+'  </xsl:for-each>'+'  </ul>'+' </xsl:if>'+' </li>'+'</xsl:template>'+'</xsl:stylesheet>'},escape_xml=function(string){return string.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;').replace(/'/g,'&apos;');};$.jstree.plugin(\"xml_data\",{defaults:{data:false,ajax:false,xsl:\"flat\",clean_node:false,correct_state:true,get_skip_empty:false,get_include_preamble:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_xml(obj,function(){_this.__callback({\"obj\":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().xml_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!$.isFunction(s.data))||obj.is(\".jstree-open, .jstree-leaf\")||obj.children(\"ul\").children(\"li\").size()>0;},load_node_xml:function(obj,s_call,e_call){var s=this.get_settings().xml_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data(\"jstree_is_loading\")){return;}\nelse{obj.data(\"jstree_is_loading\",true);}}\nswitch(!0){case(!s.data&&!s.ajax):throw\"Neither data nor ajax settings supplied.\";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns=\"[^\"]*\"/ig,\"\");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children(\"ul\").empty().append(d.children());}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.append(d);obj.removeData(\"jstree_is_loading\");}\nif(s.clean_node){this.clean_node(obj);}\nif(s_call){s_call.call(this);}}\nelse{if(obj&&obj!==-1){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}}}},this));},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){this.parse_xml(s.data,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns=\"[^\"]*\"/ig,\"\");if(d.length>10){d=$(d);this.get_container().children(\"ul\").empty().append(d.children());if(s.clean_node){this.clean_node(obj);}\nif(s_call){s_call.call(this);}}}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}},this));}\nbreak;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().xml_data.ajax.error;if(ef){ef.call(this,x,t,e);}\nif(obj!==-1&&obj.length){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(t===\"success\"&&s.correct_state){this.correct_state(obj);}}\nelse{if(t===\"success\"&&s.correct_state){this.get_container().children(\"ul\").empty();}}\nif(e_call){e_call.call(this);}};success_func=function(d,t,x){d=x.responseText;var sf=this.get_settings().xml_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}\nif(d===\"\"||(d&&d.toString&&d.toString().replace(/^[\\s\\n]+$/,\"\")===\"\")){return error_func.call(this,x,t,\"\");}\nthis.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns=\"[^\"]*\"/ig,\"\");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children(\"ul\").empty().append(d.children());}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.append(d);obj.removeData(\"jstree_is_loading\");}\nif(s.clean_node){this.clean_node(obj);}\nif(s_call){s_call.call(this);}}\nelse{if(obj&&obj!==-1){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}}}},this));};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType=\"xml\";}\nif($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}\nif($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}\n$.ajax(s.ajax);break;}},parse_xml:function(xml,callback){var s=this._get_settings().xml_data;$.vakata.xslt(xml,xsl[s.xsl],callback);},get_xml:function(tp,obj,li_attr,a_attr,is_callback){var result=\"\",s=this._get_settings(),_this=this,tmp1,tmp2,li,a,lang;if(!tp){tp=\"flat\";}\nif(!is_callback){is_callback=0;}\nobj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find(\"> ul > li\");}\nli_attr=$.isArray(li_attr)?li_attr:[\"id\",\"class\"];if(!is_callback&&this.data.types&&$.inArray(s.types.type_attr,li_attr)===-1){li_attr.push(s.types.type_attr);}\na_attr=$.isArray(a_attr)?a_attr:[];if(!is_callback){if(s.xml_data.get_include_preamble){result+='<'+'?xml version=\"1.0\" encoding=\"UTF-8\"?'+'>';}\nresult+=\"<root>\";}\nobj.each(function(){result+=\"<item\";li=$(this);$.each(li_attr,function(i,v){var t=li.attr(v);if(!s.xml_data.get_skip_empty||typeof t!==\"undefined\"){result+=\" \"+v+\"=\\\"\"+escape_xml((\" \"+(t||\"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"))+\"\\\"\";}});if(li.hasClass(\"jstree-open\")){result+=\" state=\\\"open\\\"\";}\nif(li.hasClass(\"jstree-closed\")){result+=\" state=\\\"closed\\\"\";}\nif(tp===\"flat\"){result+=\" parent_id=\\\"\"+escape_xml(is_callback)+\"\\\"\";}\nresult+=\">\";result+=\"<content>\";a=li.children(\"a\");a.each(function(){tmp1=$(this);lang=false;result+=\"<name\";if($.inArray(\"languages\",s.plugins)!==-1){$.each(s.languages,function(k,z){if(tmp1.hasClass(z)){result+=\" lang=\\\"\"+escape_xml(z)+\"\\\"\";lang=z;return false;}});}\nif(a_attr.length){$.each(a_attr,function(k,z){var t=tmp1.attr(z);if(!s.xml_data.get_skip_empty||typeof t!==\"undefined\"){result+=\" \"+z+\"=\\\"\"+escape_xml((\" \"+t||\"\").replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"))+\"\\\"\";}});}\nif(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length){result+=' icon=\"'+escape_xml(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"))+'\"';}\nif(tmp1.children(\"ins\").get(0).style.backgroundImage.length){result+=' icon=\"'+escape_xml(tmp1.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\").replace(/'/ig,\"\").replace(/\"/ig,\"\"))+'\"';}\nresult+=\">\";result+=\"<![CDATA[\"+_this.get_text(tmp1,lang)+\"]]>\";result+=\"</name>\";});result+=\"</content>\";tmp2=li[0].id||true;li=li.find(\"> ul > li\");if(li.length){tmp2=_this.get_xml(tp,li,li_attr,a_attr,tmp2);}\nelse{tmp2=\"\";}\nif(tp==\"nest\"){result+=tmp2;}\nresult+=\"</item>\";if(tp==\"flat\"){result+=tmp2;}});if(!is_callback){result+=\"</root>\";}\nreturn result;}}});})(jQuery);(function($){$.expr[':'].jstree_contains=function(a,i,m){return(a.textContent||a.innerText||\"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.expr[':'].jstree_title_contains=function(a,i,m){return(a.getAttribute(\"title\")||\"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.jstree.plugin(\"search\",{__init:function(){this.data.search.str=\"\";this.data.search.result=$();if(this._get_settings().search.show_only_matches){this.get_container().bind(\"search.jstree\",function(e,data){$(this).children(\"ul\").find(\"li\").hide().removeClass(\"jstree-last\");data.rslt.nodes.parentsUntil(\".jstree\").addBack().show().filter(\"ul\").each(function(){$(this).children(\"li:visible\").eq(-1).addClass(\"jstree-last\");});}).bind(\"clear_search.jstree\",function(){$(this).children(\"ul\").find(\"li\").css(\"display\",\"\").end().end().jstree(\"clean_node\",-1);});}},defaults:{ajax:false,search_method:\"jstree_contains\",show_only_matches:false},_fn:{search:function(str,skip_async){if($.trim(str)===\"\"){this.clear_search();return;}\nvar s=this.get_settings().search,t=this,error_func=function(){},success_func=function(){};this.data.search.str=str;if(!skip_async&&s.ajax!==false&&this.get_container_ul().find(\"li.jstree-closed:not(:has(ul)):eq(0)\").length>0){this.search.supress_callback=true;error_func=function(){};success_func=function(d,t,x){var sf=this.get_settings().search.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}\nthis.data.search.to_open=d;this._search_open();};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,str);}\nif($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,str);}\nif(!s.ajax.data){s.ajax.data={\"search_string\":str};}\nif(!s.ajax.dataType||/^json/.exec(s.ajax.dataType)){s.ajax.dataType=\"json\";}\n$.ajax(s.ajax);return;}\nif(this.data.search.result.length){this.clear_search();}\nthis.data.search.result=this.get_container().find(\"a\"+(this.data.languages?\".\"+this.get_lang():\"\")+\":\"+(s.search_method)+\"(\"+this.data.search.str+\")\");this.data.search.result.addClass(\"jstree-search\").parent().parents(\".jstree-closed\").each(function(){t.open_node(this,false,true);});this.__callback({nodes:this.data.search.result,str:str});},clear_search:function(str){this.data.search.result.removeClass(\"jstree-search\");this.__callback(this.data.search.result);this.data.search.result=$();},_search_open:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(this.data.search.to_open.length){$.each(this.data.search.to_open,function(i,val){if(val==\"#\"){return true;}\nif($(val).length&&$(val).is(\".jstree-closed\")){current.push(val);}\nelse{remaining.push(val);}});if(current.length){this.data.search.to_open=remaining;$.each(current,function(i,val){_this.open_node(val,function(){_this._search_open(true);});});done=false;}}\nif(done){this.search(this.data.search.str,true);}}}});})(jQuery);(function($){$.vakata.context={hide_on_mouseleave:false,cnt:$(\"<div id='vakata-contextmenu' />\"),vis:false,tgt:false,par:false,func:false,data:false,rtl:false,show:function(s,t,x,y,d,p,rtl){$.vakata.context.rtl=!!rtl;var html=$.vakata.context.parse(s),h,w;if(!html){return;}\n$.vakata.context.vis=true;$.vakata.context.tgt=t;$.vakata.context.par=p||t||null;$.vakata.context.data=d||null;$.vakata.context.cnt.html(html).css({\"visibility\":\"hidden\",\"display\":\"block\",\"left\":0,\"top\":0});if($.vakata.context.hide_on_mouseleave){$.vakata.context.cnt.one(\"mouseleave\",function(e){$.vakata.context.hide();});}\nh=$.vakata.context.cnt.height();w=$.vakata.context.cnt.width();if(x+w>$(document).width()){x=$(document).width()-(w+5);$.vakata.context.cnt.find(\"li > ul\").addClass(\"right\");}\nif(y+h>$(document).height()){y=y-(h+t[0].offsetHeight);$.vakata.context.cnt.find(\"li > ul\").addClass(\"bottom\");}\n$.vakata.context.cnt.css({\"left\":x,\"top\":y}).find(\"li:has(ul)\").bind(\"mouseenter\",function(e){var w=$(document).width(),h=$(document).height(),ul=$(this).children(\"ul\").show();if(w!==$(document).width()){ul.toggleClass(\"right\");}\nif(h!==$(document).height()){ul.toggleClass(\"bottom\");}}).bind(\"mouseleave\",function(e){$(this).children(\"ul\").hide();}).end().css({\"visibility\":\"visible\"}).show();$(document).triggerHandler(\"context_show.vakata\");},hide:function(){$.vakata.context.vis=false;$.vakata.context.cnt.attr(\"class\",\"\").css({\"visibility\":\"hidden\"});$(document).triggerHandler(\"context_hide.vakata\");},parse:function(s,is_callback){if(!s){return false;}\nvar str=\"\",tmp=false,was_sep=true;if(!is_callback){$.vakata.context.func={};}\nstr+=\"<ul>\";$.each(s,function(i,val){if(!val){return true;}\n$.vakata.context.func[i]=val.action;if(!was_sep&&val.separator_before){str+=\"<li class='vakata-separator vakata-separator-before'></li>\";}\nwas_sep=false;str+=\"<li class='\"+(val._class||\"\")+(val._disabled?\" jstree-contextmenu-disabled \":\"\")+\"'><ins \";if(val.icon&&val.icon.indexOf(\"/\")===-1){str+=\" class='\"+val.icon+\"' \";}\nif(val.icon&&val.icon.indexOf(\"/\")!==-1){str+=\" style='background:url(\"+val.icon+\") center center no-repeat;' \";}\nstr+=\">&#160;</ins><a href='#' rel='\"+i+\"'>\";if(val.submenu){str+=\"<span style='float:\"+($.vakata.context.rtl?\"left\":\"right\")+\";'>&raquo;</span>\";}\nstr+=val.label+\"</a>\";if(val.submenu){tmp=$.vakata.context.parse(val.submenu,true);if(tmp){str+=tmp;}}\nstr+=\"</li>\";if(val.separator_after){str+=\"<li class='vakata-separator vakata-separator-after'></li>\";was_sep=true;}});str=str.replace(/<li class\\='vakata-separator vakata-separator-after'\\><\\/li\\>$/,\"\");str+=\"</ul>\";$(document).triggerHandler(\"context_parse.vakata\");return str.length>10?str:false;},exec:function(i){if($.isFunction($.vakata.context.func[i])){$.vakata.context.func[i].call($.vakata.context.data,$.vakata.context.par);return true;}\nelse{return false;}}};$(function(){var css_string=''+'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } '+'#vakata-contextmenu ul { min-width:180px; *width:180px; } '+'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } '+'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } '+'#vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } '+'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } '+'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } '+'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } '+'#vakata-contextmenu .right { right:100%; left:auto; } '+'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } '+'#vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ';$.vakata.css.add_sheet({str:css_string,title:\"vakata\"});$.vakata.context.cnt.delegate(\"a\",\"click\",function(e){e.preventDefault();}).delegate(\"a\",\"mouseup\",function(e){if(!$(this).parent().hasClass(\"jstree-contextmenu-disabled\")&&$.vakata.context.exec($(this).attr(\"rel\"))){$.vakata.context.hide();}\nelse{$(this).blur();}}).delegate(\"a\",\"mouseover\",function(){$.vakata.context.cnt.find(\".vakata-hover\").removeClass(\"vakata-hover\");}).appendTo(\"body\");$(document).bind(\"mousedown\",function(e){if($.vakata.context.vis&&!$.contains($.vakata.context.cnt[0],e.target)){$.vakata.context.hide();}});if(typeof $.hotkeys!==\"undefined\"){$(document).bind(\"keydown\",\"up\",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").prevAll(\"li:not(.vakata-separator)\").first();if(!o.length){o=$.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").last();}\no.addClass(\"vakata-hover\");e.stopImmediatePropagation();e.preventDefault();}}).bind(\"keydown\",\"down\",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").nextAll(\"li:not(.vakata-separator)\").first();if(!o.length){o=$.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").first();}\no.addClass(\"vakata-hover\");e.stopImmediatePropagation();e.preventDefault();}}).bind(\"keydown\",\"right\",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").show().children(\"li:not(.vakata-separator)\").removeClass(\"vakata-hover\").first().addClass(\"vakata-hover\");e.stopImmediatePropagation();e.preventDefault();}}).bind(\"keydown\",\"left\",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").hide().children(\".vakata-separator\").removeClass(\"vakata-hover\");e.stopImmediatePropagation();e.preventDefault();}}).bind(\"keydown\",\"esc\",function(e){$.vakata.context.hide();e.preventDefault();}).bind(\"keydown\",\"space\",function(e){$.vakata.context.cnt.find(\".vakata-hover\").last().children(\"a\").click();e.preventDefault();});}});$.jstree.plugin(\"contextmenu\",{__init:function(){this.get_container().delegate(\"a\",\"contextmenu.jstree\",$.proxy(function(e){e.preventDefault();if(!$(e.currentTarget).hasClass(\"jstree-loading\")){this.show_contextmenu(e.currentTarget,e.pageX,e.pageY);}},this)).delegate(\"a\",\"click.jstree\",$.proxy(function(e){if(this.data.contextmenu){$.vakata.context.hide();}},this)).bind(\"destroy.jstree\",$.proxy(function(){if(this.data.contextmenu){$.vakata.context.hide();}},this));$(document).bind(\"context_hide.vakata\",$.proxy(function(){this.data.contextmenu=false;},this));},defaults:{select_node:false,show_at_node:true,items:{\"create\":{\"separator_before\":false,\"separator_after\":true,\"label\":\"Create\",\"action\":function(obj){this.create(obj);}},\"rename\":{\"separator_before\":false,\"separator_after\":false,\"label\":\"Rename\",\"action\":function(obj){this.rename(obj);}},\"remove\":{\"separator_before\":false,\"icon\":false,\"separator_after\":false,\"label\":\"Delete\",\"action\":function(obj){if(this.is_selected(obj)){this.remove();}else{this.remove(obj);}}},\"ccp\":{\"separator_before\":true,\"icon\":false,\"separator_after\":false,\"label\":\"Edit\",\"action\":false,\"submenu\":{\"cut\":{\"separator_before\":false,\"separator_after\":false,\"label\":\"Cut\",\"action\":function(obj){this.cut(obj);}},\"copy\":{\"separator_before\":false,\"icon\":false,\"separator_after\":false,\"label\":\"Copy\",\"action\":function(obj){this.copy(obj);}},\"paste\":{\"separator_before\":false,\"icon\":false,\"separator_after\":false,\"label\":\"Paste\",\"action\":function(obj){this.paste(obj);}}}}}},_fn:{show_contextmenu:function(obj,x,y){obj=this._get_node(obj);var s=this.get_settings().contextmenu,a=obj.children(\"a:visible:eq(0)\"),o=false,i=false;if(s.select_node&&this.data.ui&&!this.is_selected(obj)){this.deselect_all();this.select_node(obj,true);}\nif(s.show_at_node||typeof x===\"undefined\"||typeof y===\"undefined\"){o=a.offset();x=o.left;y=o.top+this.data.core.li_height;}\ni=obj.data(\"jstree\")&&obj.data(\"jstree\").contextmenu?obj.data(\"jstree\").contextmenu:s.items;if($.isFunction(i)){i=i.call(this,obj);}\nthis.data.contextmenu=true;$.vakata.context.show(i,a,x,y,this,obj,this._get_settings().core.rtl);if(this.data.themes){$.vakata.context.cnt.attr(\"class\",\"jstree-\"+this.data.themes.theme+\"-context\");}}}});})(jQuery);(function($){$.jstree.plugin(\"types\",{__init:function(){var s=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind(\"init.jstree\",$.proxy(function(){var types=s.types,attr=s.type_attr,icons_css=\"\",_this=this;$.each(types,function(i,tp){$.each(tp,function(k,v){if(!/^(max_depth|max_children|icon|valid_children)$/.test(k)){_this.data.types.attach_to.push(k);}});if(!tp.icon){return true;}\nif(tp.icon.image||tp.icon.position){if(i==\"default\"){icons_css+='.jstree-'+_this.get_index()+' a > .jstree-icon { ';}\nelse{icons_css+='.jstree-'+_this.get_index()+' li['+attr+'=\"'+i+'\"] > a > .jstree-icon { ';}\nif(tp.icon.image){icons_css+=' background-image:url('+tp.icon.image+'); ';}\nif(tp.icon.position){icons_css+=' background-position:'+tp.icon.position+'; ';}\nelse{icons_css+=' background-position:0 0; ';}\nicons_css+='} ';}});if(icons_css!==\"\"){$.vakata.css.add_sheet({'str':icons_css,title:\"jstree-types\"});}},this)).bind(\"before.jstree\",$.proxy(function(e,data){var s,t,o=this._get_settings().types.use_data?this._get_node(data.args[0]):false,d=o&&o!==-1&&o.length?o.data(\"jstree\"):false;if(d&&d.types&&d.types[data.func]===false){e.stopImmediatePropagation();return false;}\nif($.inArray(data.func,this.data.types.attach_to)!==-1){if(!data.args[0]||(!data.args[0].tagName&&!data.args[0].jquery)){return;}\ns=this._get_settings().types.types;t=this._get_type(data.args[0]);if(((s[t]&&typeof s[t][data.func]!==\"undefined\")||(s[\"default\"]&&typeof s[\"default\"][data.func]!==\"undefined\"))&&this._check(data.func,data.args[0])===false){e.stopImmediatePropagation();return false;}}},this));if(is_ie6){this.get_container().bind(\"load_node.jstree set_type.jstree\",$.proxy(function(e,data){var r=data&&data.rslt&&data.rslt.obj&&data.rslt.obj!==-1?this._get_node(data.rslt.obj).parent():this.get_container_ul(),c=false,s=this._get_settings().types;$.each(s.types,function(i,tp){if(tp.icon&&(tp.icon.image||tp.icon.position)){c=i===\"default\"?r.find(\"li > a > .jstree-icon\"):r.find(\"li[\"+s.type_attr+\"='\"+i+\"'] > a > .jstree-icon\");if(tp.icon.image){c.css(\"backgroundImage\",\"url(\"+tp.icon.image+\")\");}\nc.css(\"backgroundPosition\",tp.icon.position||\"0 0\");}});},this));}},defaults:{max_children:-1,max_depth:-1,valid_children:\"all\",use_data:false,type_attr:\"rel\",types:{\"default\":{\"max_children\":-1,\"max_depth\":-1,\"valid_children\":\"all\"}}},_fn:{_types_notify:function(n,data){if(data.type&&this._get_settings().types.use_data){this.set_type(data.type,n);}},_get_type:function(obj){obj=this._get_node(obj);return(!obj||!obj.length)?false:obj.attr(this._get_settings().types.type_attr)||\"default\";},set_type:function(str,obj){obj=this._get_node(obj);var ret=(!obj.length||!str)?false:obj.attr(this._get_settings().types.type_attr,str);if(ret){this.__callback({obj:obj,type:str});}\nreturn ret;},_check:function(rule,obj,opts){obj=this._get_node(obj);var v=false,t=this._get_type(obj),d=0,_this=this,s=this._get_settings().types,data=false;if(obj===-1){if(!!s[rule]){v=s[rule];}\nelse{return;}}\nelse{if(t===false){return;}\ndata=s.use_data?obj.data(\"jstree\"):false;if(data&&data.types&&typeof data.types[rule]!==\"undefined\"){v=data.types[rule];}\nelse if(!!s.types[t]&&typeof s.types[t][rule]!==\"undefined\"){v=s.types[t][rule];}\nelse if(!!s.types[\"default\"]&&typeof s.types[\"default\"][rule]!==\"undefined\"){v=s.types[\"default\"][rule];}}\nif($.isFunction(v)){v=v.call(this,obj);}\nif(rule===\"max_depth\"&&obj!==-1&&opts!==false&&s.max_depth!==-2&&v!==0){obj.children(\"a:eq(0)\").parentsUntil(\".jstree\",\"li\").each(function(i){if(s.max_depth!==-1&&s.max_depth-(i+1)<=0){v=0;return false;}\nd=(i===0)?v:_this._check(rule,this,false);if(d!==-1&&d-(i+1)<=0){v=0;return false;}\nif(d>=0&&(d-(i+1)<v||v<0)){v=d-(i+1);}\nif(s.max_depth>=0&&(s.max_depth-(i+1)<v||v<0)){v=s.max_depth-(i+1);}});}\nreturn v;},check_move:function(){if(!this.__call_old()){return false;}\nvar m=this._get_move(),s=m.rt._get_settings().types,mc=m.rt._check(\"max_children\",m.cr),md=m.rt._check(\"max_depth\",m.cr),vc=m.rt._check(\"valid_children\",m.cr),ch=0,d=1,t;if(vc===\"none\"){return false;}\nif($.isArray(vc)&&m.ot&&m.ot._get_type){m.o.each(function(){if($.inArray(m.ot._get_type(this),vc)===-1){d=false;return false;}});if(d===false){return false;}}\nif(s.max_children!==-2&&mc!==-1){ch=m.cr===-1?this.get_container().find(\"> ul > li\").not(m.o).length:m.cr.find(\"> ul > li\").not(m.o).length;if(ch+m.o.length>mc){return false;}}\nif(s.max_depth!==-2&&md!==-1){d=0;if(md===0){return false;}\nif(typeof m.o.d===\"undefined\"){t=m.o;while(t.length>0){t=t.find(\"> ul > li\");d++;}\nm.o.d=d;}\nif(md-m.o.d<0){return false;}}\nreturn true;},create_node:function(obj,position,js,callback,is_loaded,skip_check){if(!skip_check&&(is_loaded||this._is_loaded(obj))){var p=(typeof position==\"string\"&&position.match(/^before|after$/i)&&obj!==-1)?this._get_parent(obj):this._get_node(obj),s=this._get_settings().types,mc=this._check(\"max_children\",p),md=this._check(\"max_depth\",p),vc=this._check(\"valid_children\",p),ch;if(typeof js===\"string\"){js={data:js};}\nif(!js){js={};}\nif(vc===\"none\"){return false;}\nif($.isArray(vc)){if(!js.attr||!js.attr[s.type_attr]){if(!js.attr){js.attr={};}\njs.attr[s.type_attr]=vc[0];}\nelse{if($.inArray(js.attr[s.type_attr],vc)===-1){return false;}}}\nif(s.max_children!==-2&&mc!==-1){ch=p===-1?this.get_container().find(\"> ul > li\").length:p.find(\"> ul > li\").length;if(ch+1>mc){return false;}}\nif(s.max_depth!==-2&&md!==-1&&(md-1)<0){return false;}}\nreturn this.__call_old(true,obj,position,js,callback,is_loaded,skip_check);}}});})(jQuery);(function($){$.jstree.plugin(\"html_data\",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(\" > ul > li\").clone(true);this.data.html_data.original_container_html.find(\"li\").addBack().contents().filter(function(){return this.nodeType==3;}).remove();},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_html(obj,function(){_this.__callback({\"obj\":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){obj=this._get_node(obj);return obj==-1||!obj||(!this._get_settings().html_data.ajax&&!$.isFunction(this._get_settings().html_data.data))||obj.is(\".jstree-open, .jstree-leaf\")||obj.children(\"ul\").children(\"li\").size()>0;},load_node_html:function(obj,s_call,e_call){var d,s=this.get_settings().html_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data(\"jstree_is_loading\")){return;}\nelse{obj.data(\"jstree_is_loading\",true);}}\nswitch(!0){case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){if(d&&d!==\"\"&&d.toString&&d.toString().replace(/^[\\s\\n]+$/,\"\")!==\"\"){d=$(d);if(!d.is(\"ul\")){d=$(\"<ul />\").append(d);}\nif(obj==-1||!obj){this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.append(d).children(\"ul\").find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");obj.removeData(\"jstree_is_loading\");}\nthis.clean_node(obj);if(s_call){s_call.call(this);}}\nelse{if(obj&&obj!==-1){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}}},this));break;case(!s.data&&!s.ajax):if(!obj||obj==-1){this.get_container().children(\"ul\").empty().append(this.data.html_data.original_container_html).find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");this.clean_node();}\nif(s_call){s_call.call(this);}\nbreak;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=$(s.data);if(!d.is(\"ul\")){d=$(\"<ul />\").append(d);}\nthis.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");this.clean_node();}\nif(s_call){s_call.call(this);}\nbreak;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):obj=this._get_node(obj);error_func=function(x,t,e){var ef=this.get_settings().html_data.ajax.error;if(ef){ef.call(this,x,t,e);}\nif(obj!=-1&&obj.length){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(t===\"success\"&&s.correct_state){this.correct_state(obj);}}\nelse{if(t===\"success\"&&s.correct_state){this.get_container().children(\"ul\").empty();}}\nif(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().html_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}\nif(d===\"\"||(d&&d.toString&&d.toString().replace(/^[\\s\\n]+$/,\"\")===\"\")){return error_func.call(this,x,t,\"\");}\nif(d){d=$(d);if(!d.is(\"ul\")){d=$(\"<ul />\").append(d);}\nif(obj==-1||!obj){this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");}\nelse{obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.append(d).children(\"ul\").find(\"li, a\").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!==\"INS\";}).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");obj.removeData(\"jstree_is_loading\");}\nthis.clean_node(obj);if(s_call){s_call.call(this);}}\nelse{if(obj&&obj!==-1){obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");obj.removeData(\"jstree_is_loading\");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}\nelse{if(s.correct_state){this.get_container().children(\"ul\").empty();if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType=\"html\";}\nif($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}\nif($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}\n$.ajax(s.ajax);break;}}}});$.jstree.defaults.plugins.push(\"html_data\");})(jQuery);(function($){$.jstree.plugin(\"themeroller\",{__init:function(){var s=this._get_settings().themeroller;this.get_container().addClass(\"ui-widget-content\").addClass(\"jstree-themeroller\").delegate(\"a\",\"mouseenter.jstree\",function(e){if(!$(e.currentTarget).hasClass(\"jstree-loading\")){$(this).addClass(s.item_h);}}).delegate(\"a\",\"mouseleave.jstree\",function(){$(this).removeClass(s.item_h);}).bind(\"init.jstree\",$.proxy(function(e,data){data.inst.get_container().find(\"> ul > li > .jstree-loading > ins\").addClass(\"ui-icon-refresh\");this._themeroller(data.inst.get_container().find(\"> ul > li\"));},this)).bind(\"open_node.jstree create_node.jstree\",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind(\"loaded.jstree refresh.jstree\",$.proxy(function(e){this._themeroller();},this)).bind(\"close_node.jstree\",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind(\"delete_node.jstree\",$.proxy(function(e,data){this._themeroller(data.rslt.parent);},this)).bind(\"correct_state.jstree\",$.proxy(function(e,data){data.rslt.obj.children(\"ins.jstree-icon\").removeClass(s.opened+\" \"+s.closed+\" ui-icon\").end().find(\"> a > ins.ui-icon\").filter(function(){return this.className.toString().replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\").indexOf(\"ui-icon-\")===-1;}).removeClass(s.item_open+\" \"+s.item_clsd).addClass(s.item_leaf||\"jstree-no-icon\");},this)).bind(\"select_node.jstree\",$.proxy(function(e,data){data.rslt.obj.children(\"a\").addClass(s.item_a);},this)).bind(\"deselect_node.jstree deselect_all.jstree\",$.proxy(function(e,data){this.get_container().find(\"a.\"+s.item_a).removeClass(s.item_a).end().find(\"a.jstree-clicked\").addClass(s.item_a);},this)).bind(\"dehover_node.jstree\",$.proxy(function(e,data){data.rslt.obj.children(\"a\").removeClass(s.item_h);},this)).bind(\"hover_node.jstree\",$.proxy(function(e,data){this.get_container().find(\"a.\"+s.item_h).not(data.rslt.obj).removeClass(s.item_h);data.rslt.obj.children(\"a\").addClass(s.item_h);},this)).bind(\"move_node.jstree\",$.proxy(function(e,data){this._themeroller(data.rslt.o);this._themeroller(data.rslt.op);},this));},__destroy:function(){var s=this._get_settings().themeroller,c=[\"ui-icon\"];$.each(s,function(i,v){v=v.split(\" \");if(v.length){c=c.concat(v);}});this.get_container().removeClass(\"ui-widget-content\").find(\".\"+c.join(\", .\")).removeClass(c.join(\" \"));},_fn:{_themeroller:function(obj){var s=this._get_settings().themeroller;obj=!obj||obj==-1?this.get_container_ul():this._get_node(obj).parent();obj.find(\"li.jstree-closed\").children(\"ins.jstree-icon\").removeClass(s.opened).addClass(\"ui-icon \"+s.closed).end().children(\"a\").addClass(s.item).children(\"ins.jstree-icon\").addClass(\"ui-icon\").filter(function(){return this.className.toString().replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\").indexOf(\"ui-icon-\")===-1;}).removeClass(s.item_leaf+\" \"+s.item_open).addClass(s.item_clsd||\"jstree-no-icon\").end().end().end().end().find(\"li.jstree-open\").children(\"ins.jstree-icon\").removeClass(s.closed).addClass(\"ui-icon \"+s.opened).end().children(\"a\").addClass(s.item).children(\"ins.jstree-icon\").addClass(\"ui-icon\").filter(function(){return this.className.toString().replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\").indexOf(\"ui-icon-\")===-1;}).removeClass(s.item_leaf+\" \"+s.item_clsd).addClass(s.item_open||\"jstree-no-icon\").end().end().end().end().find(\"li.jstree-leaf\").children(\"ins.jstree-icon\").removeClass(s.closed+\" ui-icon \"+s.opened).end().children(\"a\").addClass(s.item).children(\"ins.jstree-icon\").addClass(\"ui-icon\").filter(function(){return this.className.toString().replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\").indexOf(\"ui-icon-\")===-1;}).removeClass(s.item_clsd+\" \"+s.item_open).addClass(s.item_leaf||\"jstree-no-icon\");}},defaults:{\"opened\":\"ui-icon-triangle-1-se\",\"closed\":\"ui-icon-triangle-1-e\",\"item\":\"ui-state-default\",\"item_h\":\"ui-state-hover\",\"item_a\":\"ui-state-active\",\"item_open\":\"ui-icon-folder-open\",\"item_clsd\":\"ui-icon-folder-collapsed\",\"item_leaf\":\"ui-icon-document\"}});$(function(){var css_string=''+'.jstree-themeroller .ui-icon { overflow:visible; } '+'.jstree-themeroller a { padding:0 2px; } '+'.jstree-themeroller .jstree-no-icon { display:none; }';$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});});})(jQuery);(function($){$.jstree.plugin(\"unique\",{__init:function(){this.get_container().bind(\"before.jstree\",$.proxy(function(e,data){var nms=[],res=true,p,t;if(data.func==\"move_node\"){if(data.args[4]===true){if(data.args[0].o&&data.args[0].o.length){data.args[0].o.children(\"a\").each(function(){nms.push($(this).text().replace(/^\\s+/g,\"\"));});res=this._check_unique(nms,data.args[0].np.find(\"> ul > li\").not(data.args[0].o),\"move_node\");}}}\nif(data.func==\"create_node\"){if(data.args[4]||this._is_loaded(data.args[0])){p=this._get_node(data.args[0]);if(data.args[1]&&(data.args[1]===\"before\"||data.args[1]===\"after\")){p=this._get_parent(data.args[0]);if(!p||p===-1){p=this.get_container();}}\nif(typeof data.args[2]===\"string\"){nms.push(data.args[2]);}\nelse if(!data.args[2]||!data.args[2].data){nms.push(this._get_string(\"new_node\"));}\nelse{nms.push(data.args[2].data);}\nres=this._check_unique(nms,p.find(\"> ul > li\"),\"create_node\");}}\nif(data.func==\"rename_node\"){nms.push(data.args[1]);t=this._get_node(data.args[0]);p=this._get_parent(t);if(!p||p===-1){p=this.get_container();}\nres=this._check_unique(nms,p.find(\"> ul > li\").not(t),\"rename_node\");}\nif(!res){e.stopPropagation();return false;}},this));},defaults:{error_callback:$.noop},_fn:{_check_unique:function(nms,p,func){var cnms=[];p.children(\"a\").each(function(){cnms.push($(this).text().replace(/^\\s+/g,\"\"));});if(!cnms.length||!nms.length){return true;}\ncnms=cnms.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");if((cnms.length+nms.length)!=cnms.concat(nms).sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\").length){this._get_settings().unique.error_callback.call(null,nms,p,func);return false;}\nreturn true;},check_move:function(){if(!this.__call_old()){return false;}\nvar p=this._get_move(),nms=[];if(p.o&&p.o.length){p.o.children(\"a\").each(function(){nms.push($(this).text().replace(/^\\s+/g,\"\"));});return this._check_unique(nms,p.np.find(\"> ul > li\").not(p.o),\"check_move\");}\nreturn true;}}});})(jQuery);(function($){$.jstree.plugin(\"wholerow\",{__init:function(){if(!this.data.ui){throw\"jsTree wholerow: jsTree UI plugin not included.\";}\nthis.data.wholerow.html=false;this.data.wholerow.to=false;this.get_container().bind(\"init.jstree\",$.proxy(function(e,data){this._get_settings().core.animation=0;},this)).bind(\"open_node.jstree create_node.jstree clean_node.jstree loaded.jstree\",$.proxy(function(e,data){this._prepare_wholerow_span(data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1);},this)).bind(\"search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree\",$.proxy(function(e,data){if(this.data.to){clearTimeout(this.data.to);}\nthis.data.to=setTimeout((function(t,o){return function(){t._prepare_wholerow_ul(o);};})(this,data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1),0);},this)).bind(\"deselect_all.jstree\",$.proxy(function(e,data){this.get_container().find(\" > .jstree-wholerow .jstree-clicked\").removeClass(\"jstree-clicked \"+(this.data.themeroller?this._get_settings().themeroller.item_a:\"\"));},this)).bind(\"select_node.jstree deselect_node.jstree \",$.proxy(function(e,data){data.rslt.obj.each(function(){var ref=data.inst.get_container().find(\" > .jstree-wholerow li:visible:eq(\"+(parseInt((($(this).offset().top-data.inst.get_container().offset().top+data.inst.get_container()[0].scrollTop)/ data.inst.data.core.li_height),10))+\")\");ref.children(\"a\").attr(\"class\",data.rslt.obj.children(\"a\").attr(\"class\"));});},this)).bind(\"hover_node.jstree dehover_node.jstree\",$.proxy(function(e,data){this.get_container().find(\" > .jstree-wholerow .jstree-hovered\").removeClass(\"jstree-hovered \"+(this.data.themeroller?this._get_settings().themeroller.item_h:\"\"));if(e.type===\"hover_node\"){var ref=this.get_container().find(\" > .jstree-wholerow li:visible:eq(\"+(parseInt(((data.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/ this.data.core.li_height),10))+\")\");ref.children(\"a\").attr(\"class\",data.rslt.obj.children(\".jstree-hovered\").attr(\"class\"));}},this)).delegate(\".jstree-wholerow-span, ins.jstree-icon, li\",\"click.jstree\",function(e){var n=$(e.currentTarget);if(e.target.tagName===\"A\"||(e.target.tagName===\"INS\"&&n.closest(\"li\").is(\".jstree-open, .jstree-closed\"))){return;}\nn.closest(\"li\").children(\"a:visible:eq(0)\").click();e.stopImmediatePropagation();}).delegate(\"li\",\"mouseover.jstree\",$.proxy(function(e){e.stopImmediatePropagation();if($(e.currentTarget).children(\".jstree-hovered, .jstree-clicked\").length){return false;}\nthis.hover_node(e.currentTarget);return false;},this)).delegate(\"li\",\"mouseleave.jstree\",$.proxy(function(e){if($(e.currentTarget).children(\"a\").hasClass(\"jstree-hovered\").length){return;}\nthis.dehover_node(e.currentTarget);},this));if(is_ie7||is_ie6){$.vakata.css.add_sheet({str:\".jstree-\"+this.get_index()+\" { position:relative; } \",title:\"jstree\"});}},defaults:{},__destroy:function(){this.get_container().children(\".jstree-wholerow\").remove();this.get_container().find(\".jstree-wholerow-span\").remove();},_fn:{_prepare_wholerow_span:function(obj){obj=!obj||obj==-1?this.get_container().find(\"> ul > li\"):this._get_node(obj);if(obj===false){return;}\nobj.each(function(){$(this).find(\"li\").addBack().each(function(){var $t=$(this);if($t.children(\".jstree-wholerow-span\").length){return true;}\n$t.prepend(\"<span class='jstree-wholerow-span' style='width:\"+($t.parentsUntil(\".jstree\",\"li\").length*18)+\"px;'>&#160;</span>\");});});},_prepare_wholerow_ul:function(){var o=this.get_container().children(\"ul\").eq(0),h=o.html();o.addClass(\"jstree-wholerow-real\");if(this.data.wholerow.last_html!==h){this.data.wholerow.last_html=h;this.get_container().children(\".jstree-wholerow\").remove();this.get_container().append(o.clone().removeClass(\"jstree-wholerow-real\").wrapAll(\"<div class='jstree-wholerow' />\").parent().width(o.parent()[0].scrollWidth).css(\"top\",(o.height()+(is_ie7?5:0))*-1).find(\"li[id]\").each(function(){this.removeAttribute(\"id\");}).end());}}}});$(function(){var css_string=''+'.jstree .jstree-wholerow-real { position:relative; z-index:1; } '+'.jstree .jstree-wholerow-real li { cursor:pointer; } '+'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } '+'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } '+'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }'+'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }'+'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } '+'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';if(is_ff2){css_string+=''+'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } '+'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';}\nif(is_ie7||is_ie6){css_string+=''+'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } '+'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';}\n$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});});})(jQuery);(function($){var nodeInterface=[\"getChildren\",\"getChildrenCount\",\"getAttr\",\"getName\",\"getProps\"],validateInterface=function(obj,inter){var valid=true;obj=obj||{};inter=[].concat(inter);$.each(inter,function(i,v){if(!$.isFunction(obj[v])){valid=false;return false;}});return valid;};$.jstree.plugin(\"model\",{__init:function(){if(!this.data.json_data){throw\"jsTree model: jsTree json_data plugin not included.\";}\nthis._get_settings().json_data.data=function(n,b){var obj=(n==-1)?this._get_settings().model.object:n.data(\"jstree_model\");if(!validateInterface(obj,nodeInterface)){return b.call(null,false);}\nif(this._get_settings().model.async){obj.getChildren($.proxy(function(data){this.model_done(data,b);},this));}\nelse{this.model_done(obj.getChildren(),b);}};},defaults:{object:false,id_prefix:false,async:false},_fn:{model_done:function(data,callback){var ret=[],s=this._get_settings(),_this=this;if(!$.isArray(data)){data=[data];}\n$.each(data,function(i,nd){var r=nd.getProps()||{};r.attr=nd.getAttr()||{};if(nd.getChildrenCount()){r.state=\"closed\";}\nr.data=nd.getName();if(!$.isArray(r.data)){r.data=[r.data];}\nif(_this.data.types&&$.isFunction(nd.getType)){r.attr[s.types.type_attr]=nd.getType();}\nif(r.attr.id&&s.model.id_prefix){r.attr.id=s.model.id_prefix+r.attr.id;}\nif(!r.metadata){r.metadata={};}\nr.metadata.jstree_model=nd;ret.push(r);});callback.call(null,ret);}}});})(jQuery);(function($){$.jstree.plugin(\"vcheckbox\",{__init:function(){this.data.vcheckbox.noui=this._get_settings().vcheckbox.override_ui;if(this.data.ui&&this.data.vcheckbox.noui){this.select_node=this.deselect_node=this.deselect_all=$.noop;this.get_selected=this.get_checked;}\nthis.get_container().bind(\"open_node.jstree create_node.jstree clean_node.jstree refresh.jstree\",$.proxy(function(e,data){this._prepare_checkboxes(data.rslt.obj);},this)).bind(\"loaded.jstree\",$.proxy(function(e){this._prepare_checkboxes();},this)).delegate((this.data.ui&&this.data.vcheckbox.noui?\"a\":\"ins.jstree-checkbox\"),\"click.jstree\",$.proxy(function(e){e.preventDefault();if(this._get_node(e.target).hasClass(\"jstree-checked\")){this.uncheck_node(e.target);}\nelse{this.check_node(e.target);}\nif(this.data.ui&&this.data.vcheckbox.noui){this.save_selected();if(this.data.cookies){this.save_cookie(\"select_node\");}}\nelse{e.stopImmediatePropagation();return false;}},this));},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(n){return[(\"check_\"+(n[0].id||Math.ceil(Math.random()*10000))),1];}},__destroy:function(){this.get_container().find(\"input.jstree-real-checkbox\").removeClass(\"jstree-real-checkbox\").end().find(\"ins.jstree-checkbox\").remove();},_fn:{_checkbox_notify:function(n,data){if(data.checked){this.check_node(n,false);}},_prepare_checkboxes:function(obj){obj=!obj||obj==-1?this.get_container().find(\"> ul > li\"):this._get_node(obj);if(obj===false){return;}\nvar c,_this=this,t,ts=this._get_settings().vcheckbox.two_state,rc=this._get_settings().vcheckbox.real_checkboxes,rcn=this._get_settings().vcheckbox.real_checkboxes_names;obj.each(function(){t=$(this);c=t.is(\"li\")&&(t.hasClass(\"jstree-checked\")||(rc&&t.children(\":checked\").length))?\"jstree-checked\":\"jstree-unchecked\";t.find(\"li\").addBack().each(function(){var $t=$(this),nm;$t.children(\"a\"+(_this.data.languages?\"\":\":eq(0)\")).not(\":has(.jstree-checkbox)\").prepend(\"<ins class='jstree-checkbox'>&#160;</ins>\").parent().not(\".jstree-checked, .jstree-unchecked\").addClass(ts?\"jstree-unchecked\":c);if(rc){if(!$t.children(\":checkbox\").length){nm=rcn.call(_this,$t);$t.prepend(\"<input type='checkbox' class='jstree-real-checkbox' id='\"+nm[0]+\"' name='\"+nm[0]+\"' value='\"+nm[1]+\"' />\");}\nelse{$t.children(\":checkbox\").addClass(\"jstree-real-checkbox\");}}\nif(!ts){if(c===\"jstree-checked\"||$t.hasClass(\"jstree-checked\")||$t.children(':checked').length){$t.find(\"li\").addBack().addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\",true);}}\nelse{if($t.hasClass(\"jstree-checked\")||$t.children(':checked').length){$t.addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\",true);}}});});if(!ts){obj.find(\".jstree-checked\").parent().parent().each(function(){_this._repair_state(this);});}},change_state:function(obj,state){obj=this._get_node(obj);var coll=false,rc=this._get_settings().vcheckbox.real_checkboxes;if(!obj||obj===-1){return false;}\nstate=(state===false||state===true)?state:obj.hasClass(\"jstree-checked\");if(this._get_settings().vcheckbox.two_state){if(state){coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-checked\").length){return false;}\ncoll.removeClass(\"jstree-checked\").addClass(\"jstree-unchecked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",false);}}\nelse{coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-unchecked\").length){return false;}\ncoll.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",true);}\nif(this.data.ui){this.data.ui.last_selected=obj;}\nthis.data.vcheckbox.last_selected=obj;}\nobj.parentsUntil(\".jstree\",\"li\").each(function(){var $this=$(this);if(state){if($this.children(\"ul\").children(\"li.jstree-checked\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",true);}\nreturn false;}}\nelse{if($this.children(\"ul\").children(\"li.jstree-unchecked\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",true);}\nreturn false;}\nelse{$this.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\");if(rc){$this.children(\":checkbox\").prop(\"checked\",true);}}}});}\nelse{if(state){coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-checked, .jstree-undetermined\").length){return false;}\ncoll.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",false);}}\nelse{coll=obj.find(\"li\").addBack();if(!coll.filter(\".jstree-unchecked, .jstree-undetermined\").length){return false;}\ncoll.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");if(rc){coll.children(\":checkbox\").prop(\"checked\",true);}\nif(this.data.ui){this.data.ui.last_selected=obj;}\nthis.data.vcheckbox.last_selected=obj;}\nobj.parentsUntil(\".jstree\",\"li\").each(function(){var $this=$(this);if(state){if($this.children(\"ul\").children(\"li.jstree-checked, li.jstree-undetermined\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}\nreturn false;}\nelse{$this.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");if(rc){$this.children(\":checkbox\").prop(\"checked\",false);}}}\nelse{if($this.children(\"ul\").children(\"li.jstree-unchecked, li.jstree-undetermined\").length){$this.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){$this.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}\nreturn false;}\nelse{$this.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");if(rc){$this.children(\":checkbox\").prop(\"checked\",true);}}}});}\nif(this.data.ui&&this.data.vcheckbox.noui){this.data.ui.selected=this.get_checked();}\nthis.__callback(obj);return true;},check_node:function(obj){if(this.change_state(obj,false)){obj=this._get_node(obj);if(this._get_settings().vcheckbox.checked_parent_open){var t=this;obj.parents(\".jstree-closed\").each(function(){t.open_node(this,false,true);});}\nthis.__callback({\"obj\":obj});}},uncheck_node:function(obj){if(this.change_state(obj,true)){this.__callback({\"obj\":this._get_node(obj)});}},check_all:function(){var _this=this,coll=this._get_settings().vcheckbox.two_state?this.get_container_ul().find(\"li\"):this.get_container_ul().children(\"li\");coll.each(function(){_this.change_state(this,false);});this.__callback();},uncheck_all:function(){var _this=this,coll=this._get_settings().vcheckbox.two_state?this.get_container_ul().find(\"li\"):this.get_container_ul().children(\"li\");coll.each(function(){_this.change_state(this,true);});this.__callback();},is_checked:function(obj){obj=this._get_node(obj);return obj.length?obj.is(\".jstree-checked\"):false;},get_checked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().vcheckbox.two_state?obj.find(\".jstree-checked\"):obj.find(\"> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked\");},get_unchecked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().vcheckbox.two_state?obj.find(\".jstree-unchecked\"):obj.find(\"> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked\");},show_checkboxes:function(){this.get_container().children(\"ul\").removeClass(\"jstree-no-checkboxes\");},hide_checkboxes:function(){this.get_container().children(\"ul\").addClass(\"jstree-no-checkboxes\");},_repair_state:function(obj){obj=this._get_node(obj);if(!obj.length){return;}\nif(this._get_settings().vcheckbox.two_state){obj.find('li').addBack().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked',true);return;}\nvar rc=this._get_settings().vcheckbox.real_checkboxes,a=obj.find(\"> ul > .jstree-checked\").length,b=obj.find(\"> ul > .jstree-undetermined\").length,c=obj.find(\"> ul > li\").length;if(c===0){if(obj.hasClass(\"jstree-undetermined\")){this.change_state(obj,false);}}\nelse if(a===0&&b===0){this.change_state(obj,true);}\nelse if(a===c){this.change_state(obj,false);}\nelse{obj.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");if(rc){obj.parentsUntil(\".jstree\",\"li\").addBack().children(\":checkbox\").prop(\"checked\",false);}}},reselect:function(){if(this.data.ui&&this.data.vcheckbox.noui){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return\"#\"+n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\");});this.deselect_all();$.each(s,function(i,val){_this.check_node(val);});this.__callback();}\nelse{this.__call_old();}},save_loaded:function(){var _this=this;this.data.core.to_load=[];this.get_container_ul().find(\"li.jstree-closed.jstree-undetermined\").each(function(){if(this.id){_this.data.core.to_load.push(\"#\"+this.id);}});}}});$(function(){var css_string='.jstree .jstree-real-checkbox { display:none; } ';$.vakata.css.add_sheet({str:css_string,title:\"jstree\"});});})(jQuery);})();}));","jquery/jstree/jquery.hotkeys.min.js":"(function(factory){if(typeof define==='function'&&define.amd){define([\"jquery\"],factory);}else{factory(jQuery);}}(function(jQuery){jQuery.hotkeys={version:\"0.8\",specialKeys:{8:\"backspace\",9:\"tab\",13:\"return\",16:\"shift\",17:\"ctrl\",18:\"alt\",19:\"pause\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"insert\",46:\"del\",96:\"0\",97:\"1\",98:\"2\",99:\"3\",100:\"4\",101:\"5\",102:\"6\",103:\"7\",104:\"8\",105:\"9\",106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",112:\"f1\",113:\"f2\",114:\"f3\",115:\"f4\",116:\"f5\",117:\"f6\",118:\"f7\",119:\"f8\",120:\"f9\",121:\"f10\",122:\"f11\",123:\"f12\",144:\"numlock\",145:\"scroll\",191:\"/\",224:\"meta\"},shiftNums:{\"`\":\"~\",\"1\":\"!\",\"2\":\"@\",\"3\":\"#\",\"4\":\"$\",\"5\":\"%\",\"6\":\"^\",\"7\":\"&\",\"8\":\"*\",\"9\":\"(\",\"0\":\")\",\"-\":\"_\",\"=\":\"+\",\";\":\": \",\"'\":\"\\\"\",\",\":\"<\",\".\":\">\",\"/\":\"?\",\"\\\\\":\"|\"}};function keyHandler(handleObj){if(typeof handleObj.data!==\"string\"){return;}\nvar origHandler=handleObj.handler,keys=handleObj.data.toLowerCase().split(\" \");handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||event.target.type===\"text\"||event.target.type===\"number\"||jQuery(event.target).attr('contenteditable'))){return;}\nvar special=event.type!==\"keypress\"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),key,modif=\"\",possible={};if(event.altKey&&special!==\"alt\"){modif+=\"alt+\";}\nif(event.ctrlKey&&special!==\"ctrl\"){modif+=\"ctrl+\";}\nif(event.metaKey&&!event.ctrlKey&&special!==\"meta\"){modif+=\"meta+\";}\nif(event.shiftKey&&special!==\"shift\"){modif+=\"shift+\";}\nif(special){possible[modif+special]=true;}else{possible[modif+character]=true;possible[modif+jQuery.hotkeys.shiftNums[character]]=true;if(modif===\"shift+\"){possible[jQuery.hotkeys.shiftNums[character]]=true;}}\nfor(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments);}}};}\njQuery.each([\"keydown\",\"keyup\",\"keypress\"],function(){jQuery.event.special[this]={add:keyHandler};});}));","jquery/colorpicker/js/colorpicker.min.js":"define([\"jquery\",],function($){var ColorPicker=function(){var\nids={},inAction,charMin=65,visible,tpl='<div class=\"colorpicker\"><div class=\"colorpicker_color\"><div><div></div></div></div><div class=\"colorpicker_hue\"><div></div></div><div class=\"colorpicker_new_color\"></div><div class=\"colorpicker_current_color\"></div><div class=\"colorpicker_hex\"><input type=\"text\" maxlength=\"6\" size=\"6\" /></div><div class=\"colorpicker_rgb_r colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_g colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_h colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_s colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_submit\"></div></div>',defaults={eventName:'click',onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:'ff0000',livePreview:true,flat:false},fillRGBFields=function(hsb,cal){var rgb=HSBToRGB(hsb);$(cal).data('colorpicker').fields.eq(1).val(rgb.r).end().eq(2).val(rgb.g).end().eq(3).val(rgb.b).end();},fillHSBFields=function(hsb,cal){$(cal).data('colorpicker').fields.eq(4).val(hsb.h).end().eq(5).val(hsb.s).end().eq(6).val(hsb.b).end();},fillHexFields=function(hsb,cal){$(cal).data('colorpicker').fields.eq(0).val(HSBToHex(hsb)).end();},setSelector=function(hsb,cal){$(cal).data('colorpicker').selector.css('backgroundColor','#'+HSBToHex({h:hsb.h,s:100,b:100}));$(cal).data('colorpicker').selectorIndic.css({left:parseInt(150*hsb.s/100,10),top:parseInt(150*(100-hsb.b)/100,10)});},setHue=function(hsb,cal){$(cal).data('colorpicker').hue.css('top',parseInt(150-150*hsb.h/360,10));},setCurrentColor=function(hsb,cal){$(cal).data('colorpicker').currentColor.css('backgroundColor','#'+HSBToHex(hsb));},setNewColor=function(hsb,cal){$(cal).data('colorpicker').newColor.css('backgroundColor','#'+HSBToHex(hsb));},keyDown=function(ev){var pressedKey=ev.charCode||ev.keyCode||-1;if((pressedKey>charMin&&pressedKey<=90)||pressedKey==32){return false;}\nvar cal=$(this).parent().parent();if(cal.data('colorpicker').livePreview===true){change.apply(this);}},change=function(ev){var cal=$(this).parent().parent(),col;if(this.parentNode.className.indexOf('_hex')>0){cal.data('colorpicker').color=col=HexToHSB(fixHex(this.value));}else if(this.parentNode.className.indexOf('_hsb')>0){cal.data('colorpicker').color=col=fixHSB({h:parseInt(cal.data('colorpicker').fields.eq(4).val(),10),s:parseInt(cal.data('colorpicker').fields.eq(5).val(),10),b:parseInt(cal.data('colorpicker').fields.eq(6).val(),10)});}else{cal.data('colorpicker').color=col=RGBToHSB(fixRGB({r:parseInt(cal.data('colorpicker').fields.eq(1).val(),10),g:parseInt(cal.data('colorpicker').fields.eq(2).val(),10),b:parseInt(cal.data('colorpicker').fields.eq(3).val(),10)}));}\nif(ev){fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0));}\nsetSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0));cal.data('colorpicker').onChange.apply(cal,[col,HSBToHex(col),HSBToRGB(col)]);},blur=function(ev){var cal=$(this).parent().parent();cal.data('colorpicker').fields.parent().removeClass('colorpicker_focus');},focus=function(){charMin=this.parentNode.className.indexOf('_hex')>0?70:65;$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');$(this).parent().addClass('colorpicker_focus');},downIncrement=function(ev){var field=$(this).parent().find('input').focus();var current={el:$(this).parent().addClass('colorpicker_slider'),max:this.parentNode.className.indexOf('_hsb_h')>0?360:(this.parentNode.className.indexOf('_hsb')>0?100:255),y:ev.pageY,field:field,val:parseInt(field.val(),10),preview:$(this).parent().parent().data('colorpicker').livePreview};$(document).bind('mouseup',current,upIncrement);$(document).bind('mousemove',current,moveIncrement);},moveIncrement=function(ev){ev.data.field.val(Math.max(0,Math.min(ev.data.max,parseInt(ev.data.val+ev.pageY-ev.data.y,10))));if(ev.data.preview){change.apply(ev.data.field.get(0),[true]);}\nreturn false;},upIncrement=function(ev){change.apply(ev.data.field.get(0),[true]);ev.data.el.removeClass('colorpicker_slider').find('input').focus();$(document).unbind('mouseup',upIncrement);$(document).unbind('mousemove',moveIncrement);return false;},downHue=function(ev){var current={cal:$(this).parent(),y:$(this).offset().top};current.preview=current.cal.data('colorpicker').livePreview;$(document).bind('mouseup',current,upHue);$(document).bind('mousemove',current,moveHue);},moveHue=function(ev){change.apply(ev.data.cal.data('colorpicker').fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(ev.pageY-ev.data.y))))/150,10)).get(0),[ev.data.preview]);return false;},upHue=function(ev){fillRGBFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));$(document).unbind('mouseup',upHue);$(document).unbind('mousemove',moveHue);return false;},downSelector=function(ev){var current={cal:$(this).parent(),pos:$(this).offset()};current.preview=current.cal.data('colorpicker').livePreview;$(document).bind('mouseup',current,upSelector);$(document).bind('mousemove',current,moveSelector);},moveSelector=function(ev){change.apply(ev.data.cal.data('colorpicker').fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(ev.pageY-ev.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX-ev.data.pos.left))))/150,10)).get(0),[ev.data.preview]);return false;},upSelector=function(ev){fillRGBFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));$(document).unbind('mouseup',upSelector);$(document).unbind('mousemove',moveSelector);return false;},enterSubmit=function(ev){$(this).addClass('colorpicker_focus');},leaveSubmit=function(ev){$(this).removeClass('colorpicker_focus');},clickSubmit=function(ev){var cal=$(this).parent();var col=cal.data('colorpicker').color;cal.data('colorpicker').origColor=col;setCurrentColor(col,cal.get(0));cal.data('colorpicker').onSubmit(col,HSBToHex(col),HSBToRGB(col),cal.data('colorpicker').el);},show=function(ev){var cal=$('#'+$(this).data('colorpickerId'));cal.data('colorpicker').onBeforeShow.apply(this,[cal.get(0)]);var pos=$(this).offset();var viewPort=getViewport();var top=pos.top+this.offsetHeight;var left=pos.left;if(top+176>viewPort.t+viewPort.h){top-=this.offsetHeight+176;}\nif(left+356>viewPort.l+viewPort.w){left-=356;}\ncal.css({left:left+'px',top:top+'px'});if(cal.data('colorpicker').onShow.apply(this,[cal.get(0)])!=false){cal.show();}\n$(document).bind('mousedown',{cal:cal},hide);return false;},hide=function(ev){if(!isChildOf(ev.data.cal.get(0),ev.target,ev.data.cal.get(0))){if(ev.data.cal.data('colorpicker').onHide.apply(this,[ev.data.cal.get(0)])!=false){ev.data.cal.hide();}\n$(document).unbind('mousedown',hide);}},isChildOf=function(parentEl,el,container){if(parentEl==el){return true;}\nif(parentEl.contains){return parentEl.contains(el);}\nif(parentEl.compareDocumentPosition){return!!(parentEl.compareDocumentPosition(el)&16);}\nvar prEl=el.parentNode;while(prEl&&prEl!=container){if(prEl==parentEl)\nreturn true;prEl=prEl.parentNode;}\nreturn false;},getViewport=function(){var m=document.compatMode=='CSS1Compat';return{l:window.pageXOffset||(m?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(m?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(m?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(m?document.documentElement.clientHeight:document.body.clientHeight)};},fixHSB=function(hsb){return{h:Math.min(360,Math.max(0,hsb.h)),s:Math.min(100,Math.max(0,hsb.s)),b:Math.min(100,Math.max(0,hsb.b))};},fixRGB=function(rgb){return{r:Math.min(255,Math.max(0,rgb.r)),g:Math.min(255,Math.max(0,rgb.g)),b:Math.min(255,Math.max(0,rgb.b))};},fixHex=function(hex){var len=6-hex.length;if(len>0){var o=[];for(var i=0;i<len;i++){o.push('0');}\no.push(hex);hex=o.join('');}\nreturn hex;},HexToRGB=function(hex){var hex=parseInt(((hex.indexOf('#')>-1)?hex.substring(1):hex),16);return{r:hex>>16,g:(hex&0x00FF00)>>8,b:(hex&0x0000FF)};},HexToHSB=function(hex){return RGBToHSB(HexToRGB(hex));},RGBToHSB=function(rgb){var hsb={h:0,s:0,b:0};var min=Math.min(rgb.r,rgb.g,rgb.b);var max=Math.max(rgb.r,rgb.g,rgb.b);var delta=max-min;hsb.b=max;if(max!=0){}\nhsb.s=max!=0?255*delta / max:0;if(hsb.s!=0){if(rgb.r==max){hsb.h=(rgb.g-rgb.b)/ delta;}else if(rgb.g==max){hsb.h=2+(rgb.b-rgb.r)/ delta;}else{hsb.h=4+(rgb.r-rgb.g)/ delta;}}else{hsb.h=-1;}\nhsb.h*=60;if(hsb.h<0){hsb.h+=360;}\nhsb.s*=100/255;hsb.b*=100/255;return hsb;},HSBToRGB=function(hsb){var rgb={};var h=Math.round(hsb.h);var s=Math.round(hsb.s*255/100);var v=Math.round(hsb.b*255/100);if(s==0){rgb.r=rgb.g=rgb.b=v;}else{var t1=v;var t2=(255-s)*v/255;var t3=(t1-t2)*(h%60)/60;if(h==360)h=0;if(h<60){rgb.r=t1;rgb.b=t2;rgb.g=t2+t3}\nelse if(h<120){rgb.g=t1;rgb.b=t2;rgb.r=t1-t3}\nelse if(h<180){rgb.g=t1;rgb.r=t2;rgb.b=t2+t3}\nelse if(h<240){rgb.b=t1;rgb.r=t2;rgb.g=t1-t3}\nelse if(h<300){rgb.b=t1;rgb.g=t2;rgb.r=t2+t3}\nelse if(h<360){rgb.r=t1;rgb.g=t2;rgb.b=t1-t3}\nelse{rgb.r=0;rgb.g=0;rgb.b=0}}\nreturn{r:Math.round(rgb.r),g:Math.round(rgb.g),b:Math.round(rgb.b)};},RGBToHex=function(rgb){var hex=[rgb.r.toString(16),rgb.g.toString(16),rgb.b.toString(16)];$.each(hex,function(nr,val){if(val.length==1){hex[nr]='0'+val;}});return hex.join('');},HSBToHex=function(hsb){return RGBToHex(HSBToRGB(hsb));},restoreOriginal=function(){var cal=$(this).parent();var col=cal.data('colorpicker').origColor;cal.data('colorpicker').color=col;fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0));setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0));};return{init:function(opt){opt=$.extend({},defaults,opt||{});if(typeof opt.color=='string'){opt.color=HexToHSB(opt.color);}else if(opt.color.r!=undefined&&opt.color.g!=undefined&&opt.color.b!=undefined){opt.color=RGBToHSB(opt.color);}else if(opt.color.h!=undefined&&opt.color.s!=undefined&&opt.color.b!=undefined){opt.color=fixHSB(opt.color);}else{return this;}\nreturn this.each(function(){if(!$(this).data('colorpickerId')){var options=$.extend({},opt);options.origColor=opt.color;var id='collorpicker_'+parseInt(Math.random()*1000);$(this).data('colorpickerId',id);var cal=$(tpl).attr('id',id);if(options.flat){cal.appendTo(this).show();}else{cal.appendTo(document.body);}\noptions.fields=cal.find('input').bind('keyup',keyDown).bind('change',change).bind('blur',blur).bind('focus',focus);cal.find('span').bind('mousedown',downIncrement).end().find('>div.colorpicker_current_color').bind('click',restoreOriginal);options.selector=cal.find('div.colorpicker_color').bind('mousedown',downSelector);options.selectorIndic=options.selector.find('div div');options.el=this;options.hue=cal.find('div.colorpicker_hue div');cal.find('div.colorpicker_hue').bind('mousedown',downHue);options.newColor=cal.find('div.colorpicker_new_color');options.currentColor=cal.find('div.colorpicker_current_color');cal.data('colorpicker',options);cal.find('div.colorpicker_submit').bind('mouseenter',enterSubmit).bind('mouseleave',leaveSubmit).bind('click',clickSubmit);fillRGBFields(options.color,cal.get(0));fillHSBFields(options.color,cal.get(0));fillHexFields(options.color,cal.get(0));setHue(options.color,cal.get(0));setSelector(options.color,cal.get(0));setCurrentColor(options.color,cal.get(0));setNewColor(options.color,cal.get(0));if(options.flat){cal.css({position:'relative',display:'block'});}else{$(this).bind(options.eventName,show);}}});},showPicker:function(){return this.each(function(){if($(this).data('colorpickerId')){show.apply(this);}});},hidePicker:function(){return this.each(function(){if($(this).data('colorpickerId')){$('#'+$(this).data('colorpickerId')).hide();}});},setColor:function(col){if(typeof col=='string'){col=HexToHSB(col);}else if(col.r!=undefined&&col.g!=undefined&&col.b!=undefined){col=RGBToHSB(col);}else if(col.h!=undefined&&col.s!=undefined&&col.b!=undefined){col=fixHSB(col);}else{return this;}\nreturn this.each(function(){if($(this).data('colorpickerId')){var cal=$('#'+$(this).data('colorpickerId'));cal.data('colorpicker').color=col;cal.data('colorpicker').origColor=col;fillRGBFields(col,cal.get(0));fillHSBFields(col,cal.get(0));fillHexFields(col,cal.get(0));setHue(col,cal.get(0));setSelector(col,cal.get(0));setCurrentColor(col,cal.get(0));setNewColor(col,cal.get(0));}});}};}();$.fn.extend({ColorPicker:ColorPicker.init,ColorPickerHide:ColorPicker.hidePicker,ColorPickerShow:ColorPicker.showPicker,ColorPickerSetColor:ColorPicker.setColor});});","Magento_Paypal/js/rule.min.js":"define(['uiClass','Magento_Paypal/js/rules'],function(Class,Rules){'use strict';return Class.extend({initialize:function(config){this.rules=new Rules();this.initConfig(config);return this;},apply:function(){this.rules[this.name](this.$target,this.$owner,this.data);}});});","Magento_Paypal/js/rules.min.js":"define(['uiClass','Magento_Ui/js/modal/alert'],function(Class,alert){'use strict';var isSolutionEnabled=function(solution,enabler){return solution.find(enabler).val()==='1';},hasRelationsEnabled=function(data){var name;for(name in data.argument){if(data.solutionsElements[name]&&isSolutionEnabled(data.solutionsElements[name],data.enableButton)){return true;}}\nreturn false;},setSolutionSelectEnabled=function(solution,enabler,enabled){enabled=!(enabled||typeof enabled==='undefined')?'0':'1';solution.find(enabler+' option[value='+enabled+']').prop('selected',true);},setSolutionPropEnabled=function(solution,enabler,enabled){enabled=!(enabled||typeof enabled==='undefined');solution.find(enabler).prop('disabled',enabled);},setSolutionMarkEnabled=function(solution,enabler,enabled){var solutionEnabler=solution.find('label[for=\"'+solution.find(enabler).attr('id')+'\"]');enabled||typeof enabled==='undefined'?solutionEnabler.addClass('enabled'):solutionEnabler.removeClass('enabled');},setSolutionSectionMarkEnabled=function(solution,enabled){var solutionSection=solution.find('.section-config');enabled||typeof enabled==='undefined'?solutionSection.addClass('enabled'):solutionSection.removeClass('enabled');},setSolutionLabelsMarkEnabled=function(solution,enabled){var solutionLabels=solution.find('label.enabled');enabled||typeof enabled==='undefined'?solutionLabels.addClass('enabled'):solutionLabels.removeClass('enabled');},setSolutionUsedefaultEnabled=function(solution,enabler,checked){checked=!(checked||typeof checked==='undefined');solution.find('input[id=\"'+solution.find(enabler).attr('id')+'_inherit\"]').prop('checked',checked);},disableSolution=function(solution,enabler){setSolutionUsedefaultEnabled(solution,enabler);setSolutionMarkEnabled(solution,enabler,false);setSolutionSelectEnabled(solution,enabler,false);setSolutionPropEnabled(solution,enabler,false);},enableSolution=function(solution,enabler){setSolutionUsedefaultEnabled(solution,enabler);setSolutionPropEnabled(solution,enabler);setSolutionSelectEnabled(solution,enabler);setSolutionMarkEnabled(solution,enabler);},setSolutionConfigurationUnlock=function(solution,buttonConfiguration,unlock){var solutionConfiguration=solution.find(buttonConfiguration);unlock||typeof unlock==='undefined'?solutionConfiguration.removeClass('disabled').removeAttr('disabled'):solutionConfiguration.addClass('disabled').attr('disabled','disabled');},forwardSolutionChange=function(solution,enabler){solution.find(enabler).change();},showDependsField=function(solution,identifier,show){show=show||typeof show==='undefined';solution.find(identifier).toggle(show);solution.find(identifier).closest('tr').toggle(show);solution.find(identifier).attr('disabled',!show);};return Class.extend({defaults:{executed:false},simpleDisable:function($target,$owner,data){setSolutionSelectEnabled($target,data.enableButton,false);setSolutionLabelsMarkEnabled($target,false);setSolutionSectionMarkEnabled($target,false);},simpleMarkEnable:function($target){setSolutionSectionMarkEnabled($target);},disable:function($target,$owner,data){this.simpleDisable($target,$owner,data);forwardSolutionChange($target,data.enableButton);},paypalExpressDisable:function($target,$owner,data){setSolutionSelectEnabled($target,data.enableButton,false);setSolutionLabelsMarkEnabled($target,false);forwardSolutionChange($target,data.enableButton);},paypalExpressLockConfiguration:function($target,$owner,data){setSolutionConfigurationUnlock($target,data.buttonConfiguration,false);},paypalExpressLockConfigurationConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableInContextPayPal)&&hasRelationsEnabled(data)){this.paypalExpressLockConfiguration($target,$owner,data);}},paypalExpressMarkDisable:function($target,$owner,data){if(!hasRelationsEnabled(data)){this.simpleDisable($target,$owner,data);}},paypalExpressUnlockConfiguration:function($target,$owner,data){if(!hasRelationsEnabled(data)){setSolutionConfigurationUnlock($target,data.buttonConfiguration);}},paypalBmlDisable:function($target,$owner,data){disableSolution($target,data.enableBmlPayPal);},paypalBmlDisableConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)){this.paypalBmlDisable($target,$owner,data);}},paypalBmlEnable:function($target,$owner,data){enableSolution($target,data.enableBmlPayPal);},payflowExpressDisable:function($target,$owner,data){disableSolution($target,data.enableExpress);},payflowExpressDisableConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)||hasRelationsEnabled(data)){this.payflowExpressDisable($target,$owner,data);forwardSolutionChange($target,data.enableExpress);}},payflowExpressEnable:function($target,$owner,data){enableSolution($target,data.enableExpress);forwardSolutionChange($target,data.enableExpress);},payflowExpressEnableConditional:function($target,$owner,data){if(hasRelationsEnabled(data)){setSolutionPropEnabled($target,data.enableExpress,false);setSolutionSelectEnabled($target,data.enableExpress);setSolutionMarkEnabled($target,data.enableExpress);}else{disableSolution($target,data.enableExpress);}},payflowExpressLockConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)){setSolutionPropEnabled($target,data.enableExpress,false);}},payflowExpressUsedefaultDisable:function($target,$owner,data){setSolutionUsedefaultEnabled($target,data.enableExpress,false);this.payflowExpressEnable($target,$owner,data);forwardSolutionChange($target,data.enableExpress);},payflowExpressUsedefaultEnable:function($target,$owner,data){setSolutionUsedefaultEnabled($target,data.enableExpress);this.payflowExpressDisable($target,$owner,data);forwardSolutionChange($target,data.enableExpress);},payflowBmlDisable:function($target,$owner,data){disableSolution($target,data.enableBml);},payflowBmlDisableConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)||hasRelationsEnabled(data)){this.payflowBmlDisable($target,$owner,data);}},payflowBmlDisableConditionalExpress:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableExpress)){this.payflowBmlDisable($target,$owner,data);}},payflowBmlEnable:function($target,$owner,data){enableSolution($target,data.enableBml);},payflowBmlEnableConditional:function($target,$owner,data){if(hasRelationsEnabled(data)){setSolutionPropEnabled($target,data.enableBml,false);setSolutionSelectEnabled($target,data.enableBml);setSolutionMarkEnabled($target,data.enableBml);}else{disableSolution($target,data.enableBml);}},payflowBmlLockConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)){setSolutionPropEnabled($target,data.enableBml,false);}},inContextEnable:function($target,$owner,data){enableSolution($target,data.enableInContextPayPal);},inContextDisable:function($target,$owner,data){disableSolution($target,data.enableInContextPayPal);},inContextShowMerchantId:function($target,$owner,data){showDependsField($target,data.dependsMerchantId);},inContextHideMerchantId:function($target,$owner,data){showDependsField($target,data.dependsMerchantId,false);},payflowShowSortOrder:function($target,$owner,data){showDependsField($target,data.dependsBmlSortOrder);},payflowHideSortOrder:function($target,$owner,data){showDependsField($target,data.dependsBmlSortOrder,false);},paypalShowSortOrder:function($target,$owner,data){showDependsField($target,data.dependsBmlApiSortOrder);},paypalHideSortOrder:function($target,$owner,data){showDependsField($target,data.dependsBmlApiSortOrder,false);},inContextActivate:function($target,$owner,data){setSolutionMarkEnabled($target,data.enableInContextPayPal);},inContextDeactivate:function($target,$owner,data){setSolutionMarkEnabled($target,data.enableInContextPayPal,false);},inContextDisableConditional:function($target,$owner,data){if(!isSolutionEnabled($target,data.enableButton)){this.inContextDisable($target,$owner,data);}},conflict:function($target,$owner,data){var newLine=String.fromCharCode(10,13);if(isSolutionEnabled($owner,data.enableButton)&&hasRelationsEnabled(data)&&!this.executed){this.executed=true;alert({content:'The following error(s) occurred:'+\nnewLine+'Some PayPal solutions conflict.'+\nnewLine+'Please re-enable the previously enabled payment solutions.'});}},removeCreditOption:function($target,$owner,data){if($target.find(data.dependsButtonLabel+' option[value=\"credit\"]').length>0){$target.find(data.dependsButtonLabel+' option[value=\"credit\"]').remove();}},addCreditOption:function($target,$owner,data){if($target.find(data.dependsButtonLabel+' option[value=\"credit\"]').length===0){$target.find(data.dependsButtonLabel).append('<option value=\"credit\">Credit</option>');}},removeCreditOptionConditional:function($target,$owner,data){if($target.find(data.dependsDisableFundingOptions+' option[value=\"CREDIT\"]').length===0||$target.find(data.dependsDisableFundingOptions+' option[value=\"CREDIT\"]:selected').length>0){this.removeCreditOption($target,$owner,data);}}});});","Magento_Paypal/js/solutions.min.js":"define(['jquery','uiClass','Magento_Paypal/js/solution','underscore'],function($,Class,Solution,_){'use strict';return Class.extend({defaults:{solutions:{},solutionsElements:{},buttonConfiguration:'.button.action-configure'},initialize:function(config){this.initConfig(config).initSolutions();return this;},initSolutions:function(){_.each(this.config.solutions,this.addSolution,this);this.initializeSolutions().wipeButtonsConfiguration();_.each(this.solutions,this.applicationRules);return this;},addSolution:function(solution,identifier){this.solutions[identifier]=new Solution({config:solution,buttonConfiguration:this.buttonConfiguration},identifier);this.solutionsElements[identifier]=this.solutions[identifier].$self;},wipeButtonsConfiguration:function(){$(this.buttonConfiguration).removeClass('disabled').removeAttr('disabled');},applicationRules:function(solution){_.each(solution.afterLoadRules,function(rule){rule.apply();});},initializeSolutions:function(){_.each(this.solutions,function(solution){solution.setSolutionsElements(this.solutionsElements).initEvents().addListeners();},this);return this;}});});","Magento_Paypal/js/solution.min.js":"define(['jquery','uiClass','Magento_Paypal/js/rule','mageUtils','underscore'],function($,Class,Rule,utils,_){'use strict';return Class.extend({defaults:{systemEvent:'change',afterLoadRules:[],enableButton:'[data-enable=\"payment\"]',enableExpress:'[data-enable=\"express\"]',enableInContextPayPal:'[data-enable=\"in-context-api\"]',enableBml:'[data-enable=\"bml\"]',enableBmlPayPal:'[data-enable=\"bml-api\"]',dependsMerchantId:'[data-enable=\"merchant-id\"]',dependsBmlSortOrder:'[data-enable=\"bml-sort-order\"]',dependsBmlApiSortOrder:'[data-enable=\"bml-api-sort-order\"]',dependsButtonLabel:'[data-enable=\"button-label\"]',dependsDisableFundingOptions:'[data-enable=\"disable-funding-options\"]',templates:{elementSelector:'div.section-config tr[id$=\"${ $.identifier }\"]:first'}},initialize:function(config,identifier){this.initConfig(config);this.$self=this.createElement(identifier);return this;},initEvents:function(){_.each(this.config.events,function(elementEvents,selector){var solution=this,selectorButton=solution.$self.find(selector),$self=solution.$self,events=elementEvents;selectorButton.on(solution.systemEvent,function(){_.each(events,function(elementEvent,name){var predicate=elementEvent.predicate,result=true,predicateCallback=function(functionPredicate){result=functionPredicate(solution,predicate.message,predicate.argument);if(result){$self.trigger(name);}else{$self.trigger(predicate.event);}};if(solution.getValue($(this))===elementEvent.value||$(this).prop('multiple')&&solution.checkMultiselectValue($(this),elementEvent)){if(predicate.name){require(['Magento_Paypal/js/predicate/'+predicate.name],predicateCallback);}else{$self.trigger(name);}}},this);});},this);return this;},getValue:function($element){if($element.is(':checkbox')){return $element.prop('checked')?'1':'0';}\nreturn $element.val();},checkMultiselectValue:function($element,elementEvent){var isValueSelected=$.inArray(elementEvent.value,$element.val())>=0;if(elementEvent.include){isValueSelected=(isValueSelected?'true':'false')===elementEvent.include;}\nreturn isValueSelected;},addListeners:function(){_.each(this.config.relations,function(rules,targetName){var $target=this.createElement(targetName);_.each(rules,function(instances,instanceName){_.each(instances,function(instance){var handler=new Rule({name:instanceName,$target:$target,$owner:this.$self,data:{buttonConfiguration:this.buttonConfiguration,enableButton:this.enableButton,enableExpress:this.enableExpress,enableInContextPayPal:this.enableInContextPayPal,enableBml:this.enableBml,enableBmlPayPal:this.enableBmlPayPal,dependsMerchantId:this.dependsMerchantId,dependsBmlSortOrder:this.dependsBmlSortOrder,dependsBmlApiSortOrder:this.dependsBmlApiSortOrder,dependsButtonLabel:this.dependsButtonLabel,dependsDisableFundingOptions:this.dependsDisableFundingOptions,solutionsElements:this.solutionsElements,argument:instance.argument}});if(instance.event===':load'){this.afterLoadRules.push(handler);return;}\nthis.$self.on(instance.event,_.bind(handler.apply,handler));},this);},this);},this);return this;},createElement:function(identifier){if(identifier===':self'){return this.$self;}\nreturn $(utils.template(this.templates.elementSelector,{'identifier':identifier}));},setSolutionsElements:function(elements){this.solutionsElements=elements;return this;}});});","Magento_Paypal/js/predicate/confirm.min.js":"define(['underscore'],function(_){'use strict';return function(solution,message,argument){var isConfirm=false;_.every(argument,function(name){if(solution.solutionsElements[name]&&solution.solutionsElements[name].find(solution.enableButton).val()==1){isConfirm=true;return!isConfirm;}\nreturn!isConfirm;},this);if(isConfirm){return confirm(message);}\nreturn true;};});","Magento_Paypal/js/payflowpro/vault.min.js":"define(['jquery','uiComponent'],function($,Class){'use strict';return Class.extend({defaults:{$selector:null,selector:'edit_form'},initObservable:function(){var self=this;self.$selector=$('#'+self.selector);this._super();this.initEventHandlers();return this;},getCode:function(){return'payflowpro';},initEventHandlers:function(){$('#'+this.container).find('[name=\"payment[token_switcher]\"]').on('click',this.setPaymentDetails.bind(this));},setPaymentDetails:function(){this.$selector.find('[name=\"payment[public_hash]\"]').val(this.publicHash);}});});","Magento_Security/js/confirm-redirect.min.js":"define(['jquery'],function($){'use strict';return function(config,element){$(element).click(config,function(){confirmSetLocation(config.message,config.url);});};});","Magento_Security/js/escaper.min.js":"define([],function(){'use strict';return{neverAllowedElements:['script','img','embed','iframe','video','source','object','audio'],generallyAllowedAttributes:['id','class','href','title','style'],forbiddenAttributesByElement:{a:['style']},escapeHtml:function(data,allowedTags){var domParser=new DOMParser(),fragment=domParser.parseFromString('<div></div>','text/html');fragment=fragment.body.childNodes[0];allowedTags=typeof allowedTags==='object'&&allowedTags.length?allowedTags:null;if(allowedTags){fragment.innerHTML=data||'';allowedTags=this._filterProhibitedTags(allowedTags);this._removeComments(fragment);this._removeNotAllowedElements(fragment,allowedTags);this._removeNotAllowedAttributes(fragment);return fragment.innerHTML;}\nfragment.textContent=data||'';return fragment.innerHTML;},_filterProhibitedTags:function(tags){return tags.filter(function(n){return this.neverAllowedElements.indexOf(n)===-1;}.bind(this));},_removeComments:function(node){var treeWalker=node.ownerDocument.createTreeWalker(node,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT;},false),nodesToRemove=[];while(treeWalker.nextNode()){nodesToRemove.push(treeWalker.currentNode);}\nnodesToRemove.forEach(function(nodeToRemove){nodeToRemove.parentNode.removeChild(nodeToRemove);});},_removeNotAllowedElements:function(node,allowedTags){var treeWalker=node.ownerDocument.createTreeWalker(node,NodeFilter.SHOW_ELEMENT,function(currentNode){return allowedTags.indexOf(currentNode.nodeName.toLowerCase())===-1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;},false),nodesToRemove=[];while(treeWalker.nextNode()){if(allowedTags.indexOf(treeWalker.currentNode.nodeName.toLowerCase())===-1){nodesToRemove.push(treeWalker.currentNode);}}\nnodesToRemove.forEach(function(nodeToRemove){nodeToRemove.parentNode.replaceChild(node.ownerDocument.createTextNode(nodeToRemove.textContent),nodeToRemove);});},_removeNotAllowedAttributes:function(node){var treeWalker=node.ownerDocument.createTreeWalker(node,NodeFilter.SHOW_ELEMENT,function(){return NodeFilter.FILTER_ACCEPT;},false),i,attribute,nodeName,attributesToRemove=[];while(treeWalker.nextNode()){for(i=0;i<treeWalker.currentNode.attributes.length;i++){attribute=treeWalker.currentNode.attributes[i];nodeName=treeWalker.currentNode.nodeName.toLowerCase();if(this.generallyAllowedAttributes.indexOf(attribute.name)===-1||this._checkHrefValue(attribute)||this.forbiddenAttributesByElement[nodeName]&&this.forbiddenAttributesByElement[nodeName].indexOf(attribute.name)!==-1){attributesToRemove.push(attribute);}}}\nattributesToRemove.forEach(function(attributeToRemove){attributeToRemove.ownerElement.removeAttribute(attributeToRemove.name);});},_checkHrefValue:function(attribute){return attribute.nodeName==='href'&&attribute.nodeValue.startsWith('javascript');}};});","Magento_Security/js/system/config/session-size.min.js":"define(['jquery','mage/translate','Magento_Ui/js/modal/confirm','domReady!'],function($,$t,confirm){'use strict';return function(config,inputEl){var $inputEl=$(inputEl);$inputEl.on('blur',function(){var inputVal=parseInt($inputEl.val(),10);if(256000>inputVal){confirm({title:$t(config.modalTitleText),content:$t(config.modalContentBody),buttons:[{text:$t('No'),class:'action-secondary action-dismiss',click:function(event){this.closeModal(event);}},{text:$t('Yes'),class:'action-primary action-accept',click:function(event){this.closeModal(event,true);}}],actions:{cancel:function(){$inputEl.val(256000);}}});}});};});","Amasty_ImportCore/js/condition-select.min.js":"define([\"Magento_Ui/js/form/element/select\",\"mageUtils\"],function(Select,utils){return Select.extend({defaults:{imports:{'fieldValue':'${ $.parentName}.field:value'},listens:{fieldValue:'updateConditions'},modules:{recordComponent:'${ $.parentName }'}},initObservable:function(){this._super().observe(['fieldValue']);return this;},getInitialValue:function(){var values=[this.value(),this.default],value;values.some(function(v){if(v!==null&&v!==undefined){value=v;return true;}\nreturn false;});return utils.isEmpty(value)?'':value;},updateConditions:function(){var fieldData=this.recordComponent().parentComponent().filterConfig[this.fieldValue()]||{};if(!_.isUndefined(fieldData.conditions)){this.options(fieldData.conditions);}else{this.options([]);}}});})","Amasty_ImportCore/js/file-uploader.min.js":"define(['Magento_Ui/js/form/element/file-uploader',],function(FileUploader){return FileUploader.extend({initialize:function(){this._super();this.inputName='file';this.maxFileSize=2000000;return this;},onFilesChoosed:function(e,data){if(this.allowedExtensions===undefined||this.allowedExtensions===false){this.allowedExtensions=' ';}\nthis._super(e,data);}});});","Amasty_ImportCore/js/type-selector.min.js":"define(['Magento_Ui/js/form/element/select','underscore'],function(Select,_){'use strict';return Select.extend({defaults:{prefix:null,listens:{value:'checkElements','${ $.parentName }:elems':'checkElements'},modules:{fieldsetsContainer:'${ $.parentName }'}},checkElements:function(){_.each(this.fieldsetsContainer().elems(),function(elem){if(elem.componentType==='fieldset'){var elementIsVisible=(this.prefix+this.value())===elem.index;elem.visible(elementIsVisible);this.disableElements(elem,!elementIsVisible);}}.bind(this));},disableElements:function(element,disable){if(_.isFunction(element.disabled)){element.disabled(disable);}else{element.disabled=disable;}\nif(!_.isUndefined(element.elems)&&_.isFunction(element.elems)){_.each(element.elems(),function(elem){this.disableElements(elem,disable);}.bind(this));}}});});","Amasty_ImportCore/js/condition-value.min.js":"define(['uiCollection','underscore','uiLayout','mageUtils'],function(Collection,_,layout,utils){return Collection.extend({defaults:{visible:true,disabled:false,imports:{'fieldValue':'${ $.parentName}.field:value'},listens:{fieldValue:'processField'},modules:{recordComponent:'${ $.parentName }'}},initObservable:function(){this._super().observe(['visible','fieldValue','disabled']);return this;},processField:function(){if(!_.isUndefined(this.elems()[0])){var dataScope=this.elems()[0].dataScope;this.elems()[0].destroy();this.source.set(dataScope,null);}\nvar fieldData=this.recordComponent().parentComponent().filterConfig[this.fieldValue()]||{};var componentData=fieldData.config,name=this.name+'.value';this.elems([]);componentData=utils.extend(componentData,{'parentName':this.name,'provider':this.provider,'dataScope':this.dataScope+'.value','parentScope':this.dataScope,'source':this.source,'disabled':this.disabled,'name':name});layout([componentData]);this.insertChild(name);}});});","Amasty_ImportCore/js/controls.min.js":"define(['Magento_Ui/js/form/element/abstract','jquery','underscore'],function(Abstract,$,_){'use strict';return Abstract.extend({defaults:{messages:[],status:'',proceed:0,total:0,isImport:false,listens:{'${ $.parentName }:responseData':'statusCheck'},modules:{formComponent:'${ $.parentName }',}},initObservable:function(){this._super().observe(['messages','isImport','status','total','proceed']);return this;},resetData:function(){this.status(null);this.proceed(0);this.total(0);this.messages([]);},checkData:function(){this.resetData();this.visible(false);this.source.data.processIdentity=this.uuidv4();this.formComponent().save();if(!this.source.get('params.invalid')){$('.amimport-check-data').prop('disabled',true);this.changeFormElementsState(true,this.formComponent().elems());}},cancel:function(){$.get(this.cancelUrl,{'processIdentity':this.source.data.processIdentity},function(){$('.amimport-check-data').prop('disabled',false);this.changeFormElementsState(false,this.formComponent().elems());}.bind(this));},cancelClick:function(){this.visible(false);this.cancel();},processImport:function(){_.each(this.formComponent().elems(),function(elem){if(elem.name!==this.name){elem.visible(false);}}.bind(this));this.isImport(true);this.resetData();$.get(this.importUrl,{'processIdentity':this.source.data.processIdentity},function(data){this.statusCheck(data);}.bind(this));},statusCheck:function(data){this.visible(true);if(!_.isUndefined(data)&&!_.isUndefined(data.type)&&!_.isUndefined(data.message)&&data.type==='error'){this.isImport(false);this.messages([{type:50,message:data.message}]);this.cancel();return;}\nthis.getStatus().done(function(data){this.status(data.status);this.total(data.total);this.proceed(data.proceed);if(data.messages!==undefined){this.messages(data.messages)}else{this.messages([]);}\nif(data.status==='running'||data.status==='starting'){setTimeout(this.statusCheck.bind(this),1000);}else{if(this.status()==='failed'){this.cancel();}}}.bind(this));},getStatus:function(){var result=$.Deferred();$.get(this.statusUrl,{'processIdentity':this.source.data.processIdentity},function(data){result.resolve(data);});return result;},changeFormElementsState:function(disable,elems){_.each(elems,function(elem){if(_.isFunction(elem.visible)&&elem.visible()&&_.isFunction(elem.disabled)){elem.disabled(disable);}\nif(_.isFunction(elem.elems)){if(!_.isFunction(elem.disabled)&&elem.disabled===false){this.changeFormElementsState(disable,elem.elems());}}}.bind(this));},uuidv4:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==='x'?r:(r&0x3|0x8);return v.toString(16);});}});});","Amasty_ImportCore/js/provider.min.js":"define(['jquery','Magento_Ui/js/form/provider'],function($,Provider){'use strict';return Provider.extend({defaults:{pageMessageSelector:'#messages'},save:function(options){var data=this.get('data');$(this.pageMessageSelector).html('');this.client.save({encodedData:JSON.stringify(data)},options);return this;}});});","Amasty_ImportCore/js/entity-select.min.js":"define(['Magento_Ui/js/form/element/ui-select'],function(Select){'use strict';return Select.extend({defaults:{switchEntityUrl:'',entityUrl:'',indexUrl:''},onUpdate:function(){this._super();if(this.value()!==''&&this.value()!==undefined){location.href=this.entityUrl.replace('__entity_code__',this.value());}else{location.href=this.indexUrl;}},toggleOptionSelected:function(data){if(data.hasOwnProperty(this.separator)){this.openChildLevel(data);return;}\nreturn this._super();}});});","Amasty_ImportCore/js/storage/typical-fields.min.js":"define(['jquery','underscore','mageUtils'],function($,_,utils){'use strict';return{cachedData:{},currentData:null,params:{},options:{},update:function(params,options){this.addParams(params);if(options){this.options=options;}\nif(!_.has(this.params,'entity_code')||!Object.keys(this.options).length){return;}\nvar deferred=$.Deferred(),currentKey=this.getCurrentKey();this.set(deferred);if(this.cachedData[currentKey]){return deferred.resolve(this.cachedData[currentKey]);}\nthis.get(deferred,this.params.fieldsUrl);},addParams:function(params){_.each(params,function(value,key){this.params[key]=value;},this);},get:function(deferred){var formData=new FormData();formData.append('form_key',$('[name=\"form_key\"]').val());_.each(this.params,function(value,key){formData.append(key,value);});$.ajax({showLoader:true,url:this.options.fieldsUrl,processData:false,contentType:false,data:formData,type:'POST',dataType:'json'}).done(function(response){if(!response.error){deferred.resolve(response);}});},getCurrentKey:function(){var currentKey='';_.each(this.params,function(value){currentKey+=(value||'')+'_';});return currentKey;},set:function(deferred){var currentKey=this.getCurrentKey(),dataProvider=this.options.dataProvider,dataScope=this.options.dataScope;$.when(deferred).done(function(response){if(this.currentData){this.prepareToRemoveEmptyFields(response,this.currentData);}\nthis.cachedData[currentKey]=$.extend(true,{},response);var repairedObject={};this.currentData=this.cachedData[currentKey];this.repairObject(dataScope,repairedObject,response);dataProvider.isBehaviorChanged=true;this.setBehaviorData(dataProvider,dataProvider,repairedObject,dataProvider);}.bind(this));},setBehaviorData:function(context,oldData,newData,current,parentPath){_.each(newData,function(val,key){if(oldData===undefined||_.isArray(val)){context.set(utils.fullPath(parentPath,key),val);}else if(_.isObject(val)){this.setBehaviorData(context,oldData[key],val,current[key],utils.fullPath(parentPath,key));}else if(val!=oldData[key]&&oldData[key]==current[key]){context.set(utils.fullPath(parentPath,key),val);}},this);},repairObject:function(dataScope,repairedObject,data){var scopeArray=dataScope.split('.'),key=scopeArray.shift();repairedObject[key]={};if(scopeArray.length){return this.repairObject(scopeArray.join('.'),repairedObject[key],data);}\nrepairedObject[key]=data;},prepareToRemoveEmptyFields:function(newData,oldData){var key;for(key in oldData){if(_.isObject(newData[key])&&!_.isArray(newData[key])){this.prepareToRemoveEmptyFields(newData[key],oldData[key]);}else if(!newData[key]){newData[key]={};this.createEmptyValue(newData[key]);}}},createEmptyValue:function(data){data.enabled=0;data.fields=[];}};});","Amasty_ImportCore/js/fields/checked-fields.min.js":"define(['uiCollection','jquery','ko','underscore','uiLayout','mageUtils'],function(Collection,$,ko,_,layout,utils){'use strict';return Collection.extend({defaults:{checkedFields:[],selected:[],fieldsContainerSelect:'[data-amimportcore-js=\"fields\"]',fieldsSelect:'[data-amimportcore-js=\"field\"]',positions:[],selectFieldsPath:null,isShowFields:false,elemIndex:0,isShowDeleteBtn:false,listens:{newCheckedField:'addCheckedFields',fieldsToRemove:'removeFields',elems:'toggleBtnDelete'},exports:{checkedFields:'${ $.selectFieldsPath }:checkedFields',newCheckedField:'${ $.selectFieldsPath }:newCheckedField',isShowDeleteBtn:'${ $.deleteBtnPath }:visible'},imports:{fields:'${ $.selectFieldsPath }:fields',selected:'${ $.selectFieldsPath }:selected',newCheckedField:'${ $.selectFieldsPath }:newCheckedField',fieldsToRemove:'${ $.selectFieldsPath }:fieldsToRemove',checkedFields:'${ $.provider }:${ $.dataScope }'},modules:{selectFields:'${ $.selectFieldsPath }',deleteBtn:'${ $.deleteBtnPath }'}},initObservable:function(){this._super().observe(['checkedFields','selected','newCheckedField','fieldsToRemove','isShowFields','isShowDeleteBtn']);return this;},toggleBtnDelete:function(){this.isShowDeleteBtn(!!this.elems().length);},removeFields:function(){if(this.fieldsToRemove().length){this.elems.each(function(elem){if(_.contains(this.fieldsToRemove(),elem.code())){elem.remove();}}.bind(this));this.fieldsToRemove([]);}},removeAllItems:function(){this.elems.each(function(elem){elem.source.remove(elem.dataScope);elem.destroy();});this.isShowFields(false);},renderDefaultFields:function(){if(this.isDefaultRendered){return;}\n_.each(this.checkedFields(),function(item){this.initFields(item);}.bind(this));this.isDefaultRendered=true;},getNameField:function(){return this.name+'.field-'+this.elemIndex;},initFields:function(item){item=this.createField(item,this.elemIndex,this.dataScope,this.getNameField());layout([item]);this.insertChild(item.name);this.elemIndex+=1;},createField:function(data,index,dataScope,name){return utils.extend(data,{'name':name,'component':'Amasty_ImportCore/js/fields/field','provider':this.provider,'dataScope':dataScope+'.'+index});},addCheckedFields:function(){if(this.newCheckedField().length){this.newCheckedField().forEach(function(item){this.initFields(item);}.bind(this));this.isShowFields(true);this.newCheckedField([]);}},getCheckedLength:function(){return Object.keys(this.checkedFields()).length;},checkFieldsState:function(){if(!this.getCheckedLength()){this.isShowFields(false);}}});});","Amasty_ImportCore/js/fields/select-fields.min.js":"define(['uiElement','underscore','ko'],function(Element,_,ko){'use strict';return Element.extend({defaults:{selected:[],fields:[],searchFields:[],allSelectedState:false,isSearchActive:false,checkedFields:[],newCheckedField:[],fieldsToRemove:[],copySelected:[],elemIndex:0,uniqFor:'',listens:{selected:'allSelectedStateCheck',checkedFields:'updateSelected'},modules:{parentComponent:'${ $.parentName }'},searchValue:''},initialize:function(){this._super();this.uniqFor='a'+Math.round(Math.random()*100000);this.prepareData();return this;},initObservable:function(){this._super().observe(['allSelectedState','checkedFields','searchFields','searchValue','isSearchActive','selected','newCheckedField','fieldsToRemove']);return this;},prepareData:function(){_.each(this.checkedFields(),function(field){this.selected.push(field.code);});},isAllSelected:function(){if(this.searchFields().length){return this.isAllSearchSelected(this.searchFields());}\nreturn _.size(this.selected())===_.size(this.fields);},isAllSearchSelected:function(fields){return fields.every(function(field){return _.contains(this.selected(),field.code);}.bind(this));},updateSelected:function(){this.selected(_.pluck(this.checkedFields(),'code'));},checkClick:function(){if(!this.isAllSelected()){var fields=this.searchFields().length?this.searchFields():this.fields;fields.forEach(function(field){this.selected.remove(field.code);this.selected.push(field.code);}.bind(this));this.copySelected=ko.toJS(this.selected).slice();this.allSelectedState(true);return true;}\nif(this.isSearchActive()){this.searchFields().forEach(function(field){this.selected.remove(field.code);}.bind(this));return true;}\nthis.selected.removeAll();return true;},allSelectedStateCheck:function(){this.allSelectedState(this.isAllSelected());},getLabel:function(label,code){return label?label+' ('+code+')':code;},addField:function(parent,field){if(!this.isFieldSelected(field.code)){this.selected.push(field.code);this.newCheckedField([field]);}\nthis.parentComponent().closeModal();},isFieldSelected:function(code){return _.some(this.checkedFields(),function(field){return!!field&&field.code===code;});},addSelectedFields:function(){var currentFieldsCodes=_.pluck(ko.toJS(this.checkedFields),'code'),selectedFieldsCodes=this.selected(),toRemove=_.difference(currentFieldsCodes,selectedFieldsCodes),toAdd=_.difference(selectedFieldsCodes,currentFieldsCodes);if(!_.isEmpty(toRemove)){this.fieldsToRemove(toRemove);}\nif(!_.isEmpty(toAdd)){_.each(this.fields,function(field){if(_.contains(toAdd,field.code)){this.newCheckedField([field]);}}.bind(this));}},changeSearch:function(){if(this.searchValue().length===0){this.clearSearch();}\nif(this.searchValue().length<3){return true;}\nthis.search();},clearSearch:function(){const copySelected=this.selected().slice();this.isSearchActive(false);this.searchValue('');this.searchFields([]);this.selected(copySelected);},searchClick:function(){this.search();},search:function(){const copySelected=this.selected().slice();this.isSearchActive(true);this.searchFields(this.searchFilter(this.searchValue().trim()));this.allSelectedStateCheck();this.selected(copySelected);},searchFilter:function(value){return this.fields.filter(function(field){return field.code.indexOf(value)!==-1;});}});});","Amasty_ImportCore/js/fields/modifier-field.min.js":"define(['uiCollection'],function(Collection){'use strict';return Collection.extend({defaults:{links:{input_value:'${ $.provider }:${ $.dataScope }.input_value',from_input_value:'${ $.provider }:${ $.dataScope }.from_input_value',to_input_value:'${ $.provider }:${ $.dataScope }.to_input_value'}},initObservable:function(){this._super().observe(['input_value','from_input_value','to_input_value']);return this;}});});","Amasty_ImportCore/js/fields/field.min.js":"define(['jquery','uiCollection','uiLayout','mageUtils','underscore'],function($,Collection,layout,utils,_){'use strict';return Collection.extend({defaults:{template:'Amasty_ImportCore/fields/field',links:{input_value:'${ $.provider }:${ $.dataScope }.input_value',file_field:'${ $.provider }:${ $.dataScope }.file_field',output_value:'${ $.provider }:${ $.dataScope }.output_value',file_field:'${ $.provider }:${ $.dataScope }.file_field',code:'${ $.provider }:${ $.dataScope }.code',sortOrder:'${ $.provider }:${ $.dataScope }.sortOrder',options:'${ $.provider }:${ $.dataScope }.options'},imports:{modifierConfig:'${ $.parentName }:modifierConfig'},modules:{parent:'${ $.parentName }',dataProvider:'${ $.provider }'},modifierIndex:0,selected_actions:[]},initialize:function(){this._super();this.renderDefaultModifies();return this;},initObservable:function(){this._super().observe(['input_value','file_field','output_value','file_field','code','sortOrder']);return this;},remove:function(){if(this.parent().isSorted){this.parent().reRenderAndRemove(this.code());}else{this.source.remove(this.dataScope);this.destroy();this.parent().checkFieldsState();}},renderDefaultModifies:function(){_.each(this.modifier,function(modifier){if(modifier){this.addModifier(this.name,modifier.select_value,modifier.value);}},this);},addModifier:function(name,value,modifierValue){var fieldData=this.modifierConfig[value]||{},item=utils.extend(fieldData,{'name':name+'.modifier.'+this.modifierIndex,'component':'Amasty_ImportCore/js/fields/modifier','provider':this.provider,'selectValue':value||'','options':this.options,'modifierValue':modifierValue||{},'modifierConfig':this.modifierConfig,'dataScope':this.dataScope+'.modifier.'+this.modifierIndex});layout([item]);this.insertChild(item.name);this.modifierIndex+=1;}});});","Amasty_ImportCore/js/fields/modifier.min.js":"define(['uiCollection','underscore','uiLayout','mageUtils'],function(Collection,_,layout,utils){'use strict';return Collection.extend({defaults:{template:'Amasty_ImportCore/fields/modifier',links:{select_value:'${ $.provider }:${ $.dataScope }.select_value',eavEntityType:'${ $.provider }:${ $.dataScope }.eavEntityType',optionSource:'${ $.provider }:${ $.dataScope }.optionSource'},listens:{select_value:'getModifierTypeSelected',selectedOption:'createModifierField'},selectedType:null,selectedOption:{},options:[],selectedActions:[],modifierValue:{}},initialize:function(){this._super();this.renderFields();return this;},initObservable:function(){this._super().observe(['eavEntityType','select_value','code','selectedType','selectedOption','optionSource']);return this;},renderFields:function(){var name=this.name+'.value',value=this.modifierValue||{},componentData=utils.extend(value,{'parentName':this.name,'provider':this.provider,'dataScope':this.dataScope+'.value','prefer':'toggle','parentScope':this.dataScope,'source':this.source,'options':this.options,'name':name,'component':this.childComponent,'template':this.childTemplate});layout([componentData]);this.insertChild(name);},getModifierTypeSelected:function(value){var option;this.options.forEach(function(optgroup){option=this.findValue(optgroup,value);if(option){this.selectedType(optgroup.type);this.selectedOption(option);}}.bind(this));},createModifierField:function(option){_.each(this.elems(),function(element){element.destroy();},this);this.childTemplate=this.modifierConfig[option.value].childTemplate||null;this.childComponent=this.modifierConfig[option.value].childComponent||null;this.eavEntityType(this.selectedOption().eavEntityType);this.optionSource(this.selectedOption().optionSource);if(this.childComponent&&this.childTemplate){this.renderFields();}},findValue:function(optgroup,value){return optgroup.value.find(function(item){return item.value===value;});},remove:function(){this.source.remove(this.dataScope);this.destroy();},setDefaultValue:function(){this.select_value(this.selectValue);}});});","Amasty_ImportCore/js/form/components/fieldset.min.js":"define(['Magento_Ui/js/form/components/fieldset'],function(FieldSet){return FieldSet.extend({validate:function(){return{valid:true};}});});","Amasty_ImportCore/js/form/components/button.min.js":"define(['Magento_Ui/js/form/components/button'],function(Button){return Button.extend({validate:function(){return{valid:true};},_setButtonClasses:function(){this._super();this.buttonClasses['action-basic']=false;}});});","Amasty_ImportCore/js/form/element/input-textarea.min.js":"define(['Magento_Ui/js/form/element/abstract','underscore'],function(Input,_){return Input.extend({defaults:{cols:10,rows:4,textareaElementTmpl:'ui/form/element/textarea',inputElementTmpl:'ui/form/element/input',textareaNotice:'',inputNotice:'',notice:'',imports:{'parentCondition':'${ $.provider }:${ $.parentScope }.condition'},isTextarea:false,listens:{'parentCondition':'conditionChanged'}},initObservable:function(){this._super().observe(['isTextarea','parentCondition','notice']);return this;},conditionChanged:function(){if(_.contains(['in','nin'],this.parentCondition())){this.notice(this.textareaNotice);this.isTextarea(true);}else{this.notice(this.inputNotice);this.isTextarea(false);}}});});","Amasty_ImportCore/js/form/element/input-date.min.js":"define(['Magento_Ui/js/form/element/date','underscore'],function(Input,_){return Input.extend({defaults:{template:'Amasty_ImportCore/form/element/input-date',dateElementTmpl:'ui/form/element/date',inputElementTmpl:'ui/form/element/input',inputConditions:[],dateNotice:'',inputNotice:'',notice:'',imports:{'parentCondition':'${ $.provider }:${ $.parentScope }.condition'},isDate:null,listens:{'parentCondition':'conditionChanged'}},_initialized:false,initObservable:function(){this._super().observe(['isDate','parentCondition','notice']);return this;},conditionChanged:function(){if(_.contains(this.inputConditions,this.parentCondition())){this.notice(this.dateNotice);this.isDate(false);}else{this.notice(this.inputNotice);this.isDate(true);}\nif(!this._initialized){this._initialized=true;if(this.isDate()){this.onValueChange(this.value());}}else{this.value('');this.onValueChange('');}},onValueChange:function(){if(this.isDate()){this._super();}}});});","Amasty_ImportCore/js/form/element/behavior-select.min.js":"define(['Magento_Ui/js/form/element/select','../../storage/typical-fields'],function(Select,typicalFields){'use strict';return Select.extend({defaults:{entityCode:'',fieldsUrl:'',autofill:'',fieldsProvider:'',listens:{autofill:'checkAutofill'},modules:{dataProvider:'${ $.provider }',fields:'${ $.fieldsProvider }'}},initObservable:function(){this._super().observe(['autofill']);return this;},checkAutofill:function(value){if(value){this.updateTypicalFields();}},updateTypicalFields:function(){var behaviorCode=this.value(),params={},options={};if(behaviorCode!==undefined&&this.autofill()){params.entity_code=this.entityCode;params.behavior_code=behaviorCode;options.dataProvider=this.dataProvider();options.fieldsUrl=this.fieldsUrl;options.dataScope=this.fields().dataScope;typicalFields.update(params,options);}},onUpdate:function(){this._super();if(this.value()){this.updateTypicalFields();}}});});","Amasty_ImportCore/js/dynamic-rows/dynamic-rows.min.js":"define(['Magento_Ui/js/dynamic-rows/dynamic-rows'],function(DynamicRows){'use strict';return DynamicRows.extend({defaults:{parentComponent:null,listens:{relatedData:'checkRelatedData'},templates:{record:{parent:'${ $.$data.collection.name }',name:'${ $.$data.index }',dataScope:'filters.${ $.name }',nodeTemplate:'${ $.parent }.${ $.$data.collection.recordTemplate }'},},links:{recordData:'${ $.provider }:${ $.dataScope }.filters'},},checkRelatedData:function(){if(this.parentComponent&&this.relatedData.length){this.parentComponent.opened(true);}},initContainer:function(parent){this._super();this.parentComponent=parent;if(this.relatedData.length){this.parentComponent.opened(true);}\nreturn this;}});});","chartjs/Chart.min.js":"/*!\n * Chart.js v2.9.3\n * https://www.chartjs.org\n * (c) 2019 Chart.js Contributors\n * Released under the MIT License\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(function(){try{return require(\"moment\")}catch(t){}}()):\"function\"==typeof define&&define.amd?define([\"require\"],(function(t){return e(function(){try{return t(\"moment\")}catch(t){}}())})):(t=t||self).Chart=e(t.moment)}(this,(function(t){\"use strict\";t=t&&t.hasOwnProperty(\"default\")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);var a=t.exports={rgb:{channels:3,labels:\"rgb\"},hsl:{channels:3,labels:\"hsl\"},hsv:{channels:3,labels:\"hsv\"},hwb:{channels:3,labels:\"hwb\"},cmyk:{channels:4,labels:\"cmyk\"},xyz:{channels:3,labels:\"xyz\"},lab:{channels:3,labels:\"lab\"},lch:{channels:3,labels:\"lch\"},hex:{channels:1,labels:[\"hex\"]},keyword:{channels:1,labels:[\"keyword\"]},ansi16:{channels:1,labels:[\"ansi16\"]},ansi256:{channels:1,labels:[\"ansi256\"]},hcg:{channels:3,labels:[\"h\",\"c\",\"g\"]},apple:{channels:3,labels:[\"r16\",\"g16\",\"b16\"]},gray:{channels:1,labels:[\"gray\"]}};for(var r in a)if(a.hasOwnProperty(r)){if(!(\"channels\"in a[r]))throw new Error(\"missing channels property: \"+r);if(!(\"labels\"in a[r]))throw new Error(\"missing channel labels property: \"+r);if(a[r].labels.length!==a[r].channels)throw new Error(\"channel and label counts mismatch: \"+r);var o=a[r].channels,s=a[r].labels;delete a[r].channels,delete a[r].labels,Object.defineProperty(a[r],\"channels\",{value:o}),Object.defineProperty(a[r],\"labels\",{value:s})}a.rgb.hsl=function(t){var e,n,i=t[0]/255,a=t[1]/255,r=t[2]/255,o=Math.min(i,a,r),s=Math.max(i,a,r),l=s-o;return s===o?e=0:i===s?e=(a-r)/l:a===s?e=2+(r-i)/l:r===s&&(e=4+(i-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},a.rgb.hsv=function(t){var e,n,i,a,r,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(o,s,l),d=u-Math.min(o,s,l),h=function(t){return(u-t)/6/d+.5};return 0===d?a=r=0:(r=d/u,e=h(o),n=h(s),i=h(l),o===u?a=i-n:s===u?a=1/3+e-i:l===u&&(a=2/3+n-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*r,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,a=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-a)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var i=n[t];if(i)return i;var a,r,o,s=1/0;for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],d=(r=t,o=u,Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2));d<s&&(s=d,a=l)}return a},a.keyword.rgb=function(t){return e[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.hsl.rgb=function(t){var e,n,i,a,r,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[r=255*l,r,r];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var u=0;u<3;u++)(i=o+1/3*-(u-1))<0&&i++,i>1&&i--,r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,a[u]=255*r;return a},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,a=n,r=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,a*=r<=1?r:2-r,[e,100*(0===i?2*a/(r+a):2*n/(i+n)),100*((i+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,a=Math.floor(e)%6,r=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*r),l=255*i*(1-n*(1-r));switch(i*=255,a){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},a.hsv.hsl=function(t){var e,n,i,a=t[0],r=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return i=(2-r)*o,n=r*s,[a,100*(n=(n/=(e=(2-r)*s)<=1?e:2-e)||0),100*(i/=2)]},a.hwb.rgb=function(t){var e,n,i,a,r,o,s,l=t[0]/360,u=t[1]/100,d=t[2]/100,h=u+d;switch(h>1&&(u/=h,d/=h),i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),a=u+i*((n=1-d)-u),e){default:case 6:case 0:r=n,o=a,s=u;break;case 1:r=a,o=n,s=u;break;case 2:r=u,o=n,s=a;break;case 3:r=u,o=a,s=n;break;case 4:r=a,o=u,s=n;break;case 5:r=n,o=u,s=a}return[255*r,255*o,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,a=t[3]/100;return[255*(1-Math.min(1,e*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,i*(1-a)+a))]},a.xyz.rgb=function(t){var e,n,i,a=t[0]/100,r=t[1]/100,o=t[2]/100;return n=-.9689*a+1.8758*r+.0415*o,i=.0557*a+-.204*r+1.057*o,e=(e=3.2406*a+-1.5372*r+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.lab.xyz=function(t){var e,n,i,a=t[0];e=t[1]/500+(n=(a+16)/116),i=n-t[2]/200;var r=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},a.lab.lch=function(t){var e,n=t[0],i=t[1],a=t[2];return(e=360*Math.atan2(a,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+a*a),e]},a.lch.lab=function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return\"000000\".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split(\"\").map((function(t){return t+t})).join(\"\"));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},a.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,a=t[2]/255,r=Math.max(Math.max(n,i),a),o=Math.min(Math.min(n,i),a),s=r-o;return e=s<=0?0:r===n?(i-a)/s%6:r===i?2+(a-n)/s:4+(n-i)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1,a=0;return(i=n<.5?2*e*n:2*e*(1-n))<1&&(a=(n-.5*i)/(1-i)),[t[0],100*i,100*a]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,a=0;return i<1&&(a=(n-i)/(1-i)),[t[0],100*i,100*a]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var a,r=[0,0,0],o=e%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=l,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=l,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=l}return a=(1-n)*i,[255*(n*r[0]+a),255*(n*r[1]+a),255*(n*r[2]+a)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,i=n-e,a=0;return i<1&&(a=(n-i)/(1-i)),[t[0],100*i,100*a]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return\"000000\".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}));n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;function i(t){var e=function(){for(var t={},e=Object.keys(n),i=e.length,a=0;a<i;a++)t[e[a]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var a=i.pop(),r=Object.keys(n[a]),o=r.length,s=0;s<o;s++){var l=r[s],u=e[l];-1===u.distance&&(u.distance=e[a].distance+1,u.parent=a,i.unshift(l))}return e}function a(t,e){return function(n){return e(t(n))}}function r(t,e){for(var i=[e[t].parent,t],r=n[e[t].parent][t],o=e[t].parent;e[o].parent;)i.unshift(e[o].parent),r=a(n[e[o].parent][o],r),o=e[o].parent;return r.conversion=i,r}var o={};Object.keys(n).forEach((function(t){o[t]={},Object.defineProperty(o[t],\"channels\",{value:n[t].channels}),Object.defineProperty(o[t],\"labels\",{value:n[t].labels});var e=function(t){for(var e=i(t),n={},a=Object.keys(e),o=a.length,s=0;s<o;s++){var l=a[s];null!==e[l].parent&&(n[l]=r(l,e))}return n}(t);Object.keys(e).forEach((function(n){var i=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if(\"object\"==typeof n)for(var i=n.length,a=0;a<i;a++)n[a]=Math.round(n[a]);return n};return\"conversion\"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return\"conversion\"in t&&(e.conversion=t.conversion),e}(i)}))}));var s=o,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u={getRgba:d,getHsla:h,getRgb:function(t){var e=d(t);return e&&e.slice(0,3)},getHsl:function(t){var e=h(t);return e&&e.slice(0,3)},getHwb:c,getAlpha:function(t){var e=d(t);if(e)return e[3];if(e=h(t))return e[3];if(e=c(t))return e[3]},hexString:function(t,e){e=void 0!==e&&3===t.length?e:t[3];return\"#\"+v(t[0])+v(t[1])+v(t[2])+(e>=0&&e<1?v(Math.round(255*e)):\"\")},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return f(t,e);return\"rgb(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},rgbaString:f,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return g(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return\"rgb(\"+n+\"%, \"+i+\"%, \"+a+\"%)\"},percentaString:g,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return p(t,e);return\"hsl(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%)\"},hslaString:p,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return\"hwb(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%\"+(void 0!==e&&1!==e?\", \"+e:\"\")+\")\"},keyword:function(t){return b[t.slice(0,3)]}};function d(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),a=\"\";if(i){a=(i=i[1])[3];for(var r=0;r<e.length;r++)e[r]=parseInt(i[r]+i[r],16);a&&(n=Math.round(parseInt(a+a,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){a=i[2],i=i[1];for(r=0;r<e.length;r++)e[r]=parseInt(i.slice(2*r,2*r+2),16);a&&(n=Math.round(parseInt(a,16)/255*100)/100)}else if(i=t.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=t.match(/(\\w+)/)){if(\"transparent\"==i[1])return[0,0,0,0];if(!(e=l[i[1]]))return}for(r=0;r<e.length;r++)e[r]=m(e[r],0,255);return n=n||0==n?m(n,0,1):1,e[3]=n,e}}function h(t){if(t){var e=t.match(/^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(e){var n=parseFloat(e[4]);return[m(parseInt(e[1]),0,360),m(parseFloat(e[2]),0,100),m(parseFloat(e[3]),0,100),m(isNaN(n)?1:n,0,1)]}}}function c(t){if(t){var e=t.match(/^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(e){var n=parseFloat(e[4]);return[m(parseInt(e[1]),0,360),m(parseFloat(e[2]),0,100),m(parseFloat(e[3]),0,100),m(isNaN(n)?1:n,0,1)]}}}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),\"rgba(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+e+\")\"}function g(t,e){return\"rgba(\"+Math.round(t[0]/255*100)+\"%, \"+Math.round(t[1]/255*100)+\"%, \"+Math.round(t[2]/255*100)+\"%, \"+(e||t[3]||1)+\")\"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),\"hsla(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%, \"+e+\")\"}function m(t,e,n){return Math.min(Math.max(e,t),n)}function v(t){var e=t.toString(16).toUpperCase();return e.length<2?\"0\"+e:e}var b={};for(var x in l)b[l[x]]=x;var y=function(t){return t instanceof y?t:this instanceof y?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void(\"string\"==typeof t?(e=u.getRgba(t))?this.setValues(\"rgb\",e):(e=u.getHsla(t))?this.setValues(\"hsl\",e):(e=u.getHwb(t))&&this.setValues(\"hwb\",e):\"object\"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues(\"rgb\",e):void 0!==e.l||void 0!==e.lightness?this.setValues(\"hsl\",e):void 0!==e.v||void 0!==e.value?this.setValues(\"hsv\",e):void 0!==e.w||void 0!==e.whiteness?this.setValues(\"hwb\",e):void 0===e.c&&void 0===e.cyan||this.setValues(\"cmyk\",e)))):new y(t);var e};y.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace(\"rgb\",arguments)},hsl:function(){return this.setSpace(\"hsl\",arguments)},hsv:function(){return this.setSpace(\"hsv\",arguments)},hwb:function(){return this.setSpace(\"hwb\",arguments)},cmyk:function(){return this.setSpace(\"cmyk\",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues(\"alpha\",t),this)},red:function(t){return this.setChannel(\"rgb\",0,t)},green:function(t){return this.setChannel(\"rgb\",1,t)},blue:function(t){return this.setChannel(\"rgb\",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel(\"hsl\",0,t)},saturation:function(t){return this.setChannel(\"hsl\",1,t)},lightness:function(t){return this.setChannel(\"hsl\",2,t)},saturationv:function(t){return this.setChannel(\"hsv\",1,t)},whiteness:function(t){return this.setChannel(\"hwb\",1,t)},blackness:function(t){return this.setChannel(\"hwb\",2,t)},value:function(t){return this.setChannel(\"hsv\",2,t)},cyan:function(t){return this.setChannel(\"cmyk\",0,t)},magenta:function(t){return this.setChannel(\"cmyk\",1,t)},yellow:function(t){return this.setChannel(\"cmyk\",2,t)},black:function(t){return this.setChannel(\"cmyk\",3,t)},hexString:function(){return u.hexString(this.values.rgb)},rgbString:function(){return u.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return u.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return u.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return u.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return u.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return u.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return u.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?\"AAA\":e>=4.5?\"AA\":\"\"},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues(\"rgb\",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues(\"hsl\",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues(\"hsl\",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues(\"hsl\",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues(\"hsl\",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues(\"hwb\",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues(\"hwb\",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues(\"rgb\",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues(\"alpha\",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues(\"alpha\",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues(\"hsl\",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,a=2*i-1,r=this.alpha()-n.alpha(),o=((a*r==-1?a:(a+r)/(1+a*r))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new y,i=this.values,a=n.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],\"[object Array]\"===(e={}.toString.call(t))?a[r]=t.slice(0):\"[object Number]\"===e?a[r]=t:console.error(\"unexpected color value:\",t));return n}},y.prototype.spaces={rgb:[\"red\",\"green\",\"blue\"],hsl:[\"hue\",\"saturation\",\"lightness\"],hsv:[\"hue\",\"saturation\",\"value\"],hwb:[\"hue\",\"whiteness\",\"blackness\"],cmyk:[\"cyan\",\"magenta\",\"yellow\",\"black\"]},y.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},y.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},y.prototype.setValues=function(t,e){var n,i,a=this.values,r=this.spaces,o=this.maxes,l=1;if(this.valid=!0,\"alpha\"===t)l=e;else if(e.length)a[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)a[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[r[t][0]]){var u=r[t];for(n=0;n<t.length;n++)a[t][n]=e[u[n]];l=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===l?a.alpha:l)),\"alpha\"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(o[t][n],a[t][n])),a[t][n]=Math.round(i);for(var d in r)d!==t&&(a[d]=s[t][d](a[t]));return!0},y.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):(\"number\"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},y.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},\"undefined\"!=typeof window&&(window.Color=y);var _,k=y,w={noop:function(){},uid:(_=0,function(){return _++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return\"[object\"===e.substr(0,7)&&\"Array]\"===e.substr(-6)},isObject:function(t){return null!==t&&\"[object Object]\"===Object.prototype.toString.call(t)},isFinite:function(t){return(\"number\"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return w.valueOrDefault(w.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&\"function\"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var a,r,o;if(w.isArray(t))if(r=t.length,i)for(a=r-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<r;a++)e.call(n,t[a],a);else if(w.isObject(t))for(r=(o=Object.keys(t)).length,a=0;a<r;a++)e.call(n,t[o[a]],o[a])},arrayEquals:function(t,e){var n,i,a,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],r=e[n],a instanceof Array&&r instanceof Array){if(!w.arrayEquals(a,r))return!1}else if(a!==r)return!1;return!0},clone:function(t){if(w.isArray(t))return t.map(w.clone);if(w.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,a=0;a<i;++a)e[n[a]]=w.clone(t[n[a]]);return e}return t},_merger:function(t,e,n,i){var a=e[t],r=n[t];w.isObject(a)&&w.isObject(r)?w.merge(a,r,i):e[t]=w.clone(r)},_mergerIf:function(t,e,n){var i=e[t],a=n[t];w.isObject(i)&&w.isObject(a)?w.mergeIf(i,a):e.hasOwnProperty(t)||(e[t]=w.clone(a))},merge:function(t,e,n){var i,a,r,o,s,l=w.isArray(e)?e:[e],u=l.length;if(!w.isObject(t))return t;for(i=(n=n||{}).merger||w._merger,a=0;a<u;++a)if(e=l[a],w.isObject(e))for(s=0,o=(r=Object.keys(e)).length;s<o;++s)i(r[s],t,e,n);return t},mergeIf:function(t,e){return w.merge(t,e,{merger:w._mergerIf})},extend:Object.assign||function(t){return w.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty(\"constructor\")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=w.inherits,t&&w.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){void 0!==e&&console.warn(t+': \"'+n+'\" is deprecated. Please use \"'+i+'\" instead')}},M=w;w.callCallback=w.callback,w.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},w.getValueOrDefault=w.valueOrDefault,w.getValueAtIndexOrDefault=w.valueAtIndexOrDefault;var S={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-S.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*S.easeInBounce(2*t):.5*S.easeOutBounce(2*t-1)+.5}},C={effects:S};M.easingEffects=S;var P=Math.PI,A=P/180,D=2*P,T=P/2,I=P/4,F=2*P/3,L={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,a,r){if(r){var o=Math.min(r,a/2,i/2),s=e+o,l=n+o,u=e+i-o,d=n+a-o;t.moveTo(e,l),s<u&&l<d?(t.arc(s,l,o,-P,-T),t.arc(u,l,o,-T,0),t.arc(u,d,o,0,T),t.arc(s,d,o,T,P)):s<u?(t.moveTo(s,n),t.arc(u,l,o,-T,T),t.arc(s,l,o,T,P+T)):l<d?(t.arc(s,l,o,-P,0),t.arc(s,d,o,0,P)):t.arc(s,l,o,-P,P),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,a)},drawPoint:function(t,e,n,i,a,r){var o,s,l,u,d,h=(r||0)*A;if(e&&\"object\"==typeof e&&(\"[object HTMLImageElement]\"===(o=e.toString())||\"[object HTMLCanvasElement]\"===o))return t.save(),t.translate(i,a),t.rotate(h),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,a,n,0,D),t.closePath();break;case\"triangle\":t.moveTo(i+Math.sin(h)*n,a-Math.cos(h)*n),h+=F,t.lineTo(i+Math.sin(h)*n,a-Math.cos(h)*n),h+=F,t.lineTo(i+Math.sin(h)*n,a-Math.cos(h)*n),t.closePath();break;case\"rectRounded\":u=n-(d=.516*n),s=Math.cos(h+I)*u,l=Math.sin(h+I)*u,t.arc(i-s,a-l,d,h-P,h-T),t.arc(i+l,a-s,d,h-T,h),t.arc(i+s,a+l,d,h,h+T),t.arc(i-l,a+s,d,h+T,h+P),t.closePath();break;case\"rect\":if(!r){u=Math.SQRT1_2*n,t.rect(i-u,a-u,2*u,2*u);break}h+=I;case\"rectRot\":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-s,a-l),t.lineTo(i+l,a-s),t.lineTo(i+s,a+l),t.lineTo(i-l,a+s),t.closePath();break;case\"crossRot\":h+=I;case\"cross\":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-s,a-l),t.lineTo(i+s,a+l),t.moveTo(i+l,a-s),t.lineTo(i-l,a+s);break;case\"star\":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-s,a-l),t.lineTo(i+s,a+l),t.moveTo(i+l,a-s),t.lineTo(i-l,a+s),h+=I,s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-s,a-l),t.lineTo(i+s,a+l),t.moveTo(i+l,a-s),t.lineTo(i-l,a+s);break;case\"line\":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-s,a-l),t.lineTo(i+s,a+l);break;case\"dash\":t.moveTo(i,a),t.lineTo(i+Math.cos(h)*n,a+Math.sin(h)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var a=n.steppedLine;if(a){if(\"middle\"===a){var r=(e.x+n.x)/2;t.lineTo(r,i?n.y:e.y),t.lineTo(r,i?e.y:n.y)}else\"after\"===a&&!i||\"after\"!==a&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},O=L;M.clear=L.clear,M.drawRoundedRectangle=function(t){t.beginPath(),L.roundedRect.apply(L,arguments)};var R={_set:function(t,e){return M.merge(this[t]||(this[t]={}),e)}};R._set(\"global\",{defaultColor:\"rgba(0,0,0,0.1)\",defaultFontColor:\"#666\",defaultFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",defaultFontSize:12,defaultFontStyle:\"normal\",defaultLineHeight:1.2,showLines:!0});var z=R,N=M.valueOrDefault;var B={toLineHeight:function(t,e){var n=(\"\"+t).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);if(!n||\"normal\"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case\"px\":return t;case\"%\":t/=100}return e*t},toPadding:function(t){var e,n,i,a;return M.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,a=+t.left||0):e=n=i=a=+t||0,{top:e,right:n,bottom:i,left:a,height:e+i,width:a+n}},_parseFont:function(t){var e=z.global,n=N(t.fontSize,e.defaultFontSize),i={family:N(t.fontFamily,e.defaultFontFamily),lineHeight:M.options.toLineHeight(N(t.lineHeight,e.defaultLineHeight),n),size:n,style:N(t.fontStyle,e.defaultFontStyle),weight:null,string:\"\"};return i.string=function(t){return!t||M.isNullOrUndef(t.size)||M.isNullOrUndef(t.family)?null:(t.style?t.style+\" \":\"\")+(t.weight?t.weight+\" \":\"\")+t.size+\"px \"+t.family}(i),i},resolve:function(t,e,n,i){var a,r,o,s=!0;for(a=0,r=t.length;a<r;++a)if(void 0!==(o=t[a])&&(void 0!==e&&\"function\"==typeof o&&(o=o(e),s=!1),void 0!==n&&M.isArray(o)&&(o=o[n],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}},E={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e==0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort((function(t,e){return t-e})).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e}},W=E;M.log10=E.log10;var V=M,H=C,j=O,q=B,U=W,Y={getRtlAdapter:function(t,e,n){return t?function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return\"center\"===t?t:\"right\"===t?\"left\":\"right\"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,n):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var n,i;\"ltr\"!==e&&\"rtl\"!==e||(i=[(n=t.canvas.style).getPropertyValue(\"direction\"),n.getPropertyPriority(\"direction\")],n.setProperty(\"direction\",e,\"important\"),t.prevTextDirection=i)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty(\"direction\",e[0],e[1]))}};V.easing=H,V.canvas=j,V.options=q,V.math=U,V.rtl=Y;var G=function(t){V.extend(this,t),this.initialize.apply(this,arguments)};V.extend(G.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=V.extend({},t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,a=e._view;return n&&1!==t?(a||(a=e._view={}),i||(i=e._start={}),function(t,e,n,i){var a,r,o,s,l,u,d,h,c,f=Object.keys(n);for(a=0,r=f.length;a<r;++a)if(u=n[o=f[a]],e.hasOwnProperty(o)||(e[o]=u),(s=e[o])!==u&&\"_\"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(d=typeof u)===typeof(l=t[o]))if(\"string\"===d){if((h=k(l)).valid&&(c=k(u)).valid){e[o]=c.mix(h,i).rgbString();continue}}else if(V.isFinite(l)&&V.isFinite(u)){e[o]=l+(u-l)*i;continue}e[o]=u}}(i,a,n,t),e):(e._view=V.extend({},n),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return V.isNumber(this._model.x)&&V.isNumber(this._model.y)}}),G.extend=V.inherits;var X=G,K=X.extend({chart:null,currentStep:0,numSteps:60,easing:\"\",render:null,onAnimationProgress:null,onAnimationComplete:null}),Z=K;Object.defineProperty(K.prototype,\"animationObject\",{get:function(){return this}}),Object.defineProperty(K.prototype,\"chartInstance\",{get:function(){return this.chart},set:function(t){this.chart=t}}),z._set(\"global\",{animation:{duration:1e3,easing:\"easeOutQuart\",onProgress:V.noop,onComplete:V.noop}});var $={animations:[],request:null,addAnimation:function(t,e,n,i){var a,r,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),a=0,r=o.length;a<r;++a)if(o[a].chart===t)return void(o[a]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=V.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=V.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,a=this.animations,r=0;r<a.length;)e=(t=a[r]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),V.callback(t.render,[e,t],e),V.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(V.callback(t.onAnimationComplete,[t],e),e.animating=!1,a.splice(r,1)):++r}},J=V.options.resolve,Q=[\"push\",\"pop\",\"shift\",\"splice\",\"unshift\"];function tt(t,e){var n=t._chartjs;if(n){var i=n.listeners,a=i.indexOf(e);-1!==a&&i.splice(a,1),i.length>0||(Q.forEach((function(e){delete t[e]})),delete t._chartjs)}}var et=function(t,e){this.initialize(t,e)};V.extend(et.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:[\"backgroundColor\",\"borderCapStyle\",\"borderColor\",\"borderDash\",\"borderDashOffset\",\"borderJoinStyle\",\"borderWidth\"],_dataElementOptions:[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"pointStyle\"],initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.chart,n=e.scales,i=this.getDataset(),a=e.options.scales;null!==t.xAxisID&&t.xAxisID in n&&!i.xAxisID||(t.xAxisID=i.xAxisID||a.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in n&&!i.yAxisID||(t.yAxisID=i.yAxisID||a.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&tt(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],a=n.data;for(t=0,e=i.length;t<e;++t)a[t]=a[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,i=n.getDataset(),a=i.data||(i.data=[]);n._data!==a&&(n._data&&tt(n._data,n),a&&Object.isExtensible(a)&&(e=n,(t=a)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,\"_chartjs\",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Q.forEach((function(e){var n=\"onData\"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),a=i.apply(this,e);return V.each(t._chartjs.listeners,(function(t){\"function\"==typeof t[n]&&t[n].apply(t,e)})),a}})})))),n._data=a),n.resyncElements()},_configure:function(){this._config=V.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(t,e,n){\"_meta\"!==t&&\"data\"!==t&&V._merger(t,e,n)}})},_update:function(t){this._configure(),this._cachedDataOpts=null,this.update(t)},update:V.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,a=0;a<i;++a)n[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this.getMeta(),i=n.dataset;return this._configure(),i&&void 0===t?e=this._resolveDatasetElementOptions(i||{}):(t=t||0,e=this._resolveDataElementOptions(n.data[t]||{},t)),!1!==e.fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,a,r,o=this,s=o.chart,l=o._config,u=t.custom||{},d=s.options.elements[o.datasetElementType.prototype._type]||{},h=o._datasetElementOptions,c={},f={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(n=0,i=h.length;n<i;++n)a=h[n],r=e?\"hover\"+a.charAt(0).toUpperCase()+a.slice(1):a,c[a]=J([u[r],l[r],d[r]],f);return c},_resolveDataElementOptions:function(t,e){var n=this,i=t&&t.custom,a=n._cachedDataOpts;if(a&&!i)return a;var r,o,s,l,u=n.chart,d=n._config,h=u.options.elements[n.dataElementType.prototype._type]||{},c=n._dataElementOptions,f={},g={chart:u,dataIndex:e,dataset:n.getDataset(),datasetIndex:n.index},p={cacheable:!i};if(i=i||{},V.isArray(c))for(o=0,s=c.length;o<s;++o)f[l=c[o]]=J([i[l],d[l],h[l]],g,e,p);else for(o=0,s=(r=Object.keys(c)).length;o<s;++o)f[l=r[o]]=J([i[l],d[c[l]],d[l],h[l]],g,e,p);return p.cacheable&&(n._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){V.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model,r=V.getHoverColor;t.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=J([i.hoverBackgroundColor,e.hoverBackgroundColor,r(a.backgroundColor)],void 0,n),a.borderColor=J([i.hoverBorderColor,e.hoverBorderColor,r(a.borderColor)],void 0,n),a.borderWidth=J([i.hoverBorderWidth,e.hoverBorderWidth,a.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,a,r,o=this.getMeta().dataset,s={};if(o){for(r=o._model,a=this._resolveDatasetElementOptions(o,!0),t=0,e=(i=Object.keys(a)).length;t<e;++t)s[n=i[t]]=r[n],r[n]=a[n];o.$previousStyle=s}},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),et.extend=V.inherits;var nt=et,it=2*Math.PI;function at(t,e){var n=e.startAngle,i=e.endAngle,a=e.pixelMargin,r=a/e.outerRadius,o=e.x,s=e.y;t.beginPath(),t.arc(o,s,e.outerRadius,n-r,i+r),e.innerRadius>a?(r=a/e.innerRadius,t.arc(o,s,e.innerRadius-a,i+r,n-r,!0)):t.arc(o,s,a,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}function rt(t,e,n){var i=\"inner\"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin=\"round\"):(t.lineWidth=e.borderWidth,t.lineJoin=\"bevel\"),n.fullCircles&&function(t,e,n,i){var a,r=n.endAngle;for(i&&(n.endAngle=n.startAngle+it,at(t,n),n.endAngle=r,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=it,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+it,n.startAngle,!0),a=0;a<n.fullCircles;++a)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+it),a=0;a<n.fullCircles;++a)t.stroke()}(t,e,n,i),i&&at(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}z._set(\"global\",{elements:{arc:{backgroundColor:z.global.defaultColor,borderColor:\"#fff\",borderWidth:2,borderAlign:\"center\"}}});var ot=X.extend({_type:\"arc\",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=V.getAngleFromPoint(n,{x:t,y:e}),a=i.angle,r=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=it;for(;a>s;)a-=it;for(;a<o;)a+=it;var l=a>=o&&a<=s,u=r>=n.innerRadius&&r<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i=\"inner\"===n.borderAlign?.33:0,a={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/it)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+it,e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),t=0;t<a.fullCircles;++t)e.fill();a.endAngle=a.startAngle+n.circumference%it}e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&rt(e,n,a),e.restore()}}),st=V.valueOrDefault,lt=z.global.defaultColor;z._set(\"global\",{elements:{line:{tension:.4,backgroundColor:lt,borderWidth:3,borderColor:lt,borderCapStyle:\"butt\",borderDash:[],borderDashOffset:0,borderJoinStyle:\"miter\",capBezierPoints:!0,fill:!0}}});var ut=X.extend({_type:\"line\",draw:function(){var t,e,n,i=this,a=i._view,r=i._chart.ctx,o=a.spanGaps,s=i._children.slice(),l=z.global,u=l.elements.line,d=-1,h=i._loop;if(s.length){if(i._loop){for(t=0;t<s.length;++t)if(e=V.previousItem(s,t),!s[t]._view.skip&&e._view.skip){s=s.slice(t).concat(s.slice(0,t)),h=o;break}h&&s.push(s[0])}for(r.save(),r.lineCap=a.borderCapStyle||u.borderCapStyle,r.setLineDash&&r.setLineDash(a.borderDash||u.borderDash),r.lineDashOffset=st(a.borderDashOffset,u.borderDashOffset),r.lineJoin=a.borderJoinStyle||u.borderJoinStyle,r.lineWidth=st(a.borderWidth,u.borderWidth),r.strokeStyle=a.borderColor||l.defaultColor,r.beginPath(),(n=s[0]._view).skip||(r.moveTo(n.x,n.y),d=0),t=1;t<s.length;++t)n=s[t]._view,e=-1===d?V.previousItem(s,t):s[d],n.skip||(d!==t-1&&!o||-1===d?r.moveTo(n.x,n.y):V.canvas.lineTo(r,e._view,n),d=t);h&&r.closePath(),r.stroke(),r.restore()}}}),dt=V.valueOrDefault,ht=z.global.defaultColor;function ct(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}z._set(\"global\",{elements:{point:{radius:3,pointStyle:\"circle\",backgroundColor:ht,borderColor:ht,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ft=X.extend({_type:\"point\",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ct,inXRange:ct,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,a=e.rotation,r=e.radius,o=e.x,s=e.y,l=z.global,u=l.defaultColor;e.skip||(void 0===t||V.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||u,n.lineWidth=dt(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||u,V.canvas.drawPoint(n,i,r,o,s,a))}}),gt=z.global.defaultColor;function pt(t){return t&&void 0!==t.width}function mt(t){var e,n,i,a,r;return pt(t)?(r=t.width/2,e=t.x-r,n=t.x+r,i=Math.min(t.y,t.base),a=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-r,a=t.y+r),{left:e,top:i,right:n,bottom:a}}function vt(t,e,n){return t===e?n:t===n?e:t}function bt(t,e,n){var i,a,r,o,s=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=vt(e,\"left\",\"right\")):t.base<t.y&&(e=vt(e,\"bottom\",\"top\")),n[e]=!0,n):n}(t);return V.isObject(s)?(i=+s.top||0,a=+s.right||0,r=+s.bottom||0,o=+s.left||0):i=a=r=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||a<0?0:a>e?e:a,b:l.bottom||r<0?0:r>n?n:r,l:l.left||o<0?0:o>e?e:o}}function xt(t,e,n){var i=null===e,a=null===n,r=!(!t||i&&a)&&mt(t);return r&&(i||e>=r.left&&e<=r.right)&&(a||n>=r.top&&n<=r.bottom)}z._set(\"global\",{elements:{rectangle:{backgroundColor:gt,borderColor:gt,borderSkipped:\"bottom\",borderWidth:0}}});var yt=X.extend({_type:\"rectangle\",draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=mt(t),n=e.right-e.left,i=e.bottom-e.top,a=bt(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b}}}(e),i=n.outer,a=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===a.w&&i.h===a.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(a.x,a.y,a.w,a.h),t.fill(\"evenodd\"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return xt(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return pt(n)?xt(n,t,null):xt(n,null,e)},inXRange:function(t){return xt(this._view,t,null)},inYRange:function(t){return xt(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return pt(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return pt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),_t={},kt=ot,wt=ut,Mt=ft,St=yt;_t.Arc=kt,_t.Line=wt,_t.Point=Mt,_t.Rectangle=St;var Ct=V._deprecated,Pt=V.valueOrDefault;function At(t,e,n){var i,a,r=n.barThickness,o=e.stackCount,s=e.pixels[t],l=V.isNullOrUndef(r)?function(t,e){var n,i,a,r,o=t._length;for(a=1,r=e.length;a<r;++a)o=Math.min(o,Math.abs(e[a]-e[a-1]));for(a=0,r=t.getTicks().length;a<r;++a)i=t.getPixelForTick(a),o=a>0?Math.min(o,Math.abs(i-n)):o,n=i;return o}(e.scale,e.pixels):-1;return V.isNullOrUndef(r)?(i=l*n.categoryPercentage,a=n.barPercentage):(i=r*o,a=1),{chunk:i/o,ratio:a,start:s-i/2}}z._set(\"bar\",{hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:\"linear\"}]}}),z._set(\"global\",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Dt=nt.extend({dataElementType:_t.Rectangle,_dataElementOptions:[\"backgroundColor\",\"borderColor\",\"borderSkipped\",\"borderWidth\",\"barPercentage\",\"barThickness\",\"categoryPercentage\",\"maxBarThickness\",\"minBarLength\"],initialize:function(){var t,e,n=this;nt.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0,e=n._getIndexScale().options,Ct(\"bar chart\",e.barPercentage,\"scales.[x/y]Axes.barPercentage\",\"dataset.barPercentage\"),Ct(\"bar chart\",e.barThickness,\"scales.[x/y]Axes.barThickness\",\"dataset.barThickness\"),Ct(\"bar chart\",e.categoryPercentage,\"scales.[x/y]Axes.categoryPercentage\",\"dataset.categoryPercentage\"),Ct(\"bar chart\",n._getValueScale().options.minBarLength,\"scales.[x/y]Axes.minBarLength\",\"dataset.minBarLength\"),Ct(\"bar chart\",e.maxBarThickness,\"scales.[x/y]Axes.maxBarThickness\",\"dataset.maxBarThickness\")},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,a=i.getMeta(),r=i.getDataset(),o=i._resolveDataElementOptions(t,e);t._xScale=i.getScaleForId(a.xAxisID),t._yScale=i.getScaleForId(a.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:r.label,label:i.chart.data.labels[e]},V.isArray(r.data[e])&&(t._model.borderSkipped=null),i._updateElementGeometry(t,e,n,o),t.pivot()},_updateElementGeometry:function(t,e,n,i){var a=this,r=t._model,o=a._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),u=a._ruler||a.getRuler(),d=a.calculateBarValuePixels(a.index,e,i),h=a.calculateBarIndexPixels(a.index,e,u,i);r.horizontal=l,r.base=n?s:d.base,r.x=l?n?s:d.head:h.center,r.y=l?h.center:n?s:d.head,r.height=l?h.size:void 0,r.width=l?void 0:h.size},_getStacks:function(t){var e,n,i=this._getIndexScale(),a=i._getMatchingVisibleMetas(this._type),r=i.options.stacked,o=a.length,s=[];for(e=0;e<o&&(n=a[e],(!1===r||-1===s.indexOf(n.stack)||void 0===r&&void 0===n.stack)&&s.push(n.stack),n.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=[];for(t=0,e=this.getMeta().data.length;t<e;++t)i.push(n.getPixelForValue(null,t,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,n){var i,a,r,o,s,l,u,d=this.chart,h=this._getValueScale(),c=h.isHorizontal(),f=d.data.datasets,g=h._getMatchingVisibleMetas(this._type),p=h._parseValue(f[t].data[e]),m=n.minBarLength,v=h.options.stacked,b=this.getMeta().stack,x=void 0===p.start?0:p.max>=0&&p.min>=0?p.min:p.max,y=void 0===p.start?p.end:p.max>=0&&p.min>=0?p.max-p.min:p.min-p.max,_=g.length;if(v||void 0===v&&void 0!==b)for(i=0;i<_&&(a=g[i]).index!==t;++i)a.stack===b&&(r=void 0===(u=h._parseValue(f[a.index].data[e])).start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(p.min<0&&r<0||p.max>=0&&r>0)&&(x+=r));return o=h.getPixelForValue(x),l=(s=h.getPixelForValue(x+y))-o,void 0!==m&&Math.abs(l)<m&&(l=m,s=y>=0&&!c||y<0&&c?o-m:o+m),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,n,i){var a=\"flex\"===i.barThickness?function(t,e,n){var i,a=e.pixels,r=a[t],o=t>0?a[t-1]:null,s=t<a.length-1?a[t+1]:null,l=n.categoryPercentage;return null===o&&(o=r-(null===s?e.end-e.start:s-r)),null===s&&(s=r+r-o),i=r-(r-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):At(e,n,i),r=this.getStackIndex(t,this.getMeta().stack),o=a.start+a.chunk*r+a.chunk/2,s=Math.min(Pt(i.maxBarThickness,1/0),a.chunk*a.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),a=n.length,r=0;for(V.canvas.clipArea(t.ctx,t.chartArea);r<a;++r){var o=e._parseValue(i.data[r]);isNaN(o.min)||isNaN(o.max)||n[r].draw()}V.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var t=this,e=V.extend({},nt.prototype._resolveDataElementOptions.apply(t,arguments)),n=t._getIndexScale().options,i=t._getValueScale().options;return e.barPercentage=Pt(n.barPercentage,e.barPercentage),e.barThickness=Pt(n.barThickness,e.barThickness),e.categoryPercentage=Pt(n.categoryPercentage,e.categoryPercentage),e.maxBarThickness=Pt(n.maxBarThickness,e.maxBarThickness),e.minBarLength=Pt(i.minBarLength,e.minBarLength),e}}),Tt=V.valueOrDefault,It=V.options.resolve;z._set(\"bubble\",{hover:{mode:\"single\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",position:\"left\",id:\"y-axis-0\"}]},tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){var n=e.datasets[t.datasetIndex].label||\"\",i=e.datasets[t.datasetIndex].data[t.index];return n+\": (\"+t.xLabel+\", \"+t.yLabel+\", \"+i.r+\")\"}}}});var Ft=nt.extend({dataElementType:_t.Point,_dataElementOptions:[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"hoverBackgroundColor\",\"hoverBorderColor\",\"hoverBorderWidth\",\"hoverRadius\",\"hitRadius\",\"pointStyle\",\"rotation\"],update:function(t){var e=this,n=e.getMeta().data;V.each(n,(function(n,i){e.updateElement(n,i,t)}))},updateElement:function(t,e,n){var i=this,a=i.getMeta(),r=t.custom||{},o=i.getScaleForId(a.xAxisID),s=i.getScaleForId(a.yAxisID),l=i._resolveDataElementOptions(t,e),u=i.getDataset().data[e],d=i.index,h=n?o.getPixelForDecimal(.5):o.getPixelForValue(\"object\"==typeof u?u:NaN,e,d),c=n?s.getBasePixel():s.getPixelForValue(u,e,d);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:r.skip||isNaN(h)||isNaN(c),x:h,y:c},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Tt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Tt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Tt(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this,i=n.chart,a=n.getDataset(),r=t.custom||{},o=a.data[e]||{},s=nt.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:e,dataset:a,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=V.extend({},s)),s.radius=It([r.radius,o.r,n._config.radius,i.options.elements.point.radius],l,e),s}}),Lt=V.valueOrDefault,Ot=Math.PI,Rt=2*Ot,zt=Ot/2;z._set(\"doughnut\",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:\"single\"},legendCallback:function(t){var e,n,i,a=document.createElement(\"ul\"),r=t.data,o=r.datasets,s=r.labels;if(a.setAttribute(\"class\",t.id+\"-legend\"),o.length)for(e=0,n=o[0].data.length;e<n;++e)(i=a.appendChild(document.createElement(\"li\"))).appendChild(document.createElement(\"span\")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return a.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var a=t.getDatasetMeta(0),r=a.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||a.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(a=o.getDatasetMeta(n)).data[r]&&(a.data[r].hidden=!a.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-zt,circumference:Rt,tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){var n=e.labels[t.index],i=\": \"+e.datasets[t.datasetIndex].data[t.index];return V.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Nt=nt.extend({dataElementType:_t.Arc,linkScales:V.noop,_dataElementOptions:[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderAlign\",\"hoverBackgroundColor\",\"hoverBorderColor\",\"hoverBorderWidth\"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i,a,r=this,o=r.chart,s=o.chartArea,l=o.options,u=1,d=1,h=0,c=0,f=r.getMeta(),g=f.data,p=l.cutoutPercentage/100||0,m=l.circumference,v=r._getRingWeight(r.index);if(m<Rt){var b=l.rotation%Rt,x=(b+=b>=Ot?-Rt:b<-Ot?Rt:0)+m,y=Math.cos(b),_=Math.sin(b),k=Math.cos(x),w=Math.sin(x),M=b<=0&&x>=0||x>=Rt,S=b<=zt&&x>=zt||x>=Rt+zt,C=b<=-zt&&x>=-zt||x>=Ot+zt,P=b===-Ot||x>=Ot?-1:Math.min(y,y*p,k,k*p),A=C?-1:Math.min(_,_*p,w,w*p),D=M?1:Math.max(y,y*p,k,k*p),T=S?1:Math.max(_,_*p,w,w*p);u=(D-P)/2,d=(T-A)/2,h=-(D+P)/2,c=-(T+A)/2}for(i=0,a=g.length;i<a;++i)g[i]._options=r._resolveDataElementOptions(g[i],i);for(o.borderWidth=r.getMaxBorderWidth(),e=(s.right-s.left-o.borderWidth)/u,n=(s.bottom-s.top-o.borderWidth)/d,o.outerRadius=Math.max(Math.min(e,n)/2,0),o.innerRadius=Math.max(o.outerRadius*p,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),o.offsetX=h*o.outerRadius,o.offsetY=c*o.outerRadius,f.total=r.calculateTotal(),r.outerRadius=o.outerRadius-o.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-o.radiusLength*v,0),i=0,a=g.length;i<a;++i)r.updateElement(g[i],i,t)},updateElement:function(t,e,n){var i=this,a=i.chart,r=a.chartArea,o=a.options,s=o.animation,l=(r.left+r.right)/2,u=(r.top+r.bottom)/2,d=o.rotation,h=o.rotation,c=i.getDataset(),f=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(c.data[e])*(o.circumference/Rt),g=n&&s.animateScale?0:i.innerRadius,p=n&&s.animateScale?0:i.outerRadius,m=t._options||{};V.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+a.offsetX,y:u+a.offsetY,startAngle:d,endAngle:h,circumference:f,outerRadius:p,innerRadius:g,label:V.valueAtIndexOrDefault(c.label,e,a.data.labels[e])}});var v=t._model;n&&s.animateRotate||(v.startAngle=0===e?o.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return V.each(n.data,(function(n,a){t=e.data[a],isNaN(t)||n.hidden||(i+=Math.abs(t))})),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?Rt*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,a,r,o,s,l,u=0,d=this.chart;if(!t)for(e=0,n=d.data.datasets.length;e<n;++e)if(d.isDatasetVisible(e)){t=(i=d.getDatasetMeta(e)).data,e!==this.index&&(r=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)a=t[e],r?(r._configure(),o=r._resolveDataElementOptions(a,e)):o=a._options,\"inner\"!==o.borderAlign&&(s=o.borderWidth,u=(l=o.hoverBorderWidth)>(u=s>u?s:u)?l:u);return u},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Lt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Lt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Lt(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Lt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});z._set(\"horizontalBar\",{hover:{mode:\"index\",axis:\"y\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\"}],yAxes:[{type:\"category\",position:\"left\",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:\"left\"}},tooltips:{mode:\"index\",axis:\"y\"}}),z._set(\"global\",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Bt=Dt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Et=V.valueOrDefault,Wt=V.options.resolve,Vt=V.canvas._isPointInArea;function Ht(t,e){var n=t&&t.options.ticks||{},i=n.reverse,a=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:a,end:i?a:r}}function jt(t,e,n){var i=n/2,a=Ht(t,i),r=Ht(e,i);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function qt(t){var e,n,i,a;return V.isObject(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a}}z._set(\"line\",{showLines:!0,spanGaps:!1,hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",id:\"y-axis-0\"}]}});var Ut=nt.extend({datasetElementType:_t.Line,dataElementType:_t.Point,_datasetElementOptions:[\"backgroundColor\",\"borderCapStyle\",\"borderColor\",\"borderDash\",\"borderDashOffset\",\"borderJoinStyle\",\"borderWidth\",\"cubicInterpolationMode\",\"fill\"],_dataElementOptions:{backgroundColor:\"pointBackgroundColor\",borderColor:\"pointBorderColor\",borderWidth:\"pointBorderWidth\",hitRadius:\"pointHitRadius\",hoverBackgroundColor:\"pointHoverBackgroundColor\",hoverBorderColor:\"pointHoverBorderColor\",hoverBorderWidth:\"pointHoverBorderWidth\",hoverRadius:\"pointHoverRadius\",pointStyle:\"pointStyle\",radius:\"pointRadius\",rotation:\"pointRotation\"},update:function(t){var e,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],s=i.chart.options,l=i._config,u=i._showLine=Et(l.showLine,s.showLines);for(i._xScale=i.getScaleForId(a.xAxisID),i._yScale=i.getScaleForId(a.yAxisID),u&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=i._yScale,r._datasetIndex=i.index,r._children=o,r._model=i._resolveDatasetElementOptions(r),r.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(u&&0!==r._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,a,r=this,o=r.getMeta(),s=t.custom||{},l=r.getDataset(),u=r.index,d=l.data[e],h=r._xScale,c=r._yScale,f=o.dataset._model,g=r._resolveDataElementOptions(t,e);i=h.getPixelForValue(\"object\"==typeof d?d:NaN,e,u),a=n?c.getBasePixel():r.calculatePointY(d,e,u),t._xScale=h,t._yScale=c,t._options=g,t._datasetIndex=u,t._index=e,t._model={x:i,y:a,skip:s.skip||isNaN(i)||isNaN(a),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Et(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,n=e._config,i=t.custom||{},a=e.chart.options,r=a.elements.line,o=nt.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=Et(n.spanGaps,a.spanGaps),o.tension=Et(n.lineTension,r.tension),o.steppedLine=Wt([i.steppedLine,n.steppedLine,r.stepped]),o.clip=qt(Et(n.clip,jt(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,n){var i,a,r,o,s,l,u,d=this.chart,h=this._yScale,c=0,f=0;if(h.options.stacked){for(s=+h.getRightValue(t),u=(l=d._getSortedVisibleDatasetMetas()).length,i=0;i<u&&(r=l[i]).index!==n;++i)a=d.data.datasets[r.index],\"line\"===r.type&&r.yAxisID===h.id&&((o=+h.getRightValue(a.data[e]))<0?f+=o||0:c+=o||0);return s<0?h.getPixelForValue(f+s):h.getPixelForValue(c+s)}return h.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,a=this.chart,r=this.getMeta(),o=r.dataset._model,s=a.chartArea,l=r.data||[];function u(t,e,n){return Math.max(Math.min(t,n),e)}if(o.spanGaps&&(l=l.filter((function(t){return!t._model.skip}))),\"monotone\"===o.cubicInterpolationMode)V.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=V.splineCurve(V.previousItem(l,t)._model,n,V.nextItem(l,t)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(a.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)n=l[t]._model,Vt(n,s)&&(t>0&&Vt(l[t-1]._model,s)&&(n.controlPointPreviousX=u(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=u(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&Vt(l[t+1]._model,s)&&(n.controlPointNextX=u(n.controlPointNextX,s.left,s.right),n.controlPointNextY=u(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],a=e.chartArea,r=e.canvas,o=0,s=i.length;for(this._showLine&&(t=n.dataset._model.clip,V.canvas.clipArea(e.ctx,{left:!1===t.left?0:a.left-t.left,right:!1===t.right?r.width:a.right+t.right,top:!1===t.top?0:a.top-t.top,bottom:!1===t.bottom?r.height:a.bottom+t.bottom}),n.dataset.draw(),V.canvas.unclipArea(e.ctx));o<s;++o)i[o].draw(a)},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Et(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Et(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Et(n.hoverBorderWidth,n.borderWidth),e.radius=Et(n.hoverRadius,n.radius)}}),Yt=V.options.resolve;z._set(\"polarArea\",{scale:{type:\"radialLinear\",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,a=document.createElement(\"ul\"),r=t.data,o=r.datasets,s=r.labels;if(a.setAttribute(\"class\",t.id+\"-legend\"),o.length)for(e=0,n=o[0].data.length;e<n;++e)(i=a.appendChild(document.createElement(\"li\"))).appendChild(document.createElement(\"span\")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return a.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var a=t.getDatasetMeta(0),r=a.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||a.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(a=o.getDatasetMeta(n)).data[r].hidden=!a.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){return e.labels[t.index]+\": \"+t.yLabel}}}});var Gt=nt.extend({dataElementType:_t.Arc,linkScales:V.noop,_dataElementOptions:[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderAlign\",\"hoverBackgroundColor\",\"hoverBorderColor\",\"hoverBorderWidth\"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,a=this,r=a.getDataset(),o=a.getMeta(),s=a.chart.options.startAngle||0,l=a._starts=[],u=a._angles=[],d=o.data;for(a._updateRadius(),o.count=a.countVisibleElements(),e=0,n=r.data.length;e<n;e++)l[e]=s,i=a._computeAngle(e),u[e]=i,s+=i;for(e=0,n=d.length;e<n;++e)d[e]._options=a._resolveDataElementOptions(d[e],e),a.updateElement(d[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,a=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(a/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,a=i.chart,r=i.getDataset(),o=a.options,s=o.animation,l=a.scale,u=a.data.labels,d=l.xCenter,h=l.yCenter,c=o.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]),g=i._starts[e],p=g+(t.hidden?0:i._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]),v=t._options||{};V.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:h,innerRadius:0,outerRadius:n?m:f,startAngle:n&&s.animateRotate?c:g,endAngle:n&&s.animateRotate?c:p,label:V.valueAtIndexOrDefault(u,e,u[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return V.each(e.data,(function(e,i){isNaN(t.data[i])||e.hidden||n++})),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor,a=V.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=a(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=a(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=a(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),a=e.getMeta();if(isNaN(i.data[t])||a.data[t].hidden)return 0;var r={chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index};return Yt([e.chart.options.elements.arc.angle,2*Math.PI/n],r,t)}});z._set(\"pie\",V.clone(z.doughnut)),z._set(\"pie\",{cutoutPercentage:0});var Xt=Nt,Kt=V.valueOrDefault;z._set(\"radar\",{spanGaps:!1,scale:{type:\"radialLinear\"},elements:{line:{fill:\"start\",tension:0}}});var Zt=nt.extend({datasetElementType:_t.Line,dataElementType:_t.Point,linkScales:V.noop,_datasetElementOptions:[\"backgroundColor\",\"borderWidth\",\"borderColor\",\"borderCapStyle\",\"borderDash\",\"borderDashOffset\",\"borderJoinStyle\",\"fill\"],_dataElementOptions:{backgroundColor:\"pointBackgroundColor\",borderColor:\"pointBorderColor\",borderWidth:\"pointBorderWidth\",hitRadius:\"pointHitRadius\",hoverBackgroundColor:\"pointHoverBackgroundColor\",hoverBorderColor:\"pointHoverBorderColor\",hoverBorderWidth:\"pointHoverBorderWidth\",hoverRadius:\"pointHoverRadius\",pointStyle:\"pointStyle\",radius:\"pointRadius\",rotation:\"pointRotation\"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=s,r._datasetIndex=i.index,r._children=o,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i=this,a=t.custom||{},r=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(e,r.data[e]),l=i._resolveDataElementOptions(t,e),u=i.getMeta().dataset._model,d=n?o.xCenter:s.x,h=n?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:d,y:h,skip:a.skip||isNaN(d)||isNaN(h),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Kt(a.tension,u?u.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,n=t.chart.options,i=nt.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=Kt(e.spanGaps,n.spanGaps),i.tension=Kt(e.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var t,e,n,i,a=this.getMeta(),r=this.chart.chartArea,o=a.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(a.dataset._model.spanGaps&&(o=o.filter((function(t){return!t._model.skip}))),t=0,e=o.length;t<e;++t)n=o[t]._model,i=V.splineCurve(V.previousItem(o,t,!0)._model,n,V.nextItem(o,t,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,r.left,r.right),n.controlPointPreviousY=s(i.previous.y,r.top,r.bottom),n.controlPointNextX=s(i.next.x,r.left,r.right),n.controlPointNextY=s(i.next.y,r.top,r.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Kt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Kt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Kt(n.hoverBorderWidth,n.borderWidth),e.radius=Kt(n.hoverRadius,n.radius)}});z._set(\"scatter\",{hover:{mode:\"single\"},scales:{xAxes:[{id:\"x-axis-1\",type:\"linear\",position:\"bottom\"}],yAxes:[{id:\"y-axis-1\",type:\"linear\",position:\"left\"}]},tooltips:{callbacks:{title:function(){return\"\"},label:function(t){return\"(\"+t.xLabel+\", \"+t.yLabel+\")\"}}}}),z._set(\"global\",{datasets:{scatter:{showLine:!1}}});var $t={bar:Dt,bubble:Ft,doughnut:Nt,horizontalBar:Bt,line:Ut,polarArea:Gt,pie:Xt,radar:Zt,scatter:Ut};function Jt(t,e){return t.native?{x:t.x,y:t.y}:V.getRelativePosition(t,e)}function Qt(t,e){var n,i,a,r,o,s,l=t._getSortedVisibleDatasetMetas();for(i=0,r=l.length;i<r;++i)for(a=0,o=(n=l[i].data).length;a<o;++a)(s=n[a])._view.skip||e(s)}function te(t,e){var n=[];return Qt(t,(function(t){t.inRange(e.x,e.y)&&n.push(t)})),n}function ee(t,e,n,i){var a=Number.POSITIVE_INFINITY,r=[];return Qt(t,(function(t){if(!n||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=i(e,o);s<a?(r=[t],a=s):s===a&&r.push(t)}})),r}function ne(t){var e=-1!==t.indexOf(\"x\"),n=-1!==t.indexOf(\"y\");return function(t,i){var a=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function ie(t,e,n){var i=Jt(e,t);n.axis=n.axis||\"x\";var a=ne(n.axis),r=n.intersect?te(t,i):ee(t,i,!1,a),o=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach((function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&o.push(e)})),o):[]}var ae={modes:{single:function(t,e){var n=Jt(e,t),i=[];return Qt(t,(function(t){if(t.inRange(n.x,n.y))return i.push(t),i})),i.slice(0,1)},label:ie,index:ie,dataset:function(t,e,n){var i=Jt(e,t);n.axis=n.axis||\"xy\";var a=ne(n.axis),r=n.intersect?te(t,i):ee(t,i,!1,a);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},\"x-axis\":function(t,e){return ie(t,e,{intersect:!1})},point:function(t,e){return te(t,Jt(e,t))},nearest:function(t,e,n){var i=Jt(e,t);n.axis=n.axis||\"xy\";var a=ne(n.axis);return ee(t,i,n.intersect,a)},x:function(t,e,n){var i=Jt(e,t),a=[],r=!1;return Qt(t,(function(t){t.inXRange(i.x)&&a.push(t),t.inRange(i.x,i.y)&&(r=!0)})),n.intersect&&!r&&(a=[]),a},y:function(t,e,n){var i=Jt(e,t),a=[],r=!1;return Qt(t,(function(t){t.inYRange(i.y)&&a.push(t),t.inRange(i.x,i.y)&&(r=!0)})),n.intersect&&!r&&(a=[]),a}}},re=V.extend;function oe(t,e){return V.where(t,(function(t){return t.pos===e}))}function se(t,e){return t.sort((function(t,n){var i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight}))}function le(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ue(t,e,n){var i,a,r=n.box,o=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,t[n.pos]+=n.size,r.getPadding){var s=r.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(i=e.outerWidth-le(o,t,\"left\",\"right\"),a=e.outerHeight-le(o,t,\"top\",\"bottom\"),i!==t.w||a!==t.h)return t.w=i,t.h=a,n.horizontal?i!==t.w:a!==t.h}function de(t,e){var n=e.maxPadding;function i(t){var i={left:0,top:0,right:0,bottom:0};return t.forEach((function(t){i[t]=Math.max(e[t],n[t])})),i}return i(t?[\"left\",\"right\"]:[\"top\",\"bottom\"])}function he(t,e,n){var i,a,r,o,s,l,u=[];for(i=0,a=t.length;i<a;++i)(o=(r=t[i]).box).update(r.width||e.w,r.height||e.h,de(r.horizontal,e)),ue(e,n,r)&&(l=!0,u.length&&(s=!0)),o.fullWidth||u.push(r);return s&&he(u,e,n)||l}function ce(t,e,n){var i,a,r,o,s=n.padding,l=e.x,u=e.y;for(i=0,a=t.length;i<a;++i)o=(r=t[i]).box,r.horizontal?(o.left=o.fullWidth?s.left:e.left,o.right=o.fullWidth?n.outerWidth-s.right:e.left+e.w,o.top=u,o.bottom=u+o.height,o.width=o.right-o.left,u=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=u}z._set(\"global\",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var fe,ge={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||\"top\",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,a=[\"fullWidth\",\"position\",\"weight\"],r=a.length,o=0;o<r;++o)i=a[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=t.options.layout||{},a=V.options.toPadding(i.padding),r=e-a.width,o=n-a.height,s=function(t){var e=function(t){var e,n,i,a=[];for(e=0,n=(t||[]).length;e<n;++e)i=t[e],a.push({index:e,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return a}(t),n=se(oe(e,\"left\"),!0),i=se(oe(e,\"right\")),a=se(oe(e,\"top\"),!0),r=se(oe(e,\"bottom\"));return{leftAndTop:n.concat(a),rightAndBottom:i.concat(r),chartArea:oe(e,\"chartArea\"),vertical:n.concat(i),horizontal:a.concat(r)}}(t.boxes),l=s.vertical,u=s.horizontal,d=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:r,vBoxMaxWidth:r/2/l.length,hBoxMaxHeight:o/2}),h=re({maxPadding:re({},a),w:r,h:o,x:a.left,y:a.top},a);!function(t,e){var n,i,a;for(n=0,i=t.length;n<i;++n)(a=t[n]).width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}(l.concat(u),d),he(l,h,d),he(u,h,d)&&he(l,h,d),function(t){var e=t.maxPadding;function n(n){var i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n(\"top\"),t.x+=n(\"left\"),n(\"right\"),n(\"bottom\")}(h),ce(s.leftAndTop,h,d),h.x+=h.w,h.y+=h.h,ce(s.rightAndBottom,h,d),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h},V.each(s.chartArea,(function(e){var n=e.box;re(n,t.chartArea),n.update(h.w,h.h)}))}}},pe=(fe=Object.freeze({__proto__:null,default:\"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}\"}))&&fe.default||fe,me=\"$chartjs\",ve=\"chartjs-size-monitor\",be=\"chartjs-render-monitor\",xe=\"chartjs-render-animation\",ye=[\"animationstart\",\"webkitAnimationStart\"],_e={touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\",pointerenter:\"mouseenter\",pointerdown:\"mousedown\",pointermove:\"mousemove\",pointerup:\"mouseup\",pointerleave:\"mouseout\",pointerout:\"mouseout\"};function ke(t,e){var n=V.getStyle(t,e),i=n&&n.match(/^(\\d+)(\\.\\d+)?px$/);return i?Number(i[1]):void 0}var we=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"e\",null,e)}catch(t){}return t}()&&{passive:!0};function Me(t,e,n){t.addEventListener(e,n,we)}function Se(t,e,n){t.removeEventListener(e,n,we)}function Ce(t,e,n,i,a){return{type:t,chart:e,native:a||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function Pe(t){var e=document.createElement(\"div\");return e.className=t||\"\",e}function Ae(t,e,n){var i,a,r,o,s=t[me]||(t[me]={}),l=s.resizer=function(t){var e=Pe(ve),n=Pe(ve+\"-expand\"),i=Pe(ve+\"-shrink\");n.appendChild(Pe()),i.appendChild(Pe()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var a=function(){e._reset(),t()};return Me(n,\"scroll\",a.bind(n,\"expand\")),Me(i,\"scroll\",a.bind(i,\"shrink\")),e}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&t.parentNode,a=i?i.clientWidth:0;e(Ce(\"resize\",n)),i&&i.clientWidth<a&&n.canvas&&e(Ce(\"resize\",n))}},r=!1,o=[],function(){o=Array.prototype.slice.call(arguments),a=a||this,r||(r=!0,V.requestAnimFrame.call(window,(function(){r=!1,i.apply(a,o)})))}));!function(t,e){var n=t[me]||(t[me]={}),i=n.renderProxy=function(t){t.animationName===xe&&e()};V.each(ye,(function(e){Me(t,e,i)})),n.reflow=!!t.offsetParent,t.classList.add(be)}(t,(function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}}))}function De(t){var e=t[me]||{},n=e.resizer;delete e.resizer,function(t){var e=t[me]||{},n=e.renderProxy;n&&(V.each(ye,(function(e){Se(t,e,n)})),delete e.renderProxy),t.classList.remove(be)}(t),n&&n.parentNode&&n.parentNode.removeChild(n)}var Te={disableCSSInjection:!1,_enabled:\"undefined\"!=typeof window&&\"undefined\"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var n=t[me]||(t[me]={});if(!n.containsStyles){n.containsStyles=!0,e=\"/* Chart.js */\\n\"+e;var i=document.createElement(\"style\");i.setAttribute(\"type\",\"text/css\"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(e.host?e:document.head,pe)}},acquireContext:function(t,e){\"string\"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext(\"2d\");return n&&n.canvas===t?(this._ensureLoaded(t),function(t,e){var n=t.style,i=t.getAttribute(\"height\"),a=t.getAttribute(\"width\");if(t[me]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||\"block\",null===a||\"\"===a){var r=ke(t,\"width\");void 0!==r&&(t.width=r)}if(null===i||\"\"===i)if(\"\"===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=ke(t,\"height\");void 0!==r&&(t.height=o)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[me]){var n=e[me].initial;[\"height\",\"width\"].forEach((function(t){var i=n[t];V.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)})),V.each(n.style||{},(function(t,n){e.style[n]=t})),e.width=e.width,delete e[me]}},addEventListener:function(t,e,n){var i=t.canvas;if(\"resize\"!==e){var a=n[me]||(n[me]={});Me(i,e,(a.proxies||(a.proxies={}))[t.id+\"_\"+e]=function(e){n(function(t,e){var n=_e[t.type]||t.type,i=V.getRelativePosition(t,e);return Ce(n,e,i.x,i.y,t)}(e,t))})}else Ae(i,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if(\"resize\"!==e){var a=((n[me]||{}).proxies||{})[t.id+\"_\"+e];a&&Se(i,e,a)}else De(i)}};V.addEvent=Me,V.removeEvent=Se;var Ie=Te._enabled?Te:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext(\"2d\")||null}},Fe=V.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ie);z._set(\"global\",{plugins:{}});var Le={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,a,r,o,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if(\"function\"==typeof(s=(r=(a=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(a.options),!1===s.apply(r,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],a=t&&t.config||{},r=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach((function(t){if(-1===n.indexOf(t)){var e=t.id,a=r[e];!1!==a&&(!0===a&&(a=V.clone(z.global.plugins[e])),n.push(t),i.push({plugin:t,options:a||{}}))}})),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},Oe={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=V.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?V.merge({},[z.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=V.extend(this.defaults[t],e))},addScalesToLayout:function(t){V.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,ge.addBox(t,e)}))}},Re=V.valueOrDefault,ze=V.rtl.getRtlAdapter;z._set(\"global\",{tooltips:{enabled:!0,custom:null,mode:\"nearest\",position:\"average\",intersect:!0,backgroundColor:\"rgba(0,0,0,0.8)\",titleFontStyle:\"bold\",titleSpacing:2,titleMarginBottom:6,titleFontColor:\"#fff\",titleAlign:\"left\",bodySpacing:2,bodyFontColor:\"#fff\",bodyAlign:\"left\",footerFontStyle:\"bold\",footerSpacing:2,footerMarginTop:6,footerFontColor:\"#fff\",footerAlign:\"left\",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:\"#fff\",displayColors:!0,borderColor:\"rgba(0,0,0,0)\",borderWidth:0,callbacks:{beforeTitle:V.noop,title:function(t,e){var n=\"\",i=e.labels,a=i?i.length:0;if(t.length>0){var r=t[0];r.label?n=r.label:r.xLabel?n=r.xLabel:a>0&&r.index<a&&(n=i[r.index])}return n},afterTitle:V.noop,beforeBody:V.noop,beforeLabel:V.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||\"\";return n&&(n+=\": \"),V.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:V.noop,afterBody:V.noop,beforeFooter:V.noop,footer:V.noop,afterFooter:V.noop}}});var Ne={average:function(t){if(!t.length)return!1;var e,n,i=0,a=0,r=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,a+=s.y,++r}}return{x:i/r,y:a/r}},nearest:function(t,e){var n,i,a,r=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),d=V.distanceBetweenPoints(e,u);d<s&&(s=d,a=l)}}if(a){var h=a.tooltipPosition();r=h.x,o=h.y}return{x:r,y:o}}};function Be(t,e){return e&&(V.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ee(t){return(\"string\"==typeof t||t instanceof String)&&t.indexOf(\"\\n\")>-1?t.split(\"\\n\"):t}function We(t){var e=z.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Re(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Re(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Re(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Re(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Re(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Re(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Re(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Re(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Re(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Ve(t,e){return\"center\"===e?t.x+t.width/2:\"right\"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function He(t){return Be([],Ee(t))}var je=X.extend({initialize:function(){this._model=We(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),a=n.title.apply(t,arguments),r=n.afterTitle.apply(t,arguments),o=[];return o=Be(o,Ee(i)),o=Be(o,Ee(a)),o=Be(o,Ee(r))},getBeforeBody:function(){return He(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,a=[];return V.each(t,(function(t){var r={before:[],lines:[],after:[]};Be(r.before,Ee(i.beforeLabel.call(n,t,e))),Be(r.lines,i.label.call(n,t,e)),Be(r.after,Ee(i.afterLabel.call(n,t,e))),a.push(r)})),a},getAfterBody:function(){return He(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),a=e.afterFooter.apply(t,arguments),r=[];return r=Be(r,Ee(n)),r=Be(r,Ee(i)),r=Be(r,Ee(a))},update:function(t){var e,n,i,a,r,o,s,l,u,d,h=this,c=h._options,f=h._model,g=h._model=We(c),p=h._active,m=h._data,v={xAlign:f.xAlign,yAlign:f.yAlign},b={x:f.x,y:f.y},x={width:f.width,height:f.height},y={x:f.caretX,y:f.caretY};if(p.length){g.opacity=1;var _=[],k=[];y=Ne[c.position].call(h,p,h._eventPosition);var w=[];for(e=0,n=p.length;e<n;++e)w.push((i=p[e],a=void 0,r=void 0,o=void 0,s=void 0,l=void 0,u=void 0,d=void 0,a=i._xScale,r=i._yScale||i._scale,o=i._index,s=i._datasetIndex,l=i._chart.getDatasetMeta(s).controller,u=l._getIndexScale(),d=l._getValueScale(),{xLabel:a?a.getLabelForIndex(o,s):\"\",yLabel:r?r.getLabelForIndex(o,s):\"\",label:u?\"\"+u.getLabelForIndex(o,s):\"\",value:d?\"\"+d.getLabelForIndex(o,s):\"\",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));c.filter&&(w=w.filter((function(t){return c.filter(t,m)}))),c.itemSort&&(w=w.sort((function(t,e){return c.itemSort(t,e,m)}))),V.each(w,(function(t){_.push(c.callbacks.labelColor.call(h,t,h._chart)),k.push(c.callbacks.labelTextColor.call(h,t,h._chart))})),g.title=h.getTitle(w,m),g.beforeBody=h.getBeforeBody(w,m),g.body=h.getBody(w,m),g.afterBody=h.getAfterBody(w,m),g.footer=h.getFooter(w,m),g.x=y.x,g.y=y.y,g.caretPadding=c.caretPadding,g.labelColors=_,g.labelTextColors=k,g.dataPoints=w,x=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,a=0,r=e.body,o=r.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,d=e.bodyFontSize,h=e.footerFontSize;i+=s*u,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*d,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*h,i+=l?(l-1)*e.footerSpacing:0;var c=0,f=function(t){a=Math.max(a,n.measureText(t).width+c)};return n.font=V.fontString(u,e._titleFontStyle,e._titleFontFamily),V.each(e.title,f),n.font=V.fontString(d,e._bodyFontStyle,e._bodyFontFamily),V.each(e.beforeBody.concat(e.afterBody),f),c=e.displayColors?d+2:0,V.each(r,(function(t){V.each(t.before,f),V.each(t.lines,f),V.each(t.after,f)})),c=0,n.font=V.fontString(h,e._footerFontStyle,e._footerFontFamily),V.each(e.footer,f),{width:a+=2*e.xPadding,height:i}}(this,g),b=function(t,e,n,i){var a=t.x,r=t.y,o=t.caretSize,s=t.caretPadding,l=t.cornerRadius,u=n.xAlign,d=n.yAlign,h=o+s,c=l+s;return\"right\"===u?a-=e.width:\"center\"===u&&((a-=e.width/2)+e.width>i.width&&(a=i.width-e.width),a<0&&(a=0)),\"top\"===d?r+=h:r-=\"bottom\"===d?e.height+h:e.height/2,\"center\"===d?\"left\"===u?a+=h:\"right\"===u&&(a-=h):\"left\"===u?a-=c:\"right\"===u&&(a+=c),{x:a,y:r}}(g,x,v=function(t,e){var n,i,a,r,o,s=t._model,l=t._chart,u=t._chart.chartArea,d=\"center\",h=\"center\";s.y<e.height?h=\"top\":s.y>l.height-e.height&&(h=\"bottom\");var c=(u.left+u.right)/2,f=(u.top+u.bottom)/2;\"center\"===h?(n=function(t){return t<=c},i=function(t){return t>c}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),a=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},r=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=f?\"top\":\"bottom\"},n(s.x)?(d=\"left\",a(s.x)&&(d=\"center\",h=o(s.y))):i(s.x)&&(d=\"right\",r(s.x)&&(d=\"center\",h=o(s.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:d,yAlign:g.yAlign?g.yAlign:h}}(this,x),h._chart)}else g.opacity=0;return g.xAlign=v.xAlign,g.yAlign=v.yAlign,g.x=b.x,g.y=b.y,g.width=x.width,g.height=x.height,g.caretX=y.x,g.caretY=y.y,h._model=g,t&&c.custom&&c.custom.call(h,g),h},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,a=this.getCaretPosition(t,e,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,n){var i,a,r,o,s,l,u=n.caretSize,d=n.cornerRadius,h=n.xAlign,c=n.yAlign,f=t.x,g=t.y,p=e.width,m=e.height;if(\"center\"===c)s=g+m/2,\"left\"===h?(a=(i=f)-u,r=i,o=s+u,l=s-u):(a=(i=f+p)+u,r=i,o=s-u,l=s+u);else if(\"left\"===h?(i=(a=f+d+u)-u,r=a+u):\"right\"===h?(i=(a=f+p-d-u)-u,r=a+u):(i=(a=n.caretX)-u,r=a+u),\"top\"===c)s=(o=g)-u,l=o;else{s=(o=g+m)+u,l=o;var v=r;r=i,i=v}return{x1:i,x2:a,x3:r,y1:o,y2:s,y3:l}},drawTitle:function(t,e,n){var i,a,r,o=e.title,s=o.length;if(s){var l=ze(e.rtl,e.x,e.width);for(t.x=Ve(e,e._titleAlign),n.textAlign=l.textAlign(e._titleAlign),n.textBaseline=\"middle\",i=e.titleFontSize,a=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=V.fontString(i,e._titleFontStyle,e._titleFontFamily),r=0;r<s;++r)n.fillText(o[r],l.x(t.x),t.y+i/2),t.y+=i+a,r+1===s&&(t.y+=e.titleMarginBottom-a)}},drawBody:function(t,e,n){var i,a,r,o,s,l,u,d,h=e.bodyFontSize,c=e.bodySpacing,f=e._bodyAlign,g=e.body,p=e.displayColors,m=0,v=p?Ve(e,\"left\"):0,b=ze(e.rtl,e.x,e.width),x=function(e){n.fillText(e,b.x(t.x+m),t.y+h/2),t.y+=h+c},y=b.textAlign(f);for(n.textAlign=f,n.textBaseline=\"middle\",n.font=V.fontString(h,e._bodyFontStyle,e._bodyFontFamily),t.x=Ve(e,y),n.fillStyle=e.bodyFontColor,V.each(e.beforeBody,x),m=p&&\"right\"!==y?\"center\"===f?h/2+1:h+2:0,s=0,u=g.length;s<u;++s){for(i=g[s],a=e.labelTextColors[s],r=e.labelColors[s],n.fillStyle=a,V.each(i.before,x),l=0,d=(o=i.lines).length;l<d;++l){if(p){var _=b.x(v);n.fillStyle=e.legendColorBackground,n.fillRect(b.leftForLtr(_,h),t.y,h,h),n.lineWidth=1,n.strokeStyle=r.borderColor,n.strokeRect(b.leftForLtr(_,h),t.y,h,h),n.fillStyle=r.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(_,1),h-2),t.y+1,h-2,h-2),n.fillStyle=a}x(o[l])}V.each(i.after,x)}m=0,V.each(e.afterBody,x),t.y-=c},drawFooter:function(t,e,n){var i,a,r=e.footer,o=r.length;if(o){var s=ze(e.rtl,e.x,e.width);for(t.x=Ve(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=s.textAlign(e._footerAlign),n.textBaseline=\"middle\",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=V.fontString(i,e._footerFontStyle,e._footerFontFamily),a=0;a<o;++a)n.fillText(r[a],s.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var a=e.xAlign,r=e.yAlign,o=t.x,s=t.y,l=i.width,u=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(o+d,s),\"top\"===r&&this.drawCaret(t,i),n.lineTo(o+l-d,s),n.quadraticCurveTo(o+l,s,o+l,s+d),\"center\"===r&&\"right\"===a&&this.drawCaret(t,i),n.lineTo(o+l,s+u-d),n.quadraticCurveTo(o+l,s+u,o+l-d,s+u),\"bottom\"===r&&this.drawCaret(t,i),n.lineTo(o+d,s+u),n.quadraticCurveTo(o,s+u,o,s+u-d),\"center\"===r&&\"left\"===a&&this.drawCaret(t,i),n.lineTo(o,s+d),n.quadraticCurveTo(o,s,o+d,s),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(t.save(),t.globalAlpha=a,this.drawBackground(i,e,t,n),i.y+=e.yPadding,V.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),V.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],\"mouseout\"===t.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&n._active.reverse()),(e=!V.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),qe=Ne,Ue=je;Ue.positioners=qe;var Ye=V.valueOrDefault;function Ge(){return V.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){if(\"xAxes\"===t||\"yAxes\"===t){var a,r,o,s=n[t].length;for(e[t]||(e[t]=[]),a=0;a<s;++a)o=n[t][a],r=Ye(o.type,\"xAxes\"===t?\"category\":\"linear\"),a>=e[t].length&&e[t].push({}),!e[t][a].type||o.type&&o.type!==e[t][a].type?V.merge(e[t][a],[Oe.getScaleDefaults(r),o]):V.merge(e[t][a],o)}else V._merger(t,e,n,i)}})}function Xe(){return V.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){var a=e[t]||{},r=n[t];\"scales\"===t?e[t]=Ge(a,r):\"scale\"===t?e[t]=V.merge(a,[Oe.getScaleDefaults(r.type),r]):V._merger(t,e,n,i)}})}function Ke(t){var e=t.options;V.each(t.scales,(function(e){ge.removeBox(t,e)})),e=Xe(z.global,z[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Ze(t,e,n){var i,a=function(t){return t.id===i};do{i=e+n++}while(V.findIndex(t,a)>=0);return i}function $e(t){return\"top\"===t||\"bottom\"===t}function Je(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}z._set(\"global\",{elements:{},events:[\"mousemove\",\"mouseout\",\"click\",\"touchstart\",\"touchmove\"],hover:{onHover:null,mode:\"nearest\",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Qe=function(t,e){return this.construct(t,e),this};V.extend(Qe.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Xe(z.global,z[t.type],t.options||{}),t}(e);var i=Fe.acquireContext(t,e),a=i&&i.canvas,r=a&&a.height,o=a&&a.width;n.id=V.uid(),n.ctx=i,n.canvas=a,n.config=e,n.width=o,n.height=r,n.aspectRatio=r?o/r:null,n.options=e.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Qe.instances[n.id]=n,Object.defineProperty(n,\"data\",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&a?(n.initialize(),n.update()):console.error(\"Failed to create chart: can't acquire context from the given item\")},initialize:function(){var t=this;return Le.notify(t,\"beforeInit\"),V.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),Le.notify(t,\"afterInit\"),t},clear:function(){return V.canvas.clear(this),this},stop:function(){return $.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,a=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(V.getMaximumWidth(i))),o=Math.max(0,Math.floor(a?r/a:V.getMaximumHeight(i)));if((e.width!==r||e.height!==o)&&(i.width=e.width=r,i.height=e.height=o,i.style.width=r+\"px\",i.style.height=o+\"px\",V.retinaScale(e,n.devicePixelRatio),!t)){var s={width:r,height:o};Le.notify(e,\"resize\",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;V.each(e.xAxes,(function(t,n){t.id||(t.id=Ze(e.xAxes,\"x-axis-\",n))})),V.each(e.yAxes,(function(t,n){t.id||(t.id=Ze(e.yAxes,\"y-axis-\",n))})),n&&(n.id=n.id||\"scale\")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],a=Object.keys(n).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:\"category\",dposition:\"bottom\"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:\"linear\",dposition:\"left\"}})))),e.scale&&i.push({options:e.scale,dtype:\"radialLinear\",isDefault:!0,dposition:\"chartArea\"}),V.each(i,(function(e){var i=e.options,r=i.id,o=Ye(i.type,e.dtype);$e(i.position)!==$e(e.dposition)&&(i.position=e.dposition),a[r]=!0;var s=null;if(r in n&&n[r].type===o)(s=n[r]).options=i,s.ctx=t.ctx,s.chart=t;else{var l=Oe.getScaleConstructor(o);if(!l)return;s=new l({id:r,type:o,options:i,ctx:t.ctx,chart:t}),n[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)})),V.each(a,(function(t,e){t||delete n[e]})),t.scales=n,Oe.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=this,i=[],a=n.data.datasets;for(t=0,e=a.length;t<e;t++){var r=a[t],o=n.getDatasetMeta(t),s=r.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(t),o=n.getDatasetMeta(t)),o.type=s,o.order=r.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var l=$t[o.type];if(void 0===l)throw new Error('\"'+o.type+'\" is not a chart type.');o.controller=new l(n,t),i.push(o.controller)}}return i},resetElements:function(){var t=this;V.each(t.data.datasets,(function(e,n){t.getDatasetMeta(n).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i=this;if(t&&\"object\"==typeof t||(t={duration:t,lazy:arguments[1]}),Ke(i),Le._invalidate(i),!1!==Le.notify(i,\"beforeUpdate\")){i.tooltip._data=i.data;var a=i.buildOrUpdateControllers();for(e=0,n=i.data.datasets.length;e<n;e++)i.getDatasetMeta(e).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&V.each(a,(function(t){t.reset()})),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],Le.notify(i,\"afterUpdate\"),i._layers.sort(Je(\"z\",\"_idx\")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){var t=this;!1!==Le.notify(t,\"beforeLayout\")&&(ge.update(this,this.width,this.height),t._layers=[],V.each(t.boxes,(function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())}),t),t._layers.forEach((function(t,e){t._idx=e})),Le.notify(t,\"afterScaleUpdate\"),Le.notify(t,\"afterLayout\"))},updateDatasets:function(){if(!1!==Le.notify(this,\"beforeDatasetsUpdate\")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Le.notify(this,\"afterDatasetsUpdate\")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==Le.notify(this,\"beforeDatasetUpdate\",[n])&&(e.controller._update(),Le.notify(this,\"afterDatasetUpdate\",[n]))},render:function(t){var e=this;t&&\"object\"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=Ye(t.duration,n&&n.duration),a=t.lazy;if(!1!==Le.notify(e,\"beforeRender\")){var r=function(t){Le.notify(e,\"afterRender\"),V.callback(n&&n.onComplete,[t],e)};if(n&&i){var o=new Z({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=V.easing.effects[e.easing],i=e.currentStep,a=i/e.numSteps;t.draw(n(a),a,i)},onAnimationProgress:n.onProgress,onAnimationComplete:r});$.addAnimation(e,o,i,a)}else e.draw(),r(new Z({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),V.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&!1!==Le.notify(i,\"beforeDraw\",[t])){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),Le.notify(i,\"afterDraw\",[t])}},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=[];for(e=0,n=(this.data.datasets||[]).length;e<n;++e)t&&!this.isDatasetVisible(e)||i.push(this.getDatasetMeta(e));return i.sort(Je(\"order\",\"index\")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n;if(!1!==Le.notify(this,\"beforeDatasetsDraw\",[t])){for(n=(e=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(e[n],t);Le.notify(this,\"afterDatasetsDraw\",[t])}},drawDataset:function(t,e){var n={meta:t,index:t.index,easingValue:e};!1!==Le.notify(this,\"beforeDatasetDraw\",[n])&&(t.controller.draw(e),Le.notify(this,\"afterDatasetDraw\",[n]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==Le.notify(this,\"beforeTooltipDraw\",[n])&&(e.draw(),Le.notify(this,\"afterTooltipDraw\",[n]))},getElementAtEvent:function(t){return ae.modes.single(this,t)},getElementsAtEvent:function(t){return ae.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ae.modes[\"x-axis\"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=ae.modes[e];return\"function\"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return ae.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return\"boolean\"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),V.canvas.clear(n),Fe.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Le.notify(n,\"destroy\"),delete Qe.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Ue({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};V.each(t.options.events,(function(i){Fe.addEventListener(t,i,n),e[i]=n})),t.options.responsive&&(n=function(){t.resize()},Fe.addEventListener(t,\"resize\",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,V.each(e,(function(e,n){Fe.removeEventListener(t,n,e)})))},updateHoverStyle:function(t,e,n){var i,a,r,o=n?\"set\":\"remove\";for(a=0,r=t.length;a<r;++a)(i=t[a])&&this.getDatasetMeta(i._datasetIndex).controller[o+\"HoverStyle\"](i);\"dataset\"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller[\"_\"+o+\"DatasetHoverStyle\"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==Le.notify(e,\"beforeEvent\",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),Le.notify(e,\"afterEvent\",[t]);var a=e._bufferedRequest;return a?e.render(a):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},a=i.hover;return n.lastActive=n.lastActive||[],\"mouseout\"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,a.mode,a),V.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),\"mouseup\"!==t.type&&\"click\"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,a.mode,!1),n.active.length&&a.mode&&n.updateHoverStyle(n.active,a.mode,!0),e=!V.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Qe.instances={};var tn=Qe;Qe.Controller=Qe,Qe.types={},V.configMerge=Xe,V.scaleMerge=Ge;function en(){throw new Error(\"This method is not implemented: either no adapter can be found or an incomplete integration was provided.\")}function nn(t){this.options=t||{}}V.extend(nn.prototype,{formats:en,parse:en,format:en,add:en,diff:en,startOf:en,endOf:en,_create:function(t){return t}}),nn.override=function(t){V.extend(nn.prototype,t)};var an={_date:nn},rn={formatters:{values:function(t){return V.isArray(t)?t:\"\"+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var a=V.log10(Math.abs(i)),r=\"\";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=V.log10(Math.abs(t)),s=Math.floor(o)-Math.floor(a);s=Math.max(Math.min(s,20),0),r=t.toExponential(s)}else{var l=-1*Math.floor(a);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r=\"0\";return r},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(V.log10(t)));return 0===t?\"0\":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():\"\"}}},on=V.isArray,sn=V.isNullOrUndef,ln=V.valueOrDefault,un=V.valueAtIndexOrDefault;function dn(t,e,n){var i,a=t.getTicks().length,r=Math.min(e,a-1),o=t.getPixelForTick(r),s=t._startPixel,l=t._endPixel;if(!(n&&(i=1===a?Math.max(o-s,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(r-1))/2,(o+=r<e?i:-i)<s-1e-6||o>l+1e-6)))return o}function hn(t,e,n,i){var a,r,o,s,l,u,d,h,c,f,g,p,m,v=n.length,b=[],x=[],y=[];for(a=0;a<v;++a){if(s=n[a].label,l=n[a].major?e.major:e.minor,t.font=u=l.string,d=i[u]=i[u]||{data:{},gc:[]},h=l.lineHeight,c=f=0,sn(s)||on(s)){if(on(s))for(r=0,o=s.length;r<o;++r)g=s[r],sn(g)||on(g)||(c=V.measureText(t,d.data,d.gc,c,g),f+=h)}else c=V.measureText(t,d.data,d.gc,c,s),f=h;b.push(c),x.push(f),y.push(h/2)}function _(t){return{width:b[t]||0,height:x[t]||0,offset:y[t]||0}}return function(t,e){V.each(t,(function(t){var n,i=t.gc,a=i.length/2;if(a>e){for(n=0;n<a;++n)delete t.data[i[n]];i.splice(0,a)}}))}(i,v),p=b.indexOf(Math.max.apply(null,b)),m=x.indexOf(Math.max.apply(null,x)),{first:_(0),last:_(v-1),widest:_(p),highest:_(m)}}function cn(t){return t.drawTicks?t.tickMarkLength:0}function fn(t){var e,n;return t.display?(e=V.options._parseFont(t),n=V.options.toPadding(t.padding),e.lineHeight+n.height):0}function gn(t,e){return V.extend(V.options._parseFont({fontFamily:ln(e.fontFamily,t.fontFamily),fontSize:ln(e.fontSize,t.fontSize),fontStyle:ln(e.fontStyle,t.fontStyle),lineHeight:ln(e.lineHeight,t.lineHeight)}),{color:V.options.resolve([e.fontColor,t.fontColor,z.global.defaultFontColor])})}function pn(t){var e=gn(t,t.minor);return{minor:e,major:t.major.enabled?gn(t,t.major):e}}function mn(t){var e,n,i,a=[];for(n=0,i=t.length;n<i;++n)void 0!==(e=t[n])._index&&a.push(e);return a}function vn(t,e,n,i){var a,r,o,s,l=ln(n,0),u=Math.min(ln(i,t.length),t.length),d=0;for(e=Math.ceil(e),i&&(e=(a=i-n)/Math.floor(a/e)),s=l;s<0;)d++,s=Math.round(l+d*e);for(r=Math.max(l,0);r<u;r++)o=t[r],r===s?(o._index=r,d++,s=Math.round(l+d*e)):delete o.label}z._set(\"scale\",{display:!0,position:\"left\",offset:!1,gridLines:{display:!0,color:\"rgba(0,0,0,0.1)\",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:\"rgba(0,0,0,0.25)\",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:\"\",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:rn.formatters.values,minor:{},major:{}}});var bn=X.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,a,r,o,s,l=this,u=l.options.ticks,d=u.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=V.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],i=0,a=l.ticks.length;i<a;++i)o.push({value:l.ticks[i],major:!1});return l._ticks=o,s=d<o.length,r=l._convertTicksToLabels(s?function(t,e){for(var n=[],i=t.length/e,a=0,r=t.length;a<r;a+=i)n.push(t[Math.floor(a)]);return n}(o,d):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=u.display&&(u.autoSkip||\"auto\"===u.source)?l._autoSkip(o):o,s&&(r=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=r,l.afterUpdate(),l.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(t){var e=this;return on(t)&&t.length?V.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=V.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,a,r,o,s=this,l=s.options,u=l.ticks,d=s.getTicks().length,h=u.minRotation||0,c=u.maxRotation,f=h;!s._isVisible()||!u.display||h>=c||d<=1||!s.isHorizontal()?s.labelRotation=h:(e=(t=s._getLabelSizes()).widest.width,n=t.highest.height-t.highest.offset,i=Math.min(s.maxWidth,s.chart.width-e),e+6>(a=l.offset?s.maxWidth/d:i/(d-1))&&(a=i/(d-(l.offset?.5:1)),r=s.maxHeight-cn(l.gridLines)-u.padding-fn(l.scaleLabel),o=Math.sqrt(e*e+n*n),f=V.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/a,1)),Math.asin(Math.min(r/o,1))-Math.asin(n/o))),f=Math.max(h,Math.min(c,f))),s.labelRotation=f)},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,a=i.ticks,r=i.scaleLabel,o=i.gridLines,s=t._isVisible(),l=\"bottom\"===i.position,u=t.isHorizontal();if(u?e.width=t.maxWidth:s&&(e.width=cn(o)+fn(r)),u?s&&(e.height=cn(o)+fn(r)):e.height=t.maxHeight,a.display&&s){var d=pn(a),h=t._getLabelSizes(),c=h.first,f=h.last,g=h.widest,p=h.highest,m=.4*d.minor.lineHeight,v=a.padding;if(u){var b=0!==t.labelRotation,x=V.toRadians(t.labelRotation),y=Math.cos(x),_=Math.sin(x),k=_*g.width+y*(p.height-(b?p.offset:0))+(b?0:m);e.height=Math.min(t.maxHeight,e.height+k+v);var w,M,S=t.getPixelForTick(0)-t.left,C=t.right-t.getPixelForTick(t.getTicks().length-1);b?(w=l?y*c.width+_*c.offset:_*(c.height-c.offset),M=l?_*(f.height-f.offset):y*f.width+_*f.offset):(w=c.width/2,M=f.width/2),t.paddingLeft=Math.max((w-S)*t.width/(t.width-S),0)+3,t.paddingRight=Math.max((M-C)*t.width/(t.width-C),0)+3}else{var P=a.mirror?0:g.width+v+m;e.width=Math.min(t.maxWidth,e.width+P),t.paddingTop=c.height/2,t.paddingBottom=f.height/2}}t.handleMargins(),u?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return\"top\"===t||\"bottom\"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(sn(t))return NaN;if((\"number\"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i,a=this;for(a.ticks=t.map((function(t){return t.value})),a.beforeTickToLabelConversion(),e=a.convertTicksToLabels(t)||a.ticks,a.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=hn(t.ctx,pn(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,n,i,a;return on(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),a=Math.max(e,n)):(e=void 0,n=t=+this.getRightValue(t),i=t,a=t),{min:i,max:a,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?\"[\"+e.start+\", \"+e.end+\"]\":+this.getRightValue(t)},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(t){var e=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(e?0:1),1);return t<0||t>n-1?null:this.getPixelForDecimal(t*i+(e?i/2:0))},getPixelForDecimal:function(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,i,a,r=this.options.ticks,o=this._length,s=r.maxTicksLimit||o/this._tickSize()+1,l=r.major.enabled?function(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(t):[],u=l.length,d=l[0],h=l[u-1];if(u>s)return function(t,e,n){var i,a,r=0,o=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)a=t[i],i===o?(a._index=i,o=e[++r*n]):delete a.label}(t,l,u/s),mn(t);if(i=function(t,e,n,i){var a,r,o,s,l=function(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),u=(e.length-1)/i;if(!l)return Math.max(u,1);for(o=0,s=(a=V.math._factorize(l)).length-1;o<s;o++)if((r=a[o])>u)return r;return Math.max(u,1)}(l,t,0,s),u>0){for(e=0,n=u-1;e<n;e++)vn(t,i,l[e],l[e+1]);return a=u>1?(h-d)/(u-1):null,vn(t,i,V.isNullOrUndef(a)?0:d-a,d),vn(t,i,h,V.isNullOrUndef(a)?t.length:h+a),mn(t)}return vn(t,i),mn(t)},_tickSize:function(){var t=this.options.ticks,e=V.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),a=this._getLabelSizes(),r=t.autoSkipPadding||0,o=a?a.widest.width+r:0,s=a?a.highest.height+r:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i},_isVisible:function(){var t,e,n,i=this.chart,a=this.options.display;if(\"auto\"!==a)return!!a;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,a,r,o,s,l,u,d,h,c,f,g,p,m,v,b=this,x=b.chart,y=b.options,_=y.gridLines,k=y.position,w=_.offsetGridLines,M=b.isHorizontal(),S=b._ticksToDraw,C=S.length+(w?1:0),P=cn(_),A=[],D=_.drawBorder?un(_.lineWidth,0,0):0,T=D/2,I=V._alignPixel,F=function(t){return I(x,t,D)};for(\"top\"===k?(e=F(b.bottom),s=b.bottom-P,u=e-T,h=F(t.top)+T,f=t.bottom):\"bottom\"===k?(e=F(b.top),h=t.top,f=F(t.bottom)-T,s=e+T,u=b.top+P):\"left\"===k?(e=F(b.right),o=b.right-P,l=e-T,d=F(t.left)+T,c=t.right):(e=F(b.left),d=t.left,c=F(t.right)-T,o=e+T,l=b.left+P),n=0;n<C;++n)i=S[n]||{},sn(i.label)&&n<S.length||(n===b.zeroLineIndex&&y.offset===w?(g=_.zeroLineWidth,p=_.zeroLineColor,m=_.zeroLineBorderDash||[],v=_.zeroLineBorderDashOffset||0):(g=un(_.lineWidth,n,1),p=un(_.color,n,\"rgba(0,0,0,0.1)\"),m=_.borderDash||[],v=_.borderDashOffset||0),void 0!==(a=dn(b,i._index||n,w))&&(r=I(x,a,g),M?o=l=d=c=r:s=u=h=f=r,A.push({tx1:o,ty1:s,tx2:l,ty2:u,x1:d,y1:h,x2:c,y2:f,width:g,color:p,borderDash:m,borderDashOffset:v})));return A.ticksLength=C,A.borderValue=e,A},_computeLabelItems:function(){var t,e,n,i,a,r,o,s,l,u,d,h,c=this,f=c.options,g=f.ticks,p=f.position,m=g.mirror,v=c.isHorizontal(),b=c._ticksToDraw,x=pn(g),y=g.padding,_=cn(f.gridLines),k=-V.toRadians(c.labelRotation),w=[];for(\"top\"===p?(r=c.bottom-_-y,o=k?\"left\":\"center\"):\"bottom\"===p?(r=c.top+_+y,o=k?\"right\":\"center\"):\"left\"===p?(a=c.right-(m?0:_)-y,o=m?\"left\":\"right\"):(a=c.left+(m?0:_)+y,o=m?\"right\":\"left\"),t=0,e=b.length;t<e;++t)i=(n=b[t]).label,sn(i)||(s=c.getPixelForTick(n._index||t)+g.labelOffset,u=(l=n.major?x.major:x.minor).lineHeight,d=on(i)?i.length:1,v?(a=s,h=\"top\"===p?((k?1:.5)-d)*u:(k?0:.5)*u):(r=s,h=(1-d)*u/2),w.push({x:a,y:r,rotation:k,label:i,font:l,textOffset:h,textAlign:o}));return w},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,a,r,o,s,l=e.ctx,u=e.chart,d=V._alignPixel,h=n.drawBorder?un(n.lineWidth,0,0):0,c=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,o=c.length;r<o;++r)i=(s=c[r]).width,a=s.color,i&&a&&(l.save(),l.lineWidth=i,l.strokeStyle=a,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(h){var f,g,p,m,v=h,b=un(n.lineWidth,c.ticksLength-1,1),x=c.borderValue;e.isHorizontal()?(f=d(u,e.left,v)-v/2,g=d(u,e.right,b)+b/2,p=m=x):(p=d(u,e.top,v)-v/2,m=d(u,e.bottom,b)+b/2,f=g=x),l.lineWidth=h,l.strokeStyle=un(n.color,0),l.beginPath(),l.moveTo(f,p),l.lineTo(g,m),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,n,i,a,r,o,s,l,u=t.ctx,d=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,i=d.length;e<i;++e){if(o=(r=d[e]).font,u.save(),u.translate(r.x,r.y),u.rotate(r.rotation),u.font=o.string,u.fillStyle=o.color,u.textBaseline=\"middle\",u.textAlign=r.textAlign,s=r.label,l=r.textOffset,on(s))for(n=0,a=s.length;n<a;++n)u.fillText(\"\"+s[n],0,l),l+=o.lineHeight;else u.fillText(s,0,l);u.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var a,r,o=ln(i.fontColor,z.global.defaultFontColor),s=V.options._parseFont(i),l=V.options.toPadding(i.padding),u=s.lineHeight/2,d=n.position,h=0;if(t.isHorizontal())a=t.left+t.width/2,r=\"bottom\"===d?t.bottom-u-l.bottom:t.top+u+l.top;else{var c=\"left\"===d;a=c?t.left+u+l.top:t.right-u-l.top,r=t.top+t.height/2,h=c?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(a,r),e.rotate(h),e.textAlign=\"center\",e.textBaseline=\"middle\",e.fillStyle=o,e.font=s.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,n=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter((function(i){return(!t||i.type===t)&&(n?i.xAxisID===e.id:i.yAxisID===e.id)}))}});bn.prototype._draw=bn.prototype.draw;var xn=bn,yn=V.isNullOrUndef,_n=xn.extend({determineDataLimits:function(){var t,e=this,n=e._getLabels(),i=e.options.ticks,a=i.min,r=i.max,o=0,s=n.length-1;void 0!==a&&(t=n.indexOf(a))>=0&&(o=t),void 0!==r&&(t=n.indexOf(r))>=0&&(s=t),e.minIndex=o,e.maxIndex=s,e.min=n[o],e.max=n[s]},buildTicks:function(){var t=this._getLabels(),e=this.minIndex,n=this.maxIndex;this.ticks=0===e&&n===t.length-1?t:t.slice(e,n+1)},getLabelForIndex:function(t,e){var n=this.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[e].data[t]):this._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,n=t.ticks;xn.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),n&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(n.length-(e?0:1),1))},getPixelForValue:function(t,e,n){var i,a,r,o=this;return yn(e)||yn(n)||(t=o.chart.data.datasets[n].data[e]),yn(t)||(i=o.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(a=o._getLabels(),t=V.valueOrDefault(i,t),e=-1!==(r=a.indexOf(t))?r:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(e,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),kn={position:\"bottom\"};_n._defaults=kn;var wn=V.noop,Mn=V.isNullOrUndef;var Sn=xn.extend({getRightValue:function(t){return\"string\"==typeof t?+t:xn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=V.sign(t.min),i=V.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var a=void 0!==e.min||void 0!==e.suggestedMin,r=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),a!==r&&t.min>=t.max&&(a?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:wn,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:V.valueOrDefault(e.fixedStepSize,e.stepSize)},a=t.ticks=function(t,e){var n,i,a,r,o=[],s=t.stepSize,l=s||1,u=t.maxTicks-1,d=t.min,h=t.max,c=t.precision,f=e.min,g=e.max,p=V.niceNum((g-f)/u/l)*l;if(p<1e-14&&Mn(d)&&Mn(h))return[f,g];(r=Math.ceil(g/p)-Math.floor(f/p))>u&&(p=V.niceNum(r*p/u/l)*l),s||Mn(c)?n=Math.pow(10,V._decimalPlaces(p)):(n=Math.pow(10,c),p=Math.ceil(p*n)/n),i=Math.floor(f/p)*p,a=Math.ceil(g/p)*p,s&&(!Mn(d)&&V.almostWhole(d/p,p/1e3)&&(i=d),!Mn(h)&&V.almostWhole(h/p,p/1e3)&&(a=h)),r=(a-i)/p,r=V.almostEquals(r,Math.round(r),p/1e3)?Math.round(r):Math.ceil(r),i=Math.round(i*n)/n,a=Math.round(a*n)/n,o.push(Mn(d)?i:d);for(var m=1;m<r;++m)o.push(Math.round((i+m*p)*n)/n);return o.push(Mn(h)?a:h),o}(i,t);t.handleDirectionalChanges(),t.max=V.max(a),t.min=V.min(a),e.reverse?(a.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),xn.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,n=e.getTicks(),i=e.min,a=e.max;xn.prototype._configure.call(e),e.options.offset&&n.length&&(i-=t=(a-i)/Math.max(n.length-1,1)/2,a+=t),e._startValue=i,e._endValue=a,e._valueRange=a-i}}),Cn={position:\"left\",ticks:{callback:rn.formatters.linear}};function Pn(t,e,n,i){var a,r,o=t.options,s=function(t,e,n){var i=[n.type,void 0===e&&void 0===n.stack?n.index:\"\",n.stack].join(\".\");return void 0===t[i]&&(t[i]={pos:[],neg:[]}),t[i]}(e,o.stacked,n),l=s.pos,u=s.neg,d=i.length;for(a=0;a<d;++a)r=t._parseValue(i[a]),isNaN(r.min)||isNaN(r.max)||n.data[a].hidden||(l[a]=l[a]||0,u[a]=u[a]||0,o.relativePoints?l[a]=100:r.min<0||r.max<0?u[a]+=r.min:l[a]+=r.max)}function An(t,e,n){var i,a,r=n.length;for(i=0;i<r;++i)a=t._parseValue(n[i]),isNaN(a.min)||isNaN(a.max)||e.data[i].hidden||(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}var Dn=Sn.extend({determineDataLimits:function(){var t,e,n,i,a=this,r=a.options,o=a.chart.data.datasets,s=a._getMatchingVisibleMetas(),l=r.stacked,u={},d=s.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<d;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<d;++t)n=o[(e=s[t]).index].data,l?Pn(a,u,e,n):An(a,e,n);V.each(u,(function(t){i=t.pos.concat(t.neg),a.min=Math.min(a.min,V.min(i)),a.max=Math.max(a.max,V.max(i))})),a.min=V.isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=V.isFinite(a.max)&&!isNaN(a.max)?a.max:1,a.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=V.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),Tn=Cn;Dn._defaults=Tn;var In=V.valueOrDefault,Fn=V.math.log10;var Ln={position:\"left\",ticks:{callback:rn.formatters.logarithmic}};function On(t,e){return V.isFinite(t)&&t>=0?t:e}var Rn=xn.extend({determineDataLimits:function(){var t,e,n,i,a,r,o=this,s=o.options,l=o.chart,u=l.data.datasets,d=o.isHorizontal();function h(t){return d?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var c=s.stacked;if(void 0===c)for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e)&&void 0!==e.stack){c=!0;break}if(s.stacked||c){var f={};for(t=0;t<u.length;t++){var g=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:\"\",e.stack].join(\".\");if(l.isDatasetVisible(t)&&h(e))for(void 0===f[g]&&(f[g]=[]),a=0,r=(i=u[t].data).length;a<r;a++){var p=f[g];n=o._parseValue(i[a]),isNaN(n.min)||isNaN(n.max)||e.data[a].hidden||n.min<0||n.max<0||(p[a]=p[a]||0,p[a]+=n.max)}}V.each(f,(function(t){if(t.length>0){var e=V.min(t),n=V.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,n)}}))}else for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e))for(a=0,r=(i=u[t].data).length;a<r;a++)n=o._parseValue(i[a]),isNaN(n.min)||isNaN(n.max)||e.data[a].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=V.isFinite(o.min)?o.min:null,o.max=V.isFinite(o.max)?o.max:null,o.minNotZero=V.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=On(e.min,t.min),t.max=On(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Fn(t.min))-1),t.max=Math.pow(10,Math.floor(Fn(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(Fn(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Fn(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Fn(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:On(e.min),max:On(e.max)},a=t.ticks=function(t,e){var n,i,a=[],r=In(t.min,Math.pow(10,Math.floor(Fn(e.min)))),o=Math.floor(Fn(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===r?(n=Math.floor(Fn(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),a.push(r),r=i*Math.pow(10,n)):(n=Math.floor(Fn(r)),i=Math.floor(r/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{a.push(r),10===++i&&(i=1,l=++n>=0?1:l),r=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var u=In(t.max,r);return a.push(u),a}(i,t);t.max=V.max(a),t.min=V.min(a),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),xn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(Fn(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;xn.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=In(t.options.ticks.fontSize,z.global.defaultFontSize)/t._length),t._startValue=Fn(e),t._valueOffset=n,t._valueRange=(Fn(t.max)-Fn(e))/(1-n)},getPixelForValue:function(t){var e=this,n=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(n=(Fn(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(n)},getValueForPixel:function(t){var e=this,n=e.getDecimalForPixel(t);return 0===n&&0===e.min?0:Math.pow(10,e._startValue+(n-e._valueOffset)*e._valueRange)}}),zn=Ln;Rn._defaults=zn;var Nn=V.valueOrDefault,Bn=V.valueAtIndexOrDefault,En=V.options.resolve,Wn={display:!0,animate:!0,position:\"chartArea\",angleLines:{display:!0,color:\"rgba(0,0,0,0.1)\",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:\"rgba(255,255,255,0.75)\",backdropPaddingY:2,backdropPaddingX:2,callback:rn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Vn(t){var e=t.ticks;return e.display&&t.display?Nn(e.fontSize,z.global.defaultFontSize)+2*e.backdropPaddingY:0}function Hn(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function jn(t){return 0===t||180===t?\"center\":t<180?\"left\":\"right\"}function qn(t,e,n,i){var a,r,o=n.y+i/2;if(V.isArray(e))for(a=0,r=e.length;a<r;++a)t.fillText(e[a],n.x,o),o+=i;else t.fillText(e,n.x,o)}function Un(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function Yn(t){return V.isNumber(t)?t:0}var Gn=Sn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Vn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;V.each(e.data.datasets,(function(a,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);V.each(a.data,(function(e,a){var r=+t.getRightValue(e);isNaN(r)||o.data[a].hidden||(n=Math.min(r,n),i=Math.max(r,i))}))}})),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Vn(this.options))},convertTicksToLabels:function(){var t=this;Sn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map((function(){var e=V.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:\"\"}))},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,a=V.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=a.string,t._pointLabelSizes=[];var s,l,u,d=t.chart.data.labels.length;for(e=0;e<d;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=a.lineHeight,u=t.pointLabels[e],n=V.isArray(u)?{w:V.longestText(s,s.font,u),h:u.length*l}:{w:s.measureText(u).width,h:l},t._pointLabelSizes[e]=n;var h=t.getIndexAngle(e),c=V.toDegrees(h)%360,f=Hn(c,i.x,n.w,0,180),g=Hn(c,i.y,n.h,90,270);f.start<r.l&&(r.l=f.start,o.l=h),f.end>r.r&&(r.r=f.end,o.r=h),g.start<r.t&&(r.t=g.start,o.t=h),g.end>r.b&&(r.b=g.end,o.b=h)}t.setReductions(t.drawingArea,r,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,a=e.l/Math.sin(n.l),r=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);a=Yn(a),r=Yn(r),o=Yn(o),s=Yn(s),i.drawingArea=Math.min(Math.floor(t-(a+r)/2),Math.floor(t-(o+s)/2)),i.setCenterPoint(a,r,o,s)},setCenterPoint:function(t,e,n,i){var a=this,r=a.width-e-a.drawingArea,o=t+a.drawingArea,s=n+a.drawingArea,l=a.height-a.paddingTop-i-a.drawingArea;a.xCenter=Math.floor((o+r)/2+a.left),a.yCenter=Math.floor((s+l)/2+a.top+a.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(V.isNullOrUndef(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this.min,n=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},_drawGrid:function(){var t,e,n,i=this,a=i.ctx,r=i.options,o=r.gridLines,s=r.angleLines,l=Nn(s.lineWidth,o.lineWidth),u=Nn(s.color,o.color);if(r.pointLabels.display&&function(t){var e=t.ctx,n=t.options,i=n.pointLabels,a=Vn(n),r=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),o=V.options._parseFont(i);e.save(),e.font=o.string,e.textBaseline=\"middle\";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=0===s?a/2:0,u=t.getPointPosition(s,r+l+5),d=Bn(i.fontColor,s,z.global.defaultFontColor);e.fillStyle=d;var h=t.getIndexAngle(s),c=V.toDegrees(h);e.textAlign=jn(c),Un(c,t._pointLabelSizes[s],u),qn(e,t.pointLabels[s],u,o.lineHeight)}e.restore()}(i),o.display&&V.each(i.ticks,(function(t,n){0!==n&&(e=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(t,e,n,i){var a,r=t.ctx,o=e.circular,s=t.chart.data.labels.length,l=Bn(e.color,i-1),u=Bn(e.lineWidth,i-1);if((o||s)&&l&&u){if(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),o)r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{a=t.getPointPosition(0,n),r.moveTo(a.x,a.y);for(var d=1;d<s;d++)a=t.getPointPosition(d,n),r.lineTo(a.x,a.y)}r.closePath(),r.stroke(),r.restore()}}(i,o,e,n))})),s.display&&l&&u){for(a.save(),a.lineWidth=l,a.strokeStyle=u,a.setLineDash&&(a.setLineDash(En([s.borderDash,o.borderDash,[]])),a.lineDashOffset=En([s.borderDashOffset,o.borderDashOffset,0])),t=i.chart.data.labels.length-1;t>=0;t--)e=i.getDistanceFromCenterForValue(r.ticks.reverse?i.min:i.max),n=i.getPointPosition(t,e),a.beginPath(),a.moveTo(i.xCenter,i.yCenter),a.lineTo(n.x,n.y),a.stroke();a.restore()}},_drawLabels:function(){var t=this,e=t.ctx,n=t.options.ticks;if(n.display){var i,a,r=t.getIndexAngle(0),o=V.options._parseFont(n),s=Nn(n.fontColor,z.global.defaultFontColor);e.save(),e.font=o.string,e.translate(t.xCenter,t.yCenter),e.rotate(r),e.textAlign=\"center\",e.textBaseline=\"middle\",V.each(t.ticks,(function(r,l){(0!==l||n.reverse)&&(i=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),n.showLabelBackdrop&&(a=e.measureText(r).width,e.fillStyle=n.backdropColor,e.fillRect(-a/2-n.backdropPaddingX,-i-o.size/2-n.backdropPaddingY,a+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),e.fillStyle=s,e.fillText(r,0,-i))})),e.restore()}},_drawTitle:V.noop}),Xn=Wn;Gn._defaults=Xn;var Kn=V._deprecated,Zn=V.options.resolve,$n=V.valueOrDefault,Jn=Number.MIN_SAFE_INTEGER||-9007199254740991,Qn=Number.MAX_SAFE_INTEGER||9007199254740991,ti={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ei=Object.keys(ti);function ni(t,e){return t-e}function ii(t){return V.valueOrDefault(t.time.min,t.ticks.min)}function ai(t){return V.valueOrDefault(t.time.max,t.ticks.max)}function ri(t,e,n,i){var a=function(t,e,n){for(var i,a,r,o=0,s=t.length-1;o>=0&&o<=s;){if(a=t[(i=o+s>>1)-1]||null,r=t[i],!a)return{lo:null,hi:r};if(r[e]<n)o=i+1;else{if(!(a[e]>n))return{lo:a,hi:r};s=i-1}}return{lo:r,hi:null}}(t,e,n),r=a.lo?a.hi?a.lo:t[t.length-2]:t[0],o=a.lo?a.hi?a.hi:t[t.length-1]:t[1],s=o[e]-r[e],l=s?(n-r[e])/s:0,u=(o[i]-r[i])*l;return r[i]+u}function oi(t,e){var n=t._adapter,i=t.options.time,a=i.parser,r=a||i.format,o=e;return\"function\"==typeof a&&(o=a(o)),V.isFinite(o)||(o=\"string\"==typeof r?n.parse(o,r):n.parse(o)),null!==o?+o:(a||\"function\"!=typeof r||(o=r(e),V.isFinite(o)||(o=n.parse(o))),o)}function si(t,e){if(V.isNullOrUndef(e))return null;var n=t.options.time,i=oi(t,t.getRightValue(e));return null===i?i:(n.round&&(i=+t._adapter.startOf(i,n.round)),i)}function li(t,e,n,i){var a,r,o,s=ei.length;for(a=ei.indexOf(t);a<s-1;++a)if(o=(r=ti[ei[a]]).steps?r.steps:Qn,r.common&&Math.ceil((n-e)/(o*r.size))<=i)return ei[a];return ei[s-1]}function ui(t,e,n){var i,a,r=[],o={},s=e.length;for(i=0;i<s;++i)o[a=e[i]]=i,r.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){var a,r,o=t._adapter,s=+o.startOf(e[0].value,i),l=e[e.length-1].value;for(a=s;a<=l;a=+o.add(a,1,i))(r=n[a])>=0&&(e[r].major=!0);return e}(t,r,o,n):r}var di=xn.extend({initialize:function(){this.mergeTicksOptions(),xn.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new an._date(e.adapters.date);return Kn(\"time scale\",n.format,\"time.format\",\"time.parser\"),Kn(\"time scale\",n.min,\"time.min\",\"ticks.min\"),Kn(\"time scale\",n.max,\"time.max\",\"ticks.max\"),V.mergeIf(n.displayFormats,i.formats()),xn.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),xn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,a,r,o,s=this,l=s.chart,u=s._adapter,d=s.options,h=d.time.unit||\"day\",c=Qn,f=Jn,g=[],p=[],m=[],v=s._getLabels();for(t=0,n=v.length;t<n;++t)m.push(si(s,v[t]));for(t=0,n=(l.data.datasets||[]).length;t<n;++t)if(l.isDatasetVisible(t))if(a=l.data.datasets[t].data,V.isObject(a[0]))for(p[t]=[],e=0,i=a.length;e<i;++e)r=si(s,a[e]),g.push(r),p[t][e]=r;else p[t]=m.slice(0),o||(g=g.concat(m),o=!0);else p[t]=[];m.length&&(c=Math.min(c,m[0]),f=Math.max(f,m[m.length-1])),g.length&&(g=n>1?function(t){var e,n,i,a={},r=[];for(e=0,n=t.length;e<n;++e)a[i=t[e]]||(a[i]=!0,r.push(i));return r}(g).sort(ni):g.sort(ni),c=Math.min(c,g[0]),f=Math.max(f,g[g.length-1])),c=si(s,ii(d))||c,f=si(s,ai(d))||f,c=c===Qn?+u.startOf(Date.now(),h):c,f=f===Jn?+u.endOf(Date.now(),h)+1:f,s.min=Math.min(c,f),s.max=Math.max(c+1,f),s._table=[],s._timestamps={data:g,datasets:p,labels:m}},buildTicks:function(){var t,e,n,i=this,a=i.min,r=i.max,o=i.options,s=o.ticks,l=o.time,u=i._timestamps,d=[],h=i.getLabelCapacity(a),c=s.source,f=o.distribution;for(u=\"data\"===c||\"auto\"===c&&\"series\"===f?u.data:\"labels\"===c?u.labels:function(t,e,n,i){var a,r=t._adapter,o=t.options,s=o.time,l=s.unit||li(s.minUnit,e,n,i),u=Zn([s.stepSize,s.unitStepSize,1]),d=\"week\"===l&&s.isoWeekday,h=e,c=[];if(d&&(h=+r.startOf(h,\"isoWeek\",d)),h=+r.startOf(h,d?\"day\":l),r.diff(n,e,l)>1e5*u)throw e+\" and \"+n+\" are too far apart with stepSize of \"+u+\" \"+l;for(a=h;a<n;a=+r.add(a,u,l))c.push(a);return a!==n&&\"ticks\"!==o.bounds||c.push(a),c}(i,a,r,h),\"ticks\"===o.bounds&&u.length&&(a=u[0],r=u[u.length-1]),a=si(i,ii(o))||a,r=si(i,ai(o))||r,t=0,e=u.length;t<e;++t)(n=u[t])>=a&&n<=r&&d.push(n);return i.min=a,i.max=r,i._unit=l.unit||(s.autoSkip?li(l.minUnit,i.min,i.max,h):function(t,e,n,i,a){var r,o;for(r=ei.length-1;r>=ei.indexOf(n);r--)if(o=ei[r],ti[o].common&&t._adapter.diff(a,i,o)>=e-1)return o;return ei[n?ei.indexOf(n):0]}(i,d.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&\"year\"!==i._unit?function(t){for(var e=ei.indexOf(t)+1,n=ei.length;e<n;++e)if(ti[ei[e]].common)return ei[e]}(i._unit):void 0,i._table=function(t,e,n,i){if(\"linear\"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var a,r,o,s,l,u=[],d=[e];for(a=0,r=t.length;a<r;++a)(s=t[a])>e&&s<n&&d.push(s);for(d.push(n),a=0,r=d.length;a<r;++a)l=d[a+1],o=d[a-1],s=d[a],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||u.push({time:s,pos:a/(r-1)});return u}(i._timestamps.data,a,r,f),i._offsets=function(t,e,n,i,a){var r,o,s=0,l=0;return a.offset&&e.length&&(r=ri(t,\"time\",e[0],\"pos\"),s=1===e.length?1-r:(ri(t,\"time\",e[1],\"pos\")-r)/2,o=ri(t,\"time\",e[e.length-1],\"pos\"),l=1===e.length?o:(o-ri(t,\"time\",e[e.length-2],\"pos\"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,d,0,0,o),s.reverse&&d.reverse(),ui(i,d,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,a=n.chart.data,r=n.options.time,o=a.labels&&t<a.labels.length?a.labels[t]:\"\",s=a.datasets[e].data[t];return V.isObject(s)&&(o=n.getRightValue(s)),r.tooltipFormat?i.format(oi(n,o),r.tooltipFormat):\"string\"==typeof o?o:i.format(oi(n,o),r.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var a=this._adapter,r=this.options,o=r.time.displayFormats,s=o[this._unit],l=this._majorUnit,u=o[l],d=n[e],h=r.ticks,c=l&&u&&d&&d.major,f=a.format(t,i||(c?u:s)),g=c?h.major:h.minor,p=Zn([g.callback,g.userCallback,h.callback,h.userCallback]);return p?p(f,e,n):f},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this._offsets,n=ri(this._table,\"time\",t,\"pos\");return this.getPixelForDecimal((e.start+n)*e.factor)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=si(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end,i=ri(this._table,\"pos\",n,\"time\");return this._adapter._create(i)},_getLabelSize:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=V.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(i),r=Math.sin(i),o=$n(e.fontSize,z.global.defaultFontSize);return{w:n*a+o*r,h:n*r+o*a}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,n=e.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,r=e.tickFormatFunction(t,0,ui(e,[t],e._majorUnit),a),o=e._getLabelSize(r),s=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&s--,s>0?s:1}}),hi={position:\"bottom\",distribution:\"linear\",bounds:\"data\",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:\"millisecond\",displayFormats:{}},ticks:{autoSkip:!1,source:\"auto\",major:{enabled:!1}}};di._defaults=hi;var ci={category:_n,linear:Dn,logarithmic:Rn,radialLinear:Gn,time:di},fi={datetime:\"MMM D, YYYY, h:mm:ss a\",millisecond:\"h:mm:ss.SSS a\",second:\"h:mm:ss a\",minute:\"h:mm a\",hour:\"hA\",day:\"MMM D\",week:\"ll\",month:\"MMM YYYY\",quarter:\"[Q]Q - YYYY\",year:\"YYYY\"};an._date.override(\"function\"==typeof t?{_id:\"moment\",formats:function(){return fi},parse:function(e,n){return\"string\"==typeof e&&\"string\"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t(e).diff(t(n),i)},startOf:function(e,n,i){return e=t(e),\"isoWeek\"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),z._set(\"global\",{plugins:{filler:{propagate:!0}}});var gi={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),a=i&&n.isDatasetVisible(e)&&i.dataset._children||[],r=a.length||0;return r?function(t,e){return e<r&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return V.isArray(e)?function(t,n){return e[n]}:function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function pi(t,e,n){var i,a=t._model||{},r=a.fill;if(void 0===r&&(r=!!a.backgroundColor),!1===r||null===r)return!1;if(!0===r)return\"origin\";if(i=parseFloat(r,10),isFinite(i)&&Math.floor(i)===i)return\"-\"!==r[0]&&\"+\"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(r){case\"bottom\":return\"start\";case\"top\":return\"end\";case\"zero\":return\"origin\";case\"origin\":case\"start\":case\"end\":return r;default:return!1}}function mi(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,n,i,a,r,o=t.el._scale,s=o.options,l=o.chart.data.labels.length,u=t.fill,d=[];if(!l)return null;for(e=s.ticks.reverse?o.max:o.min,n=s.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,e),a=0;a<l;++a)r=\"start\"===u||\"end\"===u?o.getPointPositionForValue(a,\"start\"===u?e:n):o.getBasePosition(a),s.gridLines.circular&&(r.cx=i.x,r.cy=i.y,r.angle=o.getIndexAngle(a)-Math.PI/2),d.push(r);return d}(t):function(t){var e,n=t.el._model||{},i=t.el._scale||{},a=t.fill,r=null;if(isFinite(a))return null;if(\"start\"===a?r=void 0===n.scaleBottom?i.bottom:n.scaleBottom:\"end\"===a?r=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?r=n.scaleZero:i.getBasePixel&&(r=i.getBasePixel()),null!=r){if(void 0!==r.x&&void 0!==r.y)return r;if(V.isFinite(r))return{x:(e=i.isHorizontal())?r:null,y:e?null:r}}return null}(t)}function vi(t,e,n){var i,a=t[e].fill,r=[e];if(!n)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!isFinite(a))return a;if(!(i=t[a]))return!1;if(i.visible)return a;r.push(a),a=i.fill}return!1}function bi(t){var e=t.fill,n=\"dataset\";return!1===e?null:(isFinite(e)||(n=\"boundary\"),gi[n](t))}function xi(t){return t&&!t.skip}function yi(t,e,n,i,a){var r,o,s,l;if(i&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)V.canvas.lineTo(t,e[r-1],e[r]);if(void 0===n[0].angle)for(t.lineTo(n[a-1].x,n[a-1].y),r=a-1;r>0;--r)V.canvas.lineTo(t,n[r],n[r-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),r=a-1;r>0;--r)t.arc(o,s,l,n[r].angle,n[r-1].angle,!0)}}function _i(t,e,n,i,a,r){var o,s,l,u,d,h,c,f,g=e.length,p=i.spanGaps,m=[],v=[],b=0,x=0;for(t.beginPath(),o=0,s=g;o<s;++o)d=n(u=e[l=o%g]._view,l,i),h=xi(u),c=xi(d),r&&void 0===f&&h&&(s=g+(f=o+1)),h&&c?(b=m.push(u),x=v.push(d)):b&&x&&(p?(h&&m.push(u),c&&v.push(d)):(yi(t,m,v,b,x),b=x=0,m=[],v=[]));yi(t,m,v,b,x),t.closePath(),t.fillStyle=a,t.fill()}var ki={id:\"filler\",afterDatasetsUpdate:function(t,e){var n,i,a,r,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<o;++i)r=null,(a=(n=t.getDatasetMeta(i)).dataset)&&a._model&&a instanceof _t.Line&&(r={visible:t.isDatasetVisible(i),fill:pi(a,i,o),chart:t,el:a}),n.$filler=r,l.push(r);for(i=0;i<o;++i)(r=l[i])&&(r.fill=vi(l,i,s),r.boundary=mi(r),r.mapper=bi(r))},beforeDatasetsDraw:function(t){var e,n,i,a,r,o,s,l=t._getSortedVisibleDatasetMetas(),u=t.ctx;for(n=l.length-1;n>=0;--n)(e=l[n].$filler)&&e.visible&&(a=(i=e.el)._view,r=i._children||[],o=e.mapper,s=a.backgroundColor||z.global.defaultColor,o&&s&&r.length&&(V.canvas.clipArea(u,t.chartArea),_i(u,r,o,a,s,i._loop),V.canvas.unclipArea(u)))}},wi=V.rtl.getRtlAdapter,Mi=V.noop,Si=V.valueOrDefault;function Ci(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}z._set(\"global\",{legend:{display:!0,position:\"top\",align:\"center\",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map((function(n){var a=n.controller.getStyle(i?0:void 0);return{text:e[n.index].label,fillStyle:a.backgroundColor,hidden:!t.isDatasetVisible(n.index),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,pointStyle:a.pointStyle,rotation:a.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(t){var e,n,i,a=document.createElement(\"ul\"),r=t.data.datasets;for(a.setAttribute(\"class\",t.id+\"-legend\"),e=0,n=r.length;e<n;e++)(i=a.appendChild(document.createElement(\"li\"))).appendChild(document.createElement(\"span\")).style.backgroundColor=r[e].backgroundColor,r[e].label&&i.appendChild(document.createTextNode(r[e].label));return a.outerHTML}});var Pi=X.extend({initialize:function(t){V.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Mi,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:Mi,beforeSetDimensions:Mi,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Mi,beforeBuildLabels:Mi,buildLabels:function(){var t=this,e=t.options.labels||{},n=V.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter((function(n){return e.filter(n,t.chart.data)}))),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:Mi,beforeFit:Mi,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,a=t.ctx,r=V.options._parseFont(n),o=r.size,s=t.legendHitBoxes=[],l=t.minSize,u=t.isHorizontal();if(u?(l.width=t.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=t.maxHeight),i){if(a.font=r.string,u){var d=t.lineWidths=[0],h=0;a.textAlign=\"left\",a.textBaseline=\"middle\",V.each(t.legendItems,(function(t,e){var i=Ci(n,o)+o/2+a.measureText(t.text).width;(0===e||d[d.length-1]+i+2*n.padding>l.width)&&(h+=o+n.padding,d[d.length-(e>0?0:1)]=0),s[e]={left:0,top:0,width:i,height:o},d[d.length-1]+=i+n.padding})),l.height+=h}else{var c=n.padding,f=t.columnWidths=[],g=t.columnHeights=[],p=n.padding,m=0,v=0;V.each(t.legendItems,(function(t,e){var i=Ci(n,o)+o/2+a.measureText(t.text).width;e>0&&v+o+2*c>l.height&&(p+=m+n.padding,f.push(m),g.push(v),m=0,v=0),m=Math.max(m,i),v+=o+c,s[e]={left:0,top:0,width:i,height:o}})),p+=m,f.push(m),g.push(v),l.width+=p}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:Mi,isHorizontal:function(){return\"top\"===this.options.position||\"bottom\"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=z.global,a=i.defaultColor,r=i.elements.line,o=t.height,s=t.columnHeights,l=t.width,u=t.lineWidths;if(e.display){var d,h=wi(e.rtl,t.left,t.minSize.width),c=t.ctx,f=Si(n.fontColor,i.defaultFontColor),g=V.options._parseFont(n),p=g.size;c.textAlign=h.textAlign(\"left\"),c.textBaseline=\"middle\",c.lineWidth=.5,c.strokeStyle=f,c.fillStyle=f,c.font=g.string;var m=Ci(n,p),v=t.legendHitBoxes,b=function(t,i){switch(e.align){case\"start\":return n.padding;case\"end\":return t-i;default:return(t-i+n.padding)/2}},x=t.isHorizontal();d=x?{x:t.left+b(l,u[0]),y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+b(o,s[0]),line:0},V.rtl.overrideTextDirection(t.ctx,e.textDirection);var y=p+n.padding;V.each(t.legendItems,(function(e,i){var f=c.measureText(e.text).width,g=m+p/2+f,_=d.x,k=d.y;h.setWidth(t.minSize.width),x?i>0&&_+g+n.padding>t.left+t.minSize.width&&(k=d.y+=y,d.line++,_=d.x=t.left+b(l,u[d.line])):i>0&&k+y>t.top+t.minSize.height&&(_=d.x=_+t.columnWidths[d.line]+n.padding,d.line++,k=d.y=t.top+b(o,s[d.line]));var w=h.x(_);!function(t,e,i){if(!(isNaN(m)||m<=0)){c.save();var o=Si(i.lineWidth,r.borderWidth);if(c.fillStyle=Si(i.fillStyle,a),c.lineCap=Si(i.lineCap,r.borderCapStyle),c.lineDashOffset=Si(i.lineDashOffset,r.borderDashOffset),c.lineJoin=Si(i.lineJoin,r.borderJoinStyle),c.lineWidth=o,c.strokeStyle=Si(i.strokeStyle,a),c.setLineDash&&c.setLineDash(Si(i.lineDash,r.borderDash)),n&&n.usePointStyle){var s=m*Math.SQRT2/2,l=h.xPlus(t,m/2),u=e+p/2;V.canvas.drawPoint(c,i.pointStyle,s,l,u,i.rotation)}else c.fillRect(h.leftForLtr(t,m),e,m,p),0!==o&&c.strokeRect(h.leftForLtr(t,m),e,m,p);c.restore()}}(w,k,e),v[i].left=h.leftForLtr(w,v[i].width),v[i].top=k,function(t,e,n,i){var a=p/2,r=h.xPlus(t,m+a),o=e+a;c.fillText(n.text,r,o),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(r,o),c.lineTo(h.xPlus(r,i),o),c.stroke())}(w,k,e,f),x?d.x+=g+n.padding:d.y+=y})),V.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var n,i,a,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(a=r.legendHitBoxes,n=0;n<a.length;++n)if(t>=(i=a[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return r.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,a=\"mouseup\"===t.type?\"click\":t.type;if(\"mousemove\"===a){if(!i.onHover&&!i.onLeave)return}else{if(\"click\"!==a)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),\"click\"===a?e&&i.onClick&&i.onClick.call(n,t.native,e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t.native,e))}});function Ai(t,e){var n=new Pi({ctx:t.ctx,options:e,chart:t});ge.configure(t,n,e),ge.addBox(t,n),t.legend=n}var Di={id:\"legend\",_element:Pi,beforeInit:function(t){var e=t.options.legend;e&&Ai(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(V.mergeIf(e,z.global.legend),n?(ge.configure(t,n,e),n.options=e):Ai(t,e)):n&&(ge.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},Ti=V.noop;z._set(\"global\",{title:{display:!1,fontStyle:\"bold\",fullWidth:!0,padding:10,position:\"top\",text:\"\",weight:2e3}});var Ii=X.extend({initialize:function(t){V.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:Ti,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:Ti,beforeSetDimensions:Ti,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Ti,beforeBuildLabels:Ti,buildLabels:Ti,afterBuildLabels:Ti,beforeFit:Ti,fit:function(){var t,e=this,n=e.options,i=e.minSize={},a=e.isHorizontal();n.display?(t=(V.isArray(n.text)?n.text.length:1)*V.options._parseFont(n).lineHeight+2*n.padding,e.width=i.width=a?e.maxWidth:t,e.height=i.height=a?t:e.maxHeight):e.width=i.width=e.height=i.height=0},afterFit:Ti,isHorizontal:function(){var t=this.options.position;return\"top\"===t||\"bottom\"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,a,r,o=V.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,u=0,d=t.top,h=t.left,c=t.bottom,f=t.right;e.fillStyle=V.valueOrDefault(n.fontColor,z.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(a=h+(f-h)/2,r=d+l,i=f-h):(a=\"left\"===n.position?h+l:f-l,r=d+(c-d)/2,i=c-d,u=Math.PI*(\"left\"===n.position?-.5:.5)),e.save(),e.translate(a,r),e.rotate(u),e.textAlign=\"center\",e.textBaseline=\"middle\";var g=n.text;if(V.isArray(g))for(var p=0,m=0;m<g.length;++m)e.fillText(g[m],0,p,i),p+=s;else e.fillText(g,0,0,i);e.restore()}}});function Fi(t,e){var n=new Ii({ctx:t.ctx,options:e,chart:t});ge.configure(t,n,e),ge.addBox(t,n),t.titleBlock=n}var Li={},Oi=ki,Ri=Di,zi={id:\"title\",_element:Ii,beforeInit:function(t){var e=t.options.title;e&&Fi(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(V.mergeIf(e,z.global.title),n?(ge.configure(t,n,e),n.options=e):Fi(t,e)):n&&(ge.removeBox(t,n),delete t.titleBlock)}};for(var Ni in Li.filler=Oi,Li.legend=Ri,Li.title=zi,tn.helpers=V,function(){function t(t,e,n){var i;return\"string\"==typeof t?(i=parseInt(t,10),-1!==t.indexOf(\"%\")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&\"none\"!==t}function n(n,i,a){var r=document.defaultView,o=V._getParentNode(n),s=r.getComputedStyle(n)[i],l=r.getComputedStyle(o)[i],u=e(s),d=e(l),h=Number.POSITIVE_INFINITY;return u||d?Math.min(u?t(s,n,a):h,d?t(l,o,a):h):\"none\"}V.where=function(t,e){if(V.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return V.each(t,(function(t){e(t)&&n.push(t)})),n},V.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,a=t.length;i<a;++i)if(e.call(n,t[i],i,t))return i;return-1},V.findNextWhere=function(t,e,n){V.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var a=t[i];if(e(a))return a}},V.findPreviousWhere=function(t,e,n){V.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var a=t[i];if(e(a))return a}},V.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},V.almostEquals=function(t,e,n){return Math.abs(t-e)<n},V.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t},V.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},V.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},V.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},V.toRadians=function(t){return t*(Math.PI/180)},V.toDegrees=function(t){return t*(180/Math.PI)},V._decimalPlaces=function(t){if(V.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},V.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:a}},V.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},V.aliasPixel=function(t){return t%2==0?0:.5},V._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,a=n/2;return Math.round((e-a)*i)/i+a},V.splineCurve=function(t,e,n,i){var a=t.skip?e:t,r=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=s/(s+l),d=l/(s+l),h=i*(u=isNaN(u)?0:u),c=i*(d=isNaN(d)?0:d);return{previous:{x:r.x-h*(o.x-a.x),y:r.y-h*(o.y-a.y)},next:{x:r.x+c*(o.x-a.x),y:r.y+c*(o.y-a.y)}}},V.EPSILON=Number.EPSILON||1e-14,V.splineCurveMonotone=function(t){var e,n,i,a,r,o,s,l,u,d=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),h=d.length;for(e=0;e<h;++e)if(!(i=d[e]).model.skip){if(n=e>0?d[e-1]:null,(a=e<h-1?d[e+1]:null)&&!a.model.skip){var c=a.model.x-i.model.x;i.deltaK=0!==c?(a.model.y-i.model.y)/c:0}!n||n.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<h-1;++e)i=d[e],a=d[e+1],i.model.skip||a.model.skip||(V.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(r=i.mK/i.deltaK,o=a.mK/i.deltaK,(l=Math.pow(r,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=r*s*i.deltaK,a.mK=o*s*i.deltaK)));for(e=0;e<h;++e)(i=d[e]).model.skip||(n=e>0?d[e-1]:null,a=e<h-1?d[e+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),a&&!a.model.skip&&(u=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},V.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},V.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},V.niceNum=function(t,e){var n=Math.floor(V.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},V.requestAnimFrame=\"undefined\"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},V.getRelativePosition=function(t,e){var n,i,a=t.originalEvent||t,r=t.target||t.srcElement,o=r.getBoundingClientRect(),s=a.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=a.clientX,i=a.clientY);var l=parseFloat(V.getStyle(r,\"padding-left\")),u=parseFloat(V.getStyle(r,\"padding-top\")),d=parseFloat(V.getStyle(r,\"padding-right\")),h=parseFloat(V.getStyle(r,\"padding-bottom\")),c=o.right-o.left-l-d,f=o.bottom-o.top-u-h;return{x:n=Math.round((n-o.left-l)/c*r.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-u)/f*r.height/e.currentDevicePixelRatio)}},V.getConstraintWidth=function(t){return n(t,\"max-width\",\"clientWidth\")},V.getConstraintHeight=function(t){return n(t,\"max-height\",\"clientHeight\")},V._calculatePadding=function(t,e,n){return(e=V.getStyle(t,e)).indexOf(\"%\")>-1?n*parseInt(e,10)/100:parseInt(e,10)},V._getParentNode=function(t){var e=t.parentNode;return e&&\"[object ShadowRoot]\"===e.toString()&&(e=e.host),e},V.getMaximumWidth=function(t){var e=V._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-V._calculatePadding(e,\"padding-left\",n)-V._calculatePadding(e,\"padding-right\",n),a=V.getConstraintWidth(t);return isNaN(a)?i:Math.min(i,a)},V.getMaximumHeight=function(t){var e=V._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-V._calculatePadding(e,\"padding-top\",n)-V._calculatePadding(e,\"padding-bottom\",n),a=V.getConstraintHeight(t);return isNaN(a)?i:Math.min(i,a)},V.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},V.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||\"undefined\"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,a=t.height,r=t.width;i.height=a*n,i.width=r*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=a+\"px\",i.style.width=r+\"px\")}},V.fontString=function(t,e,n){return e+\" \"+t+\"px \"+n},V.longestText=function(t,e,n,i){var a=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var o,s,l,u,d,h=0,c=n.length;for(o=0;o<c;o++)if(null!=(u=n[o])&&!0!==V.isArray(u))h=V.measureText(t,a,r,h,u);else if(V.isArray(u))for(s=0,l=u.length;s<l;s++)null==(d=u[s])||V.isArray(d)||(h=V.measureText(t,a,r,h,d));var f=r.length/2;if(f>n.length){for(o=0;o<f;o++)delete a[r[o]];r.splice(0,f)}return h},V.measureText=function(t,e,n,i,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,n.push(a)),r>i&&(i=r),i},V.numberOfLabelLines=function(t){var e=1;return V.each(t,(function(t){V.isArray(t)&&t.length>e&&(e=t.length)})),e},V.color=k?function(t){return t instanceof CanvasGradient&&(t=z.global.defaultColor),k(t)}:function(t){return console.error(\"Color.js not found!\"),t},V.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:V.color(t).saturate(.5).darken(.1).rgbString()}}(),tn._adapters=an,tn.Animation=Z,tn.animationService=$,tn.controllers=$t,tn.DatasetController=nt,tn.defaults=z,tn.Element=X,tn.elements=_t,tn.Interaction=ae,tn.layouts=ge,tn.platform=Fe,tn.plugins=Le,tn.Scale=xn,tn.scaleService=Oe,tn.Ticks=rn,tn.Tooltip=Ue,tn.helpers.each(ci,(function(t,e){tn.scaleService.registerScaleType(e,t,t._defaults)})),Li)Li.hasOwnProperty(Ni)&&tn.plugins.register(Li[Ni]);tn.platform.initialize();var Bi=tn;return\"undefined\"!=typeof window&&(window.Chart=tn),tn.Chart=tn,tn.Legend=Li.legend._element,tn.Title=Li.title._element,tn.pluginService=tn.plugins,tn.PluginBase=tn.Element.extend({}),tn.canvasHelpers=tn.helpers.canvas,tn.layoutService=tn.layouts,tn.LinearScaleBase=Sn,tn.helpers.each([\"Bar\",\"Bubble\",\"Doughnut\",\"Line\",\"PolarArea\",\"Radar\",\"Scatter\"],(function(t){tn[t]=function(e,n){return new tn(e,tn.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),Bi}));\n","Magento_PageBuilder/ts/babel/plugin-amd-to-magento-amd/index.min.js":"\"use strict\";exports.__esModule=true;exports.default=_default;var _astUtils=require(\"./ast-utils\");var t=_interopRequireWildcard(require(\"@babel/types\"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}\nvar replaceExportAssignment=function replaceExportAssignment(path,state){var property=path.get('left.property');var expression=path.get('right');path.remove();if((0,_astUtils.isVoidExpression)(expression)){return;}\nif(property.isIdentifier({name:'default'})){state.defaultExport=expression.node;return;}\nstate.exports.push(t.objectProperty(property.node,expression.node));};var memberExpressionVisitor={MemberExpression:function MemberExpression(path,state){var matchedDependencies=state.dependencies.filter(function(item){return path.get('object').isIdentifier({name:item.name});});var isDefaultDependency=matchedDependencies.length===1&&path.get('property').isIdentifier({name:'default'});if(isDefaultDependency){path.replaceWith(matchedDependencies[0]);}}};var functionBodyVisitor={ExpressionStatement:function ExpressionStatement(path,state){if((0,_astUtils.isEsModulePropertyDefinition)(path,state.scope)){path.remove();}\nif((0,_astUtils.isObjectAssignment)(path,state.scope)){replaceExportAssignment(path.get('expression'),state);}\nif((0,_astUtils.isInteropRequireCall)(path)){path.remove();}},Function:function Function(path,state){if((0,_astUtils.isInteropRequireDefinition)(path)){path.remove();}\npath.traverse(memberExpressionVisitor,state);},ClassMethod:function ClassMethod(path,state){path.traverse(memberExpressionVisitor,state);},DirectiveLiteral:function DirectiveLiteral(path){if(path.node.value==='use strict'){path.parentPath.remove();}},MemberExpression:memberExpressionVisitor.MemberExpression};var processAmdDefinition=function processAmdDefinition(path){var _extractDependencyAnd=(0,_astUtils.extractDependencyAndFactory)(path),factory=_extractDependencyAnd.factory;var dependencyMap=(0,_astUtils.extractDependencyMap)(path);if(dependencyMap.exports){(0,_astUtils.removeExportsDependency)(path);var state={scope:dependencyMap.exports,dependencies:Object.values(dependencyMap),exports:[]};factory.traverse(functionBodyVisitor,state);var returnStatement=t.objectExpression(state.exports);if(state.defaultExport){returnStatement=state.defaultExport;if(state.exports.length>0){returnStatement=t.callExpression(t.memberExpression(t.identifier('Object'),t.identifier('assign')),[state.defaultExport,t.objectExpression(state.exports)]);}}\nfactory.get('body').pushContainer('body',t.returnStatement(returnStatement));}};var programVisitor={ExpressionStatement:function ExpressionStatement(path){var amdModule=(0,_astUtils.findAmdModule)(path);if(amdModule){processAmdDefinition(amdModule);}}};function _default(){return{visitor:{Program:{exit:function exit(path){path.traverse(programVisitor);}}}};}","Magento_PageBuilder/ts/babel/plugin-amd-to-magento-amd/ast-utils.min.js":"\"use strict\";exports.__esModule=true;exports.extractDependencyAndFactory=extractDependencyAndFactory;exports.findAmdModule=findAmdModule;exports.extractDependencyMap=extractDependencyMap;exports.removeExportsDependency=removeExportsDependency;exports.isEsModulePropertyDefinition=isEsModulePropertyDefinition;exports.isObjectAssignment=isObjectAssignment;exports.isVoidExpression=isVoidExpression;exports.isInteropRequireCall=isInteropRequireCall;exports.isInteropRequireDefinition=isInteropRequireDefinition;var t=_interopRequireWildcard(require(\"@babel/types\"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}\nvar INTEROP_FUNCTION_NAME='_interopRequire';var findExpression=function findExpression(path){if(!t.isExpressionStatement(path.node)){return false;}\nreturn path.get('expression');};var isObjectProperty=function isObjectProperty(path,objectName,propertyName){return t.isMemberExpression(path)&&path.get('object').isIdentifier(t.identifier(objectName))&&path.get('property').isIdentifier(t.identifier(propertyName));};function extractDependencyAndFactory(path){var args=path.node.arguments;var dependencies=path.get(\"arguments.\"+(args.length-2));var factory=path.get(\"arguments.\"+(args.length-1));return{dependencies:dependencies,factory:factory};}\nfunction findAmdModule(path){if(!path.parentPath.isProgram()){return false;}\nvar expression=findExpression(path);if(!expression||!t.isCallExpression(expression)||!t.isIdentifier(expression.node.callee,{name:'define'})){return false;}\nvar _extractDependencyAnd=extractDependencyAndFactory(expression),dependencies=_extractDependencyAnd.dependencies,factory=_extractDependencyAnd.factory;if(dependencies&&factory){return expression;}\nreturn false;}\nfunction extractDependencyMap(path){var dependencyMap={};var _extractDependencyAnd2=extractDependencyAndFactory(path),dependencies=_extractDependencyAnd2.dependencies,factory=_extractDependencyAnd2.factory;var dependencyList=dependencies.node.elements;var factoryParams=factory.node.params;dependencyList.forEach(function(dependency,index){if(factoryParams[index]){dependencyMap[dependency.value]=factoryParams[index];}});return dependencyMap;}\nfunction removeExportsDependency(path){var _extractDependencyAnd3=extractDependencyAndFactory(path),dependencies=_extractDependencyAnd3.dependencies,factory=_extractDependencyAnd3.factory;var dependencyMap=extractDependencyMap(path);if(!dependencyMap.exports){return;}\ndependencies.node.elements=dependencies.node.elements.filter(function(item){return!t.isStringLiteral(item,{value:'exports'});});factory.node.params=factory.node.params.filter(function(item){return!t.isIdentifier(item,dependencyMap.exports);});}\nfunction isEsModulePropertyDefinition(path,scope){var callExpression=findExpression(path);var callee=callExpression.get('callee');var callArguments=callExpression.node.arguments;var isObjectDefinePropertyCall=isObjectProperty(callee,'Object','defineProperty');if(isObjectDefinePropertyCall){var isEsModulePropertyInArguments=t.isStringLiteral(callArguments[1],{value:'__esModule'});var isInScope=t.isIdentifier(callArguments[0],scope);return isEsModulePropertyInArguments&&isInScope;}\nreturn false;}\nfunction isObjectAssignment(path,objectId){var expression=t.isAssignmentExpression(path)?path:findExpression(path);var isMemberAssignment=t.isAssignmentExpression(expression)&&t.isMemberExpression(expression.get('left'));if(isMemberAssignment){return t.isNodesEquivalent(expression.get('left.object').node,objectId);}\nreturn false;}\nfunction isVoidExpression(path){return t.isUnaryExpression(path)&&path.node.operator==='void';}\nfunction isInteropRequireCall(path){var expression=findExpression(path);var isAssignmentCall=t.isAssignmentExpression(expression)&&t.isCallExpression(expression.get('right'));if(isAssignmentCall){var callee=expression.get('right.callee');return callee.isIdentifier()&&callee.node.name.indexOf(INTEROP_FUNCTION_NAME)===0;}\nreturn false;}\nfunction isInteropRequireDefinition(path){if(t.isFunction(path)&&path.node.id){return path.node.id.name.indexOf(INTEROP_FUNCTION_NAME)===0;}\nreturn false;}","Magento_PageBuilder/ts/babel/plugin-resolve-magento-imports/index.min.js":"var path=require('path');module.exports=function(){'use strict';return{visitor:{ImportDeclaration:function(importPath,state){var importExpression=importPath.node.source.value;if(!state.opts.prefix){throw Error('Prefix must be defined');}\nif(!path.isAbsolute(importExpression)&&importExpression.includes('./')){importPath.node.source.value=path.resolve(path.dirname(state.file.opts.filename.replace(state.opts.path,\"\")),importExpression).replace(process.cwd(),state.opts.prefix.replace(/\\/+$/,''));}}}};};","Magento_PageBuilder/js/content-type.min.js":"define([\"Magento_PageBuilder/js/events\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/data-store\"],function(_events,_mageUtils,_underscore,_config,_dataStore){var ContentType=function(){\"use strict\";function ContentType(parentContentType,config,stageId){this.id=_mageUtils.uniqueid();this.dataStore=new _dataStore();this.dataStores={};this.dropped=false;this.parentContentType=parentContentType;this.config=config;this.stageId=stageId;this.initDataStores();this.bindEvents();}\nvar _proto=ContentType.prototype;_proto.destroy=function destroy(){var params={contentType:this,index:this.parentContentType?this.parentContentType.getChildren().indexOf(this):null,parentContentType:this.parentContentType,stageId:this.stageId};this.preview?this.preview.destroy():this.content.destroy();_events.trigger(\"contentType:removeAfter\",params);_events.trigger(this.config.name+\":removeAfter\",params);};_proto.getViewportFields=function getViewportFields(viewport,data){var viewportConfig=this.config.breakpoints[viewport];if(!viewportConfig){return{};}\nreturn viewportConfig.fields[data.appearance+\"-appearance\"]||viewportConfig.fields.default;};_proto.getDataStoresStates=function getDataStoresStates(){var _this=this;var result={};_underscore.each(this.dataStores,function(dataStore,name){if(_config.getConfig(\"defaultViewport\")!==name){var dataStoreFields=_underscore.keys(_this.getDiffViewportFields(name,dataStore.getState()));result[name]=_underscore.pick(dataStore.getState(),dataStoreFields);}else{result[name]=dataStore.getState();}});return result;};_proto.setViewportDataToDataStore=function setViewportDataToDataStore(viewport){var defaultViewport=_config.getConfig(\"defaultViewport\");var currentViewportState=this.dataStores[viewport].getState();var defaultViewportState=this.dataStores[defaultViewport].getState();var viewportFields=_underscore.keys(this.getDiffViewportFields(viewport,currentViewportState));this.dataStore.setState(_underscore.extend({},defaultViewportState,_underscore.pick(currentViewportState,viewportFields)));};_proto.bindEvents=function bindEvents(){var _this2=this;var eventName=this.config.name+\":\"+this.id+\":updateAfter\";var paramObj={};paramObj[this.id]=this;this.dataStore.subscribe(function(state){var defaultViewport=_config.getConfig(\"defaultViewport\");var viewport=_config.getConfig(\"viewport\")||defaultViewport;if(viewport!==defaultViewport){var viewportFields=_underscore.keys(_this2.getViewportFields(viewport,state));var diffViewportFields=_underscore.keys(_this2.getDiffViewportFields(viewport,state));_this2.dataStores[defaultViewport].setState(_underscore.extend(_this2.dataStores[defaultViewport].getState(),_underscore.omit(state,viewportFields)));_this2.dataStores[viewport].setState(_underscore.extend(_this2.dataStores[viewport].getState(),_underscore.pick(state,diffViewportFields)));}else{_this2.dataStores[viewport].setState(state);}\nreturn _events.trigger(eventName,paramObj);});this.dataStore.subscribe(function(){return _events.trigger(\"stage:updateAfter\",{stageId:_this2.stageId});});_events.on(\"stage:\"+this.stageId+\":viewportChangeAfter\",this.onViewportSwitch.bind(this));};_proto.onViewportSwitch=function onViewportSwitch(args){this.setViewportDataToDataStore(args.viewport);};_proto.initDataStores=function initDataStores(){var _this3=this;_underscore.each(_config.getConfig(\"viewports\"),function(value,name){_this3.dataStores[name]=new _dataStore();});};_proto.getDiffViewportFields=function getDiffViewportFields(viewport,data){var fields=this.getViewportFields(viewport,data);var defaultData=this.dataStores[_config.getConfig(\"defaultViewport\")].getState();var excludedFields=[];_underscore.each(fields,function(field,key){var comparison=_mageUtils.compare(data[key],defaultData[key]);var isEmpty=!_underscore.find(comparison.changes,function(change){return!_underscore.isEmpty(change.oldValue);});if(comparison.equal||isEmpty){excludedFields.push(key);}});return _underscore.omit(fields,excludedFields);};return ContentType;}();return ContentType;});","Magento_PageBuilder/js/stage-builder.min.js":"define([\"mage/translate\",\"Magento_PageBuilder/js/events\",\"Magento_Ui/js/modal/alert\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-collection\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type/appearance-config\",\"Magento_PageBuilder/js/content-type/style-registry\",\"Magento_PageBuilder/js/master-format/validator\",\"Magento_PageBuilder/js/utils/directives\",\"Magento_PageBuilder/js/utils/loader\",\"Magento_PageBuilder/js/utils/object\"],function(_translate,_events,_alert,_,_config,_contentTypeCollection,_contentTypeFactory,_appearanceConfig,_styleRegistry,_validator,_directives,_loader,_object){function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}\nfunction buildFromContent(stage,value){var stageDocument=new DOMParser().parseFromString(value,\"text/html\");stageDocument.body.setAttribute(_config.getConfig(\"dataContentTypeAttributeName\"),\"stage\");stageDocument.body.id=_config.getConfig(\"bodyId\");convertToInlineStyles(stageDocument);return buildElementIntoStage(stageDocument.body,stage.rootContainer,stage);}\nfunction convertToInlineStyles(document){var styleBlocks=document.getElementsByTagName(\"style\");var viewportStyles={};_.each(_config.getConfig(\"viewports\"),function(viewport,name){return viewportStyles[name]={};});if(styleBlocks.length>0){Array.from(styleBlocks).forEach(function(styleBlock){var cssRules=styleBlock.sheet.cssRules;processCssRules(cssRules,viewportStyles,_config.getConfig(\"defaultViewport\"));styleBlock.remove();});}\n_.each(viewportStyles,function(styles,name){_.each(styles,function(stylesArray,selector){var element=document.querySelector(selector);_.each(stylesArray,function(style){element.setAttribute(\"data-\"+name+\"-style\",element.getAttribute(\"data-\"+name+\"-style\")?element.getAttribute(\"data-\"+name+\"-style\")+style.cssText:style.cssText);});});});document.querySelectorAll(\"[\"+_styleRegistry.pbStyleAttribute+\"]\").forEach(function(element){element.removeAttribute(_styleRegistry.pbStyleAttribute);});}\nfunction processCssRules(cssRules,styles,scope){Array.from(cssRules).forEach(function(rule){if(rule instanceof CSSStyleRule){var selectors=rule.selectorText.split(\",\").map(function(selector){return selector.trim();});selectors.forEach(function(selector){if(!styles[scope][selector]){styles[scope][selector]=[];}\nstyles[scope][selector].push(rule.style);});}else if(rule instanceof CSSMediaRule){var mediaCssRules=rule.cssRules;var mediaScope=_.findKey(_config.getConfig(\"viewports\"),function(viewport){return rule.conditionText===viewport.media;});if(mediaScope){processCssRules(mediaCssRules,styles,mediaScope);}}});}\nfunction buildElementIntoStage(element,contentType,stage){if(element instanceof HTMLElement&&element.getAttribute(_config.getConfig(\"dataContentTypeAttributeName\"))){var childPromises=[];var childElements=[];var children=getElementChildren(element);if(children.length>0){_.forEach(children,function(childElement){childPromises.push(createElementContentType(childElement,stage,contentType));childElements.push(childElement);});}\nreturn Promise.all(childPromises).then(function(childrenPromises){return Promise.all(childrenPromises.map(function(child,index){contentType.addChild(child);if(child instanceof _contentTypeCollection){return buildElementIntoStage(childElements[index],child,stage);}}));});}}\nfunction createElementContentType(element,stage,contentType){contentType=contentType||stage.rootContainer;var role=element.getAttribute(_config.getConfig(\"dataContentTypeAttributeName\"));if(!role){return Promise.reject(\"Invalid master format: Content type element does not contain\\n            \"+_config.getConfig(\"dataContentTypeAttributeName\")+\" attribute.\");}\nvar config=_config.getContentTypeConfig(role);if(!config){return Promise.reject(\"Unable to load Page Builder configuration for content type \\\"\"+role+\"\\\".\");}\nreturn getElementData(element,config).then(function(data){return(0,_contentTypeFactory)(config,contentType,stage.id,data[_config.getConfig(\"defaultViewport\")],getElementChildren(element).length,data);});}\nfunction getElementData(element,config){var appearance=element.dataset.appearance+\"-appearance\";var fields=config.fields[appearance]||config.fields.default;var result=createInitialElementData(fields);return new Promise(function(resolve){var role=element.getAttribute(_config.getConfig(\"dataContentTypeAttributeName\"));if(!_config.getConfig(\"content_types\").hasOwnProperty(role)){resolve(result);}else{var readerComponents=(0,_appearanceConfig)(role,element.dataset.appearance).reader;(0,_loader)([readerComponents],function(){for(var _len=arguments.length,readers=new Array(_len),_key=0;_key<_len;_key++){readers[_key]=arguments[_key];}\nvar ReaderComponent=readers.pop();var reader=new ReaderComponent();reader.read(element).then(function(readerData){_.each(readerData[_config.getConfig(\"defaultViewport\")],function(value,key){(0,_object.set)(result,key,value);});readerData[_config.getConfig(\"defaultViewport\")]=result;resolve(readerData);});});}});}\nfunction createInitialElementData(fields){return _.mapObject(fields,function(field){if(!_.isUndefined(field.default)){return\"\";}else if(_.isObject(field)){return createInitialElementData(field);}});}\nfunction getElementChildren(element){if(element.hasChildNodes()){var children=[];_.forEach(element.childNodes,function(child){if(child.nodeType===Node.ELEMENT_NODE){if(child.hasAttribute(_config.getConfig(\"dataContentTypeAttributeName\"))){children.push(child);}else{children=getElementChildren(child);}}});return children;}\nreturn[];}\nfunction buildEmpty(stage,initialValue){var stageConfig=_config.getConfig(\"stage_config\");var rootContainer=stage.rootContainer;var rootContentTypeConfig=_config.getContentTypeConfig(stageConfig.root_content_type);var htmlDisplayContentTypeConfig=_config.getContentTypeConfig(stageConfig.html_display_content_type);var promise=Promise.resolve();if(stageConfig.root_content_type&&stageConfig.root_content_type!==\"none\"){promise=(0,_contentTypeFactory)(rootContentTypeConfig,rootContainer,stage.id);promise.then(function(rootContentType){if(!rootContentType){return Promise.reject(\"Unable to create initial \"+stageConfig.root_content_type+\" content type \"+\" within stage.\");}\nrootContainer.addChild(rootContentType);});}\npromise.then(function(rootContentType){if(htmlDisplayContentTypeConfig&&initialValue){return(0,_contentTypeFactory)(htmlDisplayContentTypeConfig,rootContainer,stage.id,{html:initialValue}).then(function(html){if(rootContentType){rootContentType.addChild(html);}else{rootContainer.addChild(html);}});}});return promise;}\nfunction build(stage,content){var currentBuild;content=(0,_directives.removeQuotesInMediaDirectives)(content);if((0,_validator)(content)){currentBuild=buildFromContent(stage,content).catch(function(error){console.error(error);stage.rootContainer.children([]);currentBuild=buildEmpty(stage,content);});}else{currentBuild=buildEmpty(stage,content);}\nreturn currentBuild.catch(function(error){(0,_alert)({content:(0,_translate)(\"An error has occurred while initiating Page Builder. Please consult with your technical \"+\"support contact.\"),title:(0,_translate)(\"Page Builder Error\")});_events.trigger(\"stage:error\",error);console.error(error);});}\nreturn build;});","Magento_PageBuilder/js/panel.min.js":"define([\"consoleLogger\",\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/binding/draggable\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/drag-drop/drop-indicators\",\"Magento_PageBuilder/js/drag-drop/registry\",\"Magento_PageBuilder/js/panel/menu\",\"Magento_PageBuilder/js/panel/menu/content-type\",\"Magento_PageBuilder/js/utils/position-sticky\"],function(_consoleLogger,_jquery,_knockout,_translate,_events,_underscore,_draggable,_config,_dropIndicators,_registry,_menu,_contentType,_positionSticky){var Panel=function(){\"use strict\";function Panel(pageBuilder){this.menuSections=_knockout.observableArray([]);this.searchResults=_knockout.observableArray([]);this.isVisible=_knockout.observable(false);this.isStickyBottom=_knockout.observable(false);this.isStickyTop=_knockout.observable(false);this.searching=_knockout.observable(false);this.searchValue=_knockout.observable(\"\");this.searchPlaceholder=(0,_translate)(\"Find items\");this.searchNoResult=(0,_translate)(\"Nothing found\");this.searchTitle=(0,_translate)(\"Clear Search\");this.template=\"Magento_PageBuilder/panel\";this.pageBuilder=pageBuilder;this.id=this.pageBuilder.id;this.initListeners();}\nvar _proto=Panel.prototype;_proto.afterRender=function afterRender(element){this.element=element;};_proto.initListeners=function initListeners(){var _this=this;_events.on(\"stage:\"+this.id+\":readyAfter\",function(){_this.populateContentTypes();if(!(0,_positionSticky.supportsPositionSticky)()){_this.onScroll();}\n_this.isVisible(true);});};_proto.getTemplate=function getTemplate(){return this.template;};_proto.search=function search(self,event){var _this2=this;this.searchValue(event.currentTarget.value.toLowerCase());if(this.searchValue()===\"\"){this.searching(false);}else{this.searching(true);this.searchResults(_underscore.map(_underscore.filter(_config.getConfig(\"content_types\"),function(contentType){if(contentType.is_system!==true){return false;}\nvar escapedSearchValue=self.searchValue().replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\");var regEx=new RegExp(\"\\\\b\"+escapedSearchValue,\"gi\");return regEx.test(contentType.label.toLowerCase());}),function(contentType,identifier){return new _contentType.ContentType(identifier,contentType,_this2.pageBuilder.stage.id);}));}};_proto.clearSearch=function clearSearch(){this.searchValue(\"\");this.searching(false);};_proto.onScroll=function onScroll(){var self=this;var pageActions=(0,_jquery)(\".page-actions\");var panel=(0,_jquery)(this.element);panel.addClass(\"no-position-sticky\");var stage=panel.siblings(\".pagebuilder-stage\");(0,_jquery)(window).scroll(function(){if(panel&&panel.offset()){var panelOffsetTop=panel.offset().top;var stageOffsetTop=stage.offset().top;var panelHeight=panel.outerHeight();var stageHeight=stage.outerHeight();var currentPanelBottom=Math.round(panelOffsetTop+panel.outerHeight(true)-(0,_jquery)(this).scrollTop());var currentStageBottom=Math.round(stageOffsetTop+stage.outerHeight(true)-(0,_jquery)(this).scrollTop());var currentPanelTop=Math.round(panelOffsetTop-(0,_jquery)(this).scrollTop());var currentStageTop=Math.round(stageOffsetTop-(0,_jquery)(this).scrollTop());if(panelHeight<=stageHeight&&pageActions.hasClass(\"_fixed\")){var pageActionsHeight=pageActions.outerHeight()+15;if(currentStageTop<=pageActionsHeight){if(currentPanelBottom>=currentStageBottom&&currentPanelTop<=pageActionsHeight){self.isStickyBottom(true);self.isStickyTop(false);}else{self.isStickyBottom(false);self.isStickyTop(true);}}else{self.isStickyBottom(false);self.isStickyTop(false);}}else{self.isStickyBottom(false);self.isStickyTop(false);}}});};_proto.getDraggableOptions=function getDraggableOptions(element){var containment;if((0,_jquery)(element).parents(\".modal-inner-wrap\").length>0){containment=(0,_jquery)(element).parents(\".modal-inner-wrap\");}\nvar self=this;return{appendTo:\"body\",cursor:\"-webkit-grabbing\",connectToSortable:\".content-type-drop\",containment:containment||\"document\",scroll:true,helper:function helper(){return(0,_jquery)(this).clone().css({width:(0,_jquery)(this).width(),height:(0,_jquery)(this).height(),zIndex:10001,pointerEvents:\"none\"});},start:function start(){var block=_knockout.dataFor(this);if(block&&block.config){if(document.querySelector(\":focus\")){document.querySelector(\":focus\").blur();}\n(0,_jquery)(\".content-type-container.ui-sortable\").each(function(){if((0,_jquery)(this).data(\"sortable\")){(0,_jquery)(this).sortable(\"option\",\"tolerance\",\"intersect\");}});(0,_dropIndicators.showDropIndicators)(block.config.name,self.pageBuilder.stage.id);(0,_registry.setDraggedContentTypeConfig)(block.config);_events.trigger(\"stage:interactionStart\",{stage:self.pageBuilder.stage});}},stop:function stop(){(0,_jquery)(\".content-type-container.ui-sortable\").each(function(){if((0,_jquery)(this).data(\"sortable\")){(0,_jquery)(this).sortable(\"option\",\"tolerance\",\"pointer\");}});(0,_dropIndicators.hideDropIndicators)();(0,_registry.setDraggedContentTypeConfig)(null);_events.trigger(\"stage:interactionStop\",{stage:self.pageBuilder.stage});}};};_proto.populateContentTypes=function populateContentTypes(){var _this3=this;var menuSections=_config.getConfig(\"menu_sections\");var contentTypes=_config.getConfig(\"content_types\");if(menuSections&&contentTypes){_underscore.each(menuSections,function(menuSection,id){_this3.menuSections.push(new _menu.Menu(id,menuSection,_underscore.map(_underscore.where(contentTypes,{menu_section:id,is_system:true}),function(contentType,identifier){return new _contentType.ContentType(identifier,contentType,_this3.pageBuilder.stage.id);}),_this3.pageBuilder.stage.id));});this.isVisible(true);var hasGroups=(0 in this.menuSections());if(hasGroups){this.menuSections()[0].active(true);}}else{_consoleLogger.error(\"Unable to retrieve content types from server, please inspect network requests \"+\"response.\");}};return Panel;}();return Panel;});","Magento_PageBuilder/js/acl.min.js":"define([\"Magento_PageBuilder/js/config\"],function(_config){var resources={TEMPLATE_SAVE:\"template_save\",TEMPLATE_APPLY:\"template_apply\"};function isAllowed(resource){return _config.getConfig(\"acl\")[resource]===true;}\nreturn{isAllowed:isAllowed,resources:resources};});","Magento_PageBuilder/js/template-manager.min.js":"define([\"html2canvas\",\"jquery\",\"mage/translate\",\"Magento_PageBuilder/js/modal/confirm-alert\",\"Magento_PageBuilder/js/modal/template-manager-save\",\"text!Magento_PageBuilder/template/modal/template-manager/save-content-modal.html\",\"uiRegistry\",\"underscore\",\"Magento_PageBuilder/js/acl\",\"Magento_PageBuilder/js/config\"],function(_html2canvas,_jquery,_translate,_confirmAlert,_templateManagerSave,_saveContentModal,_uiRegistry,_underscore,_acl,_config){function saveAsTemplate(stage){if(!(0,_acl.isAllowed)(_acl.resources.TEMPLATE_SAVE)){(0,_confirmAlert)({content:(0,_translate)(\"You do not have permission to save new templates.\"),title:(0,_translate)(\"Permission Error\")});return false;}\nvar capture=createCapture(stage);var prompt=(0,_templateManagerSave)({title:(0,_translate)(\"Save Content as Template\"),promptContentTmpl:_saveContentModal,templateTypes:_config.getConfig(\"stage_config\").template_types,createdForNote:(0,_translate)(\"Created For is to help with filtering templates. This does not restrict where this template can be used.\"),typeLabel:(0,_translate)(\"Created For\"),label:(0,_translate)(\"Template Name\"),validation:true,modalClass:\"template-manager-save\",validationRules:[\"required-entry\"],attributesForm:{novalidate:\"novalidate\",action:\"\"},attributesField:{\"name\":\"name\",\"data-validate\":\"{required:true}\",\"maxlength\":\"255\"},actions:{confirm:function confirm(name,createdFor){return new Promise(function(resolve,reject){var renderingLock=stage.renderingLocks[stage.renderingLocks.length-1];_jquery.when(capture,renderingLock).then(function(imageSrc,content){_jquery.ajax({url:_config.getConfig(\"template_save_url\"),data:{name:name,template:content,previewImage:imageSrc,createdFor:createdFor},method:\"POST\",dataType:\"json\"}).done(function(data){if(data.status===\"ok\"){(0,_confirmAlert)({content:(0,_translate)(\"The current contents of Page Builder has been successfully saved as a template.\"),title:(0,_translate)(\"Template Saved\")});refreshGrid();resolve();}else if(data.status===\"error\"){(0,_confirmAlert)({content:data.message||(0,_translate)(\"An issue occurred while attempting to save \"+\"the template, please try again.\"),title:(0,_translate)(\"An error occurred\")});reject();}}).fail(function(){(0,_confirmAlert)({content:(0,_translate)(\"An issue occurred while attempting to save the template, \"+\"please try again.\"),title:(0,_translate)(\"Template Save Error\")});reject();});});});}}});capture.then(function(imageSrc){prompt.templateManagerSave(\"setPreviewImage\",imageSrc);});}\nfunction refreshGrid(){var templateStageGrid=_uiRegistry.get(\"pagebuilder_stage_template_grid.pagebuilder_stage_template_grid_data_source\");if(templateStageGrid){templateStageGrid.storage().clearRequests();templateStageGrid.reload();}}\nfunction createCapture(stage){var scrollY=window.scrollY;var stageElement=document.querySelector(\"#\"+stage.id);var deferred=_jquery.Deferred();var renderingLock=stage.renderingLocks[stage.renderingLocks.length-1];renderingLock.then(function(){var parallaxRestore=disableParallax(stageElement);stageElement.style.height=(0,_jquery)(stageElement).outerHeight(false)+\"px\";stageElement.classList.add(\"capture\");stageElement.classList.add(\"interacting\");if(stage.pageBuilder.isFullScreen()){window.scrollTo({top:0});}\n_underscore.defer(function(){(0,_html2canvas)(document.querySelector(\"#\"+stage.id+\" .pagebuilder-canvas\"),{scale:1,useCORS:true,scrollY:window.pageYOffset*-1}).then(function(canvas){var imageSrc=canvas.toDataURL(\"image/jpeg\",0.85);deferred.resolve(imageSrc);if(stage.pageBuilder.isFullScreen()){window.scrollTo({top:scrollY});}\nstageElement.style.height=null;stageElement.classList.remove(\"capture\");stageElement.classList.remove(\"interacting\");restoreParallax(parallaxRestore);});});});return deferred;}\nfunction disableParallax(stageElement){var rowsToReset=[];var parallaxRows=stageElement.querySelectorAll(\"[data-jarallax-original-styles]\");_underscore.each(parallaxRows,function(row){var originalStyles=row.getAttribute(\"data-jarallax-original-styles\");var jarallaxStyle=row.style.cssText;row.style.cssText=originalStyles;var jarallaxContainer=row.querySelector('div[id*=\"jarallax-container\"]');jarallaxContainer.style.display=\"none\";rowsToReset.push({element:row,styles:jarallaxStyle,container:jarallaxContainer});});return rowsToReset;}\nfunction restoreParallax(rows){_underscore.each(rows,function(_ref){var element=_ref.element,styles=_ref.styles,container=_ref.container;element.style.cssText=styles;container.style.display=\"\";});}\nreturn{saveAsTemplate:saveAsTemplate};});","Magento_PageBuilder/js/widget-initializer.min.js":"define(['underscore','jquery','mage/apply/main','Magento_Ui/js/lib/view/utils/dom-observer'],function(_,$,mage,domObserver){'use strict';function initializeWidget(el,data,breakpoints,currentViewport){_.each(data,function(config,component){config=config||{};config.breakpoints=breakpoints;config.currentViewport=currentViewport;mage.applyFor(el,config,component);});}\nreturn function(data,contextElement){_.each(data.config,function(componentConfiguration,elementPath){domObserver.get(elementPath,function(element){var $element=$(element);if(contextElement){$element=$(contextElement).find(element);}\nif($element.length){initializeWidget($element,componentConfiguration,data.breakpoints,data.currentViewport);}});});};});","Magento_PageBuilder/js/content-type-toolbar.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\ndefine([\"jquery\",\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/utils/check-stage-full-screen\",\"Magento_PageBuilder/js/utils/pagebuilder-header-height\",\"Magento_PageBuilder/js/utils/promise-deferred\"],function(_jquery,_knockout,_events,_checkStageFullScreen,_pagebuilderHeaderHeight,_promiseDeferred){var Toolbar=function(){\"use strict\";function Toolbar(preview,options){this.options=_knockout.observableArray([]);this.afterRenderDeferred=(0,_promiseDeferred)();this.preview=preview;this.options(options);}\nvar _proto=Toolbar.prototype;_proto.afterRender=function afterRender(element){this.element=element;this.afterRenderDeferred.resolve(element);};_proto.onOptionClick=function onOptionClick(option,value){var appearance=this.preview.appearance()+\"-appearance\";var fields=this.preview.config.fields[appearance]||this.preview.config.fields.default;var defaultValue=fields[option.key].default;var currentValue=this.preview.contentType.dataStore.get(option.key);this.preview.updateData(option.key,currentValue===value.value?defaultValue:value.value);};_proto.onFocusIn=function onFocusIn(context,event){var currentContentTypeTarget=context.toolbar.getCurrentContentTypeTarget();var toolbarOptions=currentContentTypeTarget.find(\".pagebuilder-toolbar-options\");var currentContentTypeTargetClientRectTop=currentContentTypeTarget[0].getBoundingClientRect().top-(0,_pagebuilderHeaderHeight)(context.contentType.stageId);if((0,_checkStageFullScreen)(context.contentType.stageId)&&currentContentTypeTargetClientRectTop<toolbarOptions.outerHeight()){context.toolbar.observer=new MutationObserver(function(){toolbarOptions.css(\"transform\",\"translateY(\"+currentContentTypeTarget.outerHeight()+\"px)\");});context.toolbar.observer.observe(currentContentTypeTarget[0],{attributes:true,childList:true,subtree:true});toolbarOptions.css(\"transform\",\"translateY(\"+currentContentTypeTarget.outerHeight()+\"px)\");}else{toolbarOptions.css(\"transform\",\"translateY(-100%)\");}\n(0,_jquery)(currentContentTypeTarget).addClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStart\");};_proto.onFocusOut=function onFocusOut(context,event){var currentContentTypeTarget=context.toolbar.getCurrentContentTypeTarget();currentContentTypeTarget.removeClass(\"pagebuilder-toolbar-active\");currentContentTypeTarget.find(\".pagebuilder-toolbar-options\").css(\"transform\",\"\");if(typeof context.toolbar.observer!==\"undefined\"){context.toolbar.observer.disconnect();}\n_events.trigger(\"stage:interactionStop\");};_proto.getCurrentContentTypeTarget=function getCurrentContentTypeTarget(){return(0,_jquery)(\"#\"+this.preview.contentType.id).find(\".pagebuilder-content-type\");};_createClass(Toolbar,[{key:\"template\",get:function get(){return\"Magento_PageBuilder/content-type-toolbar\";}}]);return Toolbar;}();return Toolbar;});","Magento_PageBuilder/js/collection.min.js":"define([\"knockout\",\"Magento_PageBuilder/js/utils/array\"],function(_knockout,_array){var Collection=function(){\"use strict\";function Collection(children){this.children=children?children:_knockout.observableArray([]);}\nvar _proto=Collection.prototype;_proto.getChildren=function getChildren(){return this.children;};_proto.addChild=function addChild(child,index){if(typeof index===\"number\"){(0,_array.moveArrayItemIntoArray)(child,this.children,index);}else{this.children.push(child);}};_proto.removeChild=function removeChild(child){(0,_array.removeArrayItem)(this.children,child);};_proto.setChildren=function setChildren(children){this.children=children;};return Collection;}();return Collection;});","Magento_PageBuilder/js/events.min.js":"define(['uiEvents'],function(uiEvents){'use strict';return{on:function(events,callback,ns){uiEvents.on('pagebuilder:'+events,callback,'pagebuilder:'+ns);return this;},off:function(ns){uiEvents.off('pagebuilder:'+ns);return this;},trigger:function(name,args){return uiEvents.trigger('pagebuilder:'+name,args);}};});","Magento_PageBuilder/js/uploader.min.js":"define([\"Magento_PageBuilder/js/events\",\"uiLayout\",\"uiRegistry\"],function(_events,_uiLayout,_uiRegistry){var Uploader=function(){\"use strict\";function Uploader(name,uploaderConfig,contentTypeId,dataStore,initialValue,onChangeCallback,onDeleteCallback){if(onChangeCallback===void 0){onChangeCallback=null;}\nif(onDeleteCallback===void 0){onDeleteCallback=null;}\nvar config=Object.assign({},uploaderConfig,{value:initialValue});config.id=contentTypeId;config.name=name;this.dataStore=dataStore;_events.on(\"image:\"+contentTypeId+\":uploadAfter\",onChangeCallback?onChangeCallback:this.onImageChanged.bind(this));_events.on(\"image:\"+contentTypeId+\":deleteFileAfter\",onDeleteCallback?onDeleteCallback:this.onImageDeleted.bind(this));this.config=config;this.render();}\nvar _proto=Uploader.prototype;_proto.onImageChanged=function onImageChanged(data){this.dataStore.set(this.config.dataScope.toString(),data);};_proto.onImageDeleted=function onImageDeleted(){this.dataStore.set(this.config.dataScope.toString(),\"\");};_proto.getUiComponent=function getUiComponent(){return _uiRegistry.async(this.config.name);};_proto.render=function render(){(0,_uiLayout)([this.config]);};return Uploader;}();return Uploader;});","Magento_PageBuilder/js/page-builder.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"Magento_Ui/js/lib/knockout/template/loader\",\"Magento_Ui/js/modal/alert\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/acl\",\"Magento_PageBuilder/js/binding/style\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/panel\",\"Magento_PageBuilder/js/stage\",\"Magento_PageBuilder/js/template-manager\"],function(_jquery,_knockout,_translate,_events,_loader,_alert,_mageUtils,_underscore,_acl,_style,_config,_contentTypeFactory,_panel,_stage,_templateManager){var PageBuilder=function(){\"use strict\";function PageBuilder(config,initialValue){var _this=this;this.template=\"Magento_PageBuilder/page-builder\";this.isStageReady=_knockout.observable(false);this.id=_mageUtils.uniqueid();this.originalScrollTop=0;this.isFullScreen=_knockout.observable(false);this.isSnapshot=_knockout.observable(false);this.isSnapshotTransition=_knockout.observable(false);this.loading=_knockout.observable(true);this.wrapperStyles=_knockout.observable({});this.stageStyles=_knockout.observable({});this.viewport=_knockout.observable(\"\");this.viewports={};this.viewportClasses={};this.previousStyles={};_config.setConfig(config);_config.setMode(\"Preview\");this.preloadTemplates(config);this.initialValue=initialValue;this.initViewports(config);this.isFullScreen(config.isFullScreen);this.isSnapshot(!!config.pagebuilder_content_snapshot);this.isSnapshotTransition(false);this.snapshot=!!config.pagebuilder_content_snapshot;this.config=config;this.isAllowedTemplateApply=(0,_acl.isAllowed)(_acl.resources.TEMPLATE_APPLY);this.isAllowedTemplateSave=(0,_acl.isAllowed)(_acl.resources.TEMPLATE_SAVE);(0,_contentTypeFactory)(_config.getContentTypeConfig(_stage.rootContainerName),null,this.id).then(function(rootContainer){_this.stage=new _stage(_this,rootContainer);_this.isStageReady(true);});this.panel=new _panel(this);this.initListeners();}\nvar _proto=PageBuilder.prototype;_proto.destroy=function destroy(){this.stage.rootContainer.destroy();};_proto.initListeners=function initListeners(){var _this2=this;_events.on(\"stage:\"+this.id+\":toggleFullscreen\",this.toggleFullScreen.bind(this));this.isFullScreen.subscribe(function(){return _this2.onFullScreenChange();});};_proto.toggleFullScreen=function toggleFullScreen(args){var _this3=this;if(args.animate===false){this.isFullScreen(!this.isFullScreen());return;}\nvar stageWrapper=(0,_jquery)(\"#\"+this.stage.id).parent();var pageBuilderWrapper=stageWrapper.parents(\".pagebuilder-wysiwyg-wrapper\");var panel=stageWrapper.find(\".pagebuilder-panel\");if(this.snapshot){stageWrapper.scrollTop(0);}\nif(!this.isFullScreen()){pageBuilderWrapper.css(\"height\",pageBuilderWrapper.outerHeight());var xPosition=parseInt(stageWrapper.offset().top.toString(),10)-parseInt((0,_jquery)(window).scrollTop().toString(),10)-(this.snapshot?63:0);var yPosition=stageWrapper.offset().left-(this.snapshot?150:0);this.previousStyles={position:this.snapshot?\"relative\":\"fixed\",top:xPosition+\"px\",left:yPosition+\"px\",zIndex:\"800\",width:stageWrapper.outerWidth().toString()+\"px\"};if(this.snapshot){this.isSnapshot(false);this.stageStyles(this.previousStyles);}else{this.previousPanelHeight=panel.outerHeight();panel.css(\"height\",this.previousPanelHeight+\"px\");this.wrapperStyles(this.previousStyles);}\nthis.isFullScreen(true);_underscore.defer(function(){panel.css(\"height\",\"\");if(_this3.snapshot){_this3.stageStyles(Object.keys(_this3.previousStyles).reduce(function(object,styleName){var _Object$assign;return Object.assign(object,(_Object$assign={},_Object$assign[styleName]=\"\",_Object$assign));},{}));}else{_this3.wrapperStyles(Object.keys(_this3.previousStyles).reduce(function(object,styleName){var _Object$assign2;return Object.assign(object,(_Object$assign2={},_Object$assign2[styleName]=\"\",_Object$assign2));},{}));}});}else{if(this.snapshot){this.isSnapshotTransition(true);this.stageStyles(this.previousStyles);}else{this.wrapperStyles(this.previousStyles);this.isFullScreen(false);}\npanel.css(\"height\",this.previousPanelHeight+\"px\");_underscore.delay(function(){if(_this3.snapshot){_this3.isSnapshot(true);_this3.isSnapshotTransition(false);_this3.stageStyles(Object.keys(_this3.previousStyles).reduce(function(object,styleName){var _Object$assign3;return Object.assign(object,(_Object$assign3={},_Object$assign3[styleName]=\"\",_Object$assign3));},{}));_this3.isFullScreen(false);}else{_this3.wrapperStyles(Object.keys(_this3.previousStyles).reduce(function(object,styleName){var _Object$assign4;return Object.assign(object,(_Object$assign4={},_Object$assign4[styleName]=\"\",_Object$assign4));},{}));}\npanel.css(\"height\",\"\");pageBuilderWrapper.css(\"height\",\"\");_this3.previousStyles={};_this3.previousPanelHeight=null;},350);}\nreturn true;};_proto.onFullScreenChange=function onFullScreenChange(){if(this.isFullScreen()){(0,_jquery)(\"body\").css(\"overflow\",\"hidden\");}else{(0,_jquery)(\"body\").css(\"overflow\",\"\");}\n_events.trigger(\"stage:\"+this.id+\":fullScreenModeChangeAfter\",{fullScreen:this.isFullScreen()});_events.trigger(\"stage:fullScreenModeChangeAfter\",{pageBuilderId:this.id,fullScreen:this.isFullScreen()});};_proto.getTemplate=function getTemplate(){return this.template;};_proto.toggleTemplateManger=function toggleTemplateManger(){if(!(0,_acl.isAllowed)(_acl.resources.TEMPLATE_APPLY)){(0,_alert)({content:(0,_translate)(\"You do not have permission to apply templates.\"),title:(0,_translate)(\"Permission Error\")});return false;}\n_events.trigger(\"stage:templateManager:open\",{stage:this.stage});};_proto.saveAsTemplate=function saveAsTemplate(){return(0,_templateManager.saveAsTemplate)(this.stage);};_proto.toggleViewport=function toggleViewport(viewport){var previousViewport=this.viewport();this.viewport(viewport);_underscore.each(this.viewportClasses,function(viewportClass){viewportClass(false);});this.viewportClasses[viewport+\"-viewport\"](true);_config.setConfig({viewport:viewport});_events.trigger(\"stage:\"+this.id+\":viewportChangeAfter\",{viewport:viewport,previousViewport:previousViewport});_events.trigger(\"stage:viewportChangeAfter\",{viewport:viewport,previousViewport:previousViewport});};_proto.preloadTemplates=function preloadTemplates(config){var previewTemplates=_underscore.values(config.content_types).map(function(contentType){return _underscore.values(contentType.appearances).map(function(appearance){return appearance.preview_template;});}).reduce(function(array,value){return array.concat(value);},[]).map(function(value){return(0,_loader.formatPath)(value);});_underscore.defer(function(){require(previewTemplates);});};_proto.initViewports=function initViewports(config){var _this4=this;this.viewports=config.viewports;this.defaultViewport=config.defaultViewport;this.viewport(this.defaultViewport);_config.setConfig({viewport:this.defaultViewport});_underscore.each(this.viewports,function(viewport,name){_this4.viewportClasses[name+\"-viewport\"]=_knockout.observable(name===_this4.defaultViewport);});};_createClass(PageBuilder,[{key:\"viewportTemplate\",get:function get(){return\"Magento_PageBuilder/viewport/switcher\";}}]);return PageBuilder;}();return PageBuilder;});","Magento_PageBuilder/js/content-type-collection.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/collection\",\"Magento_PageBuilder/js/content-type\"],function(_events,_underscore,_collection,_contentType){var ContentTypeCollection=function(_contentType2){\"use strict\";_inheritsLoose(ContentTypeCollection,_contentType2);function ContentTypeCollection(parentContentType,config,stageId){var _this;_this=_contentType2.call(this,parentContentType,config,stageId)||this;_this.collection=new _collection();_this.collection.getChildren().subscribe(function(){return _events.trigger(\"stage:updateAfter\",{stageId:_this.stageId});});return _this;}\nvar _proto=ContentTypeCollection.prototype;_proto.getChildren=function getChildren(){return this.collection.getChildren();};_proto.addChild=function addChild(child,index){child.parentContentType=this;this.collection.addChild(child,index);_underscore.defer(function(){_events.trigger(\"contentType:mountAfter\",{id:child.id,contentType:child});_events.trigger(child.config.name+\":mountAfter\",{id:child.id,contentType:child});});};_proto.removeChild=function removeChild(child){this.collection.removeChild(child);};_proto.destroy=function destroy(){[].concat(this.getChildren()()).forEach(function(contentType){contentType.destroy();});_contentType2.prototype.destroy.call(this);};_proto.setChildren=function setChildren(children){this.collection.setChildren(children);};_createClass(ContentTypeCollection,[{key:\"children\",get:function get(){return this.collection.getChildren();}}]);return ContentTypeCollection;}(_contentType);return ContentTypeCollection;});","Magento_PageBuilder/js/data-store.min.js":"define([\"jquery\",\"Magento_PageBuilder/js/utils/object\"],function(_jquery,_object){var DataStore=function(){\"use strict\";function DataStore(){this.state={};this.events=(0,_jquery)({});this.previousState={};}\nvar _proto=DataStore.prototype;_proto.get=function get(key,defaultValue){return(0,_object.get)(this.state,key,defaultValue);};_proto.getState=function getState(){return this.state;};_proto.getPreviousState=function getPreviousState(){return this.previousState;};_proto.set=function set(key,value){this.previousState=Object.assign({},this.state);(0,_object.set)(this.state,key,value);this.emitState();};_proto.setState=function setState(state){this.previousState=Object.assign({},this.state);this.state=state;this.emitState();};_proto.unset=function unset(key){var storeState=this.state;delete storeState[key];this.setState(storeState);};_proto.subscribe=function subscribe(handler,key){var _this=this;this.events.on(\"state\",function(event,data){if(key){if(_this.previousState[key]!==data.state[key]){handler(data.state,event);}}else{if(_this.previousState!==data.state){handler(data.state,event);}}});};_proto.emitState=function emitState(){this.events.trigger(\"state\",{state:this.state});};return DataStore;}();return DataStore;});","Magento_PageBuilder/js/stage.min.js":"define([\"jquery\",\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/resource/jquery/ui/jquery.ui.touch-punch\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/binding/sortable\",\"Magento_PageBuilder/js/collection\",\"Magento_PageBuilder/js/data-store\",\"Magento_PageBuilder/js/drag-drop/matrix\",\"Magento_PageBuilder/js/master-format/render\",\"Magento_PageBuilder/js/stage-builder\",\"Magento_PageBuilder/js/utils/editor\",\"Magento_PageBuilder/js/utils/promise-deferred\"],function(_jquery,_knockout,_events,_jqueryUi,_mageUtils,_underscore,_sortable,_collection,_dataStore,_matrix,_render,_stageBuilder,_editor,_promiseDeferred){var Stage=function(){\"use strict\";function Stage(pageBuilder,rootContainer){var _this=this;this.loading=_knockout.observable(true);this.showBorders=_knockout.observable(false);this.interacting=_knockout.observable(false);this.userSelect=_knockout.observable(true);this.focusChild=_knockout.observable(false);this.dataStore=new _dataStore();this.afterRenderDeferred=(0,_promiseDeferred)();this.renderingLocks=[];this.template=\"Magento_PageBuilder/content-type/preview\";this.collection=new _collection();this.applyBindingsDebounce=_underscore.debounce(function(renderId){_this.render.applyBindings(_this.rootContainer).then(function(renderedOutput){if(_this.lastRenderId===renderId){_events.trigger(\"stage:\"+_this.id+\":masterFormatRenderAfter\",{value:(0,_editor.unescapeDoubleQuoteWithinWidgetDirective)(renderedOutput)});_this.renderingLocks.forEach(function(lock){lock.resolve(renderedOutput);});}}).catch(function(error){if(error){console.error(error);}});},500);this.pageBuilder=pageBuilder;this.id=pageBuilder.id;this.render=new _render(pageBuilder.id);this.rootContainer=rootContainer;(0,_matrix.generateAllowedParents)();this.afterRenderDeferred.promise.then(function(){_this.render.setupChannel();_events.trigger(\"stage:\"+_this.id+\":renderAfter\",{stage:_this});});Promise.all([(0,_stageBuilder)(this,(0,_editor.escapeDoubleQuoteWithinWidgetDirective)(this.pageBuilder.initialValue)),this.afterRenderDeferred.promise]).then(this.ready.bind(this)).catch(function(error){console.error(error);});}\nvar _proto=Stage.prototype;_proto.getTemplate=function getTemplate(){return this.template;};_proto.ready=function ready(){_events.trigger(\"stage:\"+this.id+\":readyAfter\",{stage:this});this.loading(false);this.initListeners();_events.trigger(\"stage:updateAfter\",{stageId:this.id});};_proto.initListeners=function initListeners(){var _this2=this;this.collection.getChildren().subscribe(function(){return _events.trigger(\"stage:updateAfter\",{stageId:_this2.id});});_events.on(\"contentType:removeAfter\",function(args){if(args.stageId===_this2.id){_this2.onContentTypeRemoved(args);}});this.dataStore.subscribe(function(){return _events.trigger(\"stage:updateAfter\",{stageId:_this2.id});});_events.on(\"stage:updateAfter\",function(args){if(args.stageId===_this2.id){_this2.createLock();var renderId=_mageUtils.uniqueid();_this2.lastRenderId=renderId;_this2.applyBindingsDebounce(renderId);}});var interactionLevel=0;_events.on(\"stage:interactionStart\",function(){++interactionLevel;_this2.interacting(true);});_events.on(\"stage:interactionStop\",function(args){var forced=_underscore.isObject(args)&&args.force===true;interactionLevel=Math.max(interactionLevel-1,0);if(interactionLevel===0||forced){_this2.interacting(false);if(forced){interactionLevel=0;}}});_events.on(\"stage:childFocusStart\",function(){return _this2.focusChild(true);});_events.on(\"stage:childFocusStop\",function(){return _this2.focusChild(false);});};_proto.createLock=function createLock(){this.renderingLocks.push(_jquery.Deferred());};_proto.onContentTypeRemoved=function onContentTypeRemoved(params){if(params.parentContentType){params.parentContentType.removeChild(params.contentType);}};return Stage;}();Stage.rootContainerName=\"root-container\";return Stage;});","Magento_PageBuilder/js/config.min.js":"define([\"underscore\"],function(_underscore){var Config=function(){\"use strict\";function Config(){}\nConfig.setConfig=function setConfig(config){Config.config=_underscore.extend(Config.config,config);};Config.setMode=function setMode(mode){Config.mode=mode;};Config.getMode=function getMode(){return Config.mode;};Config.getConfig=function getConfig(key){if(key){if(typeof Config.config[key]!==\"undefined\"){return Config.config[key];}\nreturn null;}\nreturn Config.config;};Config.getContentTypeConfig=function getContentTypeConfig(contentType){if(typeof Config.getConfig(\"content_types\")[contentType]!==\"undefined\"){return Config.getConfig(\"content_types\")[contentType];}\nreturn null;};return Config;}();Config.config={dataContentTypeAttributeName:\"data-content-type\",bodyId:\"html-body\"};return Config;});","Magento_PageBuilder/js/content-type-factory.min.js":"define([\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type/master-factory\",\"Magento_PageBuilder/js/content-type/preview-factory\",\"Magento_PageBuilder/js/utils/loader\"],function(_events,_underscore,_config,_masterFactory,_previewFactory,_loader){function createContentType(config,parentContentType,stageId,data,childrenLength,viewportsData){if(data===void 0){data={};}\nif(childrenLength===void 0){childrenLength=0;}\nif(viewportsData===void 0){viewportsData={};}\nreturn new Promise(function(resolve,reject){(0,_loader)([config.component],function(contentTypeComponent){try{var _contentType=new contentTypeComponent(parentContentType,config,stageId);var viewFactory=_config.getMode()===\"Preview\"?_previewFactory:_masterFactory;viewFactory(_contentType,config).then(function(viewComponent){var viewName=_config.getMode()===\"Preview\"?\"preview\":\"content\";_contentType[viewName]=viewComponent;assignDataToDataStores(_contentType,config,data,viewportsData);resolve(_contentType);}).catch(function(error){reject(error);});}catch(error){reject(\"Error within component (\"+config.component+\") for \"+config.name+\".\");console.error(error);}},function(error){reject(\"Unable to load component (\"+config.component+\") for \"+config.name+\". Please check component exists\"+\" and content type configuration is correct.\");console.error(error);});}).then(function(contentType){_events.trigger(\"contentType:createAfter\",{id:contentType.id,contentType:contentType});_events.trigger(config.name+\":createAfter\",{id:contentType.id,contentType:contentType});fireContentTypeReadyEvent(contentType,childrenLength);return contentType;}).catch(function(error){console.error(error);return null;});}\nfunction assignDataToDataStores(contentType,config,data,viewportsData){var defaultData=prepareData(config,data);var currentViewport=_config.getConfig(\"viewport\")||_config.getConfig(\"defaultViewport\");_underscore.each(_config.getConfig(\"viewports\"),function(viewport,name){var viewportData={};var breakpoint=config.breakpoints[name];var viewportConfig=breakpoint&&breakpoint.fields?_underscore.extend({},breakpoint,{name:config.name}):{};if(!_underscore.isEmpty(viewportConfig)){viewportsData[name]=viewportsData[name]||{};viewportData=prepareData(viewportConfig,viewportsData[name]);}\ncontentType.dataStores[name].setState(_underscore.extend({},defaultData,viewportData));});contentType.setViewportDataToDataStore(currentViewport);}\nfunction prepareData(config,data){var appearance=data.appearance+\"-appearance\";var fields=config.fields[appearance]||config.fields.default;var defaults=prepareDefaults(fields||{});defaults.display=true;return _underscore.extend(defaults,data,{name:config.name});}\nfunction prepareDefaults(fields){if(_underscore.isEmpty(fields)){return{};}\nreturn _underscore.mapObject(fields,function(field){if(!_underscore.isUndefined(field.default)){return field.default;}else if(_underscore.isObject(field)){return prepareDefaults(field);}});}\nfunction fireContentTypeReadyEvent(contentType,childrenLength){if(childrenLength===void 0){childrenLength=0;}\nvar fire=function fire(){var params={id:contentType.id,contentType:contentType,expectChildren:childrenLength};_events.trigger(\"contentType:mountAfter\",params);_events.trigger(contentType.config.name+\":mountAfter\",params);};if(childrenLength===0){fire();}else{var mountCounter=0;_events.on(\"contentType:mountAfter\",function(args){if(args.contentType.parentContentType.id===contentType.id){mountCounter++;if(mountCounter===childrenLength){mountCounter=0;fire();_events.off(\"contentType:\"+contentType.id+\":mountAfter\");}}},\"contentType:\"+contentType.id+\":mountAfter\");}}\nreturn createContentType;});","Magento_PageBuilder/js/content-type-menu.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\ndefine([\"knockout\",\"underscore\"],function(_knockout,_underscore){var ContentTypeMenu=function(){\"use strict\";function ContentTypeMenu(preview,options){var _this=this;this.options=_knockout.observableArray([]);this.preview=preview;var codes=_underscore.keys(options);_underscore.values(options).forEach(function(option,index){option.code=codes[index];_this.options.push(option);});this.sort();}\nvar _proto=ContentTypeMenu.prototype;_proto.getOption=function getOption(code){return this.options().find(function(option){return option.code===code;});};_proto.sort=function sort(){this.options.sort(function(a,b){return a.sort===b.sort?0:a.sort<b.sort?-1:1;});};_createClass(ContentTypeMenu,[{key:\"template\",get:function get(){return\"Magento_PageBuilder/content-type/menu\";}}]);return ContentTypeMenu;}();return ContentTypeMenu;});","Magento_PageBuilder/js/drag-drop/registry.min.js":"define([],function(){var draggedContentTypeConfig;function setDraggedContentTypeConfig(config){draggedContentTypeConfig=config;}\nfunction getDraggedContentTypeConfig(){return draggedContentTypeConfig;}\nreturn{setDraggedContentTypeConfig:setDraggedContentTypeConfig,getDraggedContentTypeConfig:getDraggedContentTypeConfig};});","Magento_PageBuilder/js/drag-drop/move-content-type.min.js":"define([\"knockout\",\"Magento_PageBuilder/js/events\"],function(_knockout,_events){function moveContentType(contentType,targetIndex,targetParent){if(targetParent===void 0){targetParent=null;}\nvar sourceParent=contentType.parentContentType;var sourceIndex=contentType.parentContentType.children().indexOf(contentType);var sourceParentChildren=sourceParent.getChildren();_events.trigger(\"contentType:moveBefore\",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});_events.trigger(contentType.config.name+\":moveBefore\",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});if(targetParent&&sourceParent!==targetParent){contentType.parentContentType=targetParent;sourceParentChildren.splice(sourceIndex,1);targetParent.getChildren().splice(targetIndex,0,contentType);}else{var children=_knockout.utils.unwrapObservable(sourceParentChildren);if(sourceParentChildren.valueWillMutate){sourceParentChildren.valueWillMutate();}\nchildren.splice(sourceIndex,1);children.splice(targetIndex,0,contentType);if(sourceParentChildren.valueHasMutated){sourceParentChildren.valueHasMutated();}}\nif(_knockout.processAllDeferredBindingUpdates){_knockout.processAllDeferredBindingUpdates();}\n_events.trigger(\"contentType:moveAfter\",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});_events.trigger(contentType.config.name+\":moveAfter\",{contentType:contentType,sourceParent:sourceParent,targetParent:targetParent,targetIndex:targetIndex,stageId:contentType.stageId});}\nreturn{moveContentType:moveContentType};});","Magento_PageBuilder/js/drag-drop/sortable.min.js":"define([\"jquery\",\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/drag-drop/drop-indicators\",\"Magento_PageBuilder/js/drag-drop/matrix\",\"Magento_PageBuilder/js/drag-drop/move-content-type\",\"Magento_PageBuilder/js/drag-drop/registry\"],function(_jquery,_knockout,_events,_contentTypeFactory,_dropIndicators,_matrix,_moveContentType,_registry){var hiddenClass=\".pagebuilder-content-type-hidden\";function getSortableOptions(preview){return{cursor:\"-webkit-grabbing\",tolerance:\"pointer\",helper:function helper(event,item){var helper=(0,_jquery)(item).clone();helper.css({pointerEvents:\"none\"});return helper[0];},appendTo:document.body,placeholder:{element:function element(){return(0,_jquery)(\"<div />\").addClass(\"pagebuilder-sortable-placeholder\")[0];},update:function update(){return;}},handle:\".move-structural\",items:\"> .pagebuilder-content-type-wrapper\",start:function start(){onSortStart.apply(this,[preview].concat(Array.prototype.slice.call(arguments)));},sort:function sort(){onSort.apply(this,[preview].concat(Array.prototype.slice.call(arguments)));},receive:function receive(){onSortReceive.apply(this,[preview].concat(Array.prototype.slice.call(arguments)));},update:function update(){onSortUpdate.apply(this,[preview].concat(Array.prototype.slice.call(arguments)));},stop:function stop(){onSortStop.apply(this,[preview].concat(Array.prototype.slice.call(arguments)));}};}\nfunction getPreviewStageIdProxy(preview){return preview.contentType.stageId;}\nfunction getcontentTypeProxy(instance){return instance.contentType;}\nvar sortedContentType;function onSortStart(preview,event,ui){if(ui.item.hasClass(\"pagebuilder-content-type-wrapper\")){_events.trigger(\"stage:interactionStart\");var contentTypeInstance=_knockout.dataFor(ui.item[0]);if(contentTypeInstance){ui.item.css(\"display\",\"block\").addClass(\"pagebuilder-sorting-original\");(0,_jquery)(\".pagebuilder-drop-indicator.hidden-drop-indicator\").css(\"display\",\"block\").removeClass(\"hidden-drop-indicator\");if(contentTypeInstance.parentContentType.getChildren().indexOf(contentTypeInstance)===0){ui.item.prev(\".pagebuilder-drop-indicator\").css(\"display\",\"none\").addClass(\"hidden-drop-indicator\");}\n(0,_dropIndicators.showDropIndicators)(contentTypeInstance.config.name,preview.contentType.stageId);sortedContentType=contentTypeInstance;(0,_jquery)(this).sortable(\"option\",\"connectWith\",(0,_matrix.getAllowedContainersClasses)(contentTypeInstance.config.name,preview.contentType.stageId));(0,_jquery)(this).sortable(\"refresh\");}}}\nvar placeholderContainer;function onSort(preview,event,ui){if((0,_jquery)(this).sortable(\"option\",\"disabled\")||ui.placeholder.parents(hiddenClass).length>0){ui.placeholder.css(\"display\",\"none\");}else{ui.placeholder.css(\"display\",\"block\");}\nplaceholderContainer=ui.placeholder.parents(\".content-type-container\")[0];}\nfunction onSortStop(preview,event,ui){ui.item.removeClass(\"pagebuilder-sorting-original\");(0,_dropIndicators.hideDropIndicators)();(0,_registry.setDraggedContentTypeConfig)(null);if(ui.item.hasClass(\"pagebuilder-content-type-wrapper\")){_events.trigger(\"stage:interactionStop\");}\nif(ui.item&&!sortedContentType){ui.item.remove();}\nsortedContentType=null;}\nfunction onSortReceive(preview,event,ui){var contentTypeConfig=(0,_registry.getDraggedContentTypeConfig)();(0,_registry.setDraggedContentTypeConfig)(null);if((0,_jquery)(event.target)[0]!==this){return;}\nif(!preview.isContainer()){(0,_jquery)(this).sortable(\"cancel\");return;}\nif(contentTypeConfig){if((0,_jquery)(this).sortable(\"option\",\"disabled\")||(0,_jquery)(this).parents(hiddenClass).length>0){return;}\nvar index=(0,_jquery)(event.target).children(\".pagebuilder-content-type-wrapper, .pagebuilder-draggable-content-type\").toArray().findIndex(function(element){return element.classList.contains(\"pagebuilder-draggable-content-type\");});(0,_contentTypeFactory)(contentTypeConfig,getcontentTypeProxy(preview),getPreviewStageIdProxy(preview)).then(function(contentType){contentType.dropped=true;getcontentTypeProxy(preview).addChild(contentType,index);_events.trigger(\"contentType:dropAfter\",{id:contentType.id,contentType:contentType});_events.trigger(contentTypeConfig.name+\":dropAfter\",{id:contentType.id,contentType:contentType});return contentType;});(0,_jquery)(event.target).find(\".pagebuilder-draggable-content-type\").remove();}}\nfunction onSortUpdate(preview,event,ui){if((0,_jquery)(this).hasClass(\"ui-sortable\")&&(0,_jquery)(this).sortable(\"option\",\"disabled\")||ui.item.parents(hiddenClass).length>0){ui.item.remove();(0,_jquery)(this).sortable(\"cancel\");if(ui.item.length>0&&typeof _knockout.dataFor(ui.item[0])!==\"undefined\"){var data=_knockout.dataFor(ui.item[0]);var contentType=data.contentType&&data.contentType.getChildren?data.contentType:data.parentContentType;var children=contentType.getChildren()().splice(0);contentType.getChildren()([]);contentType.getChildren()(children);}\nreturn;}\nif(sortedContentType&&(this===ui.item.parent()[0]||placeholderContainer&&(0,_jquery)(this).find(ui.item.parent()).length>0)){var el=ui.item[0];var contentTypeInstance=_knockout.dataFor(el);var target=_knockout.dataFor(placeholderContainer);if(target&&contentTypeInstance){var sourceParent=contentTypeInstance.parentContentType;var targetParent=getcontentTypeProxy(target);var targetIndex=(0,_jquery)(placeholderContainer).children(\".pagebuilder-content-type-wrapper, .pagebuilder-draggable-content-type\").toArray().findIndex(function(element){return element===el;});if(sourceParent){(0,_jquery)(sourceParent===targetParent?this:ui.sender||this).sortable(\"cancel\");}else{(0,_jquery)(el).remove();}\n(0,_moveContentType.moveContentType)(contentTypeInstance,targetIndex,targetParent);if(contentTypeInstance.parentContentType!==targetParent){ui.item.remove();}}}}\nreturn{getSortableOptions:getSortableOptions,hiddenClass:hiddenClass};});","Magento_PageBuilder/js/drag-drop/drop-indicators.min.js":"define([\"Magento_PageBuilder/js/utils/create-stylesheet\",\"Magento_PageBuilder/js/drag-drop/matrix\"],function(_createStylesheet,_matrix){var headDropIndicatorStyles;function showDropIndicators(contentType,stageId){var acceptedContainers=(0,_matrix.getContainersFor)(contentType);if(acceptedContainers.length>0){var _ref;var classNames=acceptedContainers.map(function(container){return\"#\"+stageId+\" .content-type-container.\"+container+\"-container > .pagebuilder-drop-indicator, \"+(\"#\"+stageId+\" .pagebuilder-content-type.type-container.empty-container > .content-type-container.\")+(container+\"-container:before\");});var styles=(0,_createStylesheet.createStyleSheet)((_ref={},_ref[classNames.join(\", \")]={opacity:1,visibility:\"visible\"},_ref));document.head.appendChild(styles);headDropIndicatorStyles=styles;return styles;}}\nfunction hideDropIndicators(){if(headDropIndicatorStyles){headDropIndicatorStyles.remove();headDropIndicatorStyles=null;}}\nreturn{showDropIndicators:showDropIndicators,hideDropIndicators:hideDropIndicators};});","Magento_PageBuilder/js/drag-drop/matrix.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/config\"],function(_underscore,_config){var allowedParents={};function generateAllowedParents(){_underscore.values(_config.getConfig(\"content_types\")).forEach(function(contentType){allowedParents[contentType.name]=contentType.allowed_parents.slice();});}\nfunction getContainersFor(contentType){if(allowedParents[contentType]){return allowedParents[contentType];}\nreturn[];}\nfunction getAllowedContainersClasses(contentType,stageId){return getContainersFor(contentType).map(function(value){return\"#\"+stageId+\" .content-type-container.\"+value+\"-container\";}).join(\", \");}\nreturn{generateAllowedParents:generateAllowedParents,getContainersFor:getContainersFor,getAllowedContainersClasses:getAllowedContainersClasses};});","Magento_PageBuilder/js/utils/loader.min.js":"define([],function(){function load(dependencies,factory,onError){require(dependencies,factory,onError);}\nreturn load;});","Magento_PageBuilder/js/utils/pagebuilder-header-height.min.js":"define([\"jquery\"],function(_jquery){function pageBuilderHeaderHeight(stageId,stageWrapper,pageBuilderHeader){if(stageWrapper===void 0){stageWrapper=\".pagebuilder-stage-wrapper\";}\nif(pageBuilderHeader===void 0){pageBuilderHeader=\".pagebuilder-header\";}\nvar $stageWrapper=(0,_jquery)(\"#\"+stageId).closest(stageWrapper);var $pageBuilderHeader=$stageWrapper.find(pageBuilderHeader);return!!$pageBuilderHeader.length?$pageBuilderHeader.height():0;}\nreturn pageBuilderHeaderHeight;});","Magento_PageBuilder/js/utils/url.min.js":"define([],function(){function isPathOnly(url){return url.indexOf(\"/\")===0;}\nfunction getPathFromUrl(url){var a=document.createElement(\"a\");a.href=url;return a.pathname;}\nfunction convertUrlToPathIfOtherUrlIsOnlyAPath(url,otherUrl){return isPathOnly(otherUrl)?getPathFromUrl(url):url;}\nreturn{convertUrlToPathIfOtherUrlIsOnlyAPath:convertUrlToPathIfOtherUrlIsOnlyAPath};});","Magento_PageBuilder/js/utils/editor.min.js":"define([\"jquery\",\"mage/adminhtml/tools\",\"mage/translate\",\"mageUtils\",\"Magento_PageBuilder/js/config\"],function(_jquery,_tools,_translate,_mageUtils,_config){function isWysiwygSupported(){return _config.getConfig(\"can_use_inline_editing_on_stage\");}\nfunction encodeContent(content){if(isWysiwygSupported()){return convertVariablesToHtmlPreview(convertWidgetsToHtmlPreview(unescapeDoubleQuoteWithinWidgetDirective(removeInvalidPlaceholders(content))));}\nreturn content;}\nfunction removeInvalidPlaceholders(content){if(content.indexOf(\"magento-placeholder\")!==-1){var html=new DOMParser().parseFromString(content,\"text/html\");var placeholders=html.querySelectorAll(\"span.magento-placeholder\");if(placeholders.length>0){[].slice.call(placeholders).forEach(function(placeholder){if(placeholder.innerText.indexOf(\"{{\")!==-1){placeholder.parentNode.insertBefore(document.createTextNode(placeholder.innerText),placeholder);}\nplaceholder.remove();});}\nreturn html.body.innerHTML;}\nreturn content;}\nfunction convertVariablesToHtmlPreview(content){var config=_config.getConfig(\"tinymce\").variables;var magentoVariables=JSON.parse(config.placeholders);return content.replace(/{\\{\\s?(?:customVar code=|config path=\\\")([^\\}\\\"]+)[\\\"]?\\s?\\}\\}/ig,function(match,path){var id=btoa(path).replace(/\\+/g,\":\").replace(/\\//g,\"_\").replace(/=/g,\"-\");var placeholder=(0,_jquery)(\"<span />\").addClass(\"magento-variable\").addClass(\"magento-placeholder\").addClass(\"mceNonEditable\").prop(\"id\",id).prop(\"contentEditable\",\"false\");if(magentoVariables[path].variable_type===\"custom\"){placeholder.addClass(\"magento-custom-var\");}\nvar variableType=magentoVariables[path].variable_type;if(magentoVariables[path]&&(variableType===\"default\"||variableType===\"custom\")){placeholder.text(magentoVariables[path].variable_name);}else{placeholder.addClass(\"magento-placeholder-error\");placeholder.text(variableType===\"custom\"?path:(0,_translate)(\"Not Found\"));}\nreturn placeholder[0].outerHTML;});}\nfunction convertWidgetsToHtmlPreview(content){var config=_config.getConfig(\"tinymce\").widgets;return content.replace(/\\{\\{widget(.*?)\\}\\}/ig,function(match,widgetBody){var attributes=parseAttributesString(widgetBody);var imageSrc;if(attributes.type){var placeholder=(0,_jquery)(\"<span />\").addClass(\"magento-placeholder\").addClass(\"magento-widget\").addClass(\"mceNonEditable\").prop(\"id\",_mageUtils.uniqueid()).prop(\"contentEditable\",\"false\");attributes.type=attributes.type.replace(/\\\\\\\\/g,\"\\\\\");imageSrc=config.placeholders[attributes.type];if(!imageSrc){imageSrc=config.error_image_url;placeholder.addClass(\"magento-placeholder-error\");}\nvar image=(0,_jquery)(\"<img />\").prop(\"id\",window.Base64.idEncode(match)).prop(\"src\",imageSrc);placeholder.append(image);var widgetType=\"\";if(config.types[attributes.type]){widgetType+=config.types[attributes.type];}\nplaceholder.append((0,_jquery)(document.createTextNode(widgetType)));return placeholder[0].outerHTML;}});}\nfunction parseAttributesString(attributes){var result={};attributes.replace(/(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g,function(match,key,value){result[key]=value?value.replace(/&quote;/g,\"\\\"\"):value;return\"\";});return result;}\nfunction lockImageSize(element){[].slice.call(element.querySelectorAll(\"img\")).forEach(function(image){if(image.style.width.length===0){image.style.width=/^\\d+$/.test(image.getAttribute(\"width\"))?image.getAttribute(\"width\")+\"px\":image.getAttribute(\"width\");image.setAttribute(\"data-width-locked\",\"true\");}\nif(image.style.height.length===0){image.style.height=/^\\d+$/.test(image.getAttribute(\"height\"))?image.getAttribute(\"height\")+\"px\":image.getAttribute(\"height\");image.setAttribute(\"data-height-locked\",\"true\");}});}\nfunction unlockImageSize(element){[].slice.call(element.querySelectorAll(\"img\")).forEach(function(image){if(image.getAttribute(\"data-width-locked\")){image.style.width=null;image.removeAttribute(\"data-width-locked\");}\nif(image.getAttribute(\"data-height-locked\")){image.style.height=null;image.removeAttribute(\"data-height-locked\");}});}\nfunction createBookmark(event){var wrapperElement=(0,_jquery)(event.target).parents(\".inline-wysiwyg\");var createElementBookmark=function createElementBookmark(element){return{name:element.nodeName,index:findNodeIndex(wrapperElement[0],element.nodeName,element)};};if(event.target.nodeName===\"IMG\"){return createElementBookmark(event.target);}\nif(window.getSelection){var selection=window.getSelection();var id=_mageUtils.uniqueid();if(selection.getRangeAt&&selection.rangeCount){var range=normalizeTableCellSelection(selection.getRangeAt(0).cloneRange());var currentNode=range.startContainer;if(currentNode.nodeType===Node.ELEMENT_NODE&&(currentNode.nodeName===\"IMG\"||currentNode.nodeName===\"SPAN\"&&currentNode.classList.contains(\"magento-placeholder\"))){return createElementBookmark(currentNode);}\nvar parentNode=range.startContainer.parentNode;if(parentNode.nodeName===\"IMG\"||parentNode.nodeName===\"SPAN\"&&parentNode.classList.contains(\"magento-placeholder\")){return createElementBookmark(parentNode);}\nif(!range.collapsed){range.collapse(false);var endBookmarkNode=createBookmarkSpan(id+\"_end\");range.insertNode(endBookmarkNode);}\nvar range2=normalizeTableCellSelection(selection.getRangeAt(0));range2.collapse(true);var startBookmarkNode=createBookmarkSpan(id+\"_start\");range2.insertNode(startBookmarkNode);return{id:id};}}\nreturn null;}\nfunction moveToBookmark(bookmark){window.tinymce.activeEditor.selection.moveToBookmark(bookmark);}\nfunction getActiveEditor(){return window.tinymce.activeEditor;}\nfunction createBookmarkSpan(id){var bookmark=document.createElement(\"span\");bookmark.setAttribute(\"data-mce-type\",\"bookmark\");bookmark.id=id;bookmark.style.overflow=\"hidden\";bookmark.style.lineHeight=\"0px\";return bookmark;}\nfunction findNodeIndex(wrapperElement,name,element){var selector=name.toLowerCase()+':not([data-mce-bogus=\"all\"])';if(!element.id){element.id=_mageUtils.uniqueid();}\nreturn(0,_jquery)(wrapperElement).find(selector).toArray().findIndex(function(node){return node.id===element.id;});}\nfunction getNodeByIndex(wrapperElement,name,index){var selector=name.toLowerCase()+':not([data-mce-bogus=\"all\"])';return(0,_jquery)(wrapperElement).find(selector).get(index);}\nfunction createDoubleClickEvent(){try{return new MouseEvent(\"dblclick\",{view:window,bubbles:true,cancelable:true});}catch(e){var dblClickEvent=document.createEvent(\"MouseEvent\");dblClickEvent.initMouseEvent(\"dblclick\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);return dblClickEvent;}}\nfunction processInlineStyles(html){var name=_config.getConfig(\"defaultViewport\");var searchPattern=new RegExp(\"data-\"+name+\"-style=\",\"g\");return html.replace(searchPattern,\"style=\");}\nfunction moveEndPoint(range,start){var container;var offset;var childNodes;if(start){container=range.startContainer;offset=range.startOffset;}else{container=range.endContainer;offset=range.endOffset;}\nif(container.nodeType===Node.ELEMENT_NODE&&container.nodeName===\"TR\"){childNodes=container.childNodes;container=childNodes[Math.min(start?offset:offset-1,childNodes.length-1)];if(container){offset=start?0:container.childNodes.length;if(start){range.setStart(container,offset);}else{range.setEnd(container,offset);}}}}\nfunction normalizeTableCellSelection(range){moveEndPoint(range,true);moveEndPoint(range,false);return range;}\nfunction escapeDoubleQuoteWithinWidgetDirective(content){return content.replace(/\\{\\{widget.*?\\}\\}/ig,function(match){return match.replace(/&quot;/g,\"\\\\\\\"\");});}\nfunction unescapeDoubleQuoteWithinWidgetDirective(content){return content.replace(/\\{\\{widget.*?\\}\\}/ig,function(match){return match.replace(/\\\\+\"/g,\"&quot;\");});}\nfunction replaceDoubleQuoteWithSingleQuoteWithinVariableDirective(content){return content.replace(/<([a-z0-9\\-\\_]+)([^>]+?[a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/gi,function(match1,tag,attributes){var sanitizedAttributes=attributes.replace(/\\{\\{[^\\{\\}]+\\}\\}/gi,function(match2){return match2.replace(/\"/g,\"'\");});return\"<\"+tag+sanitizedAttributes+\">\";});}\nreturn{isWysiwygSupported:isWysiwygSupported,encodeContent:encodeContent,parseAttributesString:parseAttributesString,lockImageSize:lockImageSize,unlockImageSize:unlockImageSize,createBookmark:createBookmark,moveToBookmark:moveToBookmark,getActiveEditor:getActiveEditor,findNodeIndex:findNodeIndex,getNodeByIndex:getNodeByIndex,createDoubleClickEvent:createDoubleClickEvent,processInlineStyles:processInlineStyles,escapeDoubleQuoteWithinWidgetDirective:escapeDoubleQuoteWithinWidgetDirective,unescapeDoubleQuoteWithinWidgetDirective:unescapeDoubleQuoteWithinWidgetDirective,replaceDoubleQuoteWithSingleQuoteWithinVariableDirective:replaceDoubleQuoteWithSingleQuoteWithinVariableDirective};});","Magento_PageBuilder/js/utils/directives.min.js":"define([\"Magento_PageBuilder/js/config\"],function(_config){var mimeType=\"text/magento-directive\";function isDirectiveDataUrl(url){return url.indexOf(\"data:\"+mimeType)===0;}\nfunction toDataUrl(directive){return\"data:\"+mimeType+\",\"+encodeURIComponent(directive);}\nfunction fromDataUrl(url){if(!isDirectiveDataUrl(url)){throw Error(url+\" is not a magento directive data url\");}\nreturn decodeURIComponent(url.split(mimeType+\",\")[1]);}\nfunction decodeAllDataUrlsInString(str){return str.replace(new RegExp(\"url\\\\s*\\\\(\\\\s*(?:&quot;|\\'|\\\")?(data:\"+mimeType+\",.+?)(?:&quot;|\\'|\\\")?\\\\s*\\\\)\",\"g\"),function(match,url){return\"url(\\'\"+fromDataUrl(url)+\"\\')\";});}\nfunction getImageUrl(image){var imageUrl=image[0].url;var mediaPath=imageUrl.split(_config.getConfig(\"media_url\"));return\"{{media url=\"+mediaPath[1]+\"}}\";}\nfunction removeQuotesInMediaDirectives(html){if(!html){return\"\";}\nvar mediaDirectiveRegExp=/\\{\\{\\s*media\\s+url\\s*=\\s*(.*?)\\s*\\}\\}/g;var urlRegExp=/\\{\\{\\s*media\\s+url\\s*=\\s*(.*)\\s*\\}\\}/;var mediaDirectiveMatches=html.match(mediaDirectiveRegExp);if(mediaDirectiveMatches){mediaDirectiveMatches.forEach(function(mediaDirective){var urlMatches=mediaDirective.match(urlRegExp);if(urlMatches&&urlMatches[1]!==undefined){var directiveWithOutQuotes=\"{{media url=\"+urlMatches[1].replace(/(\"|&quot;|\\s)/g,\"\")+\"}}\";html=html.replace(mediaDirective,directiveWithOutQuotes);}});}\nreturn html;}\nfunction convertMediaDirectivesToUrls(html){if(!html){return\"\";}\nvar mediaDirectiveRegExp=/\\{\\{\\s*media\\s+url\\s*=\\s*\"?[^\"\\s\\}]+\"?\\s*\\}\\}/g;var mediaDirectiveMatches=html.match(mediaDirectiveRegExp);if(mediaDirectiveMatches){mediaDirectiveMatches.forEach(function(mediaDirective){var urlRegExp=/\\{\\{\\s*media\\s+url\\s*=\\s*(?:\"|&quot;)?(.+)(?=}})\\s*\\}\\}/;var urlMatches=mediaDirective.match(urlRegExp);if(urlMatches&&typeof urlMatches[1]!==\"undefined\"){html=html.replace(mediaDirective,_config.getConfig(\"media_url\")+urlMatches[1].replace(/\"$/,\"\").replace(/&quot;$/,\"\"));}});}\nreturn html;}\nfunction replaceWithSrc(html){return html.replace(new RegExp(\"data-tmp-src=\\\"\\{\\{\",\"g\"),\"src=\\\"{{\");}\nfunction replaceWithDataSrc(html){return html.replace(new RegExp(\"src=\\\"\\{\\{\",\"g\"),\"data-tmp-src=\\\"{{\");}\nreturn Object.assign(decodeAllDataUrlsInString,{toDataUrl:toDataUrl,fromDataUrl:fromDataUrl,getImageUrl:getImageUrl,removeQuotesInMediaDirectives:removeQuotesInMediaDirectives,convertMediaDirectivesToUrls:convertMediaDirectivesToUrls,replaceWithSrc:replaceWithSrc,replaceWithDataSrc:replaceWithDataSrc});});","Magento_PageBuilder/js/utils/string.min.js":"define([],function(){function fromSnakeToCamelCase(currentString){var parts=currentString.split(/[_-]/);var newString=\"\";for(var i=1;i<parts.length;i++){newString+=parts[i].charAt(0).toUpperCase()+parts[i].slice(1);}\nreturn parts[0]+newString;}\nfunction fromCamelCaseToDash(currentString){return currentString.replace(/[A-Z]/g,function(m){return\"-\"+m.toLowerCase();});}\nreturn{fromSnakeToCamelCase:fromSnakeToCamelCase,fromCamelCaseToDash:fromCamelCaseToDash};});","Magento_PageBuilder/js/utils/delay-until.min.js":"define([],function(){function delayUntil(callback,condition,interval){if(interval===void 0){interval=50;}\nvar delayInterval=setInterval(function(){if(condition()){clearInterval(delayInterval);callback();}},interval);}\nreturn delayUntil;});","Magento_PageBuilder/js/utils/map.min.js":"define(['underscore','module','Magento_PageBuilder/js/events'],function(_,module,events){'use strict';var google=window.google||{},getGoogleLatitudeLongitude=function(position){return new google.maps.LatLng(position.latitude,position.longitude);},gmAuthFailure=false;window.gm_authFailure=function(){events.trigger('googleMaps:authFailure');gmAuthFailure=true;};return function(element,markers,additionalOptions){var options,style;if(gmAuthFailure){events.trigger('googleMaps:authFailure');return;}\nif(typeof google.maps==='undefined'){return;}\ntry{style=module.config().style?JSON.parse(module.config().style):[];}\ncatch(error){style=[];}\noptions=_.extend({zoom:8,center:getGoogleLatitudeLongitude({latitude:30.2672,longitude:-97.7431}),scrollwheel:false,disableDoubleClickZoom:false,disableDefaultUI:false,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT},styles:style},additionalOptions);this.map=new google.maps.Map(element,options);this.markers=[];this.onUpdate=function(newMarkers,updateOptions){this.map.setOptions(updateOptions);this.setMarkers(newMarkers);};this.setMarkers=function(newMarkers){var activeInfoWindow,latitudeLongitudeBounds=new google.maps.LatLngBounds();this.markers.forEach(function(marker){marker.setMap(null);},this);this.markers=[];this.bounds=[];if(newMarkers&&newMarkers.length){newMarkers.forEach(function(newMarker){var location=_.escape(newMarker['location_name'])||'',comment=newMarker.comment?'<p>'+_.escape(newMarker.comment).replace(/(?:\\r\\n|\\r|\\n)/g,'<br/>')+'</p>':'',phone=newMarker.phone?'<p>Phone: '+_.escape(newMarker.phone)+'</p>':'',address=newMarker.address?_.escape(newMarker.address)+'<br/>':'',city=_.escape(newMarker.city)||'',country=newMarker.country?_.escape(newMarker.country):'',state=newMarker.state?_.escape(newMarker.state)+' ':'',zipCode=newMarker.zipcode?_.escape(newMarker.zipcode):'',cityComma=city!==''&&(zipCode!==''||state!=='')?', ':'',lineBreak=city!==''||zipCode!==''?'<br/>':'',contentString='<div>'+'<h3><b>'+location+'</b></h3>'+\ncomment+\nphone+'<p><span>'+address+\ncity+cityComma+state+zipCode+lineBreak+\ncountry+'</span></p>'+'</div>',infowindow=new google.maps.InfoWindow({content:contentString,maxWidth:350}),newCreatedMarker=new google.maps.Marker({map:this.map,position:getGoogleLatitudeLongitude(newMarker.position),title:location});if(location){newCreatedMarker.addListener('click',function(){if(activeInfoWindow){activeInfoWindow.close();}\ninfowindow.open(this.map,newCreatedMarker);activeInfoWindow=infowindow;},this);}\nthis.markers.push(newCreatedMarker);this.bounds.push(getGoogleLatitudeLongitude(newMarker.position));},this);}\nif(this.bounds.length>1){this.bounds.forEach(function(bound){latitudeLongitudeBounds.extend(bound);});this.map.fitBounds(latitudeLongitudeBounds);}\nif(this.bounds.length===1){this.map.setCenter(this.bounds[0]);this.map.setZoom(8);}};this.setMarkers(markers);};});","Magento_PageBuilder/js/utils/nesting-widget-dialog.min.js":"define([\"jquery\",\"mage/translate\",\"Magento_PageBuilder/js/modal/dismissible-confirm\"],function(_jquery,_translate,_dismissibleConfirm){function nestingWidgetDialog(dataStore,wysiwyg,inlineMessageField,linkUrlField){var dataStoreContent=dataStore.getState();var inlineMessage=dataStoreContent[inlineMessageField];var linkUrl=dataStoreContent[linkUrlField];var widgetRegex=/\\{\\{widget(.*?)\\}\\}/ig;var widgetPlaceholderRegex=/<span.*(class=)(\\\"|\\').*((magento-placeholder).*(magento-widget)|(magento-widget).*(magento-placeholder)).*<\\/span>/igm;if(wysiwyg&&inlineMessage.match(widgetRegex)&&linkUrl&&[\"page\",\"product\",\"category\",\"default\"].indexOf(linkUrl.type)!==-1&&linkUrl[linkUrl.type]&&linkUrl[linkUrl.type].length!==0){var inlineEditor=(0,_jquery)(\"#\"+wysiwyg.elementId);inlineEditor.blur();(0,_dismissibleConfirm)({actions:{always:function always(){var widgetLessDataStoreMessage=inlineMessage.replace(widgetRegex,\"\");var widgetLessInlineMessage=inlineEditor.html().replace(widgetPlaceholderRegex,\"\");dataStore.set(inlineMessageField,widgetLessDataStoreMessage);inlineEditor.html(widgetLessInlineMessage);}},content:(0,_translate)(\"We are unable to support widget within the content field whilst having a link set on the content type. Please remove the content type link if you'd like to set a widget within the content. We will automatically remove the widget within the content field.\"),title:(0,_translate)(\"Nested widgets are not allowed\"),haveCancelButton:false});}}\nreturn nestingWidgetDialog;});","Magento_PageBuilder/js/utils/image.min.js":"define([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/utils/directives\",\"Magento_PageBuilder/js/utils/url\"],function(_config,_directives,_url){function decodeUrl(value){var result=\"\";value=decodeURIComponent(value.replace(window.location.href,\"\"));var regexp=/{{.*\\s*url=\"?(.*\\.([a-z|A-Z]*))\"?\\s*}}/;if(regexp.test(value)){var _regexp$exec=regexp.exec(value),url=_regexp$exec[1],type=_regexp$exec[2];var image={name:url.split(\"/\").pop(),size:0,type:\"image/\"+type,url:_config.getConfig(\"media_url\")+url};result=[image];}\nreturn result;}\nfunction urlToDirective(imageUrl){var mediaUrl=(0,_url.convertUrlToPathIfOtherUrlIsOnlyAPath)(_config.getConfig(\"media_url\"),imageUrl);var mediaPath=imageUrl.split(mediaUrl);return\"{{media url=\"+mediaPath[1]+\"}}\";}\nfunction imageToBackgroundImageDataUrl(imageUrl){return\"url(\\'\"+(0,_directives.toDataUrl)(urlToDirective(imageUrl))+\"\\')\";}\nreturn{decodeUrl:decodeUrl,urlToDirective:urlToDirective,imageToBackgroundImageDataUrl:imageToBackgroundImageDataUrl};});","Magento_PageBuilder/js/utils/check-stage-full-screen.min.js":"define([\"jquery\"],function(_jquery){function checkStageFullScreen(stageId){var $stage=(0,_jquery)(\"#\"+stageId);var $fullScreenStageWrapper=$stage.closest(\".stage-full-screen\");return!!$fullScreenStageWrapper.length;}\nreturn checkStageFullScreen;});","Magento_PageBuilder/js/utils/text.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/utils/array.min.js":"define([],function(){function moveArrayItem(array,fromIndex,toIndex){array.splice(toIndex,0,array.splice(fromIndex,1)[0]);return array;}\nfunction moveArrayItemIntoArray(item,array,toIndex){array.splice(toIndex,0,item);return array;}\nfunction removeArrayItem(array,item){var index=array.indexOf(item);if(index>-1){array.splice(index,1);}\nreturn array;}\nfunction outwardSearch(items,start,callback){if(!items.length){return null;}\nif(start<0||start>items.length-1){throw new TypeError(\"starting index must be within bounds of array\");}\nvar max=items.length-1;var low=start;var high=start+1;while(true){var hitMin=low<0;var hitMax=high>max;if(hitMin&&hitMax){break;}\nif(!hitMin){var _item=items[low];var result=callback(_item,low);if(!!result){return _item;}\nlow--;}\nif(!hitMax){var _item2=items[high];var _result=callback(_item2,high);if(!!_result){return _item2;}\nhigh++;}}\nreturn null;}\nreturn{moveArrayItem:moveArrayItem,moveArrayItemIntoArray:moveArrayItemIntoArray,removeArrayItem:removeArrayItem,outwardSearch:outwardSearch};});","Magento_PageBuilder/js/utils/position-sticky.min.js":"define([],function(){function supportsPositionSticky(){if(!window.getComputedStyle){return false;}\nvar testNode=document.createElement(\"div\");return[\"\",\"-webkit-\",\"-moz-\",\"-ms-\"].some(function(prefix){try{testNode.style.position=prefix+\"sticky\";}catch(e){}\nreturn testNode.style.position!==\"\";});}\nreturn{supportsPositionSticky:supportsPositionSticky};});","Magento_PageBuilder/js/utils/create-stylesheet.min.js":"define([],function(){function createStyleSheet(blocks){var style=document.createElement(\"style\");var text=Object.keys(blocks).map(function(selector){return selector+(\" {\\n\"+processDeclarationBlock(blocks[selector])+\"\\n}\");}).join(\"\\n\");style.setAttribute(\"type\",\"text/css\");style.appendChild(document.createTextNode(text));return style;}\nfunction processDeclarationBlock(block){return Object.keys(block).map(function(property){return processDeclaration(property,block[property]);}).join(\"\\n\");}\nfunction processDeclaration(property,value){return hyphenate(property)+(\": \"+value+\";\");}\nfunction hyphenate(property){return property.replace(/[A-Z]/g,function(match){return\"-\"+match.toLowerCase();});}\nreturn{createStyleSheet:createStyleSheet};});","Magento_PageBuilder/js/utils/breakpoints.min.js":"define(['underscore'],function(_){'use strict';return{buildMedia:function(conditions){var result=_.map(_.pairs(conditions),function(condition){return'('+condition.join(': ')+')';});return result.join(' and ');}};});","Magento_PageBuilder/js/utils/promise-deferred.min.js":"define([],function(){function deferred(){var resolve;var reject;var promise=new Promise(function(promiseResolve,promiseReject){resolve=promiseResolve;reject=promiseReject;});return{resolve:resolve,reject:reject,promise:promise};}\nreturn deferred;});","Magento_PageBuilder/js/utils/nesting-link-dialog.min.js":"define([\"jquery\",\"mage/translate\",\"Magento_PageBuilder/js/modal/dismissible-confirm\"],function(_jquery,_translate,_dismissibleConfirm){function nestingLinkDialog(dataStore,wysiwyg,inlineMessageField,linkUrlField){var dataStoreContent=dataStore.getState();var inlineMessage=dataStoreContent[inlineMessageField];var linkUrl=dataStoreContent[linkUrlField];var aLinkRegex=/(<a[\\s]+[^>]+).+(?=<\\/a>)<\\/a>/igm;if(wysiwyg&&inlineMessage.match(aLinkRegex)&&linkUrl&&[\"page\",\"product\",\"category\",\"default\"].indexOf(linkUrl.type)!==-1&&linkUrl[linkUrl.type]&&linkUrl[linkUrl.type].length!==0){var inlineEditor=(0,_jquery)(\"#\"+wysiwyg.elementId);inlineEditor.blur();(0,_dismissibleConfirm)({actions:{always:function always(){var anchorLessDataStoreMessage=inlineMessage.replace(aLinkRegex,\"\");var anchorLessInlineMessage=inlineEditor.html().replace(aLinkRegex,\"\");dataStore.set(inlineMessageField,anchorLessDataStoreMessage);inlineEditor.html(anchorLessInlineMessage);}},content:(0,_translate)(\"We are unable to support links within the content field whilst having a link set on the content type. Please remove the content type link if you'd like to set a link within the content. We will automatically remove the links within the content field.\"),title:(0,_translate)(\"Nested links are not allowed\"),haveCancelButton:false});}}\nreturn nestingLinkDialog;});","Magento_PageBuilder/js/utils/object.min.js":"define([\"object-path\"],function(_objectPath){function get(object,path,defaultValue){return _objectPath.get(object,path,defaultValue);}\nfunction set(object,path,value){return _objectPath.set(object,path,value);}\nreturn{get:get,set:set};});","Magento_PageBuilder/js/mass-converter/converter-pool-factory.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/utils/loader\",\"Magento_PageBuilder/js/mass-converter/converter-pool\"],function(_config,_loader,_converterPool){function create(contentType){var config=_config.getContentTypeConfig(contentType);var converters=[];var appearanceName;for(var _i=0,_Object$keys=Object.keys(config.appearances);_i<_Object$keys.length;_i++){appearanceName=_Object$keys[_i];var appearance=config.appearances[appearanceName];if(undefined!==appearance&&undefined!==appearance.converters){for(var _iterator=_createForOfIteratorHelperLoose(appearance.converters),_step;!(_step=_iterator()).done;){var converterConfig=_step.value;if(!!converterConfig.component&&!_converterPool.get(converterConfig.component)){converters.push(converterConfig.component);}}}}\nreturn new Promise(function(resolve){(0,_loader)(converters,function(){for(var _len=arguments.length,loadedConverters=new Array(_len),_key=0;_key<_len;_key++){loadedConverters[_key]=arguments[_key];}\nfor(var i=0;i<converters.length;i++){_converterPool.register(converters[i],new loadedConverters[i]());}\nresolve(_converterPool);});});}\nreturn create;});","Magento_PageBuilder/js/mass-converter/empty-mobile-image.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var EmptyMobileImage=function(){\"use strict\";function EmptyMobileImage(){}\nvar _proto=EmptyMobileImage.prototype;_proto.fromDom=function fromDom(data,config){var desktopImage=(0,_object.get)(data,config.desktop_image_variable);var mobileImage=(0,_object.get)(data,config.mobile_image_variable);if(mobileImage&&desktopImage&&mobileImage[0]!==undefined&&desktopImage[0]!==undefined&&mobileImage[0].url===desktopImage[0].url){delete data[config.mobile_image_variable];}\nreturn data;};_proto.toDom=function toDom(data,config){var mobileImage=(0,_object.get)(data,config.mobile_image_variable);if(mobileImage===undefined||mobileImage[0]===undefined){(0,_object.set)(data,config.mobile_image_variable,(0,_object.get)(data,config.desktop_image_variable));}\nreturn data;};return EmptyMobileImage;}();return EmptyMobileImage;});","Magento_PageBuilder/js/mass-converter/converter-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/mass-converter/background-images.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/image\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_image,_object){var BackgroundImages=function(){\"use strict\";function BackgroundImages(){}\nvar _proto=BackgroundImages.prototype;_proto.fromDom=function fromDom(data,config){var directive=(0,_object.get)(data,config.attribute_name);if(directive){var images=JSON.parse(directive.replace(/\\\\(.)/mg,\"$1\"))||{};if(!_underscore.isUndefined(images.desktop_image)){(0,_object.set)(data,config.desktop_image_variable,(0,_image.decodeUrl)(images.desktop_image));}\nif(!_underscore.isUndefined(images.mobile_image)){(0,_object.set)(data,config.mobile_image_variable,(0,_image.decodeUrl)(images.mobile_image));}\ndelete data[config.attribute_name];}\nreturn data;};_proto.toDom=function toDom(data,config){var desktopImage=(0,_object.get)(data,config.desktop_image_variable);var mobileImage=(0,_object.get)(data,config.mobile_image_variable);var directiveData={};if(!_underscore.isUndefined(desktopImage)&&desktopImage&&!_underscore.isUndefined(desktopImage[0])){directiveData.desktop_image=(0,_image.urlToDirective)(desktopImage[0].url);}\nif(!_underscore.isUndefined(mobileImage)&&mobileImage&&!_underscore.isUndefined(mobileImage[0])){directiveData.mobile_image=(0,_image.urlToDirective)(mobileImage[0].url);}\n(0,_object.set)(data,config.attribute_name,JSON.stringify(directiveData).replace(/[\\\\\"']/g,\"\\\\$&\").replace(/\\u0000/g,\"\\\\0\"));return data;};return BackgroundImages;}();return BackgroundImages;});","Magento_PageBuilder/js/mass-converter/background-type.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var BackgroundType=function(){\"use strict\";function BackgroundType(){}\nvar _proto=BackgroundType.prototype;_proto.fromDom=function fromDom(data,config){return data;};_proto.toDom=function toDom(data,config){var backgroundType=(0,_object.get)(data,config.attribute_name);if(backgroundType===\"video\"){(0,_object.set)(data,config.desktop_image_variable,[]);(0,_object.set)(data,config.mobile_image_variable,[]);}else if(backgroundType===\"image\"){(0,_object.set)(data,config.video_source_variable,null);(0,_object.set)(data,config.video_fallback_image_variable,[]);(0,_object.set)(data,config.video_overlay_color_variable,\"\");}\nreturn data;};return BackgroundType;}();return BackgroundType;});","Magento_PageBuilder/js/mass-converter/converter-pool.min.js":"define([],function(){var DataConverterPool=function(){\"use strict\";function DataConverterPool(){this.converters={};}\nvar _proto=DataConverterPool.prototype;_proto.get=function get(name){return this.converters[name]!==undefined?this.converters[name]:null;};_proto.register=function register(name,converter){this.converters[name]=converter;};return DataConverterPool;}();var _default=new DataConverterPool();return _default;});","Magento_PageBuilder/js/mass-converter/widget-directive-abstract.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var WidgetDirectiveAbstract=function(){\"use strict\";function WidgetDirectiveAbstract(){}\nvar _proto=WidgetDirectiveAbstract.prototype;_proto.fromDom=function fromDom(data,config){var _this=this;var attributes={};(0,_object.get)(data,config.html_variable).replace(/\\{\\{widget(.*?)\\}\\}/i,function(match,attributeString){attributes=_this.parseAttributesString(attributeString);}.bind(this));return attributes;};_proto.toDom=function toDom(data,config){(0,_object.set)(data,config.html_variable,this.buildDirective(data));return data;};_proto.buildDirective=function buildDirective(attributes){return\"{{widget \"+this.createAttributesString(attributes)+\"}}\";};_proto.parseAttributesString=function parseAttributesString(attributes){var result={};attributes.replace(/(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g,function(match,key,value){result[key]=value.replace(/&quote;/g,\"\\\"\");return\"\";});return result;};_proto.createAttributesString=function createAttributesString(attributes){var result=\"\";_underscore.each(attributes,function(value,name){result+=name+\"=\\\"\"+String(value).replace(/\"/g,\"&quote;\")+\"\\\" \";});return result.substr(0,result.length-1);};return WidgetDirectiveAbstract;}();return WidgetDirectiveAbstract;});","Magento_PageBuilder/js/master-format/render.min.js":"define([\"jquery\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/master-format/render/serialize\"],function(_jquery,_config,_serialize){var MasterFormatRenderer=function(){\"use strict\";function MasterFormatRenderer(stageId){this.ready=false;this.readyDeferred=_jquery.Deferred();this.stageId=stageId;}\nvar _proto=MasterFormatRenderer.prototype;_proto.applyBindings=function applyBindings(rootContainer){var _this=this;return new Promise(function(resolve,reject){if(!_this.getRenderFrame()){if(document.getElementById(_this.stageId)){return reject(\"No render frame present for Page Builder instance.\");}\nreturn reject();}\nif(_this.ready){_this.channel.port1.postMessage({type:\"render\",message:{stageId:_this.stageId,tree:(0,_serialize.getSerializedTree)(rootContainer)}});_this.channel.port1.onmessage=function(event){if(event.isTrusted){if(event.data.type===\"render\"){resolve(event.data.message);}\nif(event.data.type===\"template\"){_this.loadTemplate(event.data.message);}}else{reject(\"Render event was not trusted.\");}};}else{_this.readyDeferred.then(function(){_this.applyBindings(rootContainer).then(function(rendered){resolve(rendered);}).catch(function(error){reject(error);});});}});};_proto.setupChannel=function setupChannel(){var _this2=this;this.channel=new MessageChannel();var frame=this.getRenderFrame();window.addEventListener(\"message\",function(event){if(!_this2.ready&&event.data.name===\"PB_RENDER_READY\"&&_this2.stageId===event.data.stageId){frame.contentWindow.postMessage(\"PB_RENDER_PORT\",\"*\",[_this2.channel.port2]);_this2.ready=true;_this2.readyDeferred.resolve();}});frame.src=_config.getConfig(\"render_url\")+\"?stageId=\"+this.stageId;};_proto.loadTemplate=function loadTemplate(name){var _this3=this;require([\"text!\"+name],function(template){_this3.channel.port1.postMessage({type:\"template\",message:{name:name,template:template}});});};_proto.getRenderFrame=function getRenderFrame(){return document.getElementById(\"render_frame_\"+this.stageId);};return MasterFormatRenderer;}();return MasterFormatRenderer;});","Magento_PageBuilder/js/master-format/filter-html.min.js":"define([\"jquery\"],function(_jquery){function filterHtml(element){var isWhiteSpaceOrComment=function isWhiteSpaceOrComment(){return this.nodeType===Node.COMMENT_NODE||this.nodeType===Node.TEXT_NODE&&this.data.match(/^\\s+$/);};element.find(\"[data-bind]\").each(function(index,value){(0,_jquery)(value).removeAttr(\"data-bind\");});element.contents().filter(isWhiteSpaceOrComment).remove();element.find(\"*\").filter(function(index,descendentEl){var isIframe=descendentEl.tagName===\"IFRAME\";var isBeingBypassedByThisFilter=!!(0,_jquery)(descendentEl).closest(\".bypass-html-filter\").length;return!isIframe&&!isBeingBypassedByThisFilter;}).each(function(index,descendentEl){(0,_jquery)(descendentEl).contents().filter(isWhiteSpaceOrComment).remove();});element.find(\"[data-wrapper]\").each(function(index,value){(0,_jquery)(value).parent().append((0,_jquery)(value).children());(0,_jquery)(value).remove();});element.find(\".bypass-html-filter\").each(function(index,value){(0,_jquery)(value).removeClass(\"bypass-html-filter\").filter('[class=\"\"]').removeAttr(\"class\");});return element;}\nreturn filterHtml;});","Magento_PageBuilder/js/master-format/read-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/master-format/validator.min.js":"define([\"Magento_PageBuilder/js/config\"],function(_config){function validate(content){var stageDocument=new DOMParser().parseFromString(content,\"text/html\");return!!stageDocument.querySelector(\"[\"+_config.getConfig(\"dataContentTypeAttributeName\")+\"]\");}\nreturn validate;});","Magento_PageBuilder/js/master-format/render/serialize.min.js":"define([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-collection\"],function(_config,_contentTypeCollection){function buildTree(contentType){var data=getData(contentType);var viewportsData=getViewportsData(contentType);var tree={name:contentType.config.name,id:contentType.id,data:data,children:[],viewportsData:viewportsData};if(contentType instanceof _contentTypeCollection&&contentType.getChildren()().length>0){contentType.getChildren()().forEach(function(child){tree.children.push(buildTree(child));});}\nreturn tree;}\nfunction getSerializedTree(contentType){return buildTree(contentType);}\nfunction getData(contentType){return JSON.parse(JSON.stringify(contentType.dataStores[_config.getConfig(\"defaultViewport\")].getState()))||{};}\nfunction getViewportsData(contentType){var result={};Object.keys(contentType.dataStores).forEach(function(name){result[name]=JSON.parse(JSON.stringify(contentType.dataStores[name].getState()))||{};});return result;}\nreturn{buildTree:buildTree,getSerializedTree:getSerializedTree};});","Magento_PageBuilder/js/master-format/render/frame.min.js":"define([\"csso\",\"jquery\",\"knockout\",\"Magento_Ui/js/lib/knockout/template/engine\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/binding/master-style\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type/style-registry\",\"Magento_PageBuilder/js/utils/directives\",\"Magento_PageBuilder/js/master-format/filter-html\"],function(_csso,_jquery,_knockout,_engine,_mageUtils,_underscore,_masterStyle,_config,_contentTypeFactory,_styleRegistry,_directives,_filterHtml){function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}\nvar port=null;var portDeferred=_jquery.Deferred();var deferredTemplates={};var lastRenderId;var debounceRender=_underscore.debounce(function(message,renderId){render(message,renderId).then(function(output){if(lastRenderId===renderId){port.postMessage({type:\"render\",message:output});}});},50);function listen(config){var stageId=window.location.href.split(\"?\")[1].split(\"=\")[1];_config.setConfig(config);_config.setMode(\"Master\");Object.assign=_mageUtils.extend;window.addEventListener(\"message\",function(event){if(event.ports&&event.ports.length){port=event.ports[0];portDeferred.resolve(port);port.onmessage=function(messageEvent){if(messageEvent.data.type===\"render\"){var renderId=_mageUtils.uniqueid();lastRenderId=renderId;debounceRender(messageEvent.data.message,renderId);}\nif(messageEvent.data.type===\"template\"){var message=messageEvent.data.message;if(message.name in deferredTemplates){deferredTemplates[message.name].resolve(message.template);delete deferredTemplates[message.name];}}};}},false);window.parent.postMessage({name:\"PB_RENDER_READY\",stageId:stageId},\"*\");}\nfunction loadTemplate(name){return new Promise(function(resolve){if(!(name in deferredTemplates)){deferredTemplates[name]=_jquery.Deferred();}\ndeferredTemplates[name].then(function(template){resolve(template);});if(port){port.postMessage({type:\"template\",message:name});}else{portDeferred.then(function(messagePort){messagePort.postMessage({type:\"template\",message:name});});}});}\nvar assertRenderFinished=_underscore.debounce(function(element,expectedCount,callback){if(element.querySelectorAll(\"[data-content-type]\").length===expectedCount){callback();}},50);function countContentTypes(rootContainer,count){count=count||0;rootContainer.getChildren()().forEach(function(child){++count;if(typeof child.getChildren!==\"undefined\"&&child.getChildren()().length>0){count=countContentTypes(child,count);}});return count;}\nfunction render(message,renderId){var styleRegistries={};_underscore.each(_config.getConfig(\"viewports\"),function(viewport,name){styleRegistries[name]=new _styleRegistry(name+renderId);});return new Promise(function(resolve,reject){createRenderTree(message.stageId,message.tree).then(function(rootContainer){var element=document.createElement(\"div\");var renderFinished=_jquery.Deferred();var observer=new MutationObserver(function(){assertRenderFinished(element,countContentTypes(rootContainer),renderFinished.resolve);});observer.observe(element,{attributes:true,childList:true,subtree:true});_jquery.when(_engine.waitForFinishRender(),renderFinished).then(function(){observer.disconnect();_knockout.cleanNode(element);var styles=generateMasterCssForViewports(styleRegistries);if(styles){(0,_jquery)(element).append((0,_jquery)(\"<style/>\").html(styles));}\n_underscore.each(styleRegistries,function(value,name){return(0,_styleRegistry.deleteStyleRegistry)(name+renderId);});var filtered=(0,_filterHtml)((0,_jquery)(element));var output=(0,_directives.replaceWithSrc)((0,_directives)(filtered.html()));resolve(output);});_knockout.applyBindingsToNode(element,{template:{data:rootContainer.content,name:rootContainer.content.template}},{id:renderId});}).catch(function(error){reject(error);});});}\nfunction createRenderTree(stageId,tree,parent){if(parent===void 0){parent=null;}\nreturn new Promise(function(resolve,reject){(0,_contentTypeFactory)(_config.getContentTypeConfig(tree.name),parent,stageId,tree.data,parent!==null?tree.children.length:0,tree.viewportsData).then(function(contentType){contentType.id=tree.id;if(tree.children.length>0){var childPromises=[];tree.children.forEach(function(child){childPromises.push(createRenderTree(stageId,child,contentType));});Promise.all(childPromises).then(function(children){children.forEach(function(child){contentType.addChild(child);});resolve(contentType);});}else{resolve(contentType);}}).catch(function(error){reject(error);});});}\nfunction generateMasterCss(registry){var scopes=Object.keys(registry.getAllStyles()).map(function(selector){return[selector];});return _csso.minify((0,_styleRegistry.generateCss)(registry.getAllStyles()),{usage:{scopes:scopes}}).css;}\nfunction generateMasterCssForViewports(registries){var result=\"\";_underscore.each(registries,function(registry,name){var css=generateMasterCss(registry);var media=_config.getConfig(\"viewports\")[name].media;if(media&&css){result+=\"@media \"+media+\" { \"+css+\" }\";}else{result+=css;}});return result;}\nreturn Object.assign(listen,{loadTemplate:loadTemplate});});","Magento_PageBuilder/js/master-format/render/events.min.js":"define([],function(){var _default={on:function on(){return this;},off:function off(){return this;},trigger:function trigger(){return this;}};return _default;});","Magento_PageBuilder/js/master-format/render/requirejs/text.min.js":"define([\"mage/requirejs/text\",\"Magento_PageBuilder/js/master-format/render/frame\"],function(_text,_frame){function load(name,req,onLoad){(0,_frame.loadTemplate)(name).then(function(template){onLoad(template);}).catch(function(error){onLoad.error(error);});}\nfunction get(url,callback,fail,headers){_text.get.apply(_text,arguments);}\nreturn{load:load,get:get};});","Magento_PageBuilder/js/master-format/read/configurable.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"jquery\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type/appearance-config\",\"Magento_PageBuilder/js/converter/converter-pool-factory\",\"Magento_PageBuilder/js/mass-converter/converter-pool-factory\",\"Magento_PageBuilder/js/property/property-reader-pool-factory\"],function(_jquery,_mageUtils,_underscore,_config,_appearanceConfig,_converterPoolFactory,_converterPoolFactory2,_propertyReaderPoolFactory){var Configurable=function(){\"use strict\";function Configurable(){}\nvar _proto=Configurable.prototype;_proto.read=function read(element){var _this=this;var role=element.getAttribute(_config.getConfig(\"dataContentTypeAttributeName\"));var config=(0,_appearanceConfig)(role,element.getAttribute(\"data-appearance\"));var componentsPromise=[(0,_propertyReaderPoolFactory)(role),(0,_converterPoolFactory)(role),(0,_converterPoolFactory2)(role)];return new Promise(function(resolve){Promise.all(componentsPromise).then(function(loadedComponents){var propertyReaderPool=loadedComponents[0],converterPool=loadedComponents[1],massConverterPool=loadedComponents[2];var viewports=_config.getConfig(\"viewports\");var data={};_underscore.each(viewports,function(viewport,name){return data[name]={};});var _loop=function _loop(){var elementName=_Object$keys[_i];var elementConfig=config.elements[elementName];var currentElement=_this.findElementByName(element,elementName);if(currentElement===null||currentElement===undefined){return\"continue\";}\n_underscore.each(viewports,function(viewportObj,viewport){currentElement.setAttribute(\"style\",currentElement.getAttribute(\"data-\"+viewport+\"-style\"));if(elementConfig.style.length){data[viewport]=_this.readStyle(elementConfig.style,currentElement,data[viewport],propertyReaderPool,converterPool);}\nif(elementConfig.attributes.length){data[viewport]=_this.readAttributes(elementConfig.attributes,currentElement,data[viewport],propertyReaderPool,converterPool);}\nif(undefined!==elementConfig.html.var){data[viewport]=_this.readHtml(elementConfig,currentElement,data[viewport],converterPool);}\nif(undefined!==elementConfig.tag.var){data[viewport]=_this.readHtmlTag(elementConfig,currentElement,data[viewport]);}\nif(undefined!==elementConfig.css.var){data[viewport]=_this.readCss(elementConfig,currentElement,data[viewport]);}});};for(var _i=0,_Object$keys=Object.keys(config.elements);_i<_Object$keys.length;_i++){var _ret=_loop();if(_ret===\"continue\")continue;}\n_underscore.each(viewports,function(viewportObj,viewport){data[viewport]=_this.convertData(config,data[viewport],massConverterPool);});resolve(data);}).catch(function(error){console.error(error);});});};_proto.findElementByName=function findElementByName(element,name){var currentElement=(0,_jquery)(element).clone();if(currentElement.attr(\"data-element\")===name){return currentElement[0];}\nvar searchInChildren=currentElement.find(\"[data-element=\\\"\"+name+\"\\\"]\");if(searchInChildren.length>0&&searchInChildren.closest(\"[data-content-type]\")[0]===currentElement[0]){return searchInChildren[0];}\nreturn null;};_proto.readAttributes=function readAttributes(config,element,data,propertyReaderPool,converterPool){var result={};for(var _iterator=_createForOfIteratorHelperLoose(config),_step;!(_step=_iterator()).done;){var attributeConfig=_step.value;if(\"write\"===attributeConfig.persistence_mode){continue;}\nvar value=!!attributeConfig.static?attributeConfig.value:propertyReaderPool.get(attributeConfig.reader).read(element,attributeConfig.name);if(converterPool.get(attributeConfig.converter)){value=converterPool.get(attributeConfig.converter).fromDom(value);}\nif(_jquery.type(result[attributeConfig.var])===\"object\"){var _mageUtils$extend;value=_mageUtils.extend((_mageUtils$extend={},_mageUtils$extend[attributeConfig.name]=value,_mageUtils$extend),result[attributeConfig.var]);}\nresult[attributeConfig.var]=value;}\nreturn _underscore.extend(data,result);};_proto.readStyle=function readStyle(config,element,data,propertyReaderPool,converterPool){var result=_underscore.extend({},data);for(var _iterator2=_createForOfIteratorHelperLoose(config),_step2;!(_step2=_iterator2()).done;){var propertyConfig=_step2.value;if(\"write\"===propertyConfig.persistence_mode){continue;}\nvar value=!!propertyConfig.static?propertyConfig.value:propertyReaderPool.get(propertyConfig.reader).read(element,propertyConfig.name);if(converterPool.get(propertyConfig.converter)){value=converterPool.get(propertyConfig.converter).fromDom(value);}\nif(_jquery.type(result[propertyConfig.var])===\"object\"){value=_mageUtils.extend(result[propertyConfig.var],value);}\nresult[propertyConfig.var]=value;}\nreturn result;};_proto.readHtmlTag=function readHtmlTag(config,element,data){var result={};result[config.tag.var]=element.nodeName.toLowerCase();return _underscore.extend(data,result);};_proto.readCss=function readCss(config,element,data){var result={};var css=element.getAttribute(\"class\")!==null?element.getAttribute(\"class\"):\"\";if(config.css!==undefined&&config.css.filter!==undefined&&config.css.filter.length){for(var _iterator3=_createForOfIteratorHelperLoose(config.css.filter),_step3;!(_step3=_iterator3()).done;){var filterClass=_step3.value;css=css.replace(filterClass,\"\");}}\nresult[config.css.var]=css.replace(/\\s{2,}/g,\" \").trim();return _underscore.extend(data,result);};_proto.readHtml=function readHtml(config,element,data,converterPool){var result={};var value=element.innerHTML;if(converterPool.get(config.html.converter)){value=converterPool.get(config.html.converter).fromDom(value);}\nresult[config.html.var]=value;return _underscore.extend(data,result);};_proto.convertData=function convertData(config,data,massConverterPool){for(var _iterator4=_createForOfIteratorHelperLoose(config.converters),_step4;!(_step4=_iterator4()).done;){var converterConfig=_step4.value;if(massConverterPool.get(converterConfig.component)){data=massConverterPool.get(converterConfig.component).fromDom(data,converterConfig.config);}}\nreturn data;};return Configurable;}();return Configurable;});","Magento_PageBuilder/js/system/config/switch-attribute-type.min.js":"define(['jquery','mage/translate','Magento_Ui/js/modal/confirm','domReady!'],function($,$t,confirm){'use strict';return function(config,attributeDropDownEl){var $attributeDropDownEl=$(attributeDropDownEl),previousOption='';$attributeDropDownEl.on('focus',function(){previousOption=this.value;});$attributeDropDownEl.on('change',function(){if(attributeDropDownEl.options.length>3||this.value==='pagebuilder'||previousOption!=='pagebuilder'){return;}\nconfirm({title:$t(config.modalTitleText),content:$t(config.modalContentBody),buttons:[{text:$t('Cancel'),class:'action-secondary action-dismiss action-pagebuilder-cancel',click:function(event){this.closeModal(event);}},{text:$t('Change Input Type'),class:'action-primary action-accept',click:function(event){this.closeModal(event,true);}}],actions:{cancel:function(){$attributeDropDownEl.val('pagebuilder');$attributeDropDownEl.change();}}});});};});","Magento_PageBuilder/js/system/config/google-maps-api-key-validator.min.js":"define(['jquery'],function($){'use strict';var GoogleMapsApiKeyValidator=function(config,el){var sourceElement=$('#'+config.sourceField),initialValue=sourceElement.val(),resultElement=$('#'+config.elementId+' > .result');if(initialValue){$(el).attr('disabled',false);}\n$(el).click(function(){var resultText=config.invalidLabel,resultIcon='icon-admin-pagebuilder-error',resultHtml;$.ajax({url:config.validateUrl,showLoader:true,data:{googleMapsApiKey:sourceElement.val()}}).done(function(data){if(data.success){resultText=config.validLabel;resultIcon='icon-admin-pagebuilder-success';}\nresultHtml='<i class=\"'+resultIcon+'\"></i> '+resultText;resultElement.html(resultHtml);});});sourceElement.on('keyup',function(event){var elementValue=event.currentTarget.value,buttonText=config.buttonLabel;$(el).attr('disabled',!elementValue);resultElement.html(buttonText);});};return GoogleMapsApiKeyValidator;});","Magento_PageBuilder/js/system/config/validator-rules-mixin.min.js":"define(['jquery'],function($){'use strict';return function(target){$.validator.addMethod('validate-google-map-style',function(value){if($.mage.isEmptyNoTrim(value)){return true;}\ntry{JSON.parse(value);}catch(e){return false;}\nreturn true;},$.mage.__('Google Maps Style JSON is invalid. Please paste the valid JSON style.'));$.validator.addMethod('validate-greater-than-one',function(value){return!(value<=1);},$.mage.__('Please enter a number 2 or greater in this field.'));$.validator.addMethod('validate-default-grid-size',function(value){return!(parseInt(value,10)>parseInt($('[name=\"groups[pagebuilder][fields][column_grid_max][value]\"]').val(),10));},$.mage.__('Default grid size must be less than the maximum grid size.'));return target;};});","Magento_PageBuilder/js/system/config/enable-field.min.js":"define(['jquery','mage/translate','Magento_Ui/js/modal/confirm','domReady!'],function($,$t,confirm){'use strict';return function(config,enableSelectEl){var $enableSelectEl=$(enableSelectEl),isEnabledInDatabase=!!parseInt($enableSelectEl.val(),10);$enableSelectEl.on('change',function(){var userIsDisabling=!parseInt($enableSelectEl.val(),10);if(!isEnabledInDatabase||!userIsDisabling){return;}\nconfirm({title:$t(config.modalTitleText),content:$t(config.modalContentBody),buttons:[{text:$t('Cancel'),class:'action-secondary action-dismiss action-pagebuilder-cancel',click:function(event){this.closeModal(event);}},{text:$t('Turn Off'),class:'action-primary action-accept',click:function(event){this.closeModal(event,true);}}],actions:{cancel:function(){$enableSelectEl.val(Number(true));}}});});};});","Magento_PageBuilder/js/widget/video-background.min.js":"define(['jquery','jarallax','jarallaxVideo','vimeoWrapper'],function($){'use strict';return function(config,element){var $element=$(element),parallaxSpeed=$element.data('enableParallax')!==1?1:parseFloat($element.data('parallaxSpeed'));if($element.data('background-type')!=='video'){return;}\n$element.addClass('jarallax');$element.attr('data-jarallax','');window.jarallax($element[0],{imgSrc:$element.data('videoFallbackSrc'),speed:!isNaN(parallaxSpeed)?parallaxSpeed:0.5,videoLoop:$element.data('videoLoop'),videoPlayOnlyVisible:$element.data('videoPlayOnlyVisible'),videoLazyLoading:$element.data('videoLazyLoad'),disableVideo:false,elementInViewport:$element.data('elementInViewport')&&$element[0].querySelector($element.data('elementInViewport'))});$element[0].jarallax.video&&$element[0].jarallax.video.on('started',function(){if($element[0].jarallax.$video){$element[0].jarallax.$video.style.visibility='visible';}});};});","Magento_PageBuilder/js/widget/show-on-hover.min.js":"define(['jquery'],function($){'use strict';function showOverlayOnHover($elements){$elements.each(function(index,element){var overlayEl=$(element).find('.pagebuilder-overlay'),overlayColor=overlayEl.attr('data-overlay-color');$(element).hover(function(){overlayEl.css('background-color',overlayColor);},function(){overlayEl.css('background-color','transparent');});});}\nfunction showButtonOnHover($elements,buttonClass){$elements.each(function(index,element){var buttonEl=$(element).find(buttonClass);$(element).hover(function(){buttonEl.css({'opacity':'1','visibility':'visible'});},function(){buttonEl.css({'opacity':'0','visibility':'hidden'});});});}\nreturn function(config){var buttonSelector=config.buttonSelector,overlayHoverSelector='div[data-content-type=\"%s\"][data-show-overlay=\"%s\"]'.replace('%s',config.dataRole).replace('%s',config.showOverlay),overlayButtonSelector='div[data-content-type=\"%s\"][data-show-button=\"%s\"]'.replace('%s',config.dataRole).replace('%s',config.showOverlay);showOverlayOnHover($(overlayHoverSelector));showButtonOnHover($(overlayButtonSelector),buttonSelector);};});","Magento_PageBuilder/js/content-type/observable-updater-factory.min.js":"define([\"Magento_PageBuilder/js/converter/converter-pool-factory\",\"Magento_PageBuilder/js/mass-converter/converter-pool-factory\",\"Magento_PageBuilder/js/content-type/observable-updater\"],function(_converterPoolFactory,_converterPoolFactory2,_observableUpdater){function create(config,converterResolver){var promises=[(0,_converterPoolFactory)(config.name),(0,_converterPoolFactory2)(config.name)];return new Promise(function(resolve){Promise.all(promises).then(function(resolvedPromises){var converterPool=resolvedPromises[0],massConverterPool=resolvedPromises[1];resolve(new _observableUpdater(converterPool,massConverterPool,converterResolver));}).catch(function(error){console.error(error);return null;});});}\nreturn create;});","Magento_PageBuilder/js/content-type/master-collection.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/content-type/master\"],function(_master){var MasterCollection=function(_master2){\"use strict\";_inheritsLoose(MasterCollection,_master2);function MasterCollection(){return _master2.apply(this,arguments)||this;}\n_createClass(MasterCollection,[{key:\"masterTemplate\",get:function get(){return\"Magento_PageBuilder/content-type/master-collection\";}}]);return MasterCollection;}(_master);return MasterCollection;});","Magento_PageBuilder/js/content-type/master.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\ndefine([\"underscore\",\"Magento_PageBuilder/js/utils/object\",\"Magento_PageBuilder/js/content-type/appearance-config\"],function(_underscore,_object,_appearanceConfig){var Master=function(){\"use strict\";function Master(contentType,observableUpdater){this.data={};this.contentType=contentType;this.observableUpdater=observableUpdater;this.bindEvents();}\nvar _proto=Master.prototype;_proto.getData=function getData(element){var data=_underscore.extend({},this.contentType.dataStore.getState());if(undefined===element){return data;}\nvar appearanceConfiguration=(0,_appearanceConfig)(this.contentType.config.name,data.appearance);var config=appearanceConfiguration.elements;data=this.observableUpdater.convertData(data,appearanceConfiguration.converters);var result={};if(undefined!==config[element].tag.var){result[config[element].tag.var]=(0,_object.get)(data,config[element].tag.var);}\nreturn result;};_proto.destroy=function destroy(){return;};_proto.bindEvents=function bindEvents(){var _this=this;this.contentType.dataStore.subscribe(function(){_this.updateObservables();});};_proto.afterObservablesUpdated=function afterObservablesUpdated(){return;};_proto.updateObservables=function updateObservables(){this.observableUpdater.update(this,_underscore.extend({name:this.contentType.config.name},this.contentType.dataStore.getState()),this.contentType.getDataStoresStates());this.afterObservablesUpdated();};_createClass(Master,[{key:\"template\",get:function get(){return(0,_appearanceConfig)(this.contentType.config.name,this.getData().appearance).master_template;}}]);return Master;}();return Master;});","Magento_PageBuilder/js/content-type/appearance-config.min.js":"define([\"Magento_PageBuilder/js/config\"],function(_config){function getAppearanceConfig(contentType,appearance){var contentTypeConfig=_config.getContentTypeConfig(contentType);var config;if(contentTypeConfig.appearances!==undefined){if(!appearance){for(var key in contentTypeConfig.appearances){if(!!contentTypeConfig.appearances[key].default){appearance=key;break;}}}\nif(appearance){config=contentTypeConfig.appearances[appearance];}}\nreturn config;}\nreturn getAppearanceConfig;});","Magento_PageBuilder/js/content-type/converter-resolver.min.js":"define([],function(){function resolve(config){return config.converter;}\nreturn resolve;});","Magento_PageBuilder/js/content-type/preview-collection.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type/preview\"],function(_config,_contentTypeFactory,_preview){var PreviewCollection=function(_preview2){\"use strict\";_inheritsLoose(PreviewCollection,_preview2);function PreviewCollection(){return _preview2.apply(this,arguments)||this;}\nvar _proto=PreviewCollection.prototype;_proto.clone=function clone(contentType,autoAppend,direct){var _this=this;if(autoAppend===void 0){autoAppend=true;}\nif(direct===void 0){direct=false;}\nvar defaultViewport=_config.getConfig(\"defaultViewport\");var index=contentType.parentContentType.getChildren().indexOf(contentType)+1||null;var childrenLength=contentType.children?contentType.children().length:0;return new Promise(function(resolve,reject){(0,_contentTypeFactory)(contentType.config,contentType.parentContentType,contentType.stageId,contentType.dataStores[defaultViewport].getState(),childrenLength,contentType.getDataStoresStates()).then(function(duplicate){if(contentType.children&&contentType.children().length>0){contentType.children().forEach(function(subChild){var subChildClone=duplicate.preview.clone(subChild,false);if(subChildClone){subChildClone.then(function(duplicateSubChild){duplicateSubChild.parentContentType=duplicate;duplicate.addChild(duplicateSubChild);});}else{reject(\"Unable to duplicate sub child.\");}});}\nif(autoAppend){contentType.parentContentType.addChild(duplicate,index);}\n_this.dispatchContentTypeCloneEvents(contentType,duplicate,index,direct);resolve(duplicate);});});};_proto.delegate=function delegate(){var _preview2$prototype$d;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n(_preview2$prototype$d=_preview2.prototype.delegate).call.apply(_preview2$prototype$d,[this].concat(args));this.contentType.getChildren()().forEach(function(elem){elem.preview.delegate.apply(elem.preview,args);});};_proto.isConfigured=function isConfigured(){if(this.contentType.children().length>0){return true;}\nreturn _preview2.prototype.isConfigured.call(this);};_createClass(PreviewCollection,[{key:\"childTemplate\",get:function get(){return\"Magento_PageBuilder/content-type/preview-collection\";}}]);return PreviewCollection;}(_preview);return PreviewCollection;});","Magento_PageBuilder/js/content-type/preview-factory.min.js":"define([\"Magento_PageBuilder/js/utils/loader\",\"Magento_PageBuilder/js/content-type/observable-updater-factory\",\"Magento_PageBuilder/js/content-type/preview-converter-resolver\"],function(_loader,_observableUpdaterFactory,_previewConverterResolver){function create(contentType,config){return new Promise(function(resolve,reject){(0,_observableUpdaterFactory)(config,_previewConverterResolver).then(function(observableUpdater){(0,_loader)([config.preview_component],function(previewComponent){try{var preview=new previewComponent(contentType,config,observableUpdater);resolve(preview);}catch(error){reject(\"Error within preview component (\"+config.preview_component+\") for \"+config.name+\".\");console.error(error);}},function(error){reject(\"Unable to load preview component (\"+config.preview_component+\") for \"+config.name+\". Please \"+\"check preview component exists and content type configuration is correct.\");console.error(error);});}).catch(function(error){console.error(error);return null;});});}\nreturn create;});","Magento_PageBuilder/js/content-type/preview-converter-resolver.min.js":"define([],function(){function resolve(config){return config.preview_converter?config.preview_converter:config.converter;}\nreturn resolve;});","Magento_PageBuilder/js/content-type/observable-updater.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"consoleLogger\",\"knockout\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type/appearance-config\",\"Magento_PageBuilder/js/content-type/observable-updater/attributes\",\"Magento_PageBuilder/js/content-type/observable-updater/css\",\"Magento_PageBuilder/js/content-type/observable-updater/html\",\"Magento_PageBuilder/js/content-type/observable-updater/style\"],function(_consoleLogger,_knockout,_underscore,_config,_appearanceConfig,_attributes,_css,_html,_style){var ObservableUpdater=function(){\"use strict\";function ObservableUpdater(converterPool,massConverterPool,converterResolver){this.previousData={};this.bindingGenerators={attributes:_attributes,css:_css,html:_html,style:_style};this.converterPool=converterPool;this.massConverterPool=massConverterPool;this.converterResolver=converterResolver;}\nvar _proto=ObservableUpdater.prototype;_proto.update=function update(viewModel,data,dataStores){var appearance=data&&data.appearance!==undefined?data.appearance:undefined;var appearanceConfiguration=(0,_appearanceConfig)(viewModel.contentType.config.name,appearance);if(undefined===appearanceConfiguration||undefined===appearanceConfiguration.elements){return;}\nvar generatedBindings=this.generateKnockoutBindings(appearanceConfiguration.elements,appearanceConfiguration.converters,data,dataStores);var _loop=function _loop(element){if(generatedBindings.hasOwnProperty(element)){if(viewModel.data[element]===undefined){viewModel.data[element]={};}\nObject.keys(generatedBindings[element]).forEach(function(key){var elementBindings=viewModel.data[element][key];if(elementBindings!==undefined&&_knockout.isObservable(elementBindings)){elementBindings(generatedBindings[element][key]);}else{viewModel.data[element][key]=_knockout.observable(generatedBindings[element][key]);}});}};for(var element in generatedBindings){_loop(element);}};_proto.generateKnockoutBindings=function generateKnockoutBindings(elements,converters,data,dataStoreStates){var convertedData=this.convertData(data,converters);var generatedData={};for(var _i=0,_Object$keys=Object.keys(elements);_i<_Object$keys.length;_i++){var elementName=_Object$keys[_i];var elementConfig=elements[elementName];if(this.previousData[elementName]===undefined){this.previousData[elementName]={};}\ngeneratedData[elementName]={attributes:this.generateKnockoutBinding(\"attributes\",elementName,elementConfig,data),style:_config.getMode()===\"Preview\"?this.generateKnockoutBinding(\"style\",elementName,elementConfig,data):this.generateKnockoutBindingForBreakpoints(\"style\",elementName,elementConfig,data,dataStoreStates),css:elementConfig.css.var in convertedData?this.generateKnockoutBinding(\"css\",elementName,elementConfig,data):{},html:this.generateKnockoutBinding(\"html\",elementName,elementConfig,data)};if(elementConfig.tag!==undefined&&elementConfig.tag.var!==undefined){if(generatedData[elementName][elementConfig.tag.var]===undefined){generatedData[elementName][elementConfig.tag.var]=\"\";}\ngeneratedData[elementName][elementConfig.tag.var]=convertedData[elementConfig.tag.var];}}\nreturn generatedData;};_proto.convertData=function convertData(data,convertersConfig){for(var _iterator=_createForOfIteratorHelperLoose(convertersConfig),_step;!(_step=_iterator()).done;){var converterConfig=_step.value;this.massConverterPool.get(converterConfig.component).toDom(data,converterConfig.config);}\nreturn data;};_proto.generateKnockoutBinding=function generateKnockoutBinding(binding,elementName,config,data){if(config[binding]===undefined){return{};}\nvar previousData={};if(this.previousData[elementName][binding]!==undefined){previousData=this.previousData[elementName][binding];}\nif(this.bindingGenerators[binding]===undefined){_consoleLogger.error(\"Unable to find Knockout binding generator for \"+binding);return{};}\nvar generatedBindingData=this.bindingGenerators[binding](elementName,config,data,this.converterResolver,this.converterPool,previousData);this.previousData[elementName][binding]=generatedBindingData;return generatedBindingData;};_proto.generateKnockoutBindingForBreakpoints=function generateKnockoutBindingForBreakpoints(binding,elementName,config,data,dataStoreStates){var _this=this;var result={};Object.keys(dataStoreStates).forEach(function(name){result[name]=_underscore.isEmpty(dataStoreStates[name])?{}:_this.generateKnockoutBinding(binding,elementName,config,dataStoreStates[name]);});return result;};return ObservableUpdater;}();return ObservableUpdater;});","Magento_PageBuilder/js/content-type/master-factory.min.js":"define([\"Magento_PageBuilder/js/utils/loader\",\"Magento_PageBuilder/js/content-type/converter-resolver\",\"Magento_PageBuilder/js/content-type/observable-updater-factory\"],function(_loader,_converterResolver,_observableUpdaterFactory){function create(contentType,config){return new Promise(function(resolve,reject){(0,_observableUpdaterFactory)(config,_converterResolver).then(function(observableUpdater){(0,_loader)([config.master_component],function(masterComponent){try{var master=new masterComponent(contentType,observableUpdater);resolve(master);}catch(error){reject(\"Error within master component (\"+config.master_component+\") for \"+config.name+\".\");console.error(error);}},function(error){reject(\"Unable to load preview component (\"+config.master_component+\") for \"+config.name+\". Please \"+\"check preview component exists and content type configuration is correct.\");console.error(error);});}).catch(function(error){console.error(error);return null;});});}\nreturn create;});","Magento_PageBuilder/js/content-type/preview-styles.min.js":"define([\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/content-type/style-registry\"],function(_knockout,_events,_styleRegistry){var PreviewStyles=function(){\"use strict\";function PreviewStyles(stageId){var _this=this;this.styleBlocks=_knockout.observableArray([]);this.template=\"Magento_PageBuilder/content-type/preview-styles\";this.stageId=stageId;_events.on(\"styles:update\",function(args){if(args.stageId===_this.stageId){var css=(0,_styleRegistry.generateCssBlock)(args.className,args.styles);var existingBlock=_this.styleBlocks().find(function(block){return block.className===args.className;});if(existingBlock){if(existingBlock.css===css){return;}\n_this.styleBlocks.splice(_this.styleBlocks().indexOf(existingBlock),1);}\n_this.styleBlocks.push({className:args.className,css:css});}});}\nvar _proto=PreviewStyles.prototype;_proto.getTemplate=function getTemplate(){return this.template;};return PreviewStyles;}();return PreviewStyles;});","Magento_PageBuilder/js/content-type/preview.min.js":"function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}\nfunction _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/modal/dismissible-confirm\",\"underscore\",\"Magento_PageBuilder/js/binding/live-edit\",\"Magento_PageBuilder/js/binding/sortable\",\"Magento_PageBuilder/js/binding/sortable-children\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-collection\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type-menu\",\"Magento_PageBuilder/js/content-type-menu/edit\",\"Magento_PageBuilder/js/content-type-menu/option\",\"Magento_PageBuilder/js/content-type-menu/title-option\",\"Magento_PageBuilder/js/drag-drop/registry\",\"Magento_PageBuilder/js/drag-drop/sortable\",\"Magento_PageBuilder/js/utils/check-stage-full-screen\",\"Magento_PageBuilder/js/utils/object\",\"Magento_PageBuilder/js/content-type/appearance-config\"],function(_jquery,_knockout,_translate,_events,_dismissibleConfirm,_underscore,_liveEdit,_sortable,_sortableChildren,_config,_contentTypeCollection,_contentTypeFactory,_contentTypeMenu,_edit,_option,_titleOption,_registry,_sortable2,_checkStageFullScreen,_object,_appearanceConfig){var Preview=function(){\"use strict\";function Preview(contentType,config,observableUpdater){this.data={};this.displayLabel=_knockout.observable();this.display=_knockout.observable(true);this.appearance=_knockout.observable();this.isPlaceholderVisible=_knockout.observable(true);this.isEmpty=_knockout.observable(true);this.viewport=_knockout.observable(\"\");this.previewData={};this.fieldsToIgnoreOnRemove=[];this.events={};this.isSnapshot=_knockout.observable(false);this.mouseover=false;this.contentType=contentType;this.config=config;this.edit=new _edit(this.contentType,this.contentType.dataStore);this.optionsMenu=new _contentTypeMenu(this,this.retrieveOptions());this.observableUpdater=observableUpdater;this.displayLabel(this.config.label);this.placeholderCss=_knockout.observable({\"visible\":this.isEmpty,\"empty-placeholder-background\":this.isPlaceholderVisible});if(_config.getConfig(\"pagebuilder_content_snapshot\")){this.isSnapshot(!(0,_checkStageFullScreen)(this.contentType.stageId));}\nthis.viewport(_config.getConfig(\"viewport\"));this.bindEvents();this.populatePreviewData();}\nvar _proto=Preview.prototype;_proto.trigger=function trigger(eventName,params){var _this=this;if(this.events[eventName]){var methods=this.events[eventName];_underscore.each(methods.split(\" \"),function(methodName){var method=_this[methodName];if(method){method.call(_this,params);}},this);}};_proto.delegate=function delegate(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\nvar methodName=args.slice(0,1)[0];var method=this[methodName];if(method){method.apply(this,args.slice(1,args.length));}};_proto.openEdit=function openEdit(){return this.edit.open();};_proto.updateData=function updateData(key,value){this.contentType.dataStore.set(key,value);};_proto.getOptionValue=function getOptionValue(key){return this.contentType.dataStore.get(key);};_proto.onMouseOver=function onMouseOver(context,event){if(this.mouseover||(0,_registry.getDraggedContentTypeConfig)()){return;}\n(0,_jquery)(\".pagebuilder-options-visible\").removeClass(\"pagebuilder-options-visible\");this.mouseover=true;this.mouseoverContext=context;var currentTarget=event.currentTarget;var optionsMenu=(0,_jquery)(currentTarget).find(\".pagebuilder-options-wrapper\");if(!(0,_jquery)(currentTarget).hasClass(\"type-nested\")){optionsMenu=optionsMenu.first();}\nvar middleOfPreview=currentTarget.getBoundingClientRect().left+currentTarget.offsetWidth / 2;if(window.innerWidth-middleOfPreview>optionsMenu.width()/ 2){optionsMenu.parent().addClass(\"pagebuilder-options-middle\");}else{optionsMenu.parent().removeClass(\"pagebuilder-options-middle\");}\noptionsMenu.parent().addClass(\"pagebuilder-options-visible\");(0,_jquery)(currentTarget).addClass(\"pagebuilder-content-type-active\");};_proto.onMouseOut=function onMouseOut(context,event){var _this2=this;this.mouseover=false;if((0,_registry.getDraggedContentTypeConfig)()){return;}\n_underscore.delay(function(){if(!_this2.mouseover&&_this2.mouseoverContext===context){var currentTarget=event.currentTarget;var optionsMenu=(0,_jquery)(currentTarget).find(\".pagebuilder-options-wrapper\");if(!(0,_jquery)(currentTarget).hasClass(\"type-nested\")){optionsMenu=optionsMenu.first();}\noptionsMenu.parent().removeClass(\"pagebuilder-options-visible\");(0,_jquery)(currentTarget).removeClass(\"pagebuilder-content-type-active\");}},100);};_proto.afterChildrenRender=function afterChildrenRender(element){_events.trigger(\"contentType:childrenRenderAfter\",{id:this.contentType.id,contentType:this.contentType,element:element});_events.trigger(this.contentType.config.name+\":childrenRenderAfter\",{contentType:this.contentType,element:element,id:this.contentType.id});};_proto.dispatchAfterRenderEvent=function dispatchAfterRenderEvent(elements){var elementNodes=elements.filter(function(renderedElement){return renderedElement.nodeType===Node.ELEMENT_NODE;});if(elementNodes.length>0){var element=elementNodes[0];this.wrapperElement=element;_events.trigger(\"contentType:renderAfter\",{id:this.contentType.id,contentType:this.contentType,element:element});_events.trigger(this.contentType.config.name+\":renderAfter\",{contentType:this.contentType,element:element,id:this.contentType.id});this.disableImageUploadOnHide(element);}};_proto.getOptions=function getOptions(){return this.optionsMenu;};_proto.onOptionEdit=function onOptionEdit(){this.openEdit();};_proto.onOptionVisibilityToggle=function onOptionVisibilityToggle(){var display=this.contentType.dataStore.get(\"display\");this.contentType.dataStore.set(\"display\",!display);this.dispatchContentTypeVisibilityEvents(this.contentType,!display);};_proto.onOptionDuplicate=function onOptionDuplicate(){this.clone(this.contentType,true,true);};_proto.clone=function clone(contentType,autoAppend,direct){var _this3=this;if(autoAppend===void 0){autoAppend=true;}\nif(direct===void 0){direct=false;}\nvar defaultViewport=_config.getConfig(\"defaultViewport\");var contentTypeData=contentType.dataStores[defaultViewport].getState();var index=contentType.parentContentType.getChildren()().indexOf(contentType)+1||null;return(0,_contentTypeFactory)(contentType.config,contentType.parentContentType,contentType.stageId,contentTypeData,0,contentType.getDataStoresStates()).then(function(duplicateContentType){if(autoAppend){contentType.parentContentType.addChild(duplicateContentType,index);}\n_this3.dispatchContentTypeCloneEvents(contentType,duplicateContentType,index,direct);return duplicateContentType;});};_proto.onOptionRemove=function onOptionRemove(){var _this4=this;var removeContentType=function removeContentType(){if(_this4.wrapperElement){(0,_jquery)(_this4.wrapperElement).fadeOut(350 / 2,function(){_this4.contentType.destroy();});}else{_this4.contentType.destroy();}};if(this.isConfigured()){(0,_dismissibleConfirm)({actions:{confirm:function confirm(){removeContentType();}},content:(0,_translate)(\"Are you sure you want to remove this item? The data within this item is not recoverable once removed.\"),dismissKey:\"pagebuilder_modal_dismissed\",dismissible:true,title:(0,_translate)(\"Confirm Item Removal\")});}else{removeContentType();}};_proto.isContainer=function isContainer(){return true;};_proto.getSortableOptions=function getSortableOptions(){return(0,_sortable2.getSortableOptions)(this);};_proto.destroy=function destroy(){return;};_proto.getChildrenCss=function getChildrenCss(){var _ref;return _ref={},_ref[this.config.name+\"-container\"]=true,_ref;};_proto.retrieveOptions=function retrieveOptions(){var options={move:new _option({preview:this,icon:\"<i class='icon-admin-pagebuilder-handle'></i>\",title:(0,_translate)(\"Move\"),classes:[\"move-structural\"],sort:10}),title:new _titleOption({preview:this,title:this.config.label,template:\"Magento_PageBuilder/content-type/title\",sort:20}),edit:new _option({preview:this,icon:\"<i class='icon-admin-pagebuilder-systems'></i>\",title:(0,_translate)(\"Edit\"),action:this.onOptionEdit,classes:[\"edit-content-type\"],sort:30}),duplicate:new _option({preview:this,icon:\"<i class='icon-pagebuilder-copy'></i>\",title:(0,_translate)(\"Duplicate\"),action:this.onOptionDuplicate,classes:[\"duplicate-structural\"],sort:50}),remove:new _option({preview:this,icon:\"<i class='icon-admin-pagebuilder-remove'></i>\",title:(0,_translate)(\"Remove\"),action:this.onOptionRemove,classes:[\"remove-structural\"],sort:60})};return options;};_proto.dispatchContentTypeCloneEvents=function dispatchContentTypeCloneEvents(originalContentType,duplicateContentType,index,direct){var duplicateEventParams={originalContentType:originalContentType,duplicateContentType:duplicateContentType,index:index,direct:direct};_events.trigger(\"contentType:duplicateAfter\",duplicateEventParams);_events.trigger(originalContentType.config.name+\":duplicateAfter\",duplicateEventParams);};_proto.dispatchContentTypeVisibilityEvents=function dispatchContentTypeVisibilityEvents(contentType,visibility){var visibilityEventParams={contentType:contentType,visibility:visibility};_events.trigger(\"contentType:visibilityAfter\",visibilityEventParams);_events.trigger(contentType.config.name+\":visibilityAfter\",visibilityEventParams);};_proto.bindEvents=function bindEvents(){var _this5=this;var fullScreenModeChangeAfterEvent=\"stage:\"+this.contentType.stageId+\":fullScreenModeChangeAfter\";this.contentType.dataStore.subscribe(function(data){_this5.updateObservables();_this5.updatePlaceholderVisibility(data);_this5.display(!!data.display);_this5.appearance(data.appearance);});if(this.contentType instanceof _contentTypeCollection){this.contentType.children.subscribe(function(children){_this5.isEmpty(!children.length);});}\n_events.on(fullScreenModeChangeAfterEvent,this.toggleSnapshot.bind(this));_events.on(\"stage:\"+this.contentType.stageId+\":viewportChangeAfter\",function(args){_this5.viewport(args.viewport);});};_proto.afterObservablesUpdated=function afterObservablesUpdated(){return;};_proto.isConfigured=function isConfigured(){var _this6=this;var data=this.contentType.dataStore.getState();var fields=this.contentType.config.fields[this.appearance()+\"-appearance\"]||this.contentType.config.fields.default;var hasDataChanges=false;_underscore.each(fields,function(field,key){if(_this6.fieldsToIgnoreOnRemove&&_this6.fieldsToIgnoreOnRemove.includes(key)){return;}\nvar fieldValue=(0,_object.get)(data,key);if(!fieldValue){fieldValue=\"\";}\nif(_underscore.isObject(fieldValue)){if(_underscore.isArray(fieldValue)&&fieldValue.length===0){fieldValue=\"\";}else{fieldValue=JSON.stringify(fieldValue);}}\nif(_underscore.isObject(field.default)){if(JSON.stringify(field.default)!==fieldValue){hasDataChanges=true;}}else if(field.default!==fieldValue){hasDataChanges=true;}\nreturn;});return hasDataChanges;};_proto.disableImageUploadOnHide=function disableImageUploadOnHide(element){var _this7=this;(0,_jquery)(element).on(\"drag dragstart dragend dragover dragenter dragleave drop\",function(event){if(_this7.display()===false){event.preventDefault();event.stopPropagation();}});};_proto.updateObservables=function updateObservables(){this.observableUpdater.update(this,_underscore.extend({},this.contentType.dataStore.getState()));this.afterObservablesUpdated();};_proto.updatePlaceholderVisibility=function updatePlaceholderVisibility(data){var minHeight=!_underscore.isEmpty(data.min_height)?parseFloat(data.min_height):130;var marginsAndPadding=_underscore.isString(data.margins_and_padding)&&data.margins_and_padding?JSON.parse(data.margins_and_padding):data.margins_and_padding||{};var padding=marginsAndPadding.padding||{};var paddingBottom=parseFloat(padding.bottom)||0;var paddingTop=parseFloat(padding.top)||0;this.isPlaceholderVisible(paddingBottom+paddingTop+minHeight>=130);};_proto.populatePreviewData=function populatePreviewData(){var _this8=this;if(this.config.fields){_underscore.each(this.config.fields,function(fields){_underscore.keys(fields).forEach(function(key){_this8.previewData[key]=_knockout.observable(\"\");});});}\nthis.contentType.dataStore.subscribe(function(data){_underscore.forEach(data,function(value,key){var optionValue=_this8.getOptionValue(key);if(_knockout.isObservable(_this8.previewData[key])){_this8.previewData[key](optionValue);}else{if(_underscore.isArray(optionValue)){_this8.previewData[key]=_knockout.observableArray(optionValue);}else{_this8.previewData[key]=_knockout.observable(optionValue);}}});});};_proto.toggleSnapshot=function toggleSnapshot(args){if(_config.getConfig(\"pagebuilder_content_snapshot\")){this.isSnapshot(!args.fullScreen);}};_createClass(Preview,[{key:\"template\",get:function get(){return(0,_appearanceConfig)(this.config.name,this.appearance()).preview_template;}}]);return Preview;}();return Preview;});","Magento_PageBuilder/js/content-type/style-registry.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/string\"],function(_underscore,_string){var styleRegistries={};var pbStyleAttribute=\"data-pb-style\";var styleDataAttribute=\"data-style-id\";var StyleRegistry=function(){\"use strict\";function StyleRegistry(identifier){this.styles={};if(identifier){styleRegistries[identifier]=this;}}\nvar _proto=StyleRegistry.prototype;_proto.setStyles=function setStyles(selector,styles){this.styles[selector]=styles;};_proto.getStyles=function getStyles(selector){if(this.styles[selector]){return this.styles[selector];}\nreturn{};};_proto.getAllStyles=function getAllStyles(){return this.styles;};return StyleRegistry;}();function getStyleRegistry(id){return styleRegistries[id]!==undefined?styleRegistries[id]:null;}\nfunction deleteStyleRegistry(id){if(styleRegistries[id]){delete styleRegistries[id];}}\nfunction generateCss(styles){var generatedCss=\"\";Object.keys(styles).forEach(function(selector){if(!_underscore.isEmpty(styles[selector])){generatedCss+=generateCssBlock(selector,styles[selector]);}});return generatedCss;}\nfunction generateCssBlock(selector,styles){var generatedStyles=\"\";Object.keys(styles).forEach(function(key){if(!_underscore.isEmpty(styles[key])){generatedStyles+=(0,_string.fromCamelCaseToDash)(key)+\": \"+styles[key]+\"; \";}});return selector+\" { \"+generatedStyles+\" }\";}\nreturn Object.assign(StyleRegistry,{getStyleRegistry:getStyleRegistry,deleteStyleRegistry:deleteStyleRegistry,generateCss:generateCss,generateCssBlock:generateCssBlock,pbStyleAttribute:pbStyleAttribute,styleDataAttribute:styleDataAttribute});});","Magento_PageBuilder/js/content-type/html/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_hideShowOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){return _preview2.apply(this,arguments)||this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/text/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/utils/editor\",\"Magento_PageBuilder/js/wysiwyg/factory\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jquery,_events,_underscore,_hideShowOption,_delayUntil,_editor,_factory,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_preview2.call.apply(_preview2,[this].concat(args))||this;_this.wysiwygDeferred=_jquery.Deferred();_this.afterRenderDeferred=_jquery.Deferred();_this.handledDoubleClick=false;return _this;}\nvar _proto=Preview.prototype;_proto.isWysiwygSupported=function isWysiwygSupported(){return(0,_editor.isWysiwygSupported)();};_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.afterRenderWysiwyg=function afterRenderWysiwyg(element){var _this2=this;this.element=element;element.id=this.contentType.id+\"-editor\";element.innerHTML=this.data.main.html();this.contentType.dataStore.subscribe(function(){if(!_this2.wysiwyg||_this2.wysiwyg&&_this2.wysiwyg.getAdapter().id!==(0,_editor.getActiveEditor)().id){element.innerHTML=_this2.data.main.html();}},\"content\");this.afterRenderDeferred.resolve(element);this.wysiwyg=null;};_proto.stopEvent=function stopEvent(preview,event){event.stopPropagation();return true;};_proto.initWysiwyg=function initWysiwyg(element){this.element=element;element.id=this.contentType.id+\"-editor\";this.wysiwyg=null;return this.initWysiwygFromClick(true);};_proto.initWysiwygFromClick=function initWysiwygFromClick(focus){var _this3=this;if(focus===void 0){focus=false;}\nif(this.wysiwyg){return Promise.resolve(this.wysiwyg);}\nvar wysiwygConfig=this.config.additional_data.wysiwygConfig.wysiwygConfigData;wysiwygConfig.adapter.settings.paste_as_text=true;if(focus){wysiwygConfig.adapter.settings.auto_focus=this.element.id;wysiwygConfig.adapter.settings.init_instance_callback=function(){_underscore.defer(function(){_this3.element.blur();_this3.element.focus();});};}\nreturn(0,_factory)(this.contentType.id,this.element.id,this.config.name,wysiwygConfig,this.contentType.dataStore,\"content\",this.contentType.stageId).then(function(wysiwyg){_this3.wysiwyg=wysiwyg;return wysiwyg;});};_proto.activateEditor=function activateEditor(preview,event){var _this4=this;if(this.element&&!this.wysiwyg){var bookmark=(0,_editor.createBookmark)(event);(0,_editor.lockImageSize)(this.element);this.element.removeAttribute(\"contenteditable\");_underscore.defer(function(){_this4.initWysiwygFromClick(true).then(function(){return(0,_delayUntil)(function(){_this4.handledDoubleClick=true;_this4.wysiwygDeferred.resolve();(0,_editor.moveToBookmark)(bookmark);(0,_editor.unlockImageSize)(_this4.element);},function(){return _this4.element.classList.contains(\"mce-edit-focus\");},10);}).catch(function(error){console.error(error);});});}};_proto.handleDoubleClick=function handleDoubleClick(preview,event){var _this5=this;if(this.handledDoubleClick){return;}\nevent.preventDefault();var targetIndex=(0,_editor.findNodeIndex)(this.element,event.target.tagName,event.target);this.handledDoubleClick=true;this.wysiwygDeferred.then(function(){var target=document.getElementById(event.target.id);if(!target){target=(0,_editor.getNodeByIndex)(_this5.element,event.target.tagName,targetIndex);}\nif(target){target.dispatchEvent((0,_editor.createDoubleClickEvent)());}});};_proto.initTextarea=function initTextarea(element){var _this6=this;this.textarea=element;this.textarea.value=this.contentType.dataStore.get(\"content\");this.adjustTextareaHeightBasedOnScrollHeight();_events.on(\"form:\"+this.contentType.id+\":saveAfter\",function(){_this6.textarea.value=_this6.contentType.dataStore.get(\"content\");_this6.adjustTextareaHeightBasedOnScrollHeight();});};_proto.onTextareaKeyUp=function onTextareaKeyUp(){this.adjustTextareaHeightBasedOnScrollHeight();this.contentType.dataStore.set(\"content\",this.textarea.value);};_proto.onTextareaFocus=function onTextareaFocus(){(0,_jquery)(this.textarea).closest(\".pagebuilder-content-type\").addClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStart\");};_proto.onTextareaBlur=function onTextareaBlur(){(0,_jquery)(this.textarea).closest(\".pagebuilder-content-type\").removeClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStop\");};_proto.getPlaceholderStyle=function getPlaceholderStyle(){var keys=[\"marginBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"paddingBottom\",\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"textAlign\"];return _underscore.pick(this.data.main.style(),function(style,key){return keys.indexOf(key)!==-1;});};_proto.bindEvents=function bindEvents(){var _this7=this;_preview2.prototype.bindEvents.call(this);this.contentType.dataStore.subscribe(function(state){var sanitizedContent=(0,_editor.replaceDoubleQuoteWithSingleQuoteWithinVariableDirective)((0,_editor.escapeDoubleQuoteWithinWidgetDirective)(state.content));if(sanitizedContent!==state.content){state.content=sanitizedContent;}});_events.on(\"text:dropAfter\",function(args){if(args.id===_this7.contentType.id){_this7.afterRenderDeferred.then(function(){if(_this7.isWysiwygSupported()){_this7.initWysiwygFromClick(true);}});}});};_proto.adjustTextareaHeightBasedOnScrollHeight=function adjustTextareaHeightBasedOnScrollHeight(){this.textarea.style.height=\"\";var scrollHeight=this.textarea.scrollHeight;var minHeight=parseInt((0,_jquery)(this.textarea).css(\"min-height\"),10);if(scrollHeight===minHeight){return;}\n(0,_jquery)(this.textarea).height(scrollHeight);};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/text/wysiwyg/tinymce4/config-modifier.min.js":"define([],function(){var ConfigModifier=function(){\"use strict\";function ConfigModifier(){}\nvar _proto=ConfigModifier.prototype;_proto.modify=function modify(contentTypeId,config){if(config.adapter_config.mode===\"inline\"){config.adapter.settings.fixed_toolbar_container=\"#\"+contentTypeId+\" \"+config.adapter.settings.fixed_toolbar_container;}};return ConfigModifier;}();return ConfigModifier;});","Magento_PageBuilder/js/content-type/text/wysiwyg/tinymce4/component-initializer.min.js":"define([\"jquery\",\"mage/adminhtml/wysiwyg/events\"],function(_jquery,_events){var ComponentInitializer=function(){\"use strict\";function ComponentInitializer(){}\nvar _proto=ComponentInitializer.prototype;_proto.initialize=function initialize(wysiwyg){this.$element=(0,_jquery)(\"#\"+wysiwyg.elementId);this.config=wysiwyg.config;var tinymce=wysiwyg.getAdapter();tinymce.eventBus.attachEventHandler(_events.afterFocus,this.onFocus.bind(this));tinymce.eventBus.attachEventHandler(_events.afterBlur,this.onBlur.bind(this));};_proto.onFocus=function onFocus(){var _this=this;if((0,_jquery)(window).width()<this.$element.offset().left+parseInt(this.config.adapter_config.minToolbarWidth,10)){this.$element.addClass(\"_right-aligned-toolbar\");}else{this.$element.removeClass(\"_right-aligned-toolbar\");}\n_jquery.each(this.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this.$element.closest(selector).css(\"z-index\",100);});};_proto.onBlur=function onBlur(){var _this2=this;_jquery.each(this.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this2.$element.closest(selector).css(\"z-index\",\"\");});};return ComponentInitializer;}();return ComponentInitializer;});","Magento_PageBuilder/js/content-type/slider/preview.min.js":"function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"slick\",\"underscore\",\"Magento_PageBuilder/js/binding/focus\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type-menu/option\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/utils/promise-deferred\",\"Magento_PageBuilder/js/content-type/preview-collection\"],function(_jquery,_knockout,_translate,_events,_slick,_underscore,_focus,_config,_contentTypeFactory,_hideShowOption,_option,_delayUntil,_promiseDeferred,_previewCollection){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.focusedSlide=_knockout.observable();_this.activeSlide=_knockout.observable(0);_this.events={columnWidthChangeAfter:\"onColumnResize\"};_this.ready=false;_this.mountAfterDeferred=(0,_promiseDeferred)();_this.afterChildrenRenderDeferred=(0,_promiseDeferred)();_this.buildSlickDebounce=_underscore.debounce(_this.buildSlick.bind(_assertThisInitialized(_this)),10);_this.ignoredKeysForBuild=[\"display\",\"margins_and_padding\",\"border\",\"border_color\",\"border_radius\",\"border_width\",\"css_classes\",\"name\",\"text_align\"];Promise.all([_this.afterChildrenRenderDeferred.promise,_this.mountAfterDeferred.promise]).then(function(_ref){var element=_ref[0],expectedChildren=_ref[1];expectedChildren=expectedChildren||1;(0,_delayUntil)(function(){_this.element=element;_this.childSubscribe=_this.contentType.children.subscribe(_this.buildSlickDebounce);_this.previousData=_this.contentType.dataStore.getState();_this.contentType.dataStore.subscribe(function(data){if(_this.hasDataChanged(_this.previousData,data)){_this.buildSlickDebounce();}\n_this.previousData=data;});_this.buildSlick();_events.on(\"contentType:redrawAfter\",function(args){var $element=(0,_jquery)(_this.element);if(args.element&&_this.element&&$element.closest(args.element).length){$element.slick(\"setPosition\");}});_this.focusedSlideSubscriber=_this.focusedSlide.subscribe(function(value){if(value!==null){_events.trigger(\"stage:interactionStart\");}else{_events.trigger(\"stage:interactionStop\");}});_events.on(\"stage:\"+_this.contentType.stageId+\":fullScreenModeChangeAfter\",_this.onColumnResize.bind(_assertThisInitialized(_this),[true]));_events.on(\"stage:\"+_this.contentType.stageId+\":viewportChangeAfter\",function(){if(_this.element){(0,_jquery)(_this.element).slick(\"setPosition\");_this.checkWidth();}});},function(){return(0,_jquery)(element).find(\".pagebuilder-slide\").length===expectedChildren;});});return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);options.add=new _option({preview:this,icon:\"<i class='icon-pagebuilder-add'></i>\",title:(0,_translate)(\"Add\"),action:this.addSlide,classes:[\"add-child\"],sort:10});options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.setActiveSlide=function setActiveSlide(slideIndex){this.activeSlide(slideIndex);};_proto.setFocusedSlide=function setFocusedSlide(slideIndex,force){if(force===void 0){force=false;}\nif(force){this.focusedSlide(null);}\nthis.focusedSlide(slideIndex);};_proto.onFocusOut=function onFocusOut(data,event){var relatedTarget=event.relatedTarget;if(!relatedTarget&&document.activeElement&&!(document.activeElement instanceof HTMLBodyElement)){relatedTarget=document.activeElement;}\nif(!relatedTarget){this.setFocusedSlide(null);return;}\nvar $relatedTarget=(0,_jquery)(relatedTarget);var isRelatedTargetDescendantOfNavigation=$relatedTarget.closest(this.navigationElement).length;var isFocusedOnAnotherSlideInThisSlider=$relatedTarget.hasClass(\"navigation-dot-anchor\")&&isRelatedTargetDescendantOfNavigation;if(isFocusedOnAnotherSlideInThisSlider){_events.trigger(\"stage:interactionStop\");}else if(!isRelatedTargetDescendantOfNavigation){this.setFocusedSlide(null);}};_proto.afterNavigationRender=function afterNavigationRender(navigationElement){this.navigationElement=navigationElement;};_proto.navigateToSlide=function navigateToSlide(slideIndex,dontAnimate,force){if(dontAnimate===void 0){dontAnimate=false;}\nif(force===void 0){force=false;}\nif((0,_jquery)(this.element).hasClass(\"slick-initialized\")){(0,_jquery)(this.element).slick(\"slickGoTo\",slideIndex,dontAnimate);this.setActiveSlide(slideIndex);this.setFocusedSlide(slideIndex,force);}};_proto.afterChildrenRender=function afterChildrenRender(element){this.element=element;if(this.ready){this.buildSlick();}\n_previewCollection2.prototype.afterChildrenRender.call(this,element);this.afterChildrenRenderDeferred.resolve(element);};_proto.onSortStart=function onSortStart(event,params){this.forceContainerHeight();if(this.activeSlide()!==params.item.index()||this.focusedSlide()!==params.item.index()){this.navigateToSlide(params.item.index(),false,true);this.contentTypeHeightReset=true;}};_proto.onSortStop=function onSortStop(event,params){var _this2=this;if(this.activeSlide()!==this.focusedSlide()){this.setFocusedSlide(this.activeSlide(),true);}\nif(params.item.index()!==-1){_underscore.defer(this.focusElement.bind(this,event,params.item.index()));}\n_underscore.defer(function(){(0,_jquery)(_this2.element).css({height:\"\",overflow:\"\"});});};_proto.addSlide=function addSlide(){var _this3=this;(0,_contentTypeFactory)(_config.getConfig(\"content_types\").slide,this.contentType,this.contentType.stageId).then(function(slide){_events.on(\"slide:mountAfter\",function(args){if(args.id===slide.id){_underscore.defer(function(){(0,_delayUntil)(function(){return _this3.navigateToSlide(_this3.contentType.children().length-1);},function(){return(0,_jquery)(_this3.element).hasClass(\"slick-initialized\");},10);});_events.off(\"slide:\"+slide.id+\":mountAfter\");}},\"slide:\"+slide.id+\":mountAfter\");_this3.contentType.addChild(slide,_this3.contentType.children().length);});};_proto.isContainer=function isContainer(){return false;};_proto.onControlClick=function onControlClick(index,context,event){(0,_jquery)(event.target).focus();this.navigateToSlide(index);this.setFocusedSlide(index);};_proto.destroy=function destroy(){_previewCollection2.prototype.destroy.call(this);if(this.focusedSlideSubscriber){this.focusedSlideSubscriber.dispose();}};_proto.bindEvents=function bindEvents(){var _this4=this;_previewCollection2.prototype.bindEvents.call(this);_events.on(\"slider:mountAfter\",function(args){if(args.id===_this4.contentType.id){if(args.expectChildren!==undefined){_this4.mountAfterDeferred.resolve(args.expectChildren);}}});_events.on(\"childContentType:sortUpdate\",function(args){if(args.instance.id===_this4.contentType.id){(0,_jquery)(args.ui.item).remove();_this4.setActiveSlide(args.newPosition);_underscore.defer(_this4.focusElement.bind(_this4,args.event,args.newPosition));}});var newItemIndex;_events.on(\"slide:removeAfter\",function(args){if(args.parentContentType&&args.parentContentType.id===_this4.contentType.id){newItemIndex=args.index-1>=0?args.index-1:0;_this4.forceContainerHeight();var data=_this4.contentType.children().slice(0);_this4.contentType.children([]);_this4.contentType.children(data);_underscore.defer(function(){_this4.buildSlick();});}});_events.on(\"slide:renderAfter\",function(args){var itemIndex=args.contentType.parentContentType.getChildren()().indexOf(args.contentType);if(args.contentType.parentContentType.id===_this4.contentType.id&&newItemIndex!==null&&newItemIndex===itemIndex){_underscore.defer(function(){if(newItemIndex!==null){newItemIndex=null;_this4.navigateToSlide(itemIndex,true,true);_underscore.defer(function(){_this4.focusedSlide(null);_this4.focusedSlide(itemIndex);});}});}});_events.on(\"slide:createAfter\",function(args){if(_this4.element&&_this4.ready&&args.contentType.parentContentType.id===_this4.contentType.id){_this4.forceContainerHeight();_underscore.defer(function(){(0,_jquery)(_this4.element).css({height:\"\",overflow:\"\"});});}});_events.on(\"slider:dropAfter\",function(args){if(args.id===_this4.contentType.id&&_this4.contentType.children().length===0){_this4.addSlide();}});var duplicatedSlide;var duplicatedSlideIndex;_events.on(\"slide:duplicateAfter\",function(args){if(args.duplicateContentType.parentContentType.id===_this4.contentType.id&&args.direct){duplicatedSlide=args.duplicateContentType;duplicatedSlideIndex=args.index;}});_events.on(\"slide:mountAfter\",function(args){if(duplicatedSlide&&args.id===duplicatedSlide.id){_underscore.defer(function(){_this4.navigateToSlide(duplicatedSlideIndex,true,true);duplicatedSlide=duplicatedSlideIndex=null;});}});};_proto.hasDataChanged=function hasDataChanged(previousData,newData){previousData=_underscore.omit(previousData,this.ignoredKeysForBuild);newData=_underscore.omit(newData,this.ignoredKeysForBuild);return!_underscore.isEqual(previousData,newData);};_proto.buildSlick=function buildSlick(){var _this5=this;if(this.element&&this.element.children.length>0){try{(0,_jquery)(this.element).slick(\"unslick\");}catch(e){}\nif(this.childSubscribe){this.childSubscribe.dispose();}\nvar data=this.contentType.children().slice(0);this.contentType.children([]);(0,_jquery)(this.element).empty();this.contentType.children(data);this.childSubscribe=this.contentType.children.subscribe(this.buildSlickDebounce);(0,_jquery)(this.element).on(\"init\",function(){_this5.ready=true;});(0,_jquery)(this.element).slick(Object.assign({initialSlide:this.activeSlide()||0},this.buildSlickConfig()));(0,_jquery)(this.element).on(\"beforeChange\",function(event,slick,currentSlide,nextSlide){(0,_jquery)(_this5.element).css(\"pointer-events\",\"none\");_this5.setActiveSlide(nextSlide);}).on(\"afterChange\",function(){if(!_this5.contentTypeHeightReset){(0,_jquery)(_this5.element).css({height:\"\",overflow:\"\"});_this5.contentTypeHeightReset=null;}\n(0,_jquery)(_this5.element).css(\"pointer-events\",\"\");});}};_proto.focusElement=function focusElement(event,index){var handleClassName=(0,_jquery)(event.target).data(\"sortable\").options.handle;(0,_jquery)((0,_jquery)(event.target).find(handleClassName)[index]).focus();};_proto.forceContainerHeight=function forceContainerHeight(){(0,_jquery)(this.element).css({height:(0,_jquery)(this.element).outerHeight(),overflow:\"hidden\"});};_proto.buildSlickConfig=function buildSlickConfig(){var data=this.contentType.dataStore.getState();return{arrows:data.show_arrows===\"true\",autoplay:data.autoplay===\"true\",autoplaySpeed:data.autoplay_speed,dots:false,fade:data.fade===\"true\",infinite:data.is_infinite===\"true\",waitForAnimate:false,swipe:false};};_proto.onColumnResize=function onColumnResize(params){var _this6=this;setTimeout(function(){if(_this6.element){(0,_jquery)(_this6.element).slick(\"setPosition\");_this6.checkWidth();}},450);};_proto.checkWidth=function checkWidth(){if(this.element.offsetWidth<410){this.element.classList.add(\"slider-small-width\");}else{this.element.classList.remove(\"slider-small-width\");}};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/slider/appearance/default/widget.min.js":"define(['jquery','Magento_PageBuilder/js/events','slick'],function($,events){'use strict';return function(config,sliderElement){var $element=$(sliderElement);if($element.hasClass('slick-initialized')){$element.slick('unslick');}\n$element.slick({autoplay:$element.data('autoplay'),autoplaySpeed:$element.data('autoplay-speed')||0,fade:$element.data('fade'),infinite:$element.data('infinite-loop'),arrows:$element.data('show-arrows'),dots:$element.data('show-dots')});events.on('contentType:redrawAfter',function(args){if($element.closest(args.element).length){$element.slick('setPosition');}});events.on('stage:viewportChangeAfter',$element.slick.bind($element,'setPosition'));};});","Magento_PageBuilder/js/content-type/slide/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jarallax\",\"jarallaxVideo\",\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"mageUtils\",\"underscore\",\"vimeoWrapper\",\"Magento_PageBuilder/js/content-type-menu/conditional-remove-option\",\"Magento_PageBuilder/js/uploader\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/utils/editor\",\"Magento_PageBuilder/js/utils/nesting-link-dialog\",\"Magento_PageBuilder/js/utils/nesting-widget-dialog\",\"Magento_PageBuilder/js/wysiwyg/factory\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jarallax,_jarallaxVideo,_jquery,_knockout,_translate,_events,_mageUtils,_underscore,_vimeoWrapper,_conditionalRemoveOption,_uploader,_delayUntil,_editor,_nestingLinkDialog,_nestingWidgetDialog,_factory,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_preview2.call.apply(_preview2,[this].concat(args))||this;_this.buttonPlaceholder=(0,_translate)(\"Edit Button Text\");_this.slideName=_knockout.observable();_this.wysiwygDeferred=_jquery.Deferred();_this.slideChanged=true;_this.handledDoubleClick=false;_this.videoUpdateProperties=[\"background_type\",\"video_fallback_image\",\"video_lazy_load\",\"video_loop\",\"video_play_only_visible\",\"video_source\"];_this.buildJarallax=_underscore.debounce(function(){try{jarallax(_this.wrapper,\"destroy\");}catch(e){}\nif(_this.wrapper&&_this.wrapper.dataset.backgroundType===\"video\"&&_this.wrapper.dataset.videoSrc.length){_underscore.defer(function(){var viewportElement=(0,_jquery)(\"<div/>\").addClass(\"jarallax-viewport-element\");(0,_jquery)(_this.wrapper).append((0,_jquery)(\".jarallax-viewport-element\",_this.wrapper).length?\"\":viewportElement);jarallax(_this.wrapper,{videoSrc:_this.wrapper.dataset.videoSrc,imgSrc:_this.wrapper.dataset.videoFallbackSrc,videoLoop:_this.contentType.dataStore.get(\"video_loop\")===\"true\",speed:1,videoPlayOnlyVisible:_this.contentType.dataStore.get(\"video_play_only_visible\")===\"true\",elementInViewport:(0,_jquery)(\".jarallax-viewport-element\",_this.wrapper),videoLazyLoading:_this.contentType.dataStore.get(\"video_lazy_load\")===\"true\"});if(_this.wrapper.jarallax&&_this.wrapper.jarallax.video){_this.wrapper.jarallax.video.on(\"started\",function(){if(_this.wrapper.jarallax&&_this.wrapper.jarallax.$video){_this.wrapper.jarallax.$video.style.visibility=\"visible\";}});}});}},50);return _this;}\nvar _proto=Preview.prototype;_proto.getBackgroundImage=function getBackgroundImage(){var mobileImage=this.contentType.dataStore.get(\"mobile_image\");var desktopImage=this.contentType.dataStore.get(\"background_image\");var backgroundImage=this.viewport()===\"mobile\"&&mobileImage.length?mobileImage:desktopImage;return backgroundImage.length?\"url(\\\"\"+backgroundImage[0].url+\"\\\")\":\"none\";};_proto.afterRenderWysiwyg=function afterRenderWysiwyg(element){var _this2=this;this.element=element;element.id=this.contentType.id+\"-editor\";element.innerHTML=this.data.content.html();this.contentType.dataStore.subscribe(function(){if(!_this2.wysiwyg||_this2.wysiwyg&&_this2.wysiwyg.getAdapter().id!==(0,_editor.getActiveEditor)().id){element.innerHTML=_this2.data.content.html();}},\"content\");this.wysiwyg=null;};_proto.onMouseOverWrapper=function onMouseOverWrapper(){if(this.data.main.attributes()[\"data-show-overlay\"]===\"hover\"){this.data.overlay.attributes(Object.assign(this.data.overlay.attributes(),{\"data-background-color-orig\":this.data.overlay.style().backgroundColor}));this.data.overlay.style(Object.assign(this.data.overlay.style(),{backgroundColor:this.data.overlay.attributes()[\"data-overlay-color\"]}));}\nif(this.data.main.attributes()[\"data-show-button\"]===\"hover\"){this.data.button.style(Object.assign(this.data.button.style(),{opacity:1,visibility:\"visible\"}));}};_proto.onMouseOutWrapper=function onMouseOutWrapper(){if(this.data.main.attributes()[\"data-show-overlay\"]===\"hover\"){this.data.overlay.style(Object.assign(this.data.overlay.style(),{backgroundColor:this.data.overlay.attributes()[\"data-background-color-orig\"]}));}\nif(this.data.main.attributes()[\"data-show-button\"]===\"hover\"){this.data.button.style(Object.assign(this.data.button.style(),{opacity:0,visibility:\"hidden\"}));}};_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);delete options.move;options.remove=new _conditionalRemoveOption(_extends({},options.remove.config,{preview:this}));return options;};_proto.getUploader=function getUploader(){var initialImageValue=this.contentType.dataStore.get(this.config.additional_data.uploaderConfig.dataScope,\"\");return new _uploader(\"imageuploader_\"+this.contentType.id,this.config.additional_data.uploaderConfig,this.contentType.id,this.contentType.dataStore,initialImageValue);};_proto.activateEditor=function activateEditor(preview,event){var _this3=this;if(this.element&&!this.wysiwyg){var bookmark=(0,_editor.createBookmark)(event);(0,_editor.lockImageSize)(this.element);this.element.removeAttribute(\"contenteditable\");_underscore.defer(function(){_this3.initWysiwygFromClick(true).then(function(){return(0,_delayUntil)(function(){_this3.handledDoubleClick=true;_this3.wysiwygDeferred.resolve();(0,_editor.moveToBookmark)(bookmark);(0,_editor.unlockImageSize)(_this3.element);},function(){return _this3.element.classList.contains(\"mce-edit-focus\");},10);}).catch(function(error){console.error(error);});});}else if(this.element&&this.wysiwyg){var element=this.element||this.textarea;if(event.currentTarget!==event.target&&event.target!==element&&!element.contains(event.target)){return;}\nelement.focus();}};_proto.handleDoubleClick=function handleDoubleClick(preview,event){var _this4=this;if(this.handledDoubleClick){return;}\nevent.preventDefault();var targetIndex=(0,_editor.findNodeIndex)(this.element,event.target.tagName,event.target);this.handledDoubleClick=true;this.wysiwygDeferred.then(function(){var target=document.getElementById(event.target.id);if(!target){target=(0,_editor.getNodeByIndex)(_this4.element,event.target.tagName,targetIndex);}\nif(target){target.dispatchEvent((0,_editor.createDoubleClickEvent)());}});};_proto.stopEvent=function stopEvent(preview,event){event.stopPropagation();return true;};_proto.isWysiwygSupported=function isWysiwygSupported(){return(0,_editor.isWysiwygSupported)();};_proto.initTextarea=function initTextarea(element){var _this5=this;this.textarea=element;this.textarea.value=this.contentType.dataStore.get(\"content\");this.adjustTextareaHeightBasedOnScrollHeight();_events.on(\"form:\"+this.contentType.id+\":saveAfter\",function(){_this5.textarea.value=_this5.contentType.dataStore.get(\"content\");_this5.adjustTextareaHeightBasedOnScrollHeight();});};_proto.onTextareaKeyUp=function onTextareaKeyUp(){this.adjustTextareaHeightBasedOnScrollHeight();this.contentType.dataStore.set(\"content\",this.textarea.value);};_proto.onTextareaFocus=function onTextareaFocus(){(0,_jquery)(this.textarea).closest(\".pagebuilder-content-type\").addClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStart\");};_proto.onTextareaBlur=function onTextareaBlur(){(0,_jquery)(this.textarea).closest(\".pagebuilder-content-type\").removeClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStop\");};_proto.initWysiwyg=function initWysiwyg(element){this.element=element;element.id=this.contentType.id+\"-editor\";this.wysiwyg=null;return this.initWysiwygFromClick(true);};_proto.initWysiwygFromClick=function initWysiwygFromClick(focus){var _this6=this;if(focus===void 0){focus=false;}\nif(this.wysiwyg){return Promise.resolve(this.wysiwyg);}\nvar wysiwygConfig=this.config.additional_data.wysiwygConfig.wysiwygConfigData;if(focus){wysiwygConfig.adapter.settings.auto_focus=this.element.id;wysiwygConfig.adapter.settings.init_instance_callback=function(editor){editor.on(\"blur\",function(){(0,_nestingLinkDialog)(_this6.contentType.dataStore,_this6.wysiwyg,\"content\",\"link_url\");(0,_nestingWidgetDialog)(_this6.contentType.dataStore,_this6.wysiwyg,\"content\",\"link_url\");});_underscore.defer(function(){_this6.element.blur();_this6.element.focus();});};}\nreturn(0,_factory)(this.contentType.id,this.element.id,this.config.name,wysiwygConfig,this.contentType.dataStore,\"content\",this.contentType.stageId).then(function(wysiwyg){_this6.wysiwyg=wysiwyg;return wysiwyg;});};_proto.initParallax=function initParallax(element){var _this7=this;this.wrapper=element;_underscore.defer(function(){_this7.buildJarallax();});};_proto.destroy=function destroy(){_preview2.prototype.destroy.call(this);if(this.wrapper){jarallax(this.wrapper,\"destroy\");}};_proto.bindEvents=function bindEvents(){var _this8=this;_preview2.prototype.bindEvents.call(this);_events.on(\"slide:mountAfter\",function(args){if(args.id===_this8.contentType.id){_this8.buildJarallax();_this8.isSnapshot.subscribe(function(value){_this8.changeUploaderControlsVisibility();});_this8.changeUploaderControlsVisibility();}});_events.on(this.config.name+\":\"+this.contentType.id+\":updateAfter\",function(){var dataStore=_this8.contentType.dataStore.getState();var imageObject=dataStore[_this8.config.additional_data.uploaderConfig.dataScope][0]||{};_events.trigger(\"image:\"+_this8.contentType.id+\":assignAfter\",imageObject);});_events.on(\"childContentType:sortUpdate\",function(args){if(args.instance.id===_this8.contentType.parentContentType.id){_this8.wysiwyg=null;}});_events.on(this.config.name+\":mountAfter\",function(args){if(args.id===_this8.contentType.id){var slider=_this8.contentType.parentContentType;_this8.displayLabel((0,_translate)(\"Slide \"+(slider.children().indexOf(_this8.contentType)+1)));slider.children.subscribe(function(children){var index=children.indexOf(_this8.contentType);_this8.displayLabel((0,_translate)(\"Slide \"+(slider.children().indexOf(_this8.contentType)+1)));});}});_events.on(this.config.name+\":renderAfter\",function(args){if(args.id===_this8.contentType.id){var slider=_this8.contentType.parentContentType;(0,_jquery)(slider.preview.element).on(\"beforeChange\",function(){_this8.slideChanged=false;});(0,_jquery)(slider.preview.element).on(\"afterChange\",function(event,slick){(0,_jquery)(slick.$slides).each(function(index,slide){var videoSlide=slide.querySelector(\".jarallax\");if(videoSlide){jarallax(videoSlide,\"onScroll\");}});_this8.slideChanged=true;});}});this.contentType.dataStore.subscribe(function(data){_this8.slideName(data.slide_name);if(_this8.shouldUpdateVideo(data)){_this8.buildJarallax();}});_events.on(\"image:\"+this.contentType.id+\":uploadAfter\",function(){_this8.contentType.dataStore.set(\"background_type\",\"image\");});_events.on(\"stage:\"+this.contentType.stageId+\":viewportChangeAfter\",function(args){if(_this8.contentType.dataStore.get(\"background_type\")===\"video\"){_this8.buildJarallax();}});};_proto.changeUploaderControlsVisibility=function changeUploaderControlsVisibility(){var _this9=this;this.getUploader().getUiComponent()(function(uploader){uploader.visibleControls=!_this9.isSnapshot();});};_proto.onImageUploaded=function onImageUploaded(data){this.contentType.dataStore.set(this.config.additional_data.uploaderConfig.dataScope,data);};_proto.adjustTextareaHeightBasedOnScrollHeight=function adjustTextareaHeightBasedOnScrollHeight(){this.textarea.style.height=\"\";var scrollHeight=this.textarea.scrollHeight;var minHeight=parseInt((0,_jquery)(this.textarea).css(\"min-height\"),10);if(scrollHeight===minHeight){return;}\n(0,_jquery)(this.textarea).height(scrollHeight);};_proto.shouldUpdateVideo=function shouldUpdateVideo(state){var _this10=this;var previousState=this.contentType.dataStore.getPreviousState();var diff=_mageUtils.compare(previousState,state).changes;if(diff.length>0){return _underscore.some(diff,function(element){if(element.name===\"video_fallback_image\"){return(!_underscore.isEmpty(previousState.video_fallback_image)&&previousState.video_fallback_image)!==(!_underscore.isEmpty(state.video_fallback_image)&&state.video_fallback_image);}\nreturn _this10.videoUpdateProperties.indexOf(element.name)!==-1;});}};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/slide/appearance/default/widget.min.js":"define(['jquery','underscore','Magento_PageBuilder/js/widget/show-on-hover','Magento_PageBuilder/js/widget/video-background'],function($,_,showOnHover,videoBackground){'use strict';return function(config,element){var videoElement=element[0].querySelector('[data-background-type=video]'),viewportElement=document.createElement('div'),$slider=null;showOnHover(config);if(videoElement){$slider=$(element).closest('[data-content-type=slider]');viewportElement.classList.add('jarallax-viewport-element');videoElement.setAttribute('data-element-in-viewport','.jarallax-viewport-element');videoElement.appendChild(viewportElement);videoBackground(config,videoElement);if($slider.data('afterChangeIsSet')){return;}\n$slider.on('afterChange init',function(){var videoSlides=$slider[0].querySelectorAll('.jarallax');_.each(videoSlides,function(videoSlide){videoSlide.jarallax&&videoSlide.jarallax.onScroll();});});$slider.data('afterChangeIsSet',true);}};});","Magento_PageBuilder/js/content-type/slide/wysiwyg/tinymce4/config-modifier.min.js":"define([],function(){var ConfigModifier=function(){\"use strict\";function ConfigModifier(){}\nvar _proto=ConfigModifier.prototype;_proto.modify=function modify(contentTypeId,config){if(config.adapter_config.mode===\"inline\"){config.adapter.settings.fixed_toolbar_container=\"#\"+contentTypeId+\" .wysiwyg-container\";}};return ConfigModifier;}();return ConfigModifier;});","Magento_PageBuilder/js/content-type/slide/wysiwyg/tinymce4/component-initializer.min.js":"define([\"jquery\",\"mage/adminhtml/wysiwyg/events\",\"Magento_PageBuilder/js/utils/delay-until\"],function(_jquery,_events,_delayUntil){var ComponentInitializer=function(){\"use strict\";function ComponentInitializer(){this.sliderSelector=\".slick-list\";this.sliderContentSelector=\".slick-track\";this.slideSelector=\".slick-slide\";this.activeSlideSelector=\".slick-current\";this.slideChanging=false;}\nvar _proto=ComponentInitializer.prototype;_proto.initialize=function initialize(wysiwyg){var _this=this;this.$element=(0,_jquery)(\"#\"+wysiwyg.elementId);this.config=wysiwyg.config;var tinymce=wysiwyg.getAdapter();tinymce.eventBus.attachEventHandler(_events.afterFocus,this.onFocus.bind(this));tinymce.eventBus.attachEventHandler(_events.afterBlur,this.onBlur.bind(this));(0,_jquery)(this.$element.parents(this.sliderSelector)).parent().on(\"beforeChange\",function(){_this.slideChanging=true;}).on(\"afterChange\",function(){_this.slideChanging=false;});};_proto.onFocus=function onFocus(){var _this2=this;var $slider=(0,_jquery)(this.$element.parents(this.sliderSelector));var sliderContent=this.$element.parents(this.sliderContentSelector)[0];var $notActiveSlides=$slider.find(this.slideSelector).not(this.activeSlideSelector);if((0,_jquery)(window).width()<this.$element.offset().left+parseInt(this.config.adapter_config.minToolbarWidth,10)){this.$element.addClass(\"_right-aligned-toolbar\");}else{this.$element.removeClass(\"_right-aligned-toolbar\");}\n(0,_delayUntil)(function(){_jquery.each(_this2.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this2.$element.closest(selector).css(\"z-index\",100);});$slider.parent().slick(\"slickSetOption\",\"accessibility\",false);_this2.autoplay=$slider.parent().slick(\"slickGetOption\",\"autoplay\");_this2.fade=$slider.parent().slick(\"slickGetOption\",\"fade\");if(_this2.autoplay){$slider.parent().slick(\"slickPause\");}\nif(!_this2.fade){$notActiveSlides.css(\"display\",\"none\");}\n_this2.sliderTransform=sliderContent.style.transform;sliderContent.style.transform=\"\";$slider.css(\"overflow\",\"visible\");},function(){return!_this2.slideChanging;},10);};_proto.onBlur=function onBlur(){var _this3=this;var $slider=(0,_jquery)(this.$element.parents(this.sliderSelector));var sliderContent=this.$element.parents(this.sliderContentSelector)[0];var $notActiveSlides=$slider.find(this.slideSelector).not(this.activeSlideSelector);_jquery.each(this.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this3.$element.closest(selector).css(\"z-index\",\"\");});$slider.css(\"overflow\",\"hidden\");sliderContent.style.transform=this.sliderTransform;$notActiveSlides.css(\"display\",\"block\");$slider.parent().slick(\"slickSetOption\",\"accessibility\",true);if(this.autoplay){$slider.parent().slick(\"slickPlay\");}};return ComponentInitializer;}();return ComponentInitializer;});","Magento_PageBuilder/js/content-type/slide/converter/style/button-visibility.min.js":"define([],function(){var ButtonVisibility=function(){\"use strict\";function ButtonVisibility(){}\nvar _proto=ButtonVisibility.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){return data.show_button===\"always\"?\"visible\":\"hidden\";};return ButtonVisibility;}();return ButtonVisibility;});","Magento_PageBuilder/js/content-type/slide/converter/style/paddings.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Paddings=function(){\"use strict\";function Paddings(){}\nvar _proto=Paddings.prototype;_proto.fromDom=function fromDom(value){var result={};if(undefined!==value.padding){result.padding={bottom:value.padding.bottom.replace(\"px\",\"\"),left:value.padding.left.replace(\"px\",\"\"),right:value.padding.right.replace(\"px\",\"\"),top:value.padding.top.replace(\"px\",\"\")};}\nif(result.padding.right[0]===\"c\"){result.padding.right=parseInt(result.padding.right.split(\"+\")[1].trim(),10);}\nif(result.padding.left[0]===\"c\"){result.padding.left=parseInt(result.padding.left.split(\"+\")[1].trim(),10);}\nreturn result;};_proto.toDom=function toDom(name,data){var result={};var value=(0,_object.get)(data,name);if(value&&_underscore.isString(value)){value=JSON.parse(value);}\nif(value&&undefined!==value.padding){result.paddingLeft=value.padding.left?value.padding.left+\"px\":\"\";result.paddingTop=value.padding.top?value.padding.top+\"px\":\"\";result.paddingRight=value.padding.right?value.padding.right+\"px\":\"\";result.paddingBottom=value.padding.bottom?value.padding.bottom+\"px\":\"\";}\nreturn result;};return Paddings;}();return Paddings;});","Magento_PageBuilder/js/content-type/slide/converter/style/overlay-background-color.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var OverlayBackgroundColor=function(){\"use strict\";function OverlayBackgroundColor(){}\nvar _proto=OverlayBackgroundColor.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(data.show_overlay===\"always\"&&value!==\"\"&&value!==undefined){return value;}\nreturn\"transparent\";};return OverlayBackgroundColor;}();return OverlayBackgroundColor;});","Magento_PageBuilder/js/content-type/slide/converter/style/margins.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Margins=function(){\"use strict\";function Margins(){}\nvar _proto=Margins.prototype;_proto.fromDom=function fromDom(value){if(undefined!==value.margin){return{margin:{top:value.margin.top.replace(\"px\",\"\"),left:value.margin.left.replace(\"px\",\"\"),right:value.margin.right.replace(\"px\",\"\"),bottom:value.margin.bottom.replace(\"px\",\"\")}};}\nreturn{};};_proto.toDom=function toDom(name,data){var result={};var value=(0,_object.get)(data,name);if(value&&_underscore.isString(value)){value=JSON.parse(value);}\nif(value&&undefined!==value.margin){result.marginLeft=value.margin.left?value.margin.left+\"px\":\"\";result.marginTop=value.margin.top?value.margin.top+\"px\":\"\";result.marginRight=value.margin.right?value.margin.right+\"px\":\"\";result.marginBottom=value.margin.bottom?value.margin.bottom+\"px\":\"\";}\nreturn result;};return Margins;}();return Margins;});","Magento_PageBuilder/js/content-type/slide/converter/style/button-opacity.min.js":"define([],function(){var ButtonOpacity=function(){\"use strict\";function ButtonOpacity(){}\nvar _proto=ButtonOpacity.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){return data.show_button===\"always\"?\"1\":\"0\";};return ButtonOpacity;}();return ButtonOpacity;});","Magento_PageBuilder/js/content-type/slide/converter/attribute/overlay-color.min.js":"define([],function(){var OverlayColor=function(){\"use strict\";function OverlayColor(){}\nvar _proto=OverlayColor.prototype;_proto.fromDom=function fromDom(value){return value===\"transparent\"?\"\":value;};_proto.toDom=function toDom(name,data){if(data.overlay_color){return data.overlay_color.toString();}\nreturn\"\";};return OverlayColor;}();return OverlayColor;});","Magento_PageBuilder/js/content-type/banner/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jarallax\",\"jarallaxVideo\",\"jquery\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"mageUtils\",\"underscore\",\"vimeoWrapper\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/uploader\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/utils/editor\",\"Magento_PageBuilder/js/utils/nesting-link-dialog\",\"Magento_PageBuilder/js/utils/nesting-widget-dialog\",\"Magento_PageBuilder/js/wysiwyg/factory\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jarallax,_jarallaxVideo,_jquery,_translate,_events,_mageUtils,_underscore,_vimeoWrapper,_hideShowOption,_uploader,_delayUntil,_editor,_nestingLinkDialog,_nestingWidgetDialog,_factory,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_preview2.call.apply(_preview2,[this].concat(args))||this;_this.buttonPlaceholder=(0,_translate)(\"Edit Button Text\");_this.wysiwygDeferred=_jquery.Deferred();_this.handledDoubleClick=false;_this.videoUpdateProperties=[\"background_type\",\"video_fallback_image\",\"video_lazy_load\",\"video_loop\",\"video_play_only_visible\",\"video_source\"];_this.bannerOverlaySelector=\".pagebuilder-overlay\";_this.defaultOverlayZIndex=2;_this.activeEditorOverlayZIndex=3;_this.buildJarallax=_underscore.debounce(function(){try{jarallax(_this.wrapper,\"destroy\");}catch(e){}\nif(_this.wrapper&&_this.wrapper.dataset.backgroundType===\"video\"&&_this.wrapper.dataset.videoSrc.length){_underscore.defer(function(){jarallax(_this.wrapper,{videoSrc:_this.wrapper.dataset.videoSrc,imgSrc:_this.wrapper.dataset.videoFallbackSrc,videoLoop:_this.contentType.dataStore.get(\"video_loop\")===\"true\",speed:1,videoPlayOnlyVisible:_this.contentType.dataStore.get(\"video_play_only_visible\")===\"true\",videoLazyLoading:_this.contentType.dataStore.get(\"video_lazy_load\")===\"true\"});if(_this.wrapper.jarallax&&_this.wrapper.jarallax.video){_this.wrapper.jarallax.video.on(\"started\",function(){if(_this.wrapper.jarallax&&_this.wrapper.jarallax.$video){_this.wrapper.jarallax.$video.style.visibility=\"visible\";}});}});}},50);return _this;}\nvar _proto=Preview.prototype;_proto.getBackgroundImage=function getBackgroundImage(){var mobileImage=this.contentType.dataStore.get(\"mobile_image\");var desktopImage=this.contentType.dataStore.get(\"background_image\");var backgroundImage=this.viewport()===\"mobile\"&&mobileImage.length?mobileImage:desktopImage;return backgroundImage.length?\"url(\\\"\"+backgroundImage[0].url+\"\\\")\":\"none\";};_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.getUploader=function getUploader(){var initialImageValue=this.contentType.dataStore.get(this.config.additional_data.uploaderConfig.dataScope,\"\");return new _uploader(\"imageuploader_\"+this.contentType.id,this.config.additional_data.uploaderConfig,this.contentType.id,this.contentType.dataStore,initialImageValue);};_proto.afterRenderWysiwyg=function afterRenderWysiwyg(element){var _this2=this;this.element=element;element.id=this.contentType.id+\"-editor\";element.innerHTML=this.data.content.html();this.contentType.dataStore.subscribe(function(){if(!_this2.wysiwyg||_this2.wysiwyg&&_this2.wysiwyg.getAdapter().id!==(0,_editor.getActiveEditor)().id){element.innerHTML=_this2.data.content.html();}},\"message\");this.wysiwyg=null;};_proto.stopEvent=function stopEvent(preview,event){event.stopPropagation();return true;};_proto.initWysiwyg=function initWysiwyg(element){this.element=element;element.id=this.contentType.id+\"-editor\";this.wysiwyg=null;return this.initWysiwygFromClick(false);};_proto.initWysiwygFromClick=function initWysiwygFromClick(focus){var _this3=this;if(focus===void 0){focus=false;}\nif(this.wysiwyg){return Promise.resolve(this.wysiwyg);}\nvar wysiwygConfig=this.config.additional_data.wysiwygConfig.wysiwygConfigData;if(focus){wysiwygConfig.adapter.settings.auto_focus=this.element.id;wysiwygConfig.adapter.settings.init_instance_callback=function(editor){editor.on(\"focus\",function(){(0,_jquery)(_this3.element).parents(_this3.bannerOverlaySelector).zIndex(_this3.activeEditorOverlayZIndex);});editor.on(\"blur\",function(){(0,_jquery)(_this3.element).parents(_this3.bannerOverlaySelector).zIndex(_this3.defaultOverlayZIndex);(0,_nestingLinkDialog)(_this3.contentType.dataStore,_this3.wysiwyg,\"message\",\"link_url\");(0,_nestingWidgetDialog)(_this3.contentType.dataStore,_this3.wysiwyg,\"message\",\"link_url\");});_underscore.defer(function(){_this3.element.blur();_this3.element.focus();});};}\nwysiwygConfig.adapter.settings.fixed_toolbar_container=\"#\"+this.contentType.id+\" .pagebuilder-banner-text-content\";return(0,_factory)(this.contentType.id,this.element.id,this.config.name,wysiwygConfig,this.contentType.dataStore,\"message\",this.contentType.stageId).then(function(wysiwyg){_this3.wysiwyg=wysiwyg;return wysiwyg;});};_proto.activateEditor=function activateEditor(preview,event){var _this4=this;if(this.element&&!this.wysiwyg){var bookmark=(0,_editor.createBookmark)(event);(0,_editor.lockImageSize)(this.element);this.element.removeAttribute(\"contenteditable\");_underscore.defer(function(){_this4.initWysiwygFromClick(true).then(function(){return(0,_delayUntil)(function(){_this4.handledDoubleClick=true;_this4.wysiwygDeferred.resolve();(0,_editor.moveToBookmark)(bookmark);(0,_editor.unlockImageSize)(_this4.element);},function(){return _this4.element.classList.contains(\"mce-edit-focus\");},10);}).catch(function(error){console.error(error);});});}else if(this.element&&this.wysiwyg){var element=this.element||this.textarea;if(event.currentTarget!==event.target&&event.target!==element&&!element.contains(event.target)){return;}\nelement.focus();}};_proto.handleDoubleClick=function handleDoubleClick(preview,event){var _this5=this;if(this.handledDoubleClick){return;}\nevent.preventDefault();var targetIndex=(0,_editor.findNodeIndex)(this.element,event.target.tagName,event.target);this.handledDoubleClick=true;this.wysiwygDeferred.then(function(){var target=document.getElementById(event.target.id);if(!target){target=(0,_editor.getNodeByIndex)(_this5.element,event.target.tagName,targetIndex);}\nif(target){target.dispatchEvent((0,_editor.createDoubleClickEvent)());}});};_proto.onMouseOverWrapper=function onMouseOverWrapper(){if(this.data.main.attributes()[\"data-show-overlay\"]===\"hover\"){this.data.overlay.attributes(Object.assign(this.data.overlay.attributes(),{\"data-background-color-orig\":this.data.overlay.style().backgroundColor}));this.data.overlay.style(Object.assign(this.data.overlay.style(),{backgroundColor:this.data.overlay.attributes()[\"data-overlay-color\"]}));}\nif(this.data.main.attributes()[\"data-show-button\"]===\"hover\"){this.data.button.style(Object.assign(this.data.button.style(),{opacity:1,visibility:\"visible\"}));}};_proto.onMouseOutWrapper=function onMouseOutWrapper(){if(this.data.main.attributes()[\"data-show-overlay\"]===\"hover\"){this.data.overlay.style(Object.assign(this.data.overlay.style(),{backgroundColor:this.data.overlay.attributes()[\"data-background-color-orig\"]}));}\nif(this.data.main.attributes()[\"data-show-button\"]===\"hover\"){this.data.button.style(Object.assign(this.data.button.style(),{opacity:0,visibility:\"hidden\"}));}};_proto.isWysiwygSupported=function isWysiwygSupported(){return(0,_editor.isWysiwygSupported)();};_proto.initTextarea=function initTextarea(element){var _this6=this;this.textarea=element;this.textarea.value=this.contentType.dataStore.get(\"message\");this.adjustTextareaHeightBasedOnScrollHeight();_events.on(\"form:\"+this.contentType.id+\":saveAfter\",function(){_this6.textarea.value=_this6.contentType.dataStore.get(\"message\");_this6.adjustTextareaHeightBasedOnScrollHeight();});};_proto.onTextareaKeyUp=function onTextareaKeyUp(){this.adjustTextareaHeightBasedOnScrollHeight();this.contentType.dataStore.set(\"message\",this.textarea.value);};_proto.onTextareaFocus=function onTextareaFocus(){(0,_jquery)(this.textarea).closest(\".pagebuilder-banner-text-content\").addClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStart\");};_proto.onTextareaBlur=function onTextareaBlur(){(0,_jquery)(this.textarea).closest(\".pagebuilder-banner-text-content\").removeClass(\"pagebuilder-toolbar-active\");_events.trigger(\"stage:interactionStop\");};_proto.initParallax=function initParallax(element){var _this7=this;this.wrapper=element;_underscore.defer(function(){_this7.buildJarallax();});};_proto.destroy=function destroy(){_preview2.prototype.destroy.call(this);if(this.wrapper){jarallax(this.wrapper,\"destroy\");}};_proto.bindEvents=function bindEvents(){var _this8=this;_preview2.prototype.bindEvents.call(this);_events.on(\"banner:mountAfter\",function(args){if(args.id===_this8.contentType.id){_this8.buildJarallax();_this8.isSnapshot.subscribe(function(value){_this8.changeUploaderControlsVisibility();});_this8.changeUploaderControlsVisibility();}});_events.on(this.config.name+\":\"+this.contentType.id+\":updateAfter\",function(){var dataStore=_this8.contentType.dataStore.getState();var imageObject=dataStore[_this8.config.additional_data.uploaderConfig.dataScope][0]||{};if(dataStore.message===\"<div data-bind=\\\"html: data.content.html\\\">&nbsp;</div>\"){_this8.contentType.dataStore.set(\"message\",\"\");}\n_events.trigger(\"image:\"+_this8.contentType.id+\":assignAfter\",imageObject);});this.contentType.dataStore.subscribe(function(data){if(this.shouldUpdateVideo(data)){this.buildJarallax();}}.bind(this));_events.on(\"image:\"+this.contentType.id+\":uploadAfter\",function(){_this8.contentType.dataStore.set(\"background_type\",\"image\");});_events.on(\"stage:\"+this.contentType.stageId+\":viewportChangeAfter\",function(args){_this8.buildJarallax();});};_proto.changeUploaderControlsVisibility=function changeUploaderControlsVisibility(){var _this9=this;this.getUploader().getUiComponent()(function(uploader){uploader.visibleControls=!_this9.isSnapshot();});};_proto.adjustTextareaHeightBasedOnScrollHeight=function adjustTextareaHeightBasedOnScrollHeight(){this.textarea.style.height=\"\";var scrollHeight=this.textarea.scrollHeight;var minHeight=parseInt((0,_jquery)(this.textarea).css(\"min-height\"),10);if(scrollHeight===minHeight){return;}\n(0,_jquery)(this.textarea).height(scrollHeight);};_proto.shouldUpdateVideo=function shouldUpdateVideo(state){var _this10=this;var previousState=this.contentType.dataStore.getPreviousState();var diff=_mageUtils.compare(previousState,state).changes;if(diff.length>0){return _underscore.some(diff,function(element){if(element.name===\"video_fallback_image\"){return(!_underscore.isEmpty(previousState.video_fallback_image)&&previousState.video_fallback_image)!==(!_underscore.isEmpty(state.video_fallback_image)&&state.video_fallback_image);}\nreturn _this10.videoUpdateProperties.indexOf(element.name)!==-1;});}};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/banner/appearance/default/widget.min.js":"define(['Magento_PageBuilder/js/widget/show-on-hover','Magento_PageBuilder/js/widget/video-background'],function(showOnHover,videoBackground){'use strict';return function(config,element){var videoElement=element[0].querySelector('[data-background-type=video]');showOnHover(config);if(videoElement){videoBackground(config,videoElement);}};});","Magento_PageBuilder/js/content-type/banner/wysiwyg/tinymce4/component-initializer.min.js":"define([\"jquery\",\"mage/adminhtml/wysiwyg/events\"],function(_jquery,_events){var ComponentInitializer=function(){\"use strict\";function ComponentInitializer(){}\nvar _proto=ComponentInitializer.prototype;_proto.initialize=function initialize(wysiwyg){this.$element=(0,_jquery)(\"#\"+wysiwyg.elementId);this.config=wysiwyg.config;var tinymce=wysiwyg.getAdapter();tinymce.eventBus.attachEventHandler(_events.afterFocus,this.onFocus.bind(this));tinymce.eventBus.attachEventHandler(_events.afterBlur,this.onBlur.bind(this));};_proto.onFocus=function onFocus(){var _this=this;if((0,_jquery)(window).width()<this.$element.offset().left+parseInt(this.config.adapter_config.minToolbarWidth,10)){this.$element.addClass(\"_right-aligned-toolbar\");}else{this.$element.removeClass(\"_right-aligned-toolbar\");}\n_jquery.each(this.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this.$element.closest(selector).css(\"z-index\",100);});};_proto.onBlur=function onBlur(){var _this2=this;_jquery.each(this.config.adapter_config.parentSelectorsToUnderlay,function(i,selector){_this2.$element.closest(selector).css(\"z-index\",\"\");});};return ComponentInitializer;}();return ComponentInitializer;});","Magento_PageBuilder/js/content-type/banner/converter/style/button-visibility.min.js":"define([],function(){var ButtonVisibility=function(){\"use strict\";function ButtonVisibility(){}\nvar _proto=ButtonVisibility.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){return data.show_button===\"always\"?\"visible\":\"hidden\";};return ButtonVisibility;}();return ButtonVisibility;});","Magento_PageBuilder/js/content-type/banner/converter/style/overlay-background-color.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var OverlayBackgroundColor=function(){\"use strict\";function OverlayBackgroundColor(){}\nvar _proto=OverlayBackgroundColor.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(data.show_overlay===\"always\"&&value!==\"\"&&value!==undefined){return value;}\nreturn\"transparent\";};return OverlayBackgroundColor;}();return OverlayBackgroundColor;});","Magento_PageBuilder/js/content-type/banner/converter/style/button-opacity.min.js":"define([],function(){var ButtonOpacity=function(){\"use strict\";function ButtonOpacity(){}\nvar _proto=ButtonOpacity.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){return data.show_button===\"always\"?\"1\":\"0\";};return ButtonOpacity;}();return ButtonOpacity;});","Magento_PageBuilder/js/content-type/banner/converter/attribute/overlay-color.min.js":"define([],function(){var OverlayColor=function(){\"use strict\";function OverlayColor(){}\nvar _proto=OverlayColor.prototype;_proto.fromDom=function fromDom(value){return value===\"transparent\"?\"\":value;};_proto.toDom=function toDom(name,data){if(data.overlay_color){return data.overlay_color.toString();}\nreturn\"\";};return OverlayColor;}();return OverlayColor;});","Magento_PageBuilder/js/content-type/products/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"slick\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jquery,_knockout,_translate,_events,_slick,_underscore,_config,_hideShowOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(contentType,config,observableUpdater){var _this;_this=_preview2.call(this,contentType,config,observableUpdater)||this;_this.displayPreview=_knockout.observable(false);_this.previewElement=_jquery.Deferred();_this.widgetUnsanitizedHtml=_knockout.observable();_this.slidesToShow=5;_this.productItemSelector=\".product-item\";_this.centerModeClass=\"center-mode\";_this.messages={EMPTY:(0,_translate)(\"Empty Products\"),NO_RESULTS:(0,_translate)(\"No products were found matching your condition\"),LOADING:(0,_translate)(\"Loading...\"),UNKNOWN_ERROR:(0,_translate)(\"An unknown error occurred. Please try again.\")};_this.ignoredKeysForBuild=[\"margins_and_padding\",\"border\",\"border_color\",\"border_radius\",\"border_width\",\"css_classes\",\"text_align\"];_this.placeholderText=_knockout.observable(_this.messages.EMPTY);_events.on(\"contentType:redrawAfter\",function(args){if(_this.element&&_this.element.children){var $element=(0,_jquery)(_this.element.children);if(args.element&&$element.closest(args.element).length){$element.slick(\"setPosition\");}}});_events.on(\"stage:\"+_this.contentType.stageId+\":viewportChangeAfter\",function(args){var viewports=_config.getConfig(\"viewports\");if(_this.element&&_this.appearance()===\"carousel\"){_this.slidesToShow=parseFloat(viewports[args.viewport].options.products.default.slidesToShow);_this.destroySlider();_this.initSlider();}});return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.onAfterRender=function onAfterRender(element){this.element=element;this.previewElement.resolve(element);this.initSlider();};_proto.afterObservablesUpdated=function afterObservablesUpdated(){var _this2=this;_preview2.prototype.afterObservablesUpdated.call(this);var data=this.contentType.dataStore.getState();if(this.hasDataChanged(this.previousData,data)){this.displayPreview(false);if(typeof data.conditions_encoded!==\"string\"||data.conditions_encoded.length===0){this.placeholderText(this.messages.EMPTY);return;}\nvar url=_config.getConfig(\"preview_url\");var requestConfig={method:\"POST\",data:{role:this.config.name,directive:this.data.main.html()}};this.placeholderText(this.messages.LOADING);_jquery.ajax(url,requestConfig).done(function(response){if(typeof response.data!==\"object\"||!Boolean(response.data.content)){_this2.placeholderText(_this2.messages.NO_RESULTS);return;}\nif(response.data.error){_this2.widgetUnsanitizedHtml(response.data.error);}else{_this2.widgetUnsanitizedHtml(response.data.content);_this2.displayPreview(true);}\n_this2.previewElement.done(function(){(0,_jquery)(_this2.element).trigger(\"contentUpdated\");});}).fail(function(){_this2.placeholderText(_this2.messages.UNKNOWN_ERROR);});}\nthis.previousData=Object.assign({},data);};_proto.initSlider=function initSlider(){if(this.element&&this.appearance()===\"carousel\"){(0,_jquery)(this.element.children).slick(this.buildSlickConfig());}};_proto.destroySlider=function destroySlider(){(0,_jquery)(this.element.children).slick(\"unslick\");};_proto.buildSlickConfig=function buildSlickConfig(){var attributes=this.data.main.attributes();var productCount=(0,_jquery)(this.widgetUnsanitizedHtml()).find(this.productItemSelector).length;var viewports=_config.getConfig(\"viewports\");var currentViewport=this.viewport();var carouselMode=attributes[\"data-carousel-mode\"];var config={slidesToShow:this.slidesToShow,slidesToScroll:this.slidesToShow,dots:attributes[\"data-show-dots\"]===\"true\",arrows:attributes[\"data-show-arrows\"]===\"true\",autoplay:attributes[\"data-autoplay\"]===\"true\",autoplaySpeed:parseFloat(attributes[\"data-autoplay-speed\"])};var slidesToShow=viewports[currentViewport].options.products[carouselMode]?viewports[currentViewport].options.products[carouselMode].slidesToShow:viewports[currentViewport].options.products.default.slidesToShow;config.slidesToShow=parseFloat(slidesToShow);if(attributes[\"data-carousel-mode\"]===\"continuous\"&&productCount>config.slidesToShow){config.centerPadding=attributes[\"data-center-padding\"];config.centerMode=true;(0,_jquery)(this.element).addClass(this.centerModeClass);}else{config.infinite=attributes[\"data-infinite-loop\"]===\"true\";(0,_jquery)(this.element).removeClass(this.centerModeClass);}\nreturn config;};_proto.hasDataChanged=function hasDataChanged(previousData,newData){previousData=_underscore.omit(previousData,this.ignoredKeysForBuild);newData=_underscore.omit(newData,this.ignoredKeysForBuild);return!_underscore.isEqual(previousData,newData);};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/products/mass-converter/widget-directive.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/mass-converter/widget-directive-abstract\",\"Magento_PageBuilder/js/utils/object\"],function(_widgetDirectiveAbstract,_object){var WidgetDirective=function(_widgetDirectiveAbstr){\"use strict\";_inheritsLoose(WidgetDirective,_widgetDirectiveAbstr);function WidgetDirective(){return _widgetDirectiveAbstr.apply(this,arguments)||this;}\nvar _proto=WidgetDirective.prototype;_proto.fromDom=function fromDom(data,config){var attributes=_widgetDirectiveAbstr.prototype.fromDom.call(this,data,config);data.products_count=attributes.products_count;data.sort_order=attributes.sort_order;data.condition_option=attributes.condition_option||\"condition\";data[data.condition_option]=this.decodeWysiwygCharacters(attributes.condition_option_value||\"\");data.conditions_encoded=this.decodeWysiwygCharacters(attributes.conditions_encoded||\"\");data[data.condition_option+\"_source\"]=data.conditions_encoded;return data;};_proto.toDom=function toDom(data,config){var attributes={type:\"Magento\\\\CatalogWidget\\\\Block\\\\Product\\\\ProductsList\",template:\"Magento_CatalogWidget::product/widget/content/grid.phtml\",anchor_text:\"\",id_path:\"\",show_pager:0,products_count:data.products_count,condition_option:data.condition_option,condition_option_value:\"\",type_name:\"Catalog Products List\",conditions_encoded:this.encodeWysiwygCharacters(data.conditions_encoded||\"\")};if(data.sort_order){attributes.sort_order=data.sort_order;}\nif(typeof data[data.condition_option]===\"string\"){attributes.condition_option_value=this.encodeWysiwygCharacters(data[data.condition_option]);}\nif(attributes.conditions_encoded.length===0){return data;}\n(0,_object.set)(data,config.html_variable,this.buildDirective(attributes));return data;};_proto.encodeWysiwygCharacters=function encodeWysiwygCharacters(content){return content.replace(/\\{/g,\"^[\").replace(/\\}/g,\"^]\").replace(/\"/g,\"`\").replace(/\\\\/g,\"|\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");};_proto.decodeWysiwygCharacters=function decodeWysiwygCharacters(content){return content.replace(/\\^\\[/g,\"{\").replace(/\\^\\]/g,\"}\").replace(/`/g,\"\\\"\").replace(/\\|/g,\"\\\\\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\");};return WidgetDirective;}(_widgetDirectiveAbstract);return WidgetDirective;});","Magento_PageBuilder/js/content-type/products/mass-converter/carousel-widget-directive.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/mass-converter/widget-directive-abstract\",\"Magento_PageBuilder/js/utils/object\"],function(_widgetDirectiveAbstract,_object){var WidgetDirective=function(_widgetDirectiveAbstr){\"use strict\";_inheritsLoose(WidgetDirective,_widgetDirectiveAbstr);function WidgetDirective(){return _widgetDirectiveAbstr.apply(this,arguments)||this;}\nvar _proto=WidgetDirective.prototype;_proto.fromDom=function fromDom(data,config){var attributes=_widgetDirectiveAbstr.prototype.fromDom.call(this,data,config);data.carousel_products_count=attributes.products_count;data.sort_order=attributes.sort_order;data.condition_option=attributes.condition_option||\"condition\";data[data.condition_option]=this.decodeWysiwygCharacters(attributes.condition_option_value||\"\");data.conditions_encoded=this.decodeWysiwygCharacters(attributes.conditions_encoded||\"\");data[data.condition_option+\"_source\"]=data.conditions_encoded;return data;};_proto.toDom=function toDom(data,config){var attributes={type:\"Magento\\\\CatalogWidget\\\\Block\\\\Product\\\\ProductsList\",template:\"Magento_PageBuilder::catalog/product/widget/content/carousel.phtml\",anchor_text:\"\",id_path:\"\",show_pager:0,products_count:data.carousel_products_count,condition_option:data.condition_option,condition_option_value:\"\",type_name:\"Catalog Products Carousel\",conditions_encoded:this.encodeWysiwygCharacters(data.conditions_encoded||\"\")};if(data.sort_order){attributes.sort_order=data.sort_order;}\nif(typeof data[data.condition_option]===\"string\"){attributes.condition_option_value=this.encodeWysiwygCharacters(data[data.condition_option]);}\nif(attributes.conditions_encoded.length===0){return data;}\n(0,_object.set)(data,config.html_variable,this.buildDirective(attributes));return data;};_proto.encodeWysiwygCharacters=function encodeWysiwygCharacters(content){return content.replace(/\\{/g,\"^[\").replace(/\\}/g,\"^]\").replace(/\"/g,\"`\").replace(/\\\\/g,\"|\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");};_proto.decodeWysiwygCharacters=function decodeWysiwygCharacters(content){return content.replace(/\\^\\[/g,\"{\").replace(/\\^\\]/g,\"}\").replace(/`/g,\"\\\"\").replace(/\\|/g,\"\\\\\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\");};return WidgetDirective;}(_widgetDirectiveAbstract);return WidgetDirective;});","Magento_PageBuilder/js/content-type/products/appearance/carousel/widget.min.js":"define(['jquery','underscore','matchMedia','Magento_PageBuilder/js/utils/breakpoints','Magento_PageBuilder/js/events','slick'],function($,_,mediaCheck,breakpointsUtils,events){'use strict';function buildSlick($carouselElement,config){if($carouselElement.hasClass('slick-initialized')){$carouselElement.slick('unslick');}\nconfig.slidesToScroll=config.slidesToShow;$carouselElement.slick(config);}\nfunction initSlider($element,slickConfig,breakpoint){var productCount=$element.find('.product-item').length,$carouselElement=$($element.children()),centerModeClass='center-mode',carouselMode=$element.data('carousel-mode'),slidesToShow=breakpoint.options.products[carouselMode]?breakpoint.options.products[carouselMode].slidesToShow:breakpoint.options.products.default.slidesToShow;slickConfig.slidesToShow=parseFloat(slidesToShow);if(carouselMode==='continuous'&&productCount>slickConfig.slidesToShow){$element.addClass(centerModeClass);slickConfig.centerPadding=$element.data('center-padding');slickConfig.centerMode=true;}else{$element.removeClass(centerModeClass);slickConfig.infinite=$element.data('infinite-loop');}\nbuildSlick($carouselElement,slickConfig);}\nreturn function(config,element){var $element=$(element),$carouselElement=$($element.children()),currentViewport=config.currentViewport,currentBreakpoint=config.breakpoints[currentViewport],slickConfig={autoplay:$element.data('autoplay'),autoplaySpeed:$element.data('autoplay-speed')||0,arrows:$element.data('show-arrows'),dots:$element.data('show-dots')};_.each(config.breakpoints,function(breakpoint){mediaCheck({media:breakpointsUtils.buildMedia(breakpoint.conditions),entry:function(){initSlider($element,slickConfig,breakpoint);}});});if(currentViewport==='mobile'){initSlider($element,slickConfig,currentBreakpoint);}\nevents.on('contentType:redrawAfter',function(args){if($carouselElement.closest(args.element).length){$carouselElement.slick('setPosition');}});events.on('stage:viewportChangeAfter',function(args){var breakpoint=config.breakpoints[args.viewport];initSlider($element,slickConfig,breakpoint);});};});","Magento_PageBuilder/js/content-type/products/form/provider.min.js":"define(['Magento_PageBuilder/js/form/provider','Magento_PageBuilder/js/form/provider/conditions-data-processor'],function(Provider,conditionsDataProcessor){'use strict';return Provider.extend({save:function(){var data=this.get('data');conditionsDataProcessor(data,data['condition_option']+'_source');return this._super();}});});","Magento_PageBuilder/js/content-type/divider/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_hideShowOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){return _preview2.apply(this,arguments)||this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/buttons/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type-menu/option\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/content-type/preview-collection\"],function(_jquery,_knockout,_translate,_events,_underscore,_config,_contentTypeFactory,_hideShowOption,_option,_delayUntil,_previewCollection){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.focusedButton=_knockout.observable();_this.debouncedResizeHandler=_underscore.debounce(function(){_this.resizeChildButtons();},350);_this.contentType.children.subscribe(function(){var sortableElement=(0,_jquery)(_this.wrapperElement).find(\".buttons-container\");if(!sortableElement.data(\"sortable\")){return;}\nif(_this.contentType.children().length<=1){sortableElement.sortable(\"disable\");}else{sortableElement.sortable(\"enable\");}});_this.focusedButton.subscribe(_underscore.debounce(function(index){if(index!==null){_events.trigger(\"stage:interactionStart\");var focusedButton=_this.contentType.children()[index];(0,_delayUntil)(function(){return(0,_jquery)(focusedButton.preview.wrapperElement).find(\"[contenteditable]\").focus();},function(){return typeof focusedButton.preview.wrapperElement!==\"undefined\";},10);}else{_events.trigger(\"stage:interactionStop\",{force:true});}},1));return _this;}\nvar _proto=Preview.prototype;_proto.bindEvents=function bindEvents(){var _this2=this;_previewCollection2.prototype.bindEvents.call(this);_events.on(\"buttons:dropAfter\",function(args){if(args.id===_this2.contentType.id&&_this2.contentType.children().length===0){_this2.addButton();}});_events.on(\"buttons:renderAfter\",function(args){if(args.contentType.id===_this2.contentType.id){_this2.debouncedResizeHandler();}});_events.on(\"button-item:renderAfter\",function(args){if(args.contentType.parentContentType.id===_this2.contentType.id){_this2.debouncedResizeHandler();}});_events.on(\"stage:updateAfter\",function(){_this2.debouncedResizeHandler();});_events.on(\"contentType:redrawAfter\",function(){_this2.debouncedResizeHandler();});var duplicatedButton;var duplicatedButtonIndex;_events.on(\"button-item:duplicateAfter\",function(args){if(_this2.contentType.id===args.duplicateContentType.parentContentType.id&&args.direct){duplicatedButton=args.duplicateContentType;duplicatedButtonIndex=args.index;}});_events.on(\"button-item:mountAfter\",function(args){if(duplicatedButton&&args.id===duplicatedButton.id){_this2.focusedButton(duplicatedButtonIndex);}});};_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);options.add=new _option({preview:this,icon:\"<i class='icon-pagebuilder-add'></i>\",title:(0,_translate)(\"Add Button\"),action:this.addButton,classes:[\"add-child\"],sort:10});options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.addButton=function addButton(){var _this3=this;var createButtonItemPromise=(0,_contentTypeFactory)(_config.getContentTypeConfig(\"button-item\"),this.contentType,this.contentType.stageId,{});createButtonItemPromise.then(function(button){_this3.contentType.addChild(button);var buttonIndex=_this3.contentType.children().indexOf(button);_this3.focusedButton(buttonIndex>-1?buttonIndex:null);return button;}).catch(function(error){console.error(error);});};_proto.getSortableOptions=function getSortableOptions(orientation,tolerance){if(orientation===void 0){orientation=\"width\";}\nif(tolerance===void 0){tolerance=\"intersect\";}\nreturn{handle:\".button-item-drag-handle\",items:\".pagebuilder-content-type-wrapper\",cursor:\"grabbing\",containment:\"parent\",tolerance:tolerance,revert:200,disabled:this.contentType.children().length<=1,helper:function helper(event,element){var helper=(0,_jquery)(element).clone().css({opacity:\"0.7\",width:\"auto\"});helper[0].querySelector(\".pagebuilder-options\").remove();return helper[0];},placeholder:{element:function element(item){var placeholder=item.clone().css({display:\"inline-block\",opacity:\"0.3\"}).removeClass(\"focused\").addClass(\"sortable-placeholder\");placeholder[0].querySelector(\".pagebuilder-options\").remove();return placeholder[0];},update:function update(){return;}},start:function start(){_events.trigger(\"stage:interactionStart\");},stop:function stop(){_events.trigger(\"stage:interactionStop\");}};};_proto.resizeChildButtons=function resizeChildButtons(){if(this.wrapperElement){var buttonItems=(0,_jquery)(this.wrapperElement).find(\".pagebuilder-button-item > a\");var buttonResizeValue=0;if(this.contentType.dataStore.get(\"is_same_width\")===\"true\"){if(buttonItems.length>0){var currentLargestButtonWidth=this.findLargestButtonWidth(buttonItems);var parentWrapperWidth=(0,_jquery)(this.wrapperElement).find(\".buttons-container\").width();if(currentLargestButtonWidth===0){return;}\nbuttonResizeValue=Math.min(currentLargestButtonWidth,parentWrapperWidth);}}\nbuttonItems.css(\"min-width\",buttonResizeValue);}};_proto.findLargestButtonWidth=function findLargestButtonWidth(buttonItems){var _this4=this;return _underscore.max(_underscore.map(buttonItems,function(buttonItem){return _this4.calculateButtonWidth((0,_jquery)(buttonItem));}));};_proto.calculateButtonWidth=function calculateButtonWidth(buttonItem){if(buttonItem.is(\":visible\")===false){return 0;}\nvar widthProperties=[\"paddingLeft\",\"paddingRight\",\"borderLeftWidth\",\"borderRightWidth\"];var buttonText=buttonItem.find(\"[data-element='link_text']\");var textWidth=buttonText.css(\"display\",\"inline-block\").width();buttonText.css(\"display\",\"\");return widthProperties.reduce(function(accumulatedWidth,widthProperty){return accumulatedWidth+(parseInt(buttonItem.css(widthProperty),10)||0);},textWidth);};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/buttons/appearance/inline/widget.min.js":"define(['jquery','Magento_PageBuilder/js/events'],function($,events){'use strict';var equalizeButtonWidth=function(buttonList){var buttonMinWidth=0;buttonList.css('min-width',buttonMinWidth);buttonList.each(function(){var buttonWidth=this.offsetWidth;if(buttonWidth>buttonMinWidth){buttonMinWidth=buttonWidth;}});buttonList.css('min-width',buttonMinWidth);};return function(config,element){var $element=$(element),buttonSelector='[data-element=\"link\"], [data-element=\"empty_link\"]';if($element.data('sameWidth')){equalizeButtonWidth($element.find(buttonSelector));$(window).resize(function(){equalizeButtonWidth($element.find(buttonSelector));});events.on('contentType:redrawAfter',function(eventData){if($element.closest(eventData.element).length>0){equalizeButtonWidth($element.find(buttonSelector));}});}};});","Magento_PageBuilder/js/content-type/buttons/converter/style/preview/display/flex.min.js":"define([],function(){var Display=function(){\"use strict\";function Display(){}\nvar _proto=Display.prototype;_proto.fromDom=function fromDom(value){return;};_proto.toDom=function toDom(name,data){return\"flex\";};return Display;}();return Display;});","Magento_PageBuilder/js/content-type/buttons/converter/style/display/flex.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Flex=function(){\"use strict\";function Flex(){}\nvar _proto=Flex.prototype;_proto.fromDom=function fromDom(value){return!(value===\"none\");};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(!_underscore.isUndefined(value)&&value===false){return\"none\";}\nreturn\"flex\";};return Flex;}();return Flex;});","Magento_PageBuilder/js/content-type/buttons/converter/style/display/boolean.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Boolean=function(){\"use strict\";function Boolean(){}\nvar _proto=Boolean.prototype;_proto.fromDom=function fromDom(value){return!(value===\"none\");};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(!_underscore.isUndefined(value)&&value===false){return\"none\";}\nreturn\"\";};return Boolean;}();return Boolean;});","Magento_PageBuilder/js/content-type/root-container/content-type-collection.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_Ui/js/modal/alert\",\"Magento_PageBuilder/js/content-type-collection\"],function(_alert,_contentTypeCollection){var RootContainer=function(_contentTypeCollectio){\"use strict\";_inheritsLoose(RootContainer,_contentTypeCollectio);function RootContainer(){return _contentTypeCollectio.apply(this,arguments)||this;}\nvar _proto=RootContainer.prototype;_proto.removeChild=function removeChild(child){if(this.getChildren().length===1){(0,_alert)({content:$t(\"You are not able to remove the final row from the content.\"),title:$t(\"Unable to Remove\")});return;}\n_contentTypeCollectio.prototype.removeChild.call(this,child);};return RootContainer;}(_contentTypeCollection);return RootContainer;});","Magento_PageBuilder/js/content-type/tabs/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"tabs\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type-menu/option\",\"Magento_PageBuilder/js/utils/delay-until\",\"Magento_PageBuilder/js/utils/promise-deferred\",\"Magento_PageBuilder/js/content-type/preview-collection\"],function(_jquery,_knockout,_translate,_events,_tabs,_underscore,_config,_contentTypeFactory,_hideShowOption,_option,_delayUntil,_promiseDeferred,_previewCollection){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.focusedTab=_knockout.observable(null);_this.activeTab=_knockout.observable(0);_this.onContainerRenderDeferred=(0,_promiseDeferred)();_this.mountAfterDeferred=(0,_promiseDeferred)();Promise.all([_this.onContainerRenderDeferred.promise,_this.mountAfterDeferred.promise]).then(function(_ref){var element=_ref[0],expectedChildren=_ref[1];expectedChildren=expectedChildren||1;(0,_delayUntil)(function(){_this.element=element;_this.buildTabs();},function(){return(0,_jquery)(element).find(\".pagebuilder-tab-item\").length===expectedChildren;});});_events.on(\"tabs:mountAfter\",function(args){if(args.contentType.id===_this.contentType.id&&args.expectChildren!==undefined){_this.mountAfterDeferred.resolve(args.expectChildren);}});_events.on(\"tab-item:mountAfter\",function(args){if(_this.element&&args.contentType.parentContentType.id===_this.contentType.id){_this.refreshTabs();}});_events.on(\"tab-item:renderAfter\",function(args){if(_this.element&&args.contentType.parentContentType.id===_this.contentType.id){_underscore.defer(function(){_this.refreshTabs();});}});_events.on(\"tab-item:removeAfter\",function(args){if(args.parentContentType&&args.parentContentType.id===_this.contentType.id){_this.refreshTabs();_underscore.defer(function(){var newPosition=args.index>0?args.index-1:0;_this.setFocusedTab(newPosition,true);});}});_events.on(\"childContentType:sortUpdate\",function(args){if(args.instance.id===_this.contentType.id){_this.refreshTabs(args.newPosition,true);var defaultActiveTab=+_this.activeTab();var newDefaultActiveTab=defaultActiveTab;if(args.originalPosition===defaultActiveTab){newDefaultActiveTab=args.newPosition;}else if(args.originalPosition<defaultActiveTab&&args.newPosition>=defaultActiveTab){newDefaultActiveTab--;}else if(args.originalPosition>defaultActiveTab&&args.newPosition<=defaultActiveTab){newDefaultActiveTab++;}\n_this.updateData(\"default_active\",newDefaultActiveTab.toString());}});_this.focusedTab.subscribe(_underscore.debounce(function(index){if(index!==null){_events.trigger(\"stage:interactionStart\");(0,_delayUntil)(function(){return(0,_jquery)((0,_jquery)(_this.wrapperElement).find(\".tab-header\")[index]).find(\"[contenteditable]\").focus();},function(){return(0,_jquery)((0,_jquery)(_this.wrapperElement).find(\".tab-header\")[index]).find(\"[contenteditable]\").length>0;},10);}else{_events.trigger(\"stage:interactionStop\",{force:true});}},1));return _this;}\nvar _proto=Preview.prototype;_proto.destroy=function destroy(){var _this2=this;_previewCollection2.prototype.destroy.call(this);_underscore.defer(function(){return _this2.setFocusedTab(null);});};_proto.refreshTabs=function refreshTabs(focusIndex,forceFocus,activeIndex){try{(0,_jquery)(this.element).tabs(\"refresh\");if(focusIndex>=0){this.setFocusedTab(focusIndex,forceFocus);}else if(activeIndex){this.setActiveTab(activeIndex);}\nvar sortableElement=(0,_jquery)(this.element).find(\".tabs-navigation\");if(sortableElement.hasClass(\"ui-sortable\")){if(this.contentType.children().length<=1){sortableElement.sortable(\"disable\");}else{sortableElement.sortable(\"enable\");}}}catch(e){this.buildTabs();}};_proto.setActiveTab=function setActiveTab(index){var _this3=this;if(index!==null){index=parseInt(index.toString(),10);(0,_delayUntil)(function(){(0,_jquery)(_this3.element).tabs(\"option\",\"active\",index);_this3.activeTab(index);_events.trigger(\"contentType:redrawAfter\",{id:_this3.contentType.id,contentType:_this3});},function(){return(0,_jquery)(_this3.element).find(\".pagebuilder-tab-item\").length>=index+1;});}};_proto.setFocusedTab=function setFocusedTab(index,force){if(force===void 0){force=false;}\nthis.setActiveTab(index);if(force){this.focusedTab(null);}\nthis.focusedTab(index);};_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);options.add=new _option({preview:this,icon:\"<i class='icon-pagebuilder-add'></i>\",title:(0,_translate)(\"Add\"),action:this.addTab,classes:[\"add-child\"],sort:10});options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.addTab=function addTab(){var _this4=this;(0,_contentTypeFactory)(_config.getContentTypeConfig(\"tab-item\"),this.contentType,this.contentType.stageId).then(function(tab){_events.on(\"tab-item:mountAfter\",function(args){if(args.id===tab.id){_this4.setFocusedTab(_this4.contentType.children().length-1);_events.off(\"tab-item:\"+tab.id+\":mountAfter\");}},\"tab-item:\"+tab.id+\":mountAfter\");_this4.contentType.addChild(tab,_this4.contentType.children().length);tab.dataStore.set(\"tab_name\",(0,_translate)(\"Tab\")+\" \"+(_this4.contentType.children.indexOf(tab)+1));});};_proto.onContainerRender=function onContainerRender(element){this.element=element;this.onContainerRenderDeferred.resolve(element);};_proto.getTabHeaderStyles=function getTabHeaderStyles(){var headerStyles=this.data.headers.style();return _extends({},headerStyles,{marginBottom:\"-\"+headerStyles.borderWidth,marginLeft:\"-\"+headerStyles.borderWidth});};_proto.getSortableOptions=function getSortableOptions(){var self=this;var borderWidth;return{handle:\".tab-drag-handle\",tolerance:\"pointer\",cursor:\"grabbing\",cursorAt:{left:8,top:25},helper:function helper(event,element){var helper=(0,_jquery)(element).clone().css(\"opacity\",\"0.7\");helper[0].querySelector(\".pagebuilder-options\").remove();return helper[0];},start:function start(event,ui){if(ui.item.index()===0){borderWidth=parseInt(ui.item.css(\"borderWidth\"),10)||1;(0,_jquery)(this).css(\"paddingLeft\",borderWidth);}\nui.helper.css(\"width\",\"\");_events.trigger(\"stage:interactionStart\");self.disableInteracting=true;},stop:function stop(event,ui){(0,_jquery)(this).css(\"paddingLeft\",\"\");_events.trigger(\"stage:interactionStop\");self.disableInteracting=false;},placeholder:{element:function element(item){var placeholder=item.clone().css({display:\"inline-block\",opacity:\"0.3\"}).removeClass(\"focused\").addClass(\"sortable-placeholder\");placeholder[0].querySelector(\".pagebuilder-options\").remove();return placeholder[0];},update:function update(){return;}}};};_proto.bindEvents=function bindEvents(){var _this5=this;_previewCollection2.prototype.bindEvents.call(this);_events.on(\"tabs:dropAfter\",function(args){if(args.id===_this5.contentType.id&&_this5.contentType.children().length===0){_this5.addTab();}});_events.on(\"tab-item:removeAfter\",function(args){if(args.parentContentType&&args.parentContentType.id===_this5.contentType.id){var newIndex=args.index-1>=0?args.index-1:0;_this5.refreshTabs(newIndex,true);}});var duplicatedTab;var duplicatedTabIndex;_events.on(\"tab-item:duplicateAfter\",function(args){if(_this5.contentType.id===args.duplicateContentType.parentContentType.id&&args.direct){var tabData=args.duplicateContentType.dataStore.getState();args.duplicateContentType.dataStore.set(\"tab_name\",tabData.tab_name.toString()+\" copy\");duplicatedTab=args.duplicateContentType;duplicatedTabIndex=args.index;}});_events.on(\"tab-item:mountAfter\",function(args){if(duplicatedTab&&args.id===duplicatedTab.id){_this5.refreshTabs(duplicatedTabIndex,true);duplicatedTab=duplicatedTabIndex=null;}\nif(_this5.contentType.id===args.contentType.parentContentType.id){_this5.updateTabNamesInDataStore();args.contentType.dataStore.subscribe(function(){_this5.updateTabNamesInDataStore();});}});this.contentType.dataStore.subscribe(function(data){_this5.activeTab(data.default_active);});};_proto.updateTabNamesInDataStore=function updateTabNamesInDataStore(){var activeOptions=[];this.contentType.children().forEach(function(tab,index){var tabData=tab.dataStore.getState();activeOptions.push({label:tabData.tab_name.toString(),labeltitle:tabData.tab_name.toString(),value:index});});this.contentType.dataStore.set(\"_default_active_options\",activeOptions);};_proto.buildTabs=function buildTabs(activeTabIndex){var _this6=this;if(activeTabIndex===void 0){activeTabIndex=this.activeTab()||0;}\nthis.ready=false;if(this.element&&this.element.children.length>0){var focusedTab=this.focusedTab();try{(0,_jquery)(this.element).tabs(\"destroy\");}catch(e){}\n(0,_jquery)(this.element).tabs({create:function create(){_this6.ready=true;if(focusedTab!==null){_this6.setFocusedTab(focusedTab,true);}else{_this6.setFocusedTab(null);if(activeTabIndex){_this6.setActiveTab(activeTabIndex);}}},activate:function activate(){_events.trigger(\"contentType:redrawAfter\",{element:_this6.element});}});}};return Preview;}(_previewCollection);var originalTabKeyDown=_jquery.ui.tabs.prototype._tabKeydown;_jquery.ui.tabs.prototype._tabKeydown=function(event){if((0,_jquery)(event.target).attr(\"contenteditable\")){return;}\noriginalTabKeyDown.call(this,event);};return Preview;});","Magento_PageBuilder/js/content-type/tabs/mass-converter/header-alignment.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var HeaderAlignment=function(){\"use strict\";function HeaderAlignment(){}\nvar _proto=HeaderAlignment.prototype;_proto.fromDom=function fromDom(data,config){return data;};_proto.toDom=function toDom(data,config){data.css_classes+=\" tab-align-\"+(0,_object.get)(data,config.navigation_alignment_variable,\"left\");return data;};return HeaderAlignment;}();return HeaderAlignment;});","Magento_PageBuilder/js/content-type/tabs/appearance/default/widget.min.js":"define(['jquery','Magento_PageBuilder/js/events','jquery-ui-modules/tabs'],function($,events){'use strict';return function(config,element){var $element=$(element);if($element.is('.pagebuilder-tabs')){return;}\n$.ui.tabs({active:$element.data('activeTab')||0,create:function(){var borderWidth=parseInt($element.find('.tabs-content').css('borderWidth').toString(),10);$element.find('.tabs-navigation').css('marginBottom',-borderWidth);$element.find('.tabs-navigation li:not(:first-child)').css('marginLeft',-borderWidth);},activate:function(){events.trigger('contentType:redrawAfter',{element:element});}},element);};});","Magento_PageBuilder/js/content-type/image/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/uploader\",\"Magento_PageBuilder/js/content-type/preview\"],function(_events,_hideShowOption,_uploader,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){return _preview2.apply(this,arguments)||this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.getUploader=function getUploader(){var initialImageValue=this.contentType.dataStore.get(this.config.additional_data.uploaderConfig.dataScope,\"\");return new _uploader(\"imageuploader_\"+this.contentType.id,this.config.additional_data.uploaderConfig,this.contentType.id,this.contentType.dataStore,initialImageValue);};_proto.getViewportImageData=function getViewportImageData(){var desktopImageData=this.data.desktop_image;var mobileImageData=this.data.mobile_image;return this.viewport()===\"mobile\"&&typeof mobileImageData!==\"undefined\"?mobileImageData:desktopImageData;};_proto.bindEvents=function bindEvents(){var _this=this;_preview2.prototype.bindEvents.call(this);_events.on(\"image:mountAfter\",function(args){if(args.id===_this.contentType.id){_this.isSnapshot.subscribe(function(value){_this.changeUploaderControlsVisibility();});_this.changeUploaderControlsVisibility();}});_events.on(this.config.name+\":\"+this.contentType.id+\":updateAfter\",function(){var files=_this.contentType.dataStore.get(_this.config.additional_data.uploaderConfig.dataScope);var imageObject=files?files[0]:{};_events.trigger(\"image:\"+_this.contentType.id+\":assignAfter\",imageObject);});};_proto.changeUploaderControlsVisibility=function changeUploaderControlsVisibility(){var _this2=this;this.getUploader().getUiComponent()(function(uploader){uploader.visibleControls=!_this2.isSnapshot();});};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/video/master.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/content-type/master\"],function(_master){var Master=function(_master2){\"use strict\";_inheritsLoose(Master,_master2);function Master(){return _master2.apply(this,arguments)||this;}\nvar _proto=Master.prototype;_proto.isHosted=function isHosted(src){var youtubeRegExp=new RegExp(\"^(?:https?:\\/\\/|\\/\\/)?(?:www\\\\.|m\\\\.)?\"+\"(?:youtu\\\\.be\\/|youtube\\\\.com\\/(?:embed\\/|v\\/|watch\\\\?v=|watch\\\\?.+&v=))([\\\\w-]{11})(?![\\\\w-])\");var vimeoRegExp=new RegExp(\"https?:\\/\\/(?:www\\\\.|player\\\\.)?vimeo.com\\/(?:channels\\/\"+\"(?:\\\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\\\d+)\\/video\\/|video\\/|)(\\\\d+)(?:$|\\/|\\\\?)\");return vimeoRegExp.test(src)||youtubeRegExp.test(src);};return Master;}(_master);return Master;});","Magento_PageBuilder/js/content-type/video/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_hideShowOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){return _preview2.apply(this,arguments)||this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.isHosted=function isHosted(src){var youtubeRegExp=new RegExp(\"^(?:https?:\\/\\/|\\/\\/)?(?:www\\\\.|m\\\\.)?\"+\"(?:youtu\\\\.be\\/|youtube\\\\.com\\/(?:embed\\/|v\\/|watch\\\\?v=|watch\\\\?.+&v=))([\\\\w-]{11})(?![\\\\w-])\");var vimeoRegExp=new RegExp(\"https?:\\/\\/(?:www\\\\.|player\\\\.)?vimeo.com\\/(?:channels\\/\"+\"(?:\\\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\\\d+)\\/video\\/|video\\/|)(\\\\d+)(?:$|\\/|\\\\?)\");return vimeoRegExp.test(src)||youtubeRegExp.test(src);};_proto.onAfterRender=function onAfterRender(videoElement,self){videoElement.muted=self.data.video.attributes().autoplay;};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/video/converter/attribute/videosrc.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var VideoSrc=function(){\"use strict\";function VideoSrc(){}\nvar _proto=VideoSrc.prototype;_proto.fromDom=function fromDom(value){value=value.replace(/\\?autoplay=1&mute=1/g,\"\");value=value.replace(/\\?title=0&byline=0&portrait=0/g,\"\");value=value.replace(/&autoplay=1&autopause=0&muted=1/g,\"\");return value;};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(value===undefined){return\"\";}\nvar youtubeRegExp=new RegExp(\"^(?:https?:\\/\\/|\\/\\/)?(?:www\\\\.|m\\\\.)?\"+\"(?:youtu\\\\.be\\/|youtube\\\\.com\\/(?:embed\\/|v\\/|watch\\\\?v=|watch\\\\?.+&v=))([\\\\w-]{11})(?![\\\\w-])\");var vimeoRegExp=new RegExp(\"https?:\\/\\/(?:www\\\\.|player\\\\.)?vimeo.com\\/(?:channels\\/\"+\"(?:\\\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\\\d+)\\/video\\/|video\\/|)(\\\\d+)(?:$|\\/|\\\\?)\");if(youtubeRegExp.test(value)){return\"https://www.youtube.com/embed/\"+youtubeRegExp.exec(value)[1]+(data.autoplay===\"true\"?\"?autoplay=1&mute=1\":\"\");}else if(vimeoRegExp.test(value)){return\"https://player.vimeo.com/video/\"+vimeoRegExp.exec(value)[3]+\"?title=0&byline=0&portrait=0\"+(data.autoplay===\"true\"?\"&autoplay=1&autopause=0&muted=1\":\"\");}\nreturn value;};return VideoSrc;}();return VideoSrc;});","Magento_PageBuilder/js/content-type/video/converter/attribute/src.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var Src=function(){\"use strict\";function Src(){}\nvar _proto=Src.prototype;_proto.fromDom=function fromDom(value){var fileRegExp=new RegExp(\"^(webm:|mp4:|ogv:)\");if(fileRegExp.test(value)){return value.substr(fileRegExp.exec(value)[0].length);}\nreturn value;};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(value===undefined){return\"\";}\nvar youtubeRegExp=new RegExp(\"^(?:https?:\\/\\/|\\/\\/)?(?:www\\\\.|m\\\\.)?\"+\"(?:youtu\\\\.be\\/|youtube\\\\.com\\/(?:embed\\/|v\\/|watch\\\\?v=|watch\\\\?.+&v=))([\\\\w-]{11})(?![\\\\w-])\");var vimeoRegExp=new RegExp(\"https?:\\/\\/(?:www\\\\.|player\\\\.)?vimeo.com\\/(?:channels\\/\"+\"(?:\\\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\\\d+)\\/video\\/|video\\/|)(\\\\d+)(?:$|\\/|\\\\?)\");var fileRegExp=new RegExp(\"^(?:https:|http:)?\\\\/\\\\/.*[\\\\\\\\\\\\/].+\\\\.(webm|mp4|ogv)(?!\\w)\");if(youtubeRegExp.test(value)){return\"https://www.youtube.com/embed/\"+youtubeRegExp.exec(value)[1];}else if(vimeoRegExp.test(value)){return\"https://player.vimeo.com/video/\"+vimeoRegExp.exec(value)[3]+\"?title=0&byline=0&portrait=0\";}else if(fileRegExp.test(value)){var result=fileRegExp.exec(value);return result[1]+\":\"+value;}\nreturn value;};return Src;}();return Src;});","Magento_PageBuilder/js/content-type/video/converter/attribute/autoplay.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){var VideoSrc=function(){\"use strict\";function VideoSrc(){}\nvar _proto=VideoSrc.prototype;_proto.fromDom=function fromDom(value){return value===\"true\"?value:\"false\";};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);return value===\"true\"?true:null;};return VideoSrc;}();return VideoSrc;});","Magento_PageBuilder/js/content-type/heading/preview.min.js":"function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type-toolbar\",\"Magento_PageBuilder/js/utils/promise-deferred\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jquery,_events,_underscore,_hideShowOption,_contentTypeToolbar,_promiseDeferred,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(contentType,config,observableUpdater){var _this;_this=_preview2.call(this,contentType,config,observableUpdater)||this;_this.afterRenderDeferred=(0,_promiseDeferred)();_this.toolbar=new _contentTypeToolbar(_assertThisInitialized(_this),_this.getToolbarOptions());return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.afterRender=function afterRender(element){this.element=element;this.afterRenderDeferred.resolve(element);};_proto.bindEvents=function bindEvents(){var _this2=this;_preview2.prototype.bindEvents.call(this);_events.on(\"heading:dropAfter\",function(args){if(args.id===_this2.contentType.id){Promise.all([_this2.afterRenderDeferred.promise,_this2.toolbar.afterRenderDeferred.promise]).then(function(_ref){var element=_ref[0];_underscore.defer(function(){(0,_jquery)(element).focus();});});}});};_proto.getOptionValue=function getOptionValue(key){if(key===\"heading_type\"){return this.data.main.heading_type();}else if(key===\"text_align\"){return this.data.main.style().textAlign;}\nreturn;};_proto.getToolbarOptions=function getToolbarOptions(){return[{key:\"heading_type\",type:\"select\",values:[{value:\"h1\",label:\"H1\",icon:\"\"},{value:\"h2\",label:\"H2\",icon:\"\"},{value:\"h3\",label:\"H3\",icon:\"\"},{value:\"h4\",label:\"H4\",icon:\"\"},{value:\"h5\",label:\"H5\",icon:\"\"},{value:\"h6\",label:\"H6\",icon:\"\"}]},{key:\"text_align\",type:\"select\",values:[{value:\"left\",label:\"Left\",icon:\"icon-pagebuilder-align-left\"},{value:\"center\",label:\"Center\",icon:\"icon-pagebuilder-align-center\"},{value:\"right\",label:\"Right\",icon:\"icon-pagebuilder-align-right\"}]}];};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/observable-updater/css.min.js":"define([\"Magento_PageBuilder/js/utils/object\"],function(_object){function generate(elementName,config,data,converterResolver,converterPool,previousData){var css=(0,_object.get)(data,config.css.var);var newClasses={};if(css&&css.length>0){css.toString().split(\" \").map(function(value){return newClasses[value]=true;});}\nfor(var _i=0,_Object$keys=Object.keys(previousData);_i<_Object$keys.length;_i++){var className=_Object$keys[_i];if(!(className in newClasses)){newClasses[className]=false;}}\nreturn newClasses;}\nreturn generate;});","Magento_PageBuilder/js/content-type/observable-updater/attributes.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_config,_object){function generate(elementName,config,data,converterResolver,converterPool){var attributeData={};var _loop=function _loop(){var attributeConfig=_step.value;if(\"read\"===attributeConfig.persistence_mode){return\"continue\";}\nvar value=void 0;if(!!attributeConfig.static){value=attributeConfig.value;}else{value=(0,_object.get)(data,attributeConfig.var);}\nvar converter=converterResolver(attributeConfig);if(converterPool.get(converter)){value=converterPool.get(converter).toDom(attributeConfig.var,data);}\nif(_config.getMode()!==\"Preview\"&&attributeConfig.name===\"src\"&&_underscore.isString(value)&&!value.indexOf(\"{{media url=\")){attributeData[\"data-tmp-\"+attributeConfig.name]=value;Object.defineProperty(attributeData,attributeConfig.name,{get:function get(){return value;}});}else{attributeData[attributeConfig.name]=value;}};for(var _iterator=_createForOfIteratorHelperLoose(config.attributes),_step;!(_step=_iterator()).done;){var _ret=_loop();if(_ret===\"continue\")continue;}\nattributeData[\"data-element\"]=elementName;return attributeData;}\nreturn generate;});","Magento_PageBuilder/js/content-type/observable-updater/html.min.js":"define([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/utils/directives\",\"Magento_PageBuilder/js/utils/editor\",\"Magento_PageBuilder/js/utils/object\"],function(_config,_directives,_editor,_object){function generate(elementName,config,data,converterResolver,converterPool){var value=config.html.var?(0,_object.get)(data,config.html.var,config.html.placeholder):config.html.placeholder;var converter=converterResolver(config.html);if(converterPool.get(converter)){value=converterPool.get(converter).toDom(config.html.var,data);}\nif(typeof value===\"string\"&&!value.length&&config.html.placeholder){value=config.html.placeholder;}\nif(_config.getMode()!==\"Preview\"&&typeof value===\"string\"&&value.indexOf(\"{{media url=\")!==-1){value=(0,_directives.replaceWithDataSrc)(value);}\nif(typeof value===\"string\"){value=(0,_editor.processInlineStyles)(value);}\nreturn value;}\nreturn generate;});","Magento_PageBuilder/js/content-type/observable-updater/style.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"underscore\",\"Magento_PageBuilder/js/utils/object\",\"Magento_PageBuilder/js/utils/string\"],function(_underscore,_object,_string){function generate(elementName,config,data,converterResolver,converterPool,previousData){var newStyles={};if(config.style){for(var _iterator=_createForOfIteratorHelperLoose(config.style),_step;!(_step=_iterator()).done;){var propertyConfig=_step.value;if(\"read\"===propertyConfig.persistence_mode){continue;}\nvar value=void 0;if(!!propertyConfig.static){value=propertyConfig.value;}else{value=(0,_object.get)(data,propertyConfig.var);var converter=converterResolver(propertyConfig);if(converterPool.get(converter)){value=converterPool.get(converter).toDom(propertyConfig.var,data);}}\nif(typeof value===\"object\"){_underscore.extend(newStyles,value);}else if(value!==undefined){newStyles[(0,_string.fromSnakeToCamelCase)(propertyConfig.name)]=value;}}}\nif(previousData){var removeCurrentStyles=Object.keys(previousData).reduce(function(object,styleName){var _Object$assign;return Object.assign(object,(_Object$assign={},_Object$assign[styleName]=\"\",_Object$assign));},{});if(!_underscore.isEmpty(removeCurrentStyles)){newStyles=_underscore.extend(removeCurrentStyles,newStyles);}}\nreturn newStyles;}\nreturn generate;});","Magento_PageBuilder/js/content-type/map/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/utils/map\",\"module\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_knockout,_events,_map,_module,_hideShowOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_preview2.call.apply(_preview2,[this].concat(args))||this;_this.apiKeyValid=_knockout.observable(!!_module.config().apiKey);_this.apiKeyErrorMessage=_module.config().apiKeyErrorMessage;return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.bindEvents=function bindEvents(){var _this2=this;_preview2.prototype.bindEvents.call(this);_events.on(\"googleMaps:authFailure\",function(){_this2.apiKeyValid(false);});};_proto.renderMap=function renderMap(element){var _this3=this;if(!this.apiKeyValid()){return;}\nthis.generateMap(element);this.element=element;if(this.mapElement&&this.mapElement.map){this.data.main.attributes.subscribe(function(){_this3.updateMap();});}};_proto.generateMap=function generateMap(element){var currentLocations=this.data.main.attributes()[\"data-locations\"]||\"[]\";var controls=this.data.main.attributes()[\"data-show-controls\"]||\"true\";var locations=[];var options={disableDefaultUI:controls!==\"true\",mapTypeControl:controls===\"true\"};if(currentLocations!==\"[]\"){var mapData=this.getMapData();locations=mapData.locations;options=mapData.options;}\nthis.mapElement=new _map(element,locations,options);};_proto.updateMap=function updateMap(){var mapData=this.getMapData();this.mapElement.onUpdate(mapData.locations,mapData.options);};_proto.getMapData=function getMapData(){var attributes=this.data.main.attributes();var controls=attributes[\"data-show-controls\"];var options={disableDefaultUI:controls!==\"true\",mapTypeControl:controls===\"true\"};var locations=attributes[\"data-locations\"];if(locations!==\"\"&&typeof locations===\"string\"){locations=JSON.parse(locations);}\nlocations.forEach(function(location){location.position.latitude=parseFloat(location.position.latitude);location.position.longitude=parseFloat(location.position.longitude);});return{locations:locations,options:options};};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/map/appearance/default/widget.min.js":"define(['jquery','Magento_PageBuilder/js/utils/map'],function($,GoogleMap){'use strict';return function(config,element){var locations,controls,mapOptions={};element=element[0];if(element!==undefined&&element.hasAttribute('data-locations')){if(element.getAttribute('data-locations')==='[]'){$(element).hide();return;}\nlocations=JSON.parse(element.getAttribute('data-locations'));locations.forEach(function(location){location.position.latitude=parseFloat(location.position.latitude);location.position.longitude=parseFloat(location.position.longitude);});controls=element.getAttribute('data-show-controls');mapOptions.disableDefaultUI=controls!=='true';mapOptions.mapTypeControl=controls==='true';new GoogleMap(element,locations,mapOptions);}};});","Magento_PageBuilder/js/content-type/map/converter/attribute/locations.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Locations=function(){\"use strict\";function Locations(){}\nvar _proto=Locations.prototype;_proto.fromDom=function fromDom(value){if(value&&value!==\"\"){return JSON.parse(value);}\nreturn[];};_proto.toDom=function toDom(name,data){var content=(0,_object.get)(data,name);if(_underscore.isString(content)&&content!==\"\"){content=JSON.parse(content);}\nif(content&&Object.keys(content).length){content.forEach(function(marker){if(marker.position){marker.position.latitude=parseFloat(marker.position.latitude);marker.position.longitude=parseFloat(marker.position.longitude);}});return JSON.stringify(content);}\nreturn JSON.stringify([]);};return Locations;}();return Locations;});","Magento_PageBuilder/js/content-type/row/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jarallax\",\"jarallaxVideo\",\"jquery\",\"knockout\",\"Magento_PageBuilder/js/events\",\"Magento_PageBuilder/js/resource/resize-observer/ResizeObserver\",\"underscore\",\"vimeoWrapper\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/preview-collection\"],function(_jarallax,_jarallaxVideo,_jquery,_knockout,_events,_ResizeObserver,_underscore,_vimeoWrapper,_hideShowOption,_previewCollection){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.wrapClass=_knockout.observable(false);_this.buildJarallax=_underscore.debounce(function(){try{jarallax(_this.element,\"destroy\");}catch(e){}\nif(_this.element&&(0,_jquery)(_this.element).hasClass(\"jarallax\")&&_this.contentType.dataStore.get(\"background_type\")!==\"video\"&&_this.contentType.dataStore.get(\"background_image\").length){_underscore.defer(function(){var parallaxSpeed=Number.parseFloat(_this.contentType.dataStore.get(\"parallax_speed\"));jarallax(_this.element,{imgPosition:_this.contentType.dataStore.get(\"background_position\")||\"50% 50%\",imgRepeat:_this.contentType.dataStore.get(\"background_repeat\")||\"no-repeat\",imgSize:_this.contentType.dataStore.get(\"background_size\")||\"cover\",speed:!isNaN(parallaxSpeed)?parallaxSpeed:0.5});jarallax(_this.element,\"onResize\");});}\nif(_this.element&&_this.element.dataset.backgroundType===\"video\"&&_this.element.dataset.videoSrc.length){var parallaxSpeed=_this.contentType.dataStore.get(\"enable_parallax\")===\"1\"?Number.parseFloat(_this.contentType.dataStore.get(\"parallax_speed\")):1;_underscore.defer(function(){jarallax(_this.element,{videoSrc:_this.element.dataset.videoSrc,imgSrc:_this.element.dataset.videoFallbackSrc,videoLoop:_this.contentType.dataStore.get(\"video_loop\")===\"true\",speed:!isNaN(parallaxSpeed)?parallaxSpeed:0.5,videoPlayOnlyVisible:_this.contentType.dataStore.get(\"video_play_only_visible\")===\"true\",videoLazyLoading:_this.contentType.dataStore.get(\"video_lazy_load\")===\"true\"});if(_this.element.jarallax&&_this.element.jarallax.video){_this.element.jarallax.video.on(\"started\",function(){if(_this.element.jarallax.$video){_this.element.jarallax.$video.style.visibility=\"visible\";}});}});}},50);_this.contentType.dataStore.subscribe(_this.buildJarallax);_events.on(\"row:mountAfter\",function(args){if(args.id===_this.contentType.id){_this.buildJarallax();}});_events.on(\"contentType:mountAfter\",function(args){if(args.contentType.parentContentType&&args.contentType.parentContentType.id===_this.contentType.id){_this.buildJarallax();}});_events.on(\"stage:\"+_this.contentType.stageId+\":fullScreenModeChangeAfter\",_this.toggleFullScreen.bind(_assertThisInitialized(_this)));_events.on(\"stage:\"+_this.contentType.stageId+\":viewportChangeAfter\",function(args){_this.buildJarallax();});return _this;}\nvar _proto=Preview.prototype;_proto.getBackgroundImage=function getBackgroundImage(){var mobileImage=this.contentType.dataStore.get(\"mobile_image\");var desktopImage=this.contentType.dataStore.get(\"background_image\");var backgroundImage=this.viewport()===\"mobile\"&&mobileImage.length?mobileImage:desktopImage;return backgroundImage.length?\"url(\\\"\"+backgroundImage[0].url+\"\\\")\":\"none\";};_proto.toggleFullScreen=function toggleFullScreen(){if((0,_jquery)(this.element).hasClass(\"jarallax\")){this.buildJarallax();}};_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.initParallax=function initParallax(element){var _this2=this;this.element=element;_underscore.defer(function(){_this2.buildJarallax();});new _ResizeObserver(function(){if((0,_jquery)(_this2.element).hasClass(\"jarallax\")&&_this2.contentType.dataStore.get(\"background_image\").length){jarallax(_this2.element,\"onResize\");jarallax(_this2.element,\"onScroll\");}}).observe(this.element);};_proto.destroy=function destroy(){_previewCollection2.prototype.destroy.call(this);if(this.element){jarallax(this.element,\"destroy\");}};_proto.getStyle=function getStyle(element,styleProperties){var stylesObject=element.style();return styleProperties.reduce(function(obj,key){var _extends2;return _extends({},obj,(_extends2={},_extends2[key]=stylesObject[key],_extends2));},{});};_proto.getStyleWithout=function getStyleWithout(element,styleProperties){var stylesObject=element.style();return Object.keys(stylesObject).filter(function(key){return!styleProperties.includes(key);}).reduce(function(obj,key){var _extends3;return _extends({},obj,(_extends3={},_extends3[key]=stylesObject[key],_extends3));},{});};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/row/appearance/default/widget-mixin.min.js":"define(['underscore','jquery','Magento_PageBuilder/js/events'],function(_,$,events){'use strict';return function(target){return function(config,element){var result=target(config,element),stageId=$(element).parents('[data-role=\"pagebuilder-stage\"]').attr('id'),$element=$(element);if($element.data('appearance')==='contained'){$element=$(element).find('[data-element=\"inner\"]');}\nif($element.data('enableParallax')!==1){return result;}\nevents.on('stage:'+stageId+':fullScreenModeChangeAfter',function(){_.delay(function(){$element.jarallax('destroy');target(config,element);},350);});return result;};};});","Magento_PageBuilder/js/content-type/row/appearance/default/widget.min.js":"define(['jquery','Magento_PageBuilder/js/widget/video-background','jarallax'],function($,videoBackground){'use strict';return function(config,element){var $element=$(element),parallaxSpeed=null,elementStyle=null;if($element.data('appearance')==='contained'){$element=$(element).find('[data-element=\"inner\"]');}\nif($element.data('background-type')==='video'){videoBackground(config,$element[0]);return;}\nif($element.data('enableParallax')!==1){return;}\n$element.addClass('jarallax');$element.attr('data-jarallax','');parallaxSpeed=parseFloat($element.data('parallaxSpeed'));elementStyle=window.getComputedStyle($element[0]);window.jarallax($element[0],{imgPosition:elementStyle.backgroundPosition||'50% 50%',imgRepeat:elementStyle.backgroundRepeat||'no-repeat',imgSize:elementStyle.backgroundSize||'cover',speed:!isNaN(parallaxSpeed)?parallaxSpeed:0.5});};});","Magento_PageBuilder/js/content-type/row/converter/style/paddings.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Paddings=function(){\"use strict\";function Paddings(){}\nvar _proto=Paddings.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){var result={};var value=(0,_object.get)(data,name);if(value&&_underscore.isString(value)){value=JSON.parse(value);}\nif(value&&undefined!==value.padding){result.paddingLeft=value.padding.left?value.padding.left+\"px\":\"\";result.paddingTop=value.padding.top?value.padding.top+\"px\":\"\";result.paddingRight=value.padding.right?value.padding.right+\"px\":\"\";result.paddingBottom=value.padding.bottom?value.padding.bottom+\"px\":\"\";}\nreturn result;};return Paddings;}();return Paddings;});","Magento_PageBuilder/js/content-type/row/converter/style/margins.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Margins=function(){\"use strict\";function Margins(){}\nvar _proto=Margins.prototype;_proto.fromDom=function fromDom(value){return value;};_proto.toDom=function toDom(name,data){var result={};var value=(0,_object.get)(data,name);if(value&&_underscore.isString(value)){value=JSON.parse(value);}\nif(value&&undefined!==value.margin){result.marginLeft=value.margin.left?value.margin.left+\"px\":\"\";result.marginTop=value.margin.top?value.margin.top+\"px\":\"\";result.marginRight=value.margin.right?value.margin.right+\"px\":\"\";result.marginBottom=(parseInt(value.margin.bottom,10)>0?value.margin.bottom:1)+\"px\";}\nreturn result;};return Margins;}();return Margins;});","Magento_PageBuilder/js/content-type/column/resize.min.js":"define([\"Magento_PageBuilder/js/utils/array\"],function(_array){var Resize=function(){\"use strict\";function Resize(columnGroup){this.columnGroup=columnGroup;}\nvar _proto=Resize.prototype;_proto.getGridSize=function getGridSize(){return parseInt(this.columnGroup.dataStore.get(\"grid_size\").toString(),10);};_proto.getSmallestColumnWidth=function getSmallestColumnWidth(gridSize){gridSize=gridSize||this.getGridSize();return this.getAcceptedColumnWidth(parseFloat((100 / gridSize).toString()).toFixed(Math.round(100 / gridSize)!==100 / gridSize?8:0));};_proto.getAcceptedColumnWidth=function getAcceptedColumnWidth(width,gridSize){gridSize=gridSize||this.getGridSize();var newWidth=0;for(var i=gridSize;i>0;i--){var percentage=parseFloat((100 / gridSize*i).toFixed(Math.round(100 / gridSize*i)!==100 / gridSize*i?8:0));if(parseFloat(width)>percentage-0.1&&parseFloat(width)<percentage+0.1){newWidth=percentage;break;}}\nreturn newWidth;};_proto.getColumnWidth=function getColumnWidth(column){return this.getAcceptedColumnWidth(column.dataStore.get(\"width\").toString());};_proto.getColumnsWidth=function getColumnsWidth(){var _this=this;return this.getAcceptedColumnWidth(this.columnGroup.children().map(function(column){return _this.getColumnWidth(column);}).reduce(function(widthA,widthB){return widthA+(widthB?widthB:0);}).toString());};_proto.determineColumnWidths=function determineColumnWidths(column,groupPosition){var gridSize=this.getGridSize();var singleColumnWidth=groupPosition.outerWidth / gridSize;var adjacentColumn=getAdjacentColumn(column,\"+1\");var columnWidths=[];var columnLeft=column.preview.element.offset().left-parseInt(column.preview.element.css(\"margin-left\"),10);var adjacentRightPosition=adjacentColumn.preview.element.offset().left+adjacentColumn.preview.element.outerWidth(true);var columnsToRight=column.parentContentType.children().length-(getColumnIndexInGroup(column)+1);var leftMaxWidthFromChildren=groupPosition.left+groupPosition.outerWidth-columnsToRight*singleColumnWidth+10;var rightMaxWidthFromChildren=groupPosition.left+(column.parentContentType.children().length-columnsToRight)*singleColumnWidth-10;for(var i=gridSize;i>0;i--){var position=Math.round(columnLeft+singleColumnWidth*i);if(position>Math.round(leftMaxWidthFromChildren)){continue;}\ncolumnWidths.push({forColumn:\"left\",name:i+\"/\"+gridSize,position:position,width:getRoundedColumnWidth(100 / gridSize*i)});}\nfor(var _i=1;_i<gridSize;_i++){var _position=Math.floor(adjacentRightPosition-_i*singleColumnWidth);if(_position<Math.floor(rightMaxWidthFromChildren)){continue;}\ncolumnWidths.push({forColumn:\"right\",name:_i+\"/\"+gridSize,position:_position,width:getRoundedColumnWidth(100 / gridSize*_i)});}\nreturn columnWidths;};_proto.findShrinkableColumnForResize=function findShrinkableColumnForResize(column,direction){var _this2=this;var currentIndex=getColumnIndexInGroup(column);var columnItemsArray=column.parentContentType.children();var searchArray;switch(direction){case\"right\":searchArray=columnItemsArray.slice(currentIndex+1);break;case\"left\":searchArray=columnItemsArray.slice(0).reverse().slice(columnItemsArray.length-currentIndex);break;}\nreturn searchArray.find(function(groupColumn){return _this2.getColumnWidth(groupColumn)>_this2.getSmallestColumnWidth();});};_proto.findShrinkableColumn=function findShrinkableColumn(column){var _this3=this;return(0,_array.outwardSearch)(column.parentContentType.children(),getColumnIndexInGroup(column),function(neighbourColumn){return _this3.getColumnWidth(neighbourColumn)>_this3.getSmallestColumnWidth();});};_proto.calculateGhostWidth=function calculateGhostWidth(groupPosition,currentPos,column,modifyColumnInPair,maxGhostWidth){var ghostWidth=currentPos-groupPosition.left;switch(modifyColumnInPair){case\"left\":var singleColumnWidth=column.preview.element.position().left+groupPosition.outerWidth / this.getGridSize();if(ghostWidth<=singleColumnWidth){ghostWidth=singleColumnWidth;}\nif(currentPos>=maxGhostWidth.left){ghostWidth=maxGhostWidth.left-groupPosition.left;}\nbreak;case\"right\":if(currentPos<=maxGhostWidth.right){ghostWidth=maxGhostWidth.right-groupPosition.left;}\nbreak;}\nreturn ghostWidth;};_proto.determineAdjustedColumn=function determineAdjustedColumn(currentPos,column,history){var modifyColumnInPair=\"left\";var usedHistory;var resizeColumnLeft=column.preview.element.offset().left-parseInt(column.preview.element.css(\"margin-left\"),10);var resizeColumnWidth=column.preview.element.outerWidth(true);var resizeHandlePosition=resizeColumnLeft+resizeColumnWidth;var adjustedColumn;if(currentPos>=resizeHandlePosition){if(history.left.length>0){usedHistory=\"left\";adjustedColumn=history.left.reverse()[0].adjustedColumn;modifyColumnInPair=history.left.reverse()[0].modifyColumnInPair;}else{adjustedColumn=this.findShrinkableColumnForResize(column,\"right\");}}else{if(this.getColumnWidth(column)<=this.getSmallestColumnWidth()){adjustedColumn=this.findShrinkableColumnForResize(column,\"left\");if(adjustedColumn){modifyColumnInPair=\"right\";}}else if(history.right.length>0){usedHistory=\"right\";adjustedColumn=history.right.reverse()[0].adjustedColumn;modifyColumnInPair=history.right.reverse()[0].modifyColumnInPair;}else{adjustedColumn=getAdjacentColumn(column,\"+1\");}}\nreturn[adjustedColumn,modifyColumnInPair,usedHistory];};_proto.resizeColumn=function resizeColumn(column,width,shrinkableColumn){var current=this.getColumnWidth(column);var difference=(parseFloat(width.toString())-current).toFixed(8);if(current===parseFloat(width.toString())||parseFloat(width.toString())<this.getSmallestColumnWidth()){return;}\nvar allowedToShrink=true;if(difference&&shrinkableColumn){var currentShrinkable=this.getColumnWidth(shrinkableColumn);var shrinkableSize=this.getAcceptedColumnWidth((currentShrinkable+ -difference).toString());if(currentShrinkable===parseFloat(shrinkableSize.toString())||parseFloat(shrinkableSize.toString())<this.getSmallestColumnWidth()){allowedToShrink=false;}else{if(this.gridSupportsResize(column,width,shrinkableColumn,shrinkableSize)){updateColumnWidth(shrinkableColumn,shrinkableSize);}else{allowedToShrink=false;}}}\nif(allowedToShrink){updateColumnWidth(column,width);}};_proto.gridSupportsResize=function gridSupportsResize(column,newWidth,shrinkableColumn,shrinkableColumnNewWidth){var _this4=this;var otherColumnsWidth=column.parentContentType.getChildren()().filter(function(gridColumn){return gridColumn!==column&&shrinkableColumn&&gridColumn!==shrinkableColumn;}).map(function(otherColumn){return _this4.getColumnWidth(otherColumn);}).reduce(function(a,b){return a+b;},0);return comparator(otherColumnsWidth+newWidth+(shrinkableColumnNewWidth?shrinkableColumnNewWidth:0),100,0.1);};return Resize;}();function getColumnIndexInGroup(column){return column.parentContentType.children().indexOf(column);}\nfunction getAdjacentColumn(column,direction){var currentIndex=getColumnIndexInGroup(column);if(typeof column.parentContentType.children()[currentIndex+parseInt(direction,10)]!==\"undefined\"){return column.parentContentType.children()[currentIndex+parseInt(direction,10)];}\nreturn null;}\nfunction determineMaxGhostWidth(columnWidths){var leftColumns=columnWidths.filter(function(width){return width.forColumn===\"left\";});var rightColumns=columnWidths.filter(function(width){return width.forColumn===\"right\";});return{left:leftColumns[0].position,right:rightColumns[rightColumns.length-1].position};}\nfunction getRoundedColumnWidth(width){return Number(width.toFixed(Math.round(width)!==width?8:0));}\nfunction comparator(num1,num2,threshold){return num1>num2-threshold / 2&&num1<num2+threshold / 2;}\nfunction updateColumnWidth(column,width){column.dataStore.set(\"width\",parseFloat(width.toString())+\"%\");}\nreturn Object.assign(Resize,{getColumnIndexInGroup:getColumnIndexInGroup,getAdjacentColumn:getAdjacentColumn,determineMaxGhostWidth:determineMaxGhostWidth,getRoundedColumnWidth:getRoundedColumnWidth,comparator:comparator,updateColumnWidth:updateColumnWidth});});","Magento_PageBuilder/js/content-type/column/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"Magento_Ui/js/modal/alert\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\",\"Magento_PageBuilder/js/content-type-menu/option\",\"Magento_PageBuilder/js/content-type/column-group/grid-size\",\"Magento_PageBuilder/js/content-type/column-group/preview\",\"Magento_PageBuilder/js/content-type/preview-collection\",\"Magento_PageBuilder/js/content-type/column/resize\"],function(_jquery,_knockout,_translate,_events,_alert,_config,_contentTypeFactory,_option,_gridSize,_preview,_previewCollection,_resize){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.resizing=_knockout.observable(false);_this.fieldsToIgnoreOnRemove=[\"width\"];_this.contentType.dataStore.subscribe(_this.updateColumnWidthClass.bind(_assertThisInitialized(_this)),\"width\");_this.contentType.dataStore.subscribe(_this.updateDisplayLabel.bind(_assertThisInitialized(_this)),\"width\");_this.contentType.dataStore.subscribe(_this.triggerChildren.bind(_assertThisInitialized(_this)),\"width\");_this.contentType.parentContentType.dataStore.subscribe(_this.updateDisplayLabel.bind(_assertThisInitialized(_this)),\"grid_size\");_this.contentType.parentContentType.children.subscribe(_this.updateDisplayLabel.bind(_assertThisInitialized(_this)));return _this;}\nvar _proto=Preview.prototype;_proto.getBackgroundImage=function getBackgroundImage(){var mobileImage=this.contentType.dataStore.get(\"mobile_image\");var desktopImage=this.contentType.dataStore.get(\"background_image\");var backgroundImage=this.viewport()===\"mobile\"&&mobileImage.length?mobileImage:desktopImage;return backgroundImage.length?\"url(\\\"\"+backgroundImage[0].url+\"\\\")\":\"none\";};_proto.bindEvents=function bindEvents(){var _this2=this;_previewCollection2.prototype.bindEvents.call(this);_events.on(\"column:moveAfter\",function(args){if(args.contentType.id===_this2.contentType.id){_this2.updateDisplayLabel();}});if(_config.getContentTypeConfig(\"column-group\")){_events.on(\"column:dropAfter\",function(args){if(args.id===_this2.contentType.id){_this2.createColumnGroup();}});}};_proto.initColumn=function initColumn(element){this.element=(0,_jquery)(element);this.updateColumnWidthClass();_events.trigger(\"column:initializeAfter\",{column:this.contentType,element:(0,_jquery)(element),columnGroup:this.contentType.parentContentType});this.updateDisplayLabel();};_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);options.move=new _option({preview:this,icon:\"<i class='icon-admin-pagebuilder-handle'></i>\",title:(0,_translate)(\"Move\"),classes:[\"move-column\"],sort:10});return options;};_proto.bindResizeHandle=function bindResizeHandle(handle){_events.trigger(\"column:resizeHandleBindAfter\",{column:this.contentType,handle:(0,_jquery)(handle),columnGroup:this.contentType.parentContentType});};_proto.createColumnGroup=function createColumnGroup(){var _this3=this;if(this.contentType.parentContentType.config.name!==\"column-group\"){var index=this.contentType.parentContentType.children().indexOf(this.contentType);this.contentType.parentContentType.removeChild(this.contentType);var defaultGridSize=(0,_gridSize.getDefaultGridSize)();return(0,_contentTypeFactory)(_config.getContentTypeConfig(\"column-group\"),this.contentType.parentContentType,this.contentType.stageId,{grid_size:defaultGridSize}).then(function(columnGroup){var col1Width=(Math.ceil(defaultGridSize / 2)*100 / defaultGridSize).toFixed(Math.round(100 / defaultGridSize)!==100 / defaultGridSize?8:0);return Promise.all([(0,_contentTypeFactory)(_this3.contentType.config,columnGroup,columnGroup.stageId,{width:col1Width+\"%\"}),(0,_contentTypeFactory)(_this3.contentType.config,columnGroup,columnGroup.stageId,{width:100-parseFloat(col1Width)+\"%\"})]).then(function(columns){columnGroup.addChild(columns[0],0);columnGroup.addChild(columns[1],1);_this3.contentType.parentContentType.addChild(columnGroup,index);_this3.fireMountEvent(columnGroup,columns[0],columns[1]);return columnGroup;});});}};_proto.clone=function clone(contentType,autoAppend){if(autoAppend===void 0){autoAppend=true;}\nvar resizeUtils=this.contentType.parentContentType.preview.getResizeUtils();if(contentType.config.name!==\"column\"||this.contentType.parentContentType.children().length===0||this.contentType.parentContentType.children().length>0&&resizeUtils.getColumnsWidth()<100){return _previewCollection2.prototype.clone.call(this,contentType,autoAppend);}\nvar splitTimes=Math.round(resizeUtils.getColumnWidth(contentType)/ resizeUtils.getSmallestColumnWidth());if(splitTimes>1){var splitClone=_previewCollection2.prototype.clone.call(this,contentType,autoAppend);if(splitClone){splitClone.then(function(duplicateContentType){var originalWidth=(Math.floor(splitTimes / 2)+splitTimes%2)*resizeUtils.getSmallestColumnWidth();var duplicateWidth=Math.floor(splitTimes / 2)*resizeUtils.getSmallestColumnWidth();(0,_resize.updateColumnWidth)(contentType,resizeUtils.getAcceptedColumnWidth(originalWidth.toString()));(0,_resize.updateColumnWidth)(duplicateContentType,resizeUtils.getAcceptedColumnWidth(duplicateWidth.toString()));return duplicateContentType;});}}else{var shrinkableColumn=resizeUtils.findShrinkableColumn(contentType);if(shrinkableColumn){var shrinkableClone=_previewCollection2.prototype.clone.call(this,contentType,autoAppend);if(shrinkableClone){shrinkableClone.then(function(duplicateContentType){(0,_resize.updateColumnWidth)(shrinkableColumn,resizeUtils.getAcceptedColumnWidth((resizeUtils.getColumnWidth(shrinkableColumn)-resizeUtils.getSmallestColumnWidth()).toString()));(0,_resize.updateColumnWidth)(duplicateContentType,resizeUtils.getSmallestColumnWidth());return duplicateContentType;});}}else{(0,_alert)({content:(0,_translate)(\"There is no free space within the column group to perform this action.\"),title:(0,_translate)(\"Unable to duplicate column\")});}}};_proto.updateDisplayLabel=function updateDisplayLabel(){if(this.contentType.parentContentType.preview instanceof _preview){var newWidth=parseFloat(this.contentType.dataStore.get(\"width\").toString());var gridSize=this.contentType.parentContentType.preview.gridSize();var newLabel=Math.round(newWidth /(100 / gridSize))+\"/\"+gridSize;var columnIndex=this.contentType.parentContentType.children().indexOf(this.contentType);var columnNumber=columnIndex!==-1?columnIndex+1+\" \":\"\";this.displayLabel((0,_translate)(\"Column\")+\" \"+columnNumber+\"(\"+newLabel+\")\");}};_proto.updateColumnWidthClass=function updateColumnWidthClass(){if(!this.element){return;}\nvar currentClass=this.element.attr(\"class\").match(/(?:^|\\s)(column-width-\\d{1,3})(?:$|\\s)/);if(currentClass!==null){this.element.removeClass(currentClass[1]);}\nvar roundedWidth=Math.ceil(parseFloat(this.contentType.dataStore.get(\"width\").toString())/ 10)*10;this.element.addClass(\"column-width-\"+roundedWidth);};_proto.getStyle=function getStyle(element,styleProperties){var stylesObject=element.style();return styleProperties.reduce(function(obj,key){var _extends2;return _extends({},obj,(_extends2={},_extends2[key]=stylesObject[key],_extends2));},{});};_proto.getStyleWithout=function getStyleWithout(element,styleProperties){var stylesObject=element.style();return Object.keys(stylesObject).filter(function(key){return!styleProperties.includes(key);}).reduce(function(obj,key){var _extends3;return _extends({},obj,(_extends3={},_extends3[key]=stylesObject[key],_extends3));},{});};_proto.fireMountEvent=function fireMountEvent(){for(var _len=arguments.length,contentTypes=new Array(_len),_key=0;_key<_len;_key++){contentTypes[_key]=arguments[_key];}\ncontentTypes.forEach(function(contentType){_events.trigger(\"contentType:mountAfter\",{id:contentType.id,contentType:contentType});_events.trigger(contentType.config.name+\":mountAfter\",{id:contentType.id,contentType:contentType});});};_proto.triggerChildren=function triggerChildren(){if(this.contentType.parentContentType.preview instanceof _preview){var newWidth=parseFloat(this.contentType.dataStore.get(\"width\").toString());this.delegate(\"trigger\",\"columnWidthChangeAfter\",{width:newWidth});}};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/column/converter/style/margins.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Margins=function(){\"use strict\";function Margins(){}\nvar _proto=Margins.prototype;_proto.fromDom=function fromDom(value){if(undefined!==value.margin){return{margin:{top:value.margin.top.replace(\"px\",\"\"),left:value.margin.left.replace(\"px\",\"\"),right:value.margin.right.replace(\"px\",\"\"),bottom:value.margin.bottom.replace(\"px\",\"\")}};}\nreturn{};};_proto.toDom=function toDom(name,data){var result={};var value=(0,_object.get)(data,name);if(value&&_underscore.isString(value)){value=JSON.parse(value);}\nif(value&&undefined!==value.margin){result.marginLeft=value.margin.left?value.margin.left+\"px\":\"\";result.marginTop=value.margin.top?value.margin.top+\"px\":\"\";result.marginRight=(value.margin.right&&parseInt(value.margin.right,10)!==0?value.margin.right:1)+\"px\";result.marginBottom=value.margin.bottom?value.margin.bottom+\"px\":\"\";}\nreturn result;};return Margins;}();return Margins;});","Magento_PageBuilder/js/content-type/column-group/registry.min.js":"define([],function(){var dragColumn;function getDragColumn(){return dragColumn;}\nfunction removeDragColumn(){dragColumn=null;}\nfunction setDragColumn(column){dragColumn=column;}\nreturn{getDragColumn:getDragColumn,removeDragColumn:removeDragColumn,setDragColumn:setDragColumn};});","Magento_PageBuilder/js/content-type/column-group/drag-and-drop.min.js":"define([],function(){function calculateDropPositions(group){var resizeUtils=group.preview.getResizeUtils();var dropPositions=[];group.children().forEach(function(column,index){var left=column.preview.element.position().left;var width=column.preview.element.outerWidth(true);var canShrink=resizeUtils.getAcceptedColumnWidth(resizeUtils.getColumnWidth(column).toString())>resizeUtils.getSmallestColumnWidth();dropPositions.push({affectedColumn:column,canShrink:canShrink,insertIndex:index,left:left,placement:\"left\",right:left+width / 2},{affectedColumn:column,canShrink:canShrink,insertIndex:index+1,left:left+width / 2,placement:\"right\",right:left+width});});return dropPositions;}\nreturn{calculateDropPositions:calculateDropPositions};});","Magento_PageBuilder/js/content-type/column-group/grid-size.min.js":"function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _wrapNativeSuper(Class){var _cache=typeof Map===\"function\"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\");}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}\nfunction _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}\nfunction _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}\nfunction _isNativeFunction(fn){return Function.toString.call(fn).indexOf(\"[native code]\")!==-1;}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\nfunction _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}\nfunction _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"mage/translate\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type/column/resize\"],function(_translate,_config,_resize){function getDefaultGridSize(){return parseInt(_config.getConfig(\"column_grid_default\"),10);}\nfunction getMaxGridSize(){return parseInt(_config.getConfig(\"column_grid_max\"),10);}\nfunction resizeGrid(columnGroup,newGridSize,gridSizeHistory){if(newGridSize===columnGroup.preview.getResizeUtils().getGridSize()){return;}\nvalidateNewGridSize(columnGroup,newGridSize);if(newGridSize<columnGroup.getChildren()().length){removeEmptyColumnsToFit(columnGroup,newGridSize);}\ncolumnGroup.preview.gridSize(newGridSize);redistributeColumnWidths(columnGroup,newGridSize,gridSizeHistory);}\nfunction validateNewGridSize(columnGroup,newGridSize){if(newGridSize>getMaxGridSize()){throw new GridSizeError((0,_translate)(\"The maximum grid size supported is \"+getMaxGridSize()+\".\"));}else if(newGridSize<2){throw new GridSizeError((0,_translate)(\"The minimum grid size supported is 2.\"));}\nvar numCols=columnGroup.getChildren()().length;var currentGridSize=columnGroup.preview.getResizeUtils().getGridSize();if(newGridSize<currentGridSize&&numCols>newGridSize){var numEmptyColumns=0;columnGroup.getChildren()().forEach(function(column){if(column.getChildren()().length===0){numEmptyColumns++;}});if(newGridSize<numCols-numEmptyColumns){throw new GridSizeError((0,_translate)(\"Grid size cannot be smaller than the current total amount of columns, minus any empty columns.\"));}}}\nfunction removeEmptyColumnsToFit(columnGroup,newGridSize){var columns=columnGroup.getChildren()();var numColumns=columns.length;var i;for(i=numColumns-1;i>=0;i--){var column=columns[i];if(newGridSize<numColumns&&column.getChildren()().length===0){columnGroup.removeChild(column);numColumns--;}}}\nfunction redistributeColumnWidths(columnGroup,newGridSize,gridSizeHistory){if(gridSizeHistory.has(newGridSize)&&gridSizeHistory.get(newGridSize).length===columnGroup.getChildren()().length){var columnWidths=gridSizeHistory.get(newGridSize);columnGroup.getChildren()().forEach(function(column,index){(0,_resize.updateColumnWidth)(column,columnWidths[index]);});columnGroup.dataStore.set(\"grid_size\",newGridSize);return;}\nvar resizeUtils=columnGroup.preview.getResizeUtils();var existingGridSize=resizeUtils.getGridSize();var minColWidth=parseFloat((100 / newGridSize).toString()).toFixed(Math.round(100 / newGridSize)!==100 / newGridSize?8:0);var totalNewWidths=0;var numColumns=columnGroup.getChildren()().length;var remainingWidth=0;columnGroup.getChildren()().forEach(function(column,index){var existingWidth=resizeUtils.getColumnWidth(column);var fractionColumnWidth=Math.round(existingWidth /(100 / existingGridSize));if((existingGridSize>newGridSize&&existingGridSize%newGridSize===0||existingGridSize<newGridSize&&newGridSize%existingGridSize===0)&&newGridSize%numColumns===0&&newGridSize / existingGridSize*fractionColumnWidth%1===0){totalNewWidths+=existingWidth;}else{var newWidth=(100*Math.floor(existingWidth / 100*newGridSize)/ newGridSize).toFixed(Math.round(100 / newGridSize)!==100 / newGridSize?8:0);if(parseFloat(newWidth)<parseFloat(minColWidth)){newWidth=minColWidth;}\nvar maxAvailableWidth=100-totalNewWidths-(numColumns-index-1)*parseFloat(minColWidth);if(parseFloat(newWidth)>maxAvailableWidth){newWidth=maxAvailableWidth.toFixed(Math.round(100 / newGridSize)!==100 / newGridSize?8:0);}\nremainingWidth+=existingWidth-parseFloat(newWidth);if(resizeUtils.getSmallestColumnWidth(newGridSize)===resizeUtils.getAcceptedColumnWidth(remainingWidth.toString(),newGridSize)){var widthWithRemaining=resizeUtils.getAcceptedColumnWidth((parseFloat(newWidth)+remainingWidth).toString(),newGridSize);if(widthWithRemaining>0){newWidth=widthWithRemaining.toFixed(Math.round(100 / widthWithRemaining)!==100 / widthWithRemaining?8:0);remainingWidth=0;}}\ntotalNewWidths+=parseFloat(newWidth);(0,_resize.updateColumnWidth)(column,parseFloat(newWidth));}\ncolumn.preview.updateDisplayLabel();});columnGroup.dataStore.set(\"grid_size\",newGridSize);if(Math.round(resizeUtils.getColumnsWidth())<100){applyLeftoverColumns(columnGroup,newGridSize);}}\nfunction applyLeftoverColumns(columnGroup,newGridSize){var resizeUtils=columnGroup.preview.getResizeUtils();var minColWidth=parseFloat((100 / newGridSize).toString()).toFixed(Math.round(100 / newGridSize)!==100 / newGridSize?8:0);var column;for(var _iterator=_createForOfIteratorHelperLoose(columnGroup.getChildren()()),_step;!(_step=_iterator()).done;){column=_step.value;if(Math.round(resizeUtils.getColumnsWidth())<100){(0,_resize.updateColumnWidth)(column,parseFloat(resizeUtils.getColumnWidth(column).toString())+parseFloat(minColWidth));}else{break;}}}\nvar GridSizeError=function(_Error){\"use strict\";_inheritsLoose(GridSizeError,_Error);function GridSizeError(m){var _this;_this=_Error.call(this,m)||this;Object.setPrototypeOf(_assertThisInitialized(_this),GridSizeError.prototype);return _this;}\nreturn GridSizeError;}(_wrapNativeSuper(Error));return{getDefaultGridSize:getDefaultGridSize,getMaxGridSize:getMaxGridSize,resizeGrid:resizeGrid,GridSizeError:GridSizeError};});","Magento_PageBuilder/js/content-type/column-group/factory.min.js":"define([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-factory\"],function(_config,_contentTypeFactory){function createColumn(columnGroup,width,index){return(0,_contentTypeFactory)(_config.getContentTypeConfig(\"column\"),columnGroup,columnGroup.stageId,{width:parseFloat(width.toString())+\"%\"}).then(function(column){columnGroup.addChild(column,index);return column;}).catch(function(error){console.error(error);return null;});}\nreturn{createColumn:createColumn};});","Magento_PageBuilder/js/content-type/column-group/preview.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\nfunction _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/drag-drop/move-content-type\",\"Magento_PageBuilder/js/drag-drop/registry\",\"Magento_PageBuilder/js/drag-drop/sortable\",\"Magento_PageBuilder/js/utils/check-stage-full-screen\",\"Magento_PageBuilder/js/utils/create-stylesheet\",\"Magento_PageBuilder/js/utils/pagebuilder-header-height\",\"Magento_PageBuilder/js/content-type/column/resize\",\"Magento_PageBuilder/js/content-type/preview-collection\",\"Magento_PageBuilder/js/content-type/column-group/drag-and-drop\",\"Magento_PageBuilder/js/content-type/column-group/factory\",\"Magento_PageBuilder/js/content-type/column-group/grid-size\",\"Magento_PageBuilder/js/content-type/column-group/registry\"],function(_jquery,_knockout,_translate,_events,_underscore,_config,_moveContentType,_registry,_sortable,_checkStageFullScreen,_createStylesheet,_pagebuilderHeaderHeight,_resize,_previewCollection,_dragAndDrop,_factory,_gridSize,_registry2){function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}\nvar Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(contentType,config,observableUpdater){var _this;_this=_previewCollection2.call(this,contentType,config,observableUpdater)||this;_this.resizing=_knockout.observable(false);_this.hasEmptyChild=_knockout.computed(function(){var empty=false;_this.contentType.getChildren()().forEach(function(column){if(column.getChildren()().length===0){empty=true;}});return empty;});_this.gridSize=_knockout.observable();_this.gridSizeInput=_knockout.observable();_this.gridSizeArray=_knockout.observableArray([]);_this.gridSizeError=_knockout.observable();_this.gridSizeMax=_knockout.observable((0,_gridSize.getMaxGridSize)());_this.gridFormOpen=_knockout.observable(false);_this.gridChange=_knockout.observable(false);_this.gridToolTipOverFlow=_knockout.observable(false);_this.resizeColumnWidths=[];_this.resizeHistory={left:[],right:[]};_this.dropPositions=[];_this.gridSizeHistory=new Map();_this.interactionLevel=0;_this.onDocumentClick=function(event){if(!_jquery.contains((0,_jquery)(_this.wrapperElement).find(\".pagebuilder-grid-size-indicator\")[0],(0,_jquery)(event.target)[0])){_this.closeGridForm();}};_this.resizeUtils=new _resize(_this.contentType);_this.contentType.dataStore.subscribe(function(state){var gridSize=parseInt(state.grid_size.toString(),10);_this.gridSize(gridSize);_this.gridSizeInput(gridSize);if(gridSize){_this.gridSizeArray(new Array(gridSize));}},\"grid_size\");_events.on(\"contentType:removeAfter\",function(args){if(args.parentContentType&&args.parentContentType.id===_this.contentType.id){_underscore.defer(function(){_this.spreadWidth(args.index);});}});_events.on(\"column:resizeHandleBindAfter\",function(args){if(args.columnGroup.id===_this.contentType.id){_this.registerResizeHandle(args.column,args.handle);}});_events.on(\"column:initializeAfter\",function(args){if(args.columnGroup.id===_this.contentType.id){_this.bindDraggable(args.column);}});_this.contentType.children.subscribe(_underscore.debounce(_this.removeIfEmpty.bind(_assertThisInitialized(_this)),50));return _this;}\nvar _proto=Preview.prototype;_proto.getResizeUtils=function getResizeUtils(){return this.resizeUtils;};_proto.onNewColumnDrop=function onNewColumnDrop(dropPosition){var _this2=this;(0,_factory.createColumn)(this.contentType,this.resizeUtils.getSmallestColumnWidth(),dropPosition.insertIndex).then(function(){var newWidth=_this2.resizeUtils.getAcceptedColumnWidth((_this2.resizeUtils.getColumnWidth(dropPosition.affectedColumn)-_this2.resizeUtils.getSmallestColumnWidth()).toString());(0,_resize.updateColumnWidth)(dropPosition.affectedColumn,newWidth);});};_proto.onExistingColumnDrop=function onExistingColumnDrop(movePosition){var column=(0,_registry2.getDragColumn)();var sourceGroupPreview=column.parentContentType.preview;var modifyOldNeighbour;var oldWidth=sourceGroupPreview.getResizeUtils().getColumnWidth(column);if((0,_resize.getAdjacentColumn)(column,\"+1\")){modifyOldNeighbour=(0,_resize.getAdjacentColumn)(column,\"+1\");}else if((0,_resize.getAdjacentColumn)(column,\"-1\")){modifyOldNeighbour=(0,_resize.getAdjacentColumn)(column,\"-1\");}\n(0,_resize.updateColumnWidth)(column,this.resizeUtils.getSmallestColumnWidth());(0,_moveContentType.moveContentType)(column,movePosition.insertIndex,this.contentType);if(modifyOldNeighbour){var oldNeighbourWidth=sourceGroupPreview.getResizeUtils().getAcceptedColumnWidth((oldWidth+sourceGroupPreview.getResizeUtils().getColumnWidth(modifyOldNeighbour)).toString());(0,_resize.updateColumnWidth)(modifyOldNeighbour,oldNeighbourWidth);}\nvar newNeighbourWidth=this.resizeUtils.getAcceptedColumnWidth((this.resizeUtils.getColumnWidth(movePosition.affectedColumn)-this.resizeUtils.getSmallestColumnWidth()).toString());(0,_resize.updateColumnWidth)(movePosition.affectedColumn,newNeighbourWidth);};_proto.onColumnSort=function onColumnSort(column,newIndex){var currentIndex=(0,_resize.getColumnIndexInGroup)(column);if(currentIndex!==newIndex){if(currentIndex<newIndex){--newIndex;}\n(0,_moveContentType.moveContentType)(column,newIndex);}};_proto.onColumnResize=function onColumnResize(column,width,adjustedColumn){this.resizeUtils.resizeColumn(column,width,adjustedColumn);};_proto.bindInteractions=function bindInteractions(group){this.groupElement=(0,_jquery)(group);this.initDroppable(this.groupElement);this.initMouseMove(this.groupElement);(0,_jquery)(\"body\").mouseleave(this.endAllInteractions.bind(this));};_proto.bindDropPlaceholder=function bindDropPlaceholder(element){this.dropPlaceholder=(0,_jquery)(element);};_proto.bindMovePlaceholder=function bindMovePlaceholder(element){this.movePlaceholder=(0,_jquery)(element);};_proto.bindGhost=function bindGhost(ghost){this.resizeGhost=(0,_jquery)(ghost);};_proto.registerResizeHandle=function registerResizeHandle(column,handle){var _this3=this;handle.off(\"mousedown touchstart\");handle.on(\"mousedown touchstart\",function(event){event.preventDefault();var groupPosition=_this3.getGroupPosition(_this3.groupElement);_this3.resizing(true);_this3.resizeColumnInstance=column;_this3.resizeColumnWidths=_this3.resizeUtils.determineColumnWidths(_this3.resizeColumnInstance,groupPosition);_this3.resizeMaxGhostWidth=(0,_resize.determineMaxGhostWidth)(_this3.resizeColumnWidths);(0,_jquery)(\"body\").css(\"cursor\",\"col-resize\");_this3.resizeHistory={left:[],right:[]};_this3.resizeLastPosition=null;_this3.resizeMouseDown=true;++_this3.interactionLevel;_events.trigger(\"stage:interactionStart\",{stageId:_this3.contentType.stageId});});};_proto.bindDraggable=function bindDraggable(column){var _this4=this;column.preview.element.draggable({appendTo:\"body\",containment:\"body\",cursor:\"-webkit-grabbing\",handle:\".move-column\",revertDuration:250,helper:function helper(){var helper=(0,_jquery)(this).clone();helper.css({height:(0,_jquery)(this).outerHeight()+\"px\",minHeight:0,opacity:0.5,pointerEvents:\"none\",width:(0,_jquery)(this).outerWidth()+\"px\",zIndex:5000});return helper;},start:function start(event){var columnInstance=_knockout.dataFor((0,_jquery)(event.target)[0]);(0,_registry2.setDragColumn)(columnInstance.contentType);_this4.dropPositions=(0,_dragAndDrop.calculateDropPositions)(_this4.contentType);_this4.startDragEvent=event;_events.trigger(\"column:dragStart\",{column:columnInstance,stageId:_this4.contentType.stageId});_events.trigger(\"stage:interactionStart\",{stageId:_this4.contentType.stageId});},stop:function stop(){var draggedColumn=(0,_registry2.getDragColumn)();if(_this4.movePosition&&draggedColumn){if(draggedColumn.parentContentType===_this4.contentType){_this4.onColumnSort(draggedColumn,_this4.movePosition.insertIndex);_this4.movePosition=null;}}\n(0,_registry2.removeDragColumn)();_this4.dropPlaceholder.removeClass(\"left right\");_this4.movePlaceholder.removeClass(\"active\");_this4.startDragEvent=null;_events.trigger(\"column:dragStop\",{column:draggedColumn,stageId:_this4.contentType.stageId});_events.trigger(\"stage:interactionStop\",{stageId:_this4.contentType.stageId});}});};_proto.updateGridSize=function updateGridSize(){var _this5=this;if(!_jquery.isNumeric(this.gridSizeInput())){this.gridSizeError((0,_translate)(\"Please enter a valid number.\"));}\nvar newGridSize=parseInt(this.gridSizeInput().toString(),10);if(newGridSize||newGridSize===0){if(newGridSize!==this.resizeUtils.getGridSize()){try{(0,_gridSize.resizeGrid)(this.contentType,newGridSize,this.gridSizeHistory);this.recordGridResize(newGridSize);this.gridSizeError(null);this.gridChange(true);_underscore.delay(function(){_this5.gridChange(false);},1000);}catch(e){if(e instanceof _gridSize.GridSizeError){this.gridSizeError(e.message);}else{throw e;}}}else{this.gridSizeError(null);}}};_proto.onGridInputKeyUp=function onGridInputKeyUp(context,event){if(event.which===13||event.keyCode===13){this.updateGridSize();}};_proto.onGridInputBlur=function onGridInputBlur(){this.updateGridSize();};_proto.closeGridForm=function closeGridForm(){this.updateGridSize();if(!this.gridSizeError()){this.gridFormOpen(false);this.gridToolTipOverFlow(false);_events.trigger(\"stage:interactionStop\");_events.trigger(\"stage:childFocusStop\");(0,_jquery)(document).off(\"click focusin\",this.onDocumentClick);}};_proto.openGridForm=function openGridForm(){var _this6=this;var tooltip=(0,_jquery)(this.wrapperElement).find(\"[role='tooltip']\");if(!this.gridFormOpen()){this.gridSizeHistory=new Map();this.recordGridResize(this.gridSize());var tooltipClientRectTop=tooltip[0].getBoundingClientRect().top-(0,_pagebuilderHeaderHeight)(this.contentType.stageId);if((0,_checkStageFullScreen)(this.contentType.stageId)&&tooltip[0].getBoundingClientRect().height>tooltipClientRectTop){this.gridToolTipOverFlow(true);}\nthis.gridFormOpen(true);_underscore.delay(function(){(0,_jquery)(_this6.wrapperElement).find(\".grid-panel-item-wrapper input\").focus().select();},200);(0,_jquery)(document).on(\"click focusin\",this.onDocumentClick);_events.trigger(\"stage:interactionStart\");_events.trigger(\"stage:childFocusStart\");}};_proto.setColumnsAsResizing=function setColumnsAsResizing(){for(var _len=arguments.length,columns=new Array(_len),_key=0;_key<_len;_key++){columns[_key]=arguments[_key];}\ncolumns.forEach(function(column){column.preview.resizing(true);column.preview.element.css({transition:\"width 350ms ease-in-out\"});});};_proto.unsetResizingColumns=function unsetResizingColumns(){this.contentType.children().forEach(function(column){column.preview.resizing(false);if(column.preview.element){column.preview.element.css({transition:\"\"});}});};_proto.endAllInteractions=function endAllInteractions(){if(this.resizing()===true){for(;this.interactionLevel>0;this.interactionLevel--){_events.trigger(\"stage:interactionStop\",{stageId:this.contentType.stageId});}}\nthis.resizing(false);this.resizeMouseDown=null;this.resizeLeftLastColumnShrunk=this.resizeRightLastColumnShrunk=null;this.dropPositions=[];this.unsetResizingColumns();(0,_jquery)(\"body\").css(\"cursor\",\"\");this.dropPlaceholder.removeClass(\"left right\");this.movePlaceholder.css(\"left\",\"\").removeClass(\"active\");this.resizeGhost.removeClass(\"active\");this.groupPositionCache=null;};_proto.initMouseMove=function initMouseMove(group){var _this7=this;var intersects=false;(0,_jquery)(document).on(\"mousemove touchmove\",function(event){if(group.parents(_sortable.hiddenClass).length>0){return;}\nvar groupPosition=_this7.getGroupPosition(group);if(event.type===\"touchmove\"){event.pageX=event.originalEvent.pageX;event.pageY=event.originalEvent.pageY;}\nif(_this7.eventIntersectsGroup(event,groupPosition)){intersects=true;_this7.onResizingMouseMove(event,group,groupPosition);_this7.onDraggingMouseMove(event,group,groupPosition);_this7.onDroppingMouseMove(event,group,groupPosition);}else{intersects=false;_this7.groupPositionCache=null;_this7.dropPosition=null;_this7.dropPlaceholder.removeClass(\"left right\");_this7.movePlaceholder.css(\"left\",\"\").removeClass(\"active\");}}).on(\"mouseup touchend\",function(){if(intersects){_this7.handleMouseUp();}\nintersects=false;_this7.dropPosition=null;_this7.endAllInteractions();_underscore.defer(function(){group.find(\".ui-sortable\").each(function(){if((0,_jquery)(this).data(\"sortable\")){(0,_jquery)(this).sortable(\"option\",\"disabled\",false);}});});});};_proto.handleMouseUp=function handleMouseUp(){if(this.dropOverElement&&this.dropPosition){this.onNewColumnDrop(this.dropPosition);this.dropOverElement=null;_underscore.defer(function(){(0,_jquery)(\".element-children.ui-sortable-disabled\").each(function(){(0,_jquery)(this).sortable(\"option\",\"disabled\",false);});});}\nvar column=(0,_registry2.getDragColumn)();if(this.movePosition&&column&&column.parentContentType!==this.contentType){this.onExistingColumnDrop(this.movePosition);}};_proto.eventIntersectsGroup=function eventIntersectsGroup(event,groupPosition){return event.pageY>groupPosition.top&&event.pageY<groupPosition.top+groupPosition.outerHeight&&event.pageX>groupPosition.left&&event.pageX<groupPosition.left+groupPosition.outerWidth;};_proto.getGroupPosition=function getGroupPosition(group){if(!this.groupPositionCache){this.groupPositionCache={top:group.offset().top,left:group.offset().left,width:group.width(),height:group.height(),outerWidth:group.outerWidth(),outerHeight:group.outerHeight()};}\nreturn this.groupPositionCache;};_proto.recordResizeHistory=function recordResizeHistory(usedHistory,direction,adjustedColumn,modifyColumnInPair){if(usedHistory){this.resizeHistory[usedHistory].pop();}\nthis.resizeHistory[direction].push({adjustedColumn:adjustedColumn,modifyColumnInPair:modifyColumnInPair});};_proto.onResizingMouseMove=function onResizingMouseMove(event,group,groupPosition){var _this8=this;var newColumnWidth;if(this.resizeMouseDown){event.preventDefault();var currentPos=event.pageX;var resizeColumnLeft=this.resizeColumnInstance.preview.element.offset().left;var resizeColumnWidth=this.resizeColumnInstance.preview.element.outerWidth();var resizeHandlePosition=resizeColumnLeft+resizeColumnWidth;var direction=currentPos>=resizeHandlePosition?\"right\":\"left\";var adjustedColumn;var modifyColumnInPair;var usedHistory;var _this$resizeUtils$det=this.resizeUtils.determineAdjustedColumn(currentPos,this.resizeColumnInstance,this.resizeHistory);adjustedColumn=_this$resizeUtils$det[0];modifyColumnInPair=_this$resizeUtils$det[1];usedHistory=_this$resizeUtils$det[2];var ghostWidth=this.resizeUtils.calculateGhostWidth(groupPosition,currentPos,this.resizeColumnInstance,modifyColumnInPair,this.resizeMaxGhostWidth);this.resizeGhost.width(ghostWidth-15+\"px\").addClass(\"active\");if(adjustedColumn&&this.resizeColumnWidths){newColumnWidth=this.resizeColumnWidths.find(function(val){return(0,_resize.comparator)(currentPos,val.position,35)&&val.forColumn===modifyColumnInPair;});if(newColumnWidth){var mainColumn=this.resizeColumnInstance;if(modifyColumnInPair===\"right\"){mainColumn=(0,_resize.getAdjacentColumn)(this.resizeColumnInstance,\"+1\");}\nif(this.resizeUtils.getColumnWidth(mainColumn)!==newColumnWidth.width&&!(0,_resize.comparator)(this.resizeLastPosition,newColumnWidth.position,10)){if(usedHistory&&this.resizeLastColumnInPair===\"right\"&&direction===\"right\"&&newColumnWidth.forColumn===\"left\"){var originalMainColumn=mainColumn;mainColumn=adjustedColumn;adjustedColumn=(0,_resize.getAdjacentColumn)(originalMainColumn,\"+1\");}\nthis.recordResizeHistory(usedHistory,direction,adjustedColumn,modifyColumnInPair);this.resizeLastPosition=newColumnWidth.position;this.resizeLastColumnInPair=modifyColumnInPair;this.setColumnsAsResizing(mainColumn,adjustedColumn);this.onColumnResize(mainColumn,newColumnWidth.width,adjustedColumn);_underscore.defer(function(){_this8.resizeColumnWidths=_this8.resizeUtils.determineColumnWidths(_this8.resizeColumnInstance,groupPosition);_this8.resizeMaxGhostWidth=(0,_resize.determineMaxGhostWidth)(_this8.resizeColumnWidths);});}}}}};_proto.onDraggingMouseMove=function onDraggingMouseMove(event,group,groupPosition){var dragColumn=(0,_registry2.getDragColumn)();if(dragColumn){if(this.dropPositions.length===0){this.dropPositions=(0,_dragAndDrop.calculateDropPositions)(this.contentType);}\nvar columnInstance=dragColumn;var currentX=event.pageX-groupPosition.left;if(columnInstance.parentContentType===this.contentType&&this.startDragEvent){var dragDirection=event.pageX<=this.startDragEvent.pageX?\"left\":\"right\";var adjacentLeftColumn=(0,_resize.getAdjacentColumn)(dragColumn,\"-1\");this.movePosition=this.dropPositions.find(function(position){return currentX>position.left&&currentX<position.right&&position.placement===dragDirection&&position.affectedColumn!==dragColumn;});if(this.movePosition&&dragDirection===\"right\"&&this.movePosition.affectedColumn===adjacentLeftColumn){this.movePosition=null;}\nif(this.movePosition){this.dropPlaceholder.removeClass(\"left right\");this.movePlaceholder.css({left:this.movePosition.placement===\"left\"?this.movePosition.left:\"\",right:this.movePosition.placement===\"right\"?groupPosition.width-this.movePosition.right:\"\",width:dragColumn.preview.element.outerWidth()+\"px\"}).addClass(\"active\");}else{this.movePlaceholder.removeClass(\"active\");}}else{this.movePosition=this.dropPositions.find(function(position){return currentX>position.left&&currentX<=position.right&&position.canShrink;});if(this.movePosition){var classToRemove=this.movePosition.placement===\"left\"?\"right\":\"left\";this.movePlaceholder.removeClass(\"active\");this.dropPlaceholder.removeClass(classToRemove).css({left:this.movePosition.placement===\"left\"?this.movePosition.left:\"\",right:this.movePosition.placement===\"right\"?groupPosition.width-this.movePosition.right:\"\",width:groupPosition.width / this.resizeUtils.getGridSize()+\"px\"}).addClass(this.movePosition.placement);}else{this.dropPlaceholder.removeClass(\"left right\");}}}};_proto.onDroppingMouseMove=function onDroppingMouseMove(event,group,groupPosition){var elementChildrenParent=group.parents(\".element-children\");if(this.dropOverElement&&event.pageY>groupPosition.top+20&&event.pageY<groupPosition.top+groupPosition.outerHeight-20){if(elementChildrenParent.data(\"sortable\")){elementChildrenParent.sortable(\"option\",\"disabled\",true);}\nvar currentX=event.pageX-groupPosition.left;this.dropPosition=this.dropPositions.find(function(position){return currentX>position.left&&currentX<=position.right&&position.canShrink;});if(this.dropPosition){this.dropPlaceholder.removeClass(\"left right\").css({left:this.dropPosition.placement===\"left\"?this.dropPosition.left:\"\",right:this.dropPosition.placement===\"right\"?groupPosition.width-this.dropPosition.right:\"\",width:groupPosition.width / this.resizeUtils.getGridSize()+\"px\"}).addClass(this.dropPosition.placement);}}else if(this.dropOverElement){if(elementChildrenParent.data(\"sortable\")){elementChildrenParent.sortable(\"option\",\"disabled\",false);}\nthis.dropPosition=null;this.dropPlaceholder.removeClass(\"left right\");}};_proto.initDroppable=function initDroppable(group){var self=this;var headStyles;group.droppable({deactivate:function deactivate(){self.dropOverElement=null;self.dropPlaceholder.removeClass(\"left right\");_underscore.defer(function(){group.parents(\".element-children\").each(function(){if((0,_jquery)(this).data(\"sortable\")){(0,_jquery)(this).sortable(\"option\",\"disabled\",false);}});});},activate:function activate(){if((0,_registry.getDraggedContentTypeConfig)()===_config.getContentTypeConfig(\"column\")){var _ref;group.find(\".ui-sortable\").each(function(){if((0,_jquery)(this).data(\"sortable\")){(0,_jquery)(this).sortable(\"option\",\"disabled\",true);}});var classes=[\".pagebuilder-content-type.pagebuilder-column .pagebuilder-drop-indicator\",\".pagebuilder-content-type.pagebuilder-column .empty-container .content-type-container:before\"];headStyles=(0,_createStylesheet.createStyleSheet)((_ref={},_ref[classes.join(\", \")]={display:\"none!important\"},_ref));document.head.appendChild(headStyles);}else if(headStyles){headStyles.remove();headStyles=null;}},drop:function drop(){self.dropPositions=[];self.dropPlaceholder.removeClass(\"left right\");},out:function out(){self.dropOverElement=null;self.dropPlaceholder.removeClass(\"left right\");},over:function over(){if((0,_registry.getDraggedContentTypeConfig)()===_config.getContentTypeConfig(\"column\")){self.dropPositions=(0,_dragAndDrop.calculateDropPositions)(self.contentType);self.dropOverElement=true;}else{self.dropOverElement=null;}}});};_proto.spreadWidth=function spreadWidth(removedIndex){if(this.contentType.children().length===0){return;}\nvar availableWidth=100-this.resizeUtils.getColumnsWidth();var formattedAvailableWidth=(0,_resize.getRoundedColumnWidth)(availableWidth);var totalChildColumns=this.contentType.children().length;var allowedColumnWidths=[];var spreadAcross=1;var spreadAmount;for(var i=this.resizeUtils.getGridSize();i>0;i--){allowedColumnWidths.push((0,_resize.getRoundedColumnWidth)(100 / this.resizeUtils.getGridSize()*i));}\nfor(var _i=totalChildColumns;_i>0;_i--){var potentialWidth=Math.floor(formattedAvailableWidth / _i);for(var _iterator=_createForOfIteratorHelperLoose(allowedColumnWidths),_step;!(_step=_iterator()).done;){var width=_step.value;if(potentialWidth===Math.floor(width)){spreadAcross=_i;spreadAmount=formattedAvailableWidth / _i;break;}}\nif(spreadAmount){break;}}\nfor(var _i2=1;_i2<=spreadAcross;_i2++){var columnToModify=void 0;if(removedIndex<=this.contentType.children().length&&typeof this.contentType.children()[removedIndex]!==\"undefined\"){columnToModify=this.contentType.children()[removedIndex];}\nif(!columnToModify&&removedIndex-_i2>=0&&typeof this.contentType.children()[removedIndex-_i2]!==\"undefined\"){columnToModify=this.contentType.children()[removedIndex-_i2];}\nif(columnToModify){(0,_resize.updateColumnWidth)(columnToModify,this.resizeUtils.getColumnWidth(columnToModify)+spreadAmount);}}};_proto.removeIfEmpty=function removeIfEmpty(){if(this.contentType.children().length===0){this.contentType.parentContentType.removeChild(this.contentType);return;}};_proto.recordGridResize=function recordGridResize(newGridSize){var _this9=this;if(!this.gridSizeHistory.has(newGridSize)){var columnWidths=[];this.contentType.getChildren()().forEach(function(column){columnWidths.push(_this9.resizeUtils.getColumnWidth(column));});this.gridSizeHistory.set(newGridSize,columnWidths);}};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/button-item/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/content-type-menu/conditional-remove-option\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jquery,_knockout,_translate,_conditionalRemoveOption,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_preview2.call.apply(_preview2,[this].concat(args))||this;_this.buttonPlaceholder=(0,_translate)(\"Edit Button Text\");return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);delete options.title;delete options.move;options.remove=new _conditionalRemoveOption(_extends({},options.remove.config,{preview:this}));return options;};_proto.onClick=function onClick(index,event){(0,_jquery)(event.currentTarget).find(\"[contenteditable]\").focus();event.stopPropagation();};_proto.onFocusOut=function onFocusOut(index,event){if(this.contentType&&this.contentType.parentContentType){var parentPreview=this.contentType.parentContentType.preview;var unfocus=function unfocus(){window.getSelection().removeAllRanges();parentPreview.focusedButton(null);};if(event.relatedTarget&&_jquery.contains(parentPreview.wrapperElement,event.relatedTarget)){if((0,_jquery)(event.relatedTarget).closest(\".pagebuilder-options\").length>0){unfocus();}else{var buttonItem=_knockout.dataFor(event.relatedTarget);if(buttonItem&&buttonItem.contentType&&buttonItem.contentType.parentContentType&&buttonItem.contentType.parentContentType.id===this.contentType.parentContentType.id){var newIndex=buttonItem.contentType.parentContentType.children().indexOf(buttonItem.contentType);parentPreview.focusedButton(newIndex);}else{unfocus();}}}else if(parentPreview.focusedButton()===index){unfocus();}}};_proto.onFocusIn=function onFocusIn(index,event){var parentPreview=this.contentType.parentContentType.preview;if(parentPreview.focusedButton()!==index){parentPreview.focusedButton(index);}};_proto.onButtonMouseOver=function onButtonMouseOver(context,event){if(this.display()===false){this.onMouseOver(context,event);}};_proto.onButtonMouseOut=function onButtonMouseOut(context,event){if(this.display()===false){this.onMouseOut(context,event);}};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/button-item/converter/style/display.min.js":"define([\"underscore\",\"Magento_PageBuilder/js/utils/object\"],function(_underscore,_object){var Display=function(){\"use strict\";function Display(){}\nvar _proto=Display.prototype;_proto.fromDom=function fromDom(value){return!(value===\"none\");};_proto.toDom=function toDom(name,data){var value=(0,_object.get)(data,name);if(!_underscore.isUndefined(value)&&value===false){return\"none\";}\nreturn\"inline-block\";};return Display;}();return Display;});","Magento_PageBuilder/js/content-type/tab-item/preview.min.js":"function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}\nfunction _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"Magento_PageBuilder/js/content-type-menu/conditional-remove-option\",\"Magento_PageBuilder/js/content-type/preview-collection\"],function(_jquery,_knockout,_conditionalRemoveOption,_previewCollection){var Preview=function(_previewCollection2){\"use strict\";_inheritsLoose(Preview,_previewCollection2);function Preview(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}\n_this=_previewCollection2.call.apply(_previewCollection2,[this].concat(args))||this;_this.fieldsToIgnoreOnRemove=[\"tab_name\"];return _this;}\nvar _proto=Preview.prototype;_proto.getBackgroundImage=function getBackgroundImage(){var mobileImage=this.contentType.dataStore.get(\"mobile_image\");var desktopImage=this.contentType.dataStore.get(\"background_image\");var backgroundImage=this.viewport()===\"mobile\"&&mobileImage.length?mobileImage:desktopImage;return backgroundImage.length?\"url(\\\"\"+backgroundImage[0].url+\"\\\")\":\"none\";};_proto.onClick=function onClick(index,event){(0,_jquery)(event.currentTarget).find(\"[contenteditable]\").focus();event.stopPropagation();};_proto.onFocusIn=function onFocusIn(index,event){var parentPreview=this.contentType.parentContentType.preview;if(parentPreview.focusedTab()!==index){parentPreview.setFocusedTab(index,true);}};_proto.onFocusOut=function onFocusOut(index,event){if(this.contentType&&this.contentType.parentContentType){var parentPreview=this.contentType.parentContentType.preview;var unfocus=function unfocus(){window.getSelection().removeAllRanges();parentPreview.focusedTab(null);};if(event.relatedTarget&&_jquery.contains(parentPreview.wrapperElement,event.relatedTarget)){if((0,_jquery)(event.relatedTarget).closest(\".pagebuilder-options\").length>0){unfocus();}else{var tabItem=_knockout.dataFor(event.relatedTarget);if(tabItem&&tabItem.contentType&&tabItem.contentType.parentContentType&&tabItem.contentType.parentContentType.id===this.contentType.parentContentType.id){var newIndex=tabItem.contentType.parentContentType.children().indexOf(tabItem.contentType);parentPreview.setFocusedTab(newIndex,true);}else{unfocus();}}}else if(parentPreview.focusedTab()===index){unfocus();}}};_proto.retrieveOptions=function retrieveOptions(){var options=_previewCollection2.prototype.retrieveOptions.call(this);delete options.move;delete options.title;options.remove=new _conditionalRemoveOption(_extends({},options.remove.config,{preview:this}));return options;};return Preview;}(_previewCollection);return Preview;});","Magento_PageBuilder/js/content-type/block/preview.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"jquery\",\"knockout\",\"mage/translate\",\"Magento_PageBuilder/js/widget-initializer\",\"mageUtils\",\"underscore\",\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/content-type-menu/hide-show-option\",\"Magento_PageBuilder/js/content-type/style-registry\",\"Magento_PageBuilder/js/utils/object\",\"Magento_PageBuilder/js/content-type/preview\"],function(_jquery,_knockout,_translate,_widgetInitializer,_mageUtils,_underscore,_config,_hideShowOption,_styleRegistry,_object,_preview){var Preview=function(_preview2){\"use strict\";_inheritsLoose(Preview,_preview2);function Preview(contentType,config,observableUpdater){var _this;_this=_preview2.call(this,contentType,config,observableUpdater)||this;_this.displayingBlockPreview=_knockout.observable(false);_this.loading=_knockout.observable(false);_this.messages={NOT_SELECTED:(0,_translate)(\"Empty Block\"),UNKNOWN_ERROR:(0,_translate)(\"An unknown error occurred. Please try again.\")};_this.placeholderText=_knockout.observable(_this.messages.NOT_SELECTED);return _this;}\nvar _proto=Preview.prototype;_proto.retrieveOptions=function retrieveOptions(){var options=_preview2.prototype.retrieveOptions.call(this);options.hideShow=new _hideShowOption({preview:this,icon:_hideShowOption.showIcon,title:_hideShowOption.showText,action:this.onOptionVisibilityToggle,classes:[\"hide-show-content-type\"],sort:40});return options;};_proto.initializeWidgets=function initializeWidgets(element){if(element){this.element=element;(0,_widgetInitializer)({config:_config.getConfig(\"widgets\"),breakpoints:_config.getConfig(\"breakpoints\"),currentViewport:_config.getConfig(\"viewport\")},element);}};_proto.processBlockData=function processBlockData(data){this.displayPreviewPlaceholder(data,\"block_id\");if(data.block_id&&data.template.length!==0){this.processRequest(data,\"block_id\",\"title\");}};_proto.afterObservablesUpdated=function afterObservablesUpdated(){_preview2.prototype.afterObservablesUpdated.call(this);var data=this.contentType.dataStore.getState();this.processBlockData(data);};_proto.displayPreviewPlaceholder=function displayPreviewPlaceholder(data,identifierName){var blockId=(0,_object.get)(data,identifierName);if(this.lastBlockId===blockId&&this.lastTemplate===data.template){if(this.lastRenderedHtml){this.data.main.html(this.lastRenderedHtml);this.showBlockPreview(true);this.initializeWidgets(this.element);}}else{this.showBlockPreview(false);this.placeholderText(\"\");}\nif(!blockId||blockId&&blockId.toString().length===0||data.template.length===0){this.showBlockPreview(false);this.placeholderText(this.messages.NOT_SELECTED);return;}};_proto.processRequest=function processRequest(data,identifierName,labelKey){var _this2=this;var url=_config.getConfig(\"preview_url\");var identifier=(0,_object.get)(data,identifierName);var requestConfig={method:\"POST\",data:{role:this.config.name,block_id:identifier,directive:this.data.main.html()}};this.loading(true);_jquery.ajax(url,requestConfig).done(function(response){if(typeof response.data!==\"object\"){_this2.showBlockPreview(false);_this2.placeholderText(_this2.messages.UNKNOWN_ERROR);return;}\n_this2.displayLabel(response.data[labelKey]?response.data[labelKey]:_this2.config.label);var content=\"\";if(response.data.content){_this2.showBlockPreview(true);content=_this2.processContent(response.data.content);_this2.data.main.html(content);_this2.initializeWidgets(_this2.element);}else if(response.data.error){_this2.showBlockPreview(false);_this2.placeholderText(response.data.error);}\n_this2.lastBlockId=parseInt(identifier.toString(),10);_this2.lastTemplate=data.template.toString();_this2.lastRenderedHtml=content;}).fail(function(){_this2.showBlockPreview(false);_this2.placeholderText(_this2.messages.UNKNOWN_ERROR);}).always(function(){_this2.loading(false);});};_proto.showBlockPreview=function showBlockPreview(isShow){this.displayingBlockPreview(isShow);};_proto.processContent=function processContent(content){var processedContent=this.processBackgroundImages(content);processedContent=this.processBreakpointStyles(processedContent);return processedContent;};_proto.processBackgroundImages=function processBackgroundImages(content){var document=new DOMParser().parseFromString(content,\"text/html\");var elements=document.querySelectorAll(\"[data-background-images]\");var styleBlock=document.createElement(\"style\");var viewports=_config.getConfig(\"viewports\");elements.forEach(function(element){var rawAttrValue=element.getAttribute(\"data-background-images\").replace(/\\\\(.)/mg,\"$1\");var attrValue=JSON.parse(rawAttrValue);var elementClass=\"background-image-\"+_mageUtils.uniqueid(13);var rules=\"\";Object.keys(attrValue).forEach(function(imageName){var imageUrl=attrValue[imageName];var viewportName=imageName.replace(\"_image\",\"\");if(viewports[viewportName].stage&&imageUrl){rules+=\".\"+viewportName+\"-viewport .\"+elementClass+\" {\\n                            background-image: url(\\\"\"+imageUrl+\"\\\");\\n                        }\";}});if(rules.length){styleBlock.append(rules);element.classList.add(elementClass);}});if(elements.length&&styleBlock.innerText.length){document.body.append(styleBlock);content=document.head.innerHTML+document.body.innerHTML;}\nreturn content;};_proto.processBreakpointStyles=function processBreakpointStyles(content){var document=new DOMParser().parseFromString(content,\"text/html\");var styleBlocks=document.querySelectorAll(\"style\");var mediaStyleBlock=document.createElement(\"style\");var viewports=_config.getConfig(\"viewports\");styleBlocks.forEach(function(styleBlock){var cssRules=styleBlock.sheet.cssRules;Array.from(cssRules).forEach(function(rule){var mediaScope=rule instanceof CSSMediaRule&&_underscore.findKey(viewports,function(viewport){return rule.conditionText===viewport.media;});if(mediaScope){Array.from(rule.cssRules).forEach(function(mediaRule,index){if(mediaRule.selectorText.indexOf(_styleRegistry.pbStyleAttribute)!==-1){var searchPattern=new RegExp(_config.getConfig(\"bodyId\")+\" \",\"g\");var replaceValue=_config.getConfig(\"bodyId\")+\" .\"+mediaScope+\"-viewport \";var selector=mediaRule.selectorText.replace(searchPattern,replaceValue);mediaStyleBlock.append(selector+\" {\"+mediaRule.style.cssText+\"}\");}});}});});if(mediaStyleBlock.innerText.length){document.body.append(mediaStyleBlock);content=document.head.innerHTML+document.body.innerHTML;}\nreturn content;};return Preview;}(_preview);return Preview;});","Magento_PageBuilder/js/content-type/block/mass-converter/widget-directive.min.js":"function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}\nfunction _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}\ndefine([\"Magento_PageBuilder/js/mass-converter/widget-directive-abstract\",\"Magento_PageBuilder/js/utils/object\"],function(_widgetDirectiveAbstract,_object){var WidgetDirective=function(_widgetDirectiveAbstr){\"use strict\";_inheritsLoose(WidgetDirective,_widgetDirectiveAbstr);function WidgetDirective(){return _widgetDirectiveAbstr.apply(this,arguments)||this;}\nvar _proto=WidgetDirective.prototype;_proto.fromDom=function fromDom(data,config){var attributes=_widgetDirectiveAbstr.prototype.fromDom.call(this,data,config);data.template=attributes.template;data.block_id=attributes.block_id;return data;};_proto.toDom=function toDom(data,config){var attributes={type:\"Magento\\\\Cms\\\\Block\\\\Widget\\\\Block\",template:data.template,block_id:data.block_id,type_name:\"CMS Static Block\"};if(!attributes.block_id||!attributes.template){return data;}\n(0,_object.set)(data,config.html_variable,this.buildDirective(attributes));return data;};return WidgetDirective;}(_widgetDirectiveAbstract);return WidgetDirective;});","Magento_PageBuilder/js/wysiwyg/tinymce4.min.js":"define([\"jquery\",\"mage/adminhtml/wysiwyg/events\",\"mage/adminhtml/wysiwyg/tiny_mce/setup\",\"Magento_PageBuilder/js/events\",\"underscore\",\"Magento_PageBuilder/js/utils/check-stage-full-screen\",\"Magento_PageBuilder/js/utils/pagebuilder-header-height\"],function(_jquery,_events,_setup,_events2,_underscore,_checkStageFullScreen,_pagebuilderHeaderHeight){var Wysiwyg=function(){\"use strict\";function Wysiwyg(contentTypeId,elementId,config,dataStore,fieldName,stageId){this.saveContentDebounce=_underscore.debounce(this.saveContentFromWysiwygToDataStore.bind(this),500);this.contentTypeId=contentTypeId;this.elementId=elementId;this.fieldName=fieldName;this.config=config;this.dataStore=dataStore;this.stageId=stageId;if(this.config.adapter_config.mode===\"inline\"){this.config.adapter.tinymce4.content_css=[];}\nvar wysiwygSetup=new _setup(this.elementId,this.config.adapter);wysiwygSetup.setup(this.config.adapter_config.mode);this.wysiwygAdapter=wysiwygSetup.wysiwygInstance;if(this.config.adapter_config.mode===\"inline\"){this.wysiwygAdapter.eventBus.attachEventHandler(_events.afterFocus,this.onFocus.bind(this));this.wysiwygAdapter.eventBus.attachEventHandler(_events.afterBlur,this.onBlur.bind(this));}\nthis.wysiwygAdapter.eventBus.attachEventHandler(_events.afterChangeContent,this.onChangeContent.bind(this));_events2.on(\"form:\"+this.contentTypeId+\":saveAfter\",this.setContentFromDataStoreToWysiwyg.bind(this));_events2.on(\"stage:\"+this.stageId+\":fullScreenModeChangeAfter\",this.toggleFullScreen.bind(this));}\nvar _proto=Wysiwyg.prototype;_proto.toggleFullScreen=function toggleFullScreen(){var _this=this;var $editor=(0,_jquery)(\"#\"+this.elementId);_underscore.defer(function(){if(!(0,_checkStageFullScreen)(_this.stageId)&&_this.config.adapter_config.mode===\"inline\"&&$editor.hasClass(\"mce-edit-focus\")){$editor.removeClass(\"mce-edit-focus\");_this.onBlur();}});};_proto.getAdapter=function getAdapter(){return this.wysiwygAdapter;};_proto.onFocus=function onFocus(){var _this2=this;this.getFixedToolbarContainer().addClass(\"pagebuilder-toolbar-active\");_events2.trigger(\"stage:interactionStart\");_underscore.defer(function(){_this2.getFixedToolbarContainer().find(\".mce-tinymce-inline\").css(\"min-width\",_this2.config.adapter_config.minToolbarWidth+\"px\");_this2.invertInlineEditorToAccommodateOffscreenToolbar();});};_proto.onChangeContent=function onChangeContent(){this.saveContentDebounce();this.invertInlineEditorToAccommodateOffscreenToolbar();};_proto.onBlur=function onBlur(){this.getFixedToolbarContainer().removeClass(\"pagebuilder-toolbar-active\").find(\".mce-tinymce-inline\").css(\"transform\",\"\");_events2.trigger(\"stage:interactionStop\");};_proto.saveContentFromWysiwygToDataStore=function saveContentFromWysiwygToDataStore(){this.dataStore.set(this.fieldName,this.getAdapter().getContent());};_proto.setContentFromDataStoreToWysiwyg=function setContentFromDataStoreToWysiwyg(){this.getAdapter().setContent(this.dataStore.get(this.fieldName));};_proto.invertInlineEditorToAccommodateOffscreenToolbar=function invertInlineEditorToAccommodateOffscreenToolbar(){if(this.config.adapter_config.mode!==\"inline\"){return;}\nvar $inlineToolbar=this.getFixedToolbarContainer().find(\".mce-tinymce-inline\");if(!$inlineToolbar.length){return;}\nvar inlineWysiwygClientRectTop=this.getFixedToolbarContainer().get(0).getBoundingClientRect().top-(0,_pagebuilderHeaderHeight)(this.stageId);if(!(0,_checkStageFullScreen)(this.stageId)||$inlineToolbar.height()<inlineWysiwygClientRectTop){$inlineToolbar.css(\"transform\",\"translateY(-100%)\");return;}\n$inlineToolbar.css(\"transform\",\"translateY(\"+this.getFixedToolbarContainer().height()+\"px)\");};_proto.getFixedToolbarContainer=function getFixedToolbarContainer(){return(0,_jquery)(\"#\"+this.elementId).closest(\"\"+this.config.adapter.settings.fixed_toolbar_container);};return Wysiwyg;}();return Wysiwyg;});","Magento_PageBuilder/js/wysiwyg/wysiwyg-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/wysiwyg/factory.min.js":"define([\"jquery\",\"Magento_PageBuilder/js/utils/loader\"],function(_jquery,_loader){function create(contentTypeId,elementId,contentTypeName,config,dataStore,fieldName,stageId){config=_jquery.extend(true,{},config);return new Promise(function(resolve){(0,_loader)([config.adapter_config.component],function(WysiwygInstance){new Promise(function(configResolve){if(config.adapter_config.config_modifiers&&config.adapter_config.config_modifiers[contentTypeName]){(0,_loader)([config.adapter_config.config_modifiers[contentTypeName]],function(ConfigModifierType){var modifier=new ConfigModifierType();modifier.modify(contentTypeId,config);configResolve();});}else{configResolve();}}).then(function(){var wysiwyg=new WysiwygInstance(contentTypeId,elementId,config,dataStore,fieldName,stageId);if(config.adapter_config.component_initializers&&config.adapter_config.component_initializers[contentTypeName]){(0,_loader)([config.adapter_config.component_initializers[contentTypeName]],function(InitializerType){var initializer=new InitializerType();initializer.initialize(wysiwyg);resolve(wysiwyg);});}else{resolve(wysiwyg);}});});});}\nreturn create;});","Magento_PageBuilder/js/wysiwyg/component-initializer-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/wysiwyg/config-modifier-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/types/text.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/property/paddings.min.js":"define([],function(){var Paddings=function(){\"use strict\";function Paddings(){}\nvar _proto=Paddings.prototype;_proto.read=function read(element){return{padding:{left:element.style.paddingLeft,top:element.style.paddingTop,right:element.style.paddingRight,bottom:element.style.paddingBottom}};};return Paddings;}();return Paddings;});","Magento_PageBuilder/js/property/style-property-reader.min.js":"define([\"Magento_PageBuilder/js/utils/string\"],function(_string){var StylePropertyReader=function(){\"use strict\";function StylePropertyReader(){}\nvar _proto=StylePropertyReader.prototype;_proto.read=function read(element,source){var camelCasedSource=(0,_string.fromSnakeToCamelCase)(source);return element.style[camelCasedSource];};return StylePropertyReader;}();return StylePropertyReader;});","Magento_PageBuilder/js/property/attribute-reader.min.js":"define([],function(){var AttributeReader=function(){\"use strict\";function AttributeReader(){}\nvar _proto=AttributeReader.prototype;_proto.read=function read(element,source){return element.getAttribute(source);};return AttributeReader;}();return AttributeReader;});","Magento_PageBuilder/js/property/property-reader-interface.min.js":"define([],function(){\"use strict\";});","Magento_PageBuilder/js/property/margins.min.js":"define([],function(){var Margins=function(){\"use strict\";function Margins(){}\nvar _proto=Margins.prototype;_proto.read=function read(element){return{margin:{left:element.style.marginLeft,top:element.style.marginTop,right:element.style.marginRight,bottom:element.style.marginBottom}};};return Margins;}();return Margins;});","Magento_PageBuilder/js/property/property-reader-pool.min.js":"define([],function(){var PropertyReaderPool=function(){\"use strict\";function PropertyReaderPool(){this.propertyReaders={};}\nvar _proto=PropertyReaderPool.prototype;_proto.get=function get(name){return this.propertyReaders[name]!==undefined?this.propertyReaders[name]:null;};_proto.register=function register(name,property){this.propertyReaders[name]=property;};return PropertyReaderPool;}();var _default=new PropertyReaderPool();return Object.assign(_default,{PropertyReaderPool:PropertyReaderPool});});","Magento_PageBuilder/js/property/property-reader-pool-factory.min.js":"function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}\nfunction _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}\nfunction _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}\ndefine([\"Magento_PageBuilder/js/config\",\"Magento_PageBuilder/js/utils/loader\",\"Magento_PageBuilder/js/property/property-reader-pool\"],function(_config,_loader,_propertyReaderPool){function create(contentType){var config=_config.getContentTypeConfig(contentType);var propertyReaders=[];var appearanceName;for(var _i=0,_Object$keys=Object.keys(config.appearances);_i<_Object$keys.length;_i++){appearanceName=_Object$keys[_i];var appearance=config.appearances[appearanceName];if(appearance!==undefined&&appearance.elements!==undefined){var elementName=void 0;for(var _i2=0,_Object$keys2=Object.keys(appearance.elements);_i2<_Object$keys2.length;_i2++){elementName=_Object$keys2[_i2];var element=appearance.elements[elementName];if(element.style!==undefined){for(var _iterator=_createForOfIteratorHelperLoose(element.style),_step;!(_step=_iterator()).done;){var propertyConfig=_step.value;if(propertyConfig.reader&&propertyReaders.indexOf(propertyConfig.reader)===-1&&!_propertyReaderPool.get(propertyConfig.reader)){propertyReaders.push(propertyConfig.reader);}}}\nif(element.attributes!==undefined){for(var _iterator2=_createForOfIteratorHelperLoose(element.attributes),_step2;!(_step2=_iterator2()).done;){var attributeConfig=_step2.value;if(attributeConfig.reader&&propertyReaders.indexOf(attributeConfig.reader)===-1&&!_propertyReaderPool.get(attributeConfig.reader)){propertyReaders.push(attributeConfig.reader);}}}}}}\nreturn new Promise(function(resolve){(0,_loader)(propertyReaders,function(){for(var _len=arguments.length,loadedPropertyReaders=new Array(_len),_key=0;_key<_len;_key++){loadedPropertyReaders[_key]=arguments[_key];}\nfor(var i=0;i<propertyReaders.length;i++){_propertyReaderPool.register(propertyReaders[i],new loadedPropertyReaders[i]());}\nresolve(_propertyReaderPool);});});}\nreturn create;});","Magento_PageBuilder/js/property/link.min.js":"define([],function(){var Link=function(){\"use strict\";function Link(){this.regexpByLinkType={category:new RegExp(/id_path=['\"]category\\/(\\d+)/),product:new RegExp(/id_path=['\"]product\\/(\\d+)/),page:new RegExp(/page_id=['\"](\\d+)/)};}\nvar _proto=Link.prototype;_proto.read=function read(element){var _ref;var href=element.getAttribute(\"href\");var attributeLinkType=element.getAttribute(\"data-link-type\");if(typeof href===\"string\"&&attributeLinkType!==\"default\"){href=this.getIdFromWidgetSyntax(href,this.regexpByLinkType[attributeLinkType]);}\nreturn _ref={},_ref[attributeLinkType]=href,_ref.setting=element.getAttribute(\"target\")===\"_blank\",_ref.type=attributeLinkType,_ref;};_proto.getIdFromWidgetSyntax=function getIdFromWidgetSyntax(href,regexp){var attributeIdMatches=href.match(regexp);if(!attributeIdMatches){return href;}\nreturn attributeIdMatches[1];};return Link;}();return Link;});","Magento_PageBuilder/js/resource/object-path.min.js":"(function(root,factory){'use strict';if(typeof module==='object'&&typeof module.exports==='object'){module.exports=factory();}else if(typeof define==='function'&&define.amd){define([],factory);}else{root.objectPath=factory();}})(this,function(){'use strict';var toStr=Object.prototype.toString;function hasOwnProperty(obj,prop){if(obj==null){return false}\nreturn Object.prototype.hasOwnProperty.call(obj,prop)}\nfunction isEmpty(value){if(!value){return true;}\nif(isArray(value)&&value.length===0){return true;}else if(typeof value!=='string'){for(var i in value){if(hasOwnProperty(value,i)){return false;}}\nreturn true;}\nreturn false;}\nfunction toString(type){return toStr.call(type);}\nfunction isObject(obj){return typeof obj==='object'&&toString(obj)===\"[object Object]\";}\nvar isArray=Array.isArray||function(obj){return toStr.call(obj)==='[object Array]';}\nfunction isBoolean(obj){return typeof obj==='boolean'||toString(obj)==='[object Boolean]';}\nfunction getKey(key){var intKey=parseInt(key);if(intKey.toString()===key){return intKey;}\nreturn key;}\nfunction factory(options){options=options||{}\nvar objectPath=function(obj){return Object.keys(objectPath).reduce(function(proxy,prop){if(prop==='create'){return proxy;}\nif(typeof objectPath[prop]==='function'){proxy[prop]=objectPath[prop].bind(objectPath,obj);}\nreturn proxy;},{});};var hasShallowProperty\nif(options.includeInheritedProps){hasShallowProperty=function(){return true}}else{hasShallowProperty=function(obj,prop){return(typeof prop==='number'&&Array.isArray(obj))||hasOwnProperty(obj,prop)}}\nfunction getShallowProperty(obj,prop){if(hasShallowProperty(obj,prop)){return obj[prop];}}\nfunction set(obj,path,value,doNotReplace){if(typeof path==='number'){path=[path];}\nif(!path||path.length===0){return obj;}\nif(typeof path==='string'){return set(obj,path.split('.').map(getKey),value,doNotReplace);}\nvar currentPath=path[0];var currentValue=getShallowProperty(obj,currentPath);if(options.includeInheritedProps&&(currentPath==='__proto__'||(currentPath==='constructor'&&typeof currentValue==='function'))){throw new Error('For security reasons, object\\'s magic properties cannot be set')}\nif(path.length===1){if(currentValue===void 0||!doNotReplace){obj[currentPath]=value;}\nreturn currentValue;}\nif(currentValue===void 0){if(typeof path[1]==='number'){obj[currentPath]=[];}else{obj[currentPath]={};}}\nreturn set(obj[currentPath],path.slice(1),value,doNotReplace);}\nobjectPath.has=function(obj,path){if(typeof path==='number'){path=[path];}else if(typeof path==='string'){path=path.split('.');}\nif(!path||path.length===0){return!!obj;}\nfor(var i=0;i<path.length;i++){var j=getKey(path[i]);if((typeof j==='number'&&isArray(obj)&&j<obj.length)||(options.includeInheritedProps?(j in Object(obj)):hasOwnProperty(obj,j))){obj=obj[j];}else{return false;}}\nreturn true;};objectPath.ensureExists=function(obj,path,value){return set(obj,path,value,true);};objectPath.set=function(obj,path,value,doNotReplace){return set(obj,path,value,doNotReplace);};objectPath.insert=function(obj,path,value,at){var arr=objectPath.get(obj,path);at=~~at;if(!isArray(arr)){arr=[];objectPath.set(obj,path,arr);}\narr.splice(at,0,value);};objectPath.empty=function(obj,path){if(isEmpty(path)){return void 0;}\nif(obj==null){return void 0;}\nvar value,i;if(!(value=objectPath.get(obj,path))){return void 0;}\nif(typeof value==='string'){return objectPath.set(obj,path,'');}else if(isBoolean(value)){return objectPath.set(obj,path,false);}else if(typeof value==='number'){return objectPath.set(obj,path,0);}else if(isArray(value)){value.length=0;}else if(isObject(value)){for(i in value){if(hasShallowProperty(value,i)){delete value[i];}}}else{return objectPath.set(obj,path,null);}};objectPath.push=function(obj,path){var arr=objectPath.get(obj,path);if(!isArray(arr)){arr=[];objectPath.set(obj,path,arr);}\narr.push.apply(arr,Array.prototype.slice.call(arguments,2));};objectPath.coalesce=function(obj,paths,defaultValue){var value;for(var i=0,len=paths.length;i<len;i++){if((value=objectPath.get(obj,paths[i]))!==void 0){return value;}}\nreturn defaultValue;};objectPath.get=function(obj,path,defaultValue){if(typeof path==='number'){path=[path];}\nif(!path||path.length===0){return obj;}\nif(obj==null){return defaultValue;}\nif(typeof path==='string'){return objectPath.get(obj,path.split('.'),defaultValue);}\nvar currentPath=getKey(path[0]);var nextObj=getShallowProperty(obj,currentPath)\nif(nextObj===void 0){return defaultValue;}\nif(path.length===1){return nextObj;}\nreturn objectPath.get(obj[currentPath],path.slice(1),defaultValue);};objectPath.del=function del(obj,path){if(typeof path==='number'){path=[path];}\nif(obj==null){return obj;}\nif(isEmpty(path)){return obj;}\nif(typeof path==='string'){return objectPath.del(obj,path.split('.'));}\nvar currentPath=getKey(path[0]);if(!hasShallowProperty(obj,currentPath)){return obj;}\nif(path.length===1){if(isArray(obj)){obj.splice(currentPath,1);}else{delete obj[currentPath];}}else{return objectPath.del(obj[currentPath],path.slice(1));}\nreturn obj;}\nreturn objectPath;}\nvar mod=factory();mod.create=factory;mod.withInheritedProps=factory({includeInheritedProps:true})\nreturn mod;});","Magento_PageBuilder/js/resource/dropzone/knockout-dropzone.min.js":"(function(factory){if(typeof define==='function'&&define.amd){define(['knockout','jquery','Magento_PageBuilder/js/resource/dropzone/dropzone','mage/translate'],factory);}else if(typeof require==='function'&&typeof exports==='object'&&typeof module==='object'){var ko=require('knockout'),jQuery=require('jquery'),Dropzone=require('Magento_PageBuilder/js/resource/dropzone/dropzone'),translate=require('mage/translate');factory(ko,jQuery,Dropzone,translate);}else{factory(window.ko,window.jQuery,window.Dropzone,window.translate);}})(function(ko,jQuery,Dropzone,$t){ko.bindingHandlers.dropzone={init:function(element,valueAccessor){var value=ko.unwrap(valueAccessor()),originalSuccess=value.success,options={uploadMultiple:false,createImageThumbnails:false,addRemoveLinks:false,dictDefaultMessage:$t('Drop files here, or click to upload'),init:function(){this.on('sending',function(file,xhr,formData){formData.append('form_key',FORM_KEY);});},success:function(file,response){return originalSuccess.call(this,file,response,value.bindKey);}};delete value.success;jQuery.extend(options,value);jQuery(element).addClass('dropzone');new Dropzone(element,options);}};});","Magento_PageBuilder/js/resource/dropzone/dropzone.min.js":"(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}(function(jQuery){var module={exports:{}};(function(){var Dropzone,Emitter,camelize,contentLoaded,detectVerticalSquash,drawImageIOSFix,noop,without,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;};noop=function(){};Emitter=(function(){function Emitter(){}\nEmitter.prototype.addEventListener=Emitter.prototype.on;Emitter.prototype.on=function(event,fn){this._callbacks=this._callbacks||{};if(!this._callbacks[event]){this._callbacks[event]=[];}\nthis._callbacks[event].push(fn);return this;};Emitter.prototype.emit=function(){var args,callback,callbacks,event,_i,_len;event=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];this._callbacks=this._callbacks||{};callbacks=this._callbacks[event];if(callbacks){for(_i=0,_len=callbacks.length;_i<_len;_i++){callback=callbacks[_i];callback.apply(this,args);}}\nreturn this;};Emitter.prototype.removeListener=Emitter.prototype.off;Emitter.prototype.removeAllListeners=Emitter.prototype.off;Emitter.prototype.removeEventListener=Emitter.prototype.off;Emitter.prototype.off=function(event,fn){var callback,callbacks,i,_i,_len;if(!this._callbacks||arguments.length===0){this._callbacks={};return this;}\ncallbacks=this._callbacks[event];if(!callbacks){return this;}\nif(arguments.length===1){delete this._callbacks[event];return this;}\nfor(i=_i=0,_len=callbacks.length;_i<_len;i=++_i){callback=callbacks[i];if(callback===fn){callbacks.splice(i,1);break;}}\nreturn this;};return Emitter;})();Dropzone=(function(_super){var extend,resolveOption;__extends(Dropzone,_super);Dropzone.prototype.Emitter=Emitter;Dropzone.prototype.events=[\"drop\",\"dragstart\",\"dragend\",\"dragenter\",\"dragover\",\"dragleave\",\"addedfile\",\"addedfiles\",\"removedfile\",\"thumbnail\",\"error\",\"errormultiple\",\"processing\",\"processingmultiple\",\"uploadprogress\",\"totaluploadprogress\",\"sending\",\"sendingmultiple\",\"success\",\"successmultiple\",\"canceled\",\"canceledmultiple\",\"complete\",\"completemultiple\",\"reset\",\"maxfilesexceeded\",\"maxfilesreached\",\"queuecomplete\"];Dropzone.prototype.defaultOptions={url:null,method:\"post\",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:\"file\",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:\"body\",capture:null,dictDefaultMessage:\"Drop files here to upload\",dictFallbackMessage:\"Your browser does not support drag'n'drop file uploads.\",dictFallbackText:\"Please use the fallback form below to upload your files like in the olden days.\",dictFileTooBig:\"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",dictInvalidFileType:\"You can't upload files of this type.\",dictResponseError:\"Server responded with {{statusCode}} code.\",dictCancelUpload:\"Cancel upload\",dictCancelUploadConfirmation:\"Are you sure you want to cancel this upload?\",dictRemoveFile:\"Remove file\",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:\"You can not upload any more files.\",accept:function(file,done){return done();},init:function(){return noop;},forceFallback:false,fallback:function(){var child,messageElement,span,_i,_len,_ref;this.element.className=\"\"+this.element.className+\" dz-browser-not-supported\";_ref=this.element.getElementsByTagName(\"div\");for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];if(/(^| )dz-message($| )/.test(child.className)){messageElement=child;child.className=\"dz-message\";continue;}}\nif(!messageElement){messageElement=Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");this.element.appendChild(messageElement);}\nspan=messageElement.getElementsByTagName(\"span\")[0];if(span){if(span.textContent!=null){span.textContent=this.options.dictFallbackMessage;}else if(span.innerText!=null){span.innerText=this.options.dictFallbackMessage;}}\nreturn this.element.appendChild(this.getFallbackForm());},resize:function(file){var info,srcRatio,trgRatio;info={srcX:0,srcY:0,srcWidth:file.width,srcHeight:file.height};srcRatio=file.width / file.height;info.optWidth=this.options.thumbnailWidth;info.optHeight=this.options.thumbnailHeight;if((info.optWidth==null)&&(info.optHeight==null)){info.optWidth=info.srcWidth;info.optHeight=info.srcHeight;}else if(info.optWidth==null){info.optWidth=srcRatio*info.optHeight;}else if(info.optHeight==null){info.optHeight=(1 / srcRatio)*info.optWidth;}\ntrgRatio=info.optWidth / info.optHeight;if(file.height<info.optHeight||file.width<info.optWidth){info.trgHeight=info.srcHeight;info.trgWidth=info.srcWidth;}else{if(srcRatio>trgRatio){info.srcHeight=file.height;info.srcWidth=info.srcHeight*trgRatio;}else{info.srcWidth=file.width;info.srcHeight=info.srcWidth / trgRatio;}}\ninfo.srcX=(file.width-info.srcWidth)/ 2;info.srcY=(file.height-info.srcHeight)/ 2;return info;},drop:function(e){return this.element.classList.remove(\"dz-drag-hover\");},dragstart:noop,dragend:function(e){return this.element.classList.remove(\"dz-drag-hover\");},dragenter:function(e){return this.element.classList.add(\"dz-drag-hover\");},dragover:function(e){return this.element.classList.add(\"dz-drag-hover\");},dragleave:function(e){return this.element.classList.remove(\"dz-drag-hover\");},paste:noop,reset:function(){return this.element.classList.remove(\"dz-started\");},addedfile:function(file){var node,removeFileEvent,removeLink,_i,_j,_k,_len,_len1,_len2,_ref,_ref1,_ref2,_results;if(this.element===this.previewsContainer){this.element.classList.add(\"dz-started\");}\nif(this.previewsContainer){file.previewElement=Dropzone.createElement(this.options.template.trim());file.template=file.previewElement;this.previewsContainer.appendChild(file.previewElement);_ref=file.previewElement.querySelectorAll(\"[data-dz-name]\");for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];node.textContent=file.name;}\n_ref1=file.previewElement.querySelectorAll(\"[data-dz-size]\");for(_j=0,_len1=_ref1.length;_j<_len1;_j++){node=_ref1[_j];node.innerHTML=this.filesize(file.size);}\nif(this.options.addRemoveLinks){file._removeLink=Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\"+this.options.dictRemoveFile+\"</a>\");file.previewElement.appendChild(file._removeLink);}\nremoveFileEvent=(function(_this){return function(e){e.preventDefault();e.stopPropagation();if(file.status===Dropzone.UPLOADING){return Dropzone.confirm(_this.options.dictCancelUploadConfirmation,function(){return _this.removeFile(file);});}else{if(_this.options.dictRemoveFileConfirmation){return Dropzone.confirm(_this.options.dictRemoveFileConfirmation,function(){return _this.removeFile(file);});}else{return _this.removeFile(file);}}};})(this);_ref2=file.previewElement.querySelectorAll(\"[data-dz-remove]\");_results=[];for(_k=0,_len2=_ref2.length;_k<_len2;_k++){removeLink=_ref2[_k];_results.push(removeLink.addEventListener(\"click\",removeFileEvent));}\nreturn _results;}},removedfile:function(file){var _ref;if(file.previewElement){if((_ref=file.previewElement)!=null){_ref.parentNode.removeChild(file.previewElement);}}\nreturn this._updateMaxFilesReachedClass();},thumbnail:function(file,dataUrl){var thumbnailElement,_i,_len,_ref;if(file.previewElement){file.previewElement.classList.remove(\"dz-file-preview\");_ref=file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");for(_i=0,_len=_ref.length;_i<_len;_i++){thumbnailElement=_ref[_i];thumbnailElement.alt=file.name;thumbnailElement.src=dataUrl;}\nreturn setTimeout(((function(_this){return function(){return file.previewElement.classList.add(\"dz-image-preview\");};})(this)),1);}},error:function(file,message){var node,_i,_len,_ref,_results;if(file.previewElement){file.previewElement.classList.add(\"dz-error\");if(typeof message!==\"String\"&&message.error){message=message.error;}\n_ref=file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.textContent=message);}\nreturn _results;}},errormultiple:noop,processing:function(file){if(file.previewElement){file.previewElement.classList.add(\"dz-processing\");if(file._removeLink){return file._removeLink.textContent=this.options.dictCancelUpload;}}},processingmultiple:noop,uploadprogress:function(file,progress,bytesSent){var node,_i,_len,_ref,_results;if(file.previewElement){_ref=file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];if(node.nodeName==='PROGRESS'){_results.push(node.value=progress);}else{_results.push(node.style.width=\"\"+progress+\"%\");}}\nreturn _results;}},totaluploadprogress:noop,sending:noop,sendingmultiple:noop,success:function(file){if(file.previewElement){return file.previewElement.classList.add(\"dz-success\");}},successmultiple:noop,canceled:function(file){return this.emit(\"error\",file,\"Upload canceled.\");},canceledmultiple:noop,complete:function(file){if(file._removeLink){file._removeLink.textContent=this.options.dictRemoveFile;}\nif(file.previewElement){return file.previewElement.classList.add(\"dz-complete\");}},completemultiple:noop,maxfilesexceeded:noop,maxfilesreached:noop,queuecomplete:noop,addedfiles:noop,template:\"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"};extend=function(){var key,object,objects,target,val,_i,_len;target=arguments[0],objects=2<=arguments.length?__slice.call(arguments,1):[];for(_i=0,_len=objects.length;_i<_len;_i++){object=objects[_i];for(key in object){val=object[key];target[key]=val;}}\nreturn target;};function Dropzone(element,options){var elementOptions,fallback,_ref;this.element=element;this.version=Dropzone.version;this.defaultOptions.template=this.defaultOptions.template.replace(/\\n*/g,\"\");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element===\"string\"){this.element=document.querySelector(this.element);}\nif(!(this.element&&(this.element.nodeType!=null))){throw new Error(\"Invalid dropzone element.\");}\nif(this.element.dropzone){throw new Error(\"Dropzone already attached.\");}\nDropzone.instances.push(this);this.element.dropzone=this;elementOptions=(_ref=Dropzone.optionsForElement(this.element))!=null?_ref:{};this.options=extend({},this.defaultOptions,elementOptions,options!=null?options:{});if(this.options.forceFallback||!Dropzone.isBrowserSupported()){return this.options.fallback.call(this);}\nif(this.options.url==null){this.options.url=this.element.getAttribute(\"action\");}\nif(!this.options.url){throw new Error(\"No URL provided.\");}\nif(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");}\nif(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes;}\nthis.options.method=this.options.method.toUpperCase();if((fallback=this.getExistingFallback())&&fallback.parentNode){fallback.parentNode.removeChild(fallback);}\nif(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=Dropzone.getElement(this.options.previewsContainer,\"previewsContainer\");}else{this.previewsContainer=this.element;}}\nif(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element];}else{this.clickableElements=Dropzone.getElements(this.options.clickable,\"clickable\");}}\nthis.init();}\nDropzone.prototype.getAcceptedFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.accepted){_results.push(file);}}\nreturn _results;};Dropzone.prototype.getRejectedFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(!file.accepted){_results.push(file);}}\nreturn _results;};Dropzone.prototype.getFilesWithStatus=function(status){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status===status){_results.push(file);}}\nreturn _results;};Dropzone.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(Dropzone.QUEUED);};Dropzone.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(Dropzone.UPLOADING);};Dropzone.prototype.getAddedFiles=function(){return this.getFilesWithStatus(Dropzone.ADDED);};Dropzone.prototype.getActiveFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status===Dropzone.UPLOADING||file.status===Dropzone.QUEUED){_results.push(file);}}\nreturn _results;};Dropzone.prototype.init=function(){var eventName,noPropagation,setupHiddenFileInput,_i,_len,_ref,_ref1;if(this.element.tagName===\"form\"){this.element.setAttribute(\"enctype\",\"multipart/form-data\");}\nif(this.element.classList.contains(\"dropzone\")&&!this.element.querySelector(\".dz-message\")){this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\"+this.options.dictDefaultMessage+\"</span></div>\"));}\nif(this.clickableElements.length){setupHiddenFileInput=(function(_this){return function(){if(_this.hiddenFileInput){_this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);}\n_this.hiddenFileInput=document.createElement(\"input\");_this.hiddenFileInput.setAttribute(\"type\",\"file\");if((_this.options.maxFiles==null)||_this.options.maxFiles>1){_this.hiddenFileInput.setAttribute(\"multiple\",\"multiple\");}\n_this.hiddenFileInput.className=\"dz-hidden-input\";if(_this.options.acceptedFiles!=null){_this.hiddenFileInput.setAttribute(\"accept\",_this.options.acceptedFiles);}\nif(_this.options.capture!=null){_this.hiddenFileInput.setAttribute(\"capture\",_this.options.capture);}\n_this.hiddenFileInput.style.visibility=\"hidden\";_this.hiddenFileInput.style.position=\"absolute\";_this.hiddenFileInput.style.top=\"0\";_this.hiddenFileInput.style.left=\"0\";_this.hiddenFileInput.style.height=\"0\";_this.hiddenFileInput.style.width=\"0\";document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);return _this.hiddenFileInput.addEventListener(\"change\",function(){var file,files,_i,_len;files=_this.hiddenFileInput.files;if(files.length){for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];_this.addFile(file);}}\n_this.emit(\"addedfiles\",files);return setupHiddenFileInput();});};})(this);setupHiddenFileInput();}\nthis.URL=(_ref=window.URL)!=null?_ref:window.webkitURL;_ref1=this.events;for(_i=0,_len=_ref1.length;_i<_len;_i++){eventName=_ref1[_i];this.on(eventName,this.options[eventName]);}\nthis.on(\"uploadprogress\",(function(_this){return function(){return _this.updateTotalUploadProgress();};})(this));this.on(\"removedfile\",(function(_this){return function(){return _this.updateTotalUploadProgress();};})(this));this.on(\"canceled\",(function(_this){return function(file){return _this.emit(\"complete\",file);};})(this));this.on(\"complete\",(function(_this){return function(file){if(_this.getAddedFiles().length===0&&_this.getUploadingFiles().length===0&&_this.getQueuedFiles().length===0){return setTimeout((function(){return _this.emit(\"queuecomplete\");}),0);}};})(this));noPropagation=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault();}else{return e.returnValue=false;}};this.listeners=[{element:this.element,events:{\"dragstart\":(function(_this){return function(e){return _this.emit(\"dragstart\",e);};})(this),\"dragenter\":(function(_this){return function(e){noPropagation(e);return _this.emit(\"dragenter\",e);};})(this),\"dragover\":(function(_this){return function(e){var efct;try{efct=e.dataTransfer.effectAllowed;}catch(_error){}\ne.dataTransfer.dropEffect='move'===efct||'linkMove'===efct?'move':'copy';noPropagation(e);return _this.emit(\"dragover\",e);};})(this),\"dragleave\":(function(_this){return function(e){return _this.emit(\"dragleave\",e);};})(this),\"drop\":(function(_this){return function(e){noPropagation(e);return _this.drop(e);};})(this),\"dragend\":(function(_this){return function(e){return _this.emit(\"dragend\",e);};})(this)}}];this.clickableElements.forEach((function(_this){return function(clickableElement){return _this.listeners.push({element:clickableElement,events:{\"click\":function(evt){if((clickableElement!==_this.element)||(evt.target===_this.element||Dropzone.elementInside(evt.target,_this.element.querySelector(\".dz-message\")))){_this.hiddenFileInput.click();}\nreturn true;}}});};})(this));this.enable();return this.options.init.call(this);};Dropzone.prototype.destroy=function(){var _ref;this.disable();this.removeAllFiles(true);if((_ref=this.hiddenFileInput)!=null?_ref.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null;}\ndelete this.element.dropzone;return Dropzone.instances.splice(Dropzone.instances.indexOf(this),1);};Dropzone.prototype.updateTotalUploadProgress=function(){var activeFiles,file,totalBytes,totalBytesSent,totalUploadProgress,_i,_len,_ref;totalBytesSent=0;totalBytes=0;activeFiles=this.getActiveFiles();if(activeFiles.length){_ref=this.getActiveFiles();for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];totalBytesSent+=file.upload.bytesSent;totalBytes+=file.upload.total;}\ntotalUploadProgress=100*totalBytesSent / totalBytes;}else{totalUploadProgress=100;}\nreturn this.emit(\"totaluploadprogress\",totalUploadProgress,totalBytes,totalBytesSent);};Dropzone.prototype._getParamName=function(n){if(typeof this.options.paramName===\"function\"){return this.options.paramName(n);}else{return\"\"+this.options.paramName+(this.options.uploadMultiple?\"[\"+n+\"]\":\"\");}};Dropzone.prototype.getFallbackForm=function(){var existingFallback,fields,fieldsString,form;if(existingFallback=this.getExistingFallback()){return existingFallback;}\nfieldsString=\"<div class=\\\"dz-fallback\\\">\";if(this.options.dictFallbackText){fieldsString+=\"<p>\"+this.options.dictFallbackText+\"</p>\";}\nfieldsString+=\"<input type=\\\"file\\\" name=\\\"\"+(this._getParamName(0))+\"\\\" \"+(this.options.uploadMultiple?'multiple=\"multiple\"':void 0)+\" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";fields=Dropzone.createElement(fieldsString);if(this.element.tagName!==\"FORM\"){form=Dropzone.createElement(\"<form action=\\\"\"+this.options.url+\"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\"+this.options.method+\"\\\"></form>\");form.appendChild(fields);}else{this.element.setAttribute(\"enctype\",\"multipart/form-data\");this.element.setAttribute(\"method\",this.options.method);}\nreturn form!=null?form:fields;};Dropzone.prototype.getExistingFallback=function(){var fallback,getFallback,tagName,_i,_len,_ref;getFallback=function(elements){var el,_i,_len;for(_i=0,_len=elements.length;_i<_len;_i++){el=elements[_i];if(/(^| )fallback($| )/.test(el.className)){return el;}}};_ref=[\"div\",\"form\"];for(_i=0,_len=_ref.length;_i<_len;_i++){tagName=_ref[_i];if(fallback=getFallback(this.element.getElementsByTagName(tagName))){return fallback;}}};Dropzone.prototype.setupEventListeners=function(){var elementListeners,event,listener,_i,_len,_ref,_results;_ref=this.listeners;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elementListeners=_ref[_i];_results.push((function(){var _ref1,_results1;_ref1=elementListeners.events;_results1=[];for(event in _ref1){listener=_ref1[event];_results1.push(elementListeners.element.addEventListener(event,listener,false));}\nreturn _results1;})());}\nreturn _results;};Dropzone.prototype.removeEventListeners=function(){var elementListeners,event,listener,_i,_len,_ref,_results;_ref=this.listeners;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elementListeners=_ref[_i];_results.push((function(){var _ref1,_results1;_ref1=elementListeners.events;_results1=[];for(event in _ref1){listener=_ref1[event];_results1.push(elementListeners.element.removeEventListener(event,listener,false));}\nreturn _results1;})());}\nreturn _results;};Dropzone.prototype.disable=function(){var file,_i,_len,_ref,_results;this.clickableElements.forEach(function(element){return element.classList.remove(\"dz-clickable\");});this.removeEventListeners();_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];_results.push(this.cancelUpload(file));}\nreturn _results;};Dropzone.prototype.enable=function(){this.clickableElements.forEach(function(element){return element.classList.add(\"dz-clickable\");});return this.setupEventListeners();};Dropzone.prototype.filesize=function(size){var cutoff,i,selectedSize,selectedUnit,unit,units,_i,_len;selectedSize=0;selectedUnit=\"b\";if(size>0){units=['TB','GB','MB','KB','b'];for(i=_i=0,_len=units.length;_i<_len;i=++_i){unit=units[i];cutoff=Math.pow(this.options.filesizeBase,4-i)/ 10;if(size>=cutoff){selectedSize=size / Math.pow(this.options.filesizeBase,4-i);selectedUnit=unit;break;}}\nselectedSize=Math.round(10*selectedSize)/ 10;}\nreturn\"<strong>\"+selectedSize+\"</strong> \"+selectedUnit;};Dropzone.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files);}\nreturn this.element.classList.add(\"dz-max-files-reached\");}else{return this.element.classList.remove(\"dz-max-files-reached\");}};Dropzone.prototype.drop=function(e){var files,items;if(!e.dataTransfer){return;}\nthis.emit(\"drop\",e);files=e.dataTransfer.files;this.emit(\"addedfiles\",files);if(files.length){items=e.dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry!=null)){this._addFilesFromItems(items);}else{this.handleFiles(files);}}};Dropzone.prototype.paste=function(e){var items,_ref;if((e!=null?(_ref=e.clipboardData)!=null?_ref.items:void 0:void 0)==null){return;}\nthis.emit(\"paste\",e);items=e.clipboardData.items;if(items.length){return this._addFilesFromItems(items);}};Dropzone.prototype.handleFiles=function(files){var file,_i,_len,_results;_results=[];for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];_results.push(this.addFile(file));}\nreturn _results;};Dropzone.prototype._addFilesFromItems=function(items){var entry,item,_i,_len,_results;_results=[];for(_i=0,_len=items.length;_i<_len;_i++){item=items[_i];if((item.webkitGetAsEntry!=null)&&(entry=item.webkitGetAsEntry())){if(entry.isFile){_results.push(this.addFile(item.getAsFile()));}else if(entry.isDirectory){_results.push(this._addFilesFromDirectory(entry,entry.name));}else{_results.push(void 0);}}else if(item.getAsFile!=null){if((item.kind==null)||item.kind===\"file\"){_results.push(this.addFile(item.getAsFile()));}else{_results.push(void 0);}}else{_results.push(void 0);}}\nreturn _results;};Dropzone.prototype._addFilesFromDirectory=function(directory,path){var dirReader,entriesReader;dirReader=directory.createReader();entriesReader=(function(_this){return function(entries){var entry,_i,_len;for(_i=0,_len=entries.length;_i<_len;_i++){entry=entries[_i];if(entry.isFile){entry.file(function(file){if(_this.options.ignoreHiddenFiles&&file.name.substring(0,1)==='.'){return;}\nfile.fullPath=\"\"+path+\"/\"+file.name;return _this.addFile(file);});}else if(entry.isDirectory){_this._addFilesFromDirectory(entry,\"\"+path+\"/\"+entry.name);}}};})(this);return dirReader.readEntries(entriesReader,function(error){return typeof console!==\"undefined\"&&console!==null?typeof console.log===\"function\"?console.log(error):void 0:void 0;});};Dropzone.prototype.accept=function(file,done){if(file.size>this.options.maxFilesize*1024*1024){return done(this.options.dictFileTooBig.replace(\"{{filesize}}\",Math.round(file.size / 1024 / 10.24)/ 100).replace(\"{{maxFilesize}}\",this.options.maxFilesize));}else if(!Dropzone.isValidFile(file,this.options.acceptedFiles)){return done(this.options.dictInvalidFileType);}else if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\",this.options.maxFiles));return this.emit(\"maxfilesexceeded\",file);}else{return this.options.accept.call(this,file,done);}};Dropzone.prototype.addFile=function(file){file.upload={progress:0,total:file.size,bytesSent:0};this.files.push(file);file.status=Dropzone.ADDED;this.emit(\"addedfile\",file);this._enqueueThumbnail(file);return this.accept(file,(function(_this){return function(error){if(error){file.accepted=false;_this._errorProcessing([file],error);}else{file.accepted=true;if(_this.options.autoQueue){_this.enqueueFile(file);}}\nreturn _this._updateMaxFilesReachedClass();};})(this));};Dropzone.prototype.enqueueFiles=function(files){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];this.enqueueFile(file);}\nreturn null;};Dropzone.prototype.enqueueFile=function(file){if(file.status===Dropzone.ADDED&&file.accepted===true){file.status=Dropzone.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(_this){return function(){return _this.processQueue();};})(this)),0);}}else{throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");}};Dropzone.prototype._thumbnailQueue=[];Dropzone.prototype._processingThumbnail=false;Dropzone.prototype._enqueueThumbnail=function(file){if(this.options.createImageThumbnails&&file.type.match(/image.*/)&&file.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(file);return setTimeout(((function(_this){return function(){return _this._processThumbnailQueue();};})(this)),0);}};Dropzone.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return;}\nthis._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(_this){return function(){_this._processingThumbnail=false;return _this._processThumbnailQueue();};})(this));};Dropzone.prototype.removeFile=function(file){if(file.status===Dropzone.UPLOADING){this.cancelUpload(file);}\nthis.files=without(this.files,file);this.emit(\"removedfile\",file);if(this.files.length===0){return this.emit(\"reset\");}};Dropzone.prototype.removeAllFiles=function(cancelIfNecessary){var file,_i,_len,_ref;if(cancelIfNecessary==null){cancelIfNecessary=false;}\n_ref=this.files.slice();for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status!==Dropzone.UPLOADING||cancelIfNecessary){this.removeFile(file);}}\nreturn null;};Dropzone.prototype.createThumbnail=function(file,callback){var fileReader;fileReader=new FileReader;fileReader.onload=(function(_this){return function(){if(file.type===\"image/svg+xml\"){_this.emit(\"thumbnail\",file,fileReader.result);if(callback!=null){callback();}\nreturn;}\nreturn _this.createThumbnailFromUrl(file,fileReader.result,callback);};})(this);return fileReader.readAsDataURL(file);};Dropzone.prototype.createThumbnailFromUrl=function(file,imageUrl,callback,crossOrigin){var img;img=document.createElement(\"img\");if(crossOrigin){img.crossOrigin=crossOrigin;}\nimg.onload=(function(_this){return function(){var canvas,ctx,resizeInfo,thumbnail,_ref,_ref1,_ref2,_ref3;file.width=img.width;file.height=img.height;resizeInfo=_this.options.resize.call(_this,file);if(resizeInfo.trgWidth==null){resizeInfo.trgWidth=resizeInfo.optWidth;}\nif(resizeInfo.trgHeight==null){resizeInfo.trgHeight=resizeInfo.optHeight;}\ncanvas=document.createElement(\"canvas\");ctx=canvas.getContext(\"2d\");canvas.width=resizeInfo.trgWidth;canvas.height=resizeInfo.trgHeight;drawImageIOSFix(ctx,img,(_ref=resizeInfo.srcX)!=null?_ref:0,(_ref1=resizeInfo.srcY)!=null?_ref1:0,resizeInfo.srcWidth,resizeInfo.srcHeight,(_ref2=resizeInfo.trgX)!=null?_ref2:0,(_ref3=resizeInfo.trgY)!=null?_ref3:0,resizeInfo.trgWidth,resizeInfo.trgHeight);thumbnail=canvas.toDataURL(\"image/png\");_this.emit(\"thumbnail\",file,thumbnail);if(callback!=null){return callback();}};})(this);if(callback!=null){img.onerror=callback;}\nreturn img.src=imageUrl;};Dropzone.prototype.processQueue=function(){var i,parallelUploads,processingLength,queuedFiles;parallelUploads=this.options.parallelUploads;processingLength=this.getUploadingFiles().length;i=processingLength;if(processingLength>=parallelUploads){return;}\nqueuedFiles=this.getQueuedFiles();if(!(queuedFiles.length>0)){return;}\nif(this.options.uploadMultiple){return this.processFiles(queuedFiles.slice(0,parallelUploads-processingLength));}else{while(i<parallelUploads){if(!queuedFiles.length){return;}\nthis.processFile(queuedFiles.shift());i++;}}};Dropzone.prototype.processFile=function(file){return this.processFiles([file]);};Dropzone.prototype.processFiles=function(files){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.processing=true;file.status=Dropzone.UPLOADING;this.emit(\"processing\",file);}\nif(this.options.uploadMultiple){this.emit(\"processingmultiple\",files);}\nreturn this.uploadFiles(files);};Dropzone.prototype._getFilesWithXhr=function(xhr){var file,files;return files=(function(){var _i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.xhr===xhr){_results.push(file);}}\nreturn _results;}).call(this);};Dropzone.prototype.cancelUpload=function(file){var groupedFile,groupedFiles,_i,_j,_len,_len1,_ref;if(file.status===Dropzone.UPLOADING){groupedFiles=this._getFilesWithXhr(file.xhr);for(_i=0,_len=groupedFiles.length;_i<_len;_i++){groupedFile=groupedFiles[_i];groupedFile.status=Dropzone.CANCELED;}\nfile.xhr.abort();for(_j=0,_len1=groupedFiles.length;_j<_len1;_j++){groupedFile=groupedFiles[_j];this.emit(\"canceled\",groupedFile);}\nif(this.options.uploadMultiple){this.emit(\"canceledmultiple\",groupedFiles);}}else if((_ref=file.status)===Dropzone.ADDED||_ref===Dropzone.QUEUED){file.status=Dropzone.CANCELED;this.emit(\"canceled\",file);if(this.options.uploadMultiple){this.emit(\"canceledmultiple\",[file]);}}\nif(this.options.autoProcessQueue){return this.processQueue();}};resolveOption=function(){var args,option;option=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(typeof option==='function'){return option.apply(this,args);}\nreturn option;};Dropzone.prototype.uploadFile=function(file){return this.uploadFiles([file]);};Dropzone.prototype.uploadFiles=function(files){var file,formData,handleError,headerName,headerValue,headers,i,input,inputName,inputType,key,method,option,progressObj,response,updateProgress,url,value,xhr,_i,_j,_k,_l,_len,_len1,_len2,_len3,_m,_ref,_ref1,_ref2,_ref3,_ref4,_ref5;xhr=new XMLHttpRequest();for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.xhr=xhr;}\nmethod=resolveOption(this.options.method,files);url=resolveOption(this.options.url,files);xhr.open(method,url,true);xhr.withCredentials=!!this.options.withCredentials;response=null;handleError=(function(_this){return function(){var _j,_len1,_results;_results=[];for(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];_results.push(_this._errorProcessing(files,response||_this.options.dictResponseError.replace(\"{{statusCode}}\",xhr.status),xhr));}\nreturn _results;};})(this);updateProgress=(function(_this){return function(e){var allFilesFinished,progress,_j,_k,_l,_len1,_len2,_len3,_results;if(e!=null){progress=100*e.loaded / e.total;for(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];file.upload={progress:progress,total:e.total,bytesSent:e.loaded};}}else{allFilesFinished=true;progress=100;for(_k=0,_len2=files.length;_k<_len2;_k++){file=files[_k];if(!(file.upload.progress===100&&file.upload.bytesSent===file.upload.total)){allFilesFinished=false;}\nfile.upload.progress=progress;file.upload.bytesSent=file.upload.total;}\nif(allFilesFinished){return;}}\n_results=[];for(_l=0,_len3=files.length;_l<_len3;_l++){file=files[_l];_results.push(_this.emit(\"uploadprogress\",file,progress,file.upload.bytesSent));}\nreturn _results;};})(this);xhr.onload=(function(_this){return function(e){var _ref;if(files[0].status===Dropzone.CANCELED){return;}\nif(xhr.readyState!==4){return;}\nresponse=xhr.responseText;if(xhr.getResponseHeader(\"content-type\")&&~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")){try{response=JSON.parse(response);}catch(_error){e=_error;response=\"Invalid JSON response from server.\";}}\nupdateProgress();if(!((200<=(_ref=xhr.status)&&_ref<300))){return handleError();}else{return _this._finished(files,response,e);}};})(this);xhr.onerror=(function(_this){return function(){if(files[0].status===Dropzone.CANCELED){return;}\nreturn handleError();};})(this);progressObj=(_ref=xhr.upload)!=null?_ref:xhr;progressObj.onprogress=updateProgress;headers={\"Accept\":\"application/json\",\"Cache-Control\":\"no-cache\",\"X-Requested-With\":\"XMLHttpRequest\"};if(this.options.headers){extend(headers,this.options.headers);}\nfor(headerName in headers){headerValue=headers[headerName];if(headerValue){xhr.setRequestHeader(headerName,headerValue);}}\nformData=new FormData();if(this.options.params){_ref1=this.options.params;for(key in _ref1){value=_ref1[key];formData.append(key,value);}}\nfor(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];this.emit(\"sending\",file,xhr,formData);}\nif(this.options.uploadMultiple){this.emit(\"sendingmultiple\",files,xhr,formData);}\nif(this.element.tagName===\"FORM\"){_ref2=this.element.querySelectorAll(\"input, textarea, select, button\");for(_k=0,_len2=_ref2.length;_k<_len2;_k++){input=_ref2[_k];inputName=input.getAttribute(\"name\");inputType=input.getAttribute(\"type\");if(input.tagName===\"SELECT\"&&input.hasAttribute(\"multiple\")){_ref3=input.options;for(_l=0,_len3=_ref3.length;_l<_len3;_l++){option=_ref3[_l];if(option.selected){formData.append(inputName,option.value);}}}else if(!inputType||((_ref4=inputType.toLowerCase())!==\"checkbox\"&&_ref4!==\"radio\")||input.checked){formData.append(inputName,input.value);}}}\nfor(i=_m=0,_ref5=files.length-1;0<=_ref5?_m<=_ref5:_m>=_ref5;i=0<=_ref5?++_m:--_m){formData.append(this._getParamName(i),files[i],files[i].name);}\nreturn this.submitRequest(xhr,formData,files);};Dropzone.prototype.submitRequest=function(xhr,formData,files){return xhr.send(formData);};Dropzone.prototype._finished=function(files,responseText,e){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.status=Dropzone.SUCCESS;this.emit(\"success\",file,responseText,e);this.emit(\"complete\",file);}\nif(this.options.uploadMultiple){this.emit(\"successmultiple\",files,responseText,e);this.emit(\"completemultiple\",files);}\nif(this.options.autoProcessQueue){return this.processQueue();}};Dropzone.prototype._errorProcessing=function(files,message,xhr){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.status=Dropzone.ERROR;this.emit(\"error\",file,message,xhr);this.emit(\"complete\",file);}\nif(this.options.uploadMultiple){this.emit(\"errormultiple\",files,message,xhr);this.emit(\"completemultiple\",files);}\nif(this.options.autoProcessQueue){return this.processQueue();}};return Dropzone;})(Emitter);Dropzone.version=\"4.2.0\";Dropzone.options={};Dropzone.optionsForElement=function(element){if(element.getAttribute(\"id\")){return Dropzone.options[camelize(element.getAttribute(\"id\"))];}else{return void 0;}};Dropzone.instances=[];Dropzone.forElement=function(element){if(typeof element===\"string\"){element=document.querySelector(element);}\nif((element!=null?element.dropzone:void 0)==null){throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");}\nreturn element.dropzone;};Dropzone.autoDiscover=true;Dropzone.discover=function(){var checkElements,dropzone,dropzones,_i,_len,_results;if(document.querySelectorAll){dropzones=document.querySelectorAll(\".dropzone\");}else{dropzones=[];checkElements=function(elements){var el,_i,_len,_results;_results=[];for(_i=0,_len=elements.length;_i<_len;_i++){el=elements[_i];if(/(^| )dropzone($| )/.test(el.className)){_results.push(dropzones.push(el));}else{_results.push(void 0);}}\nreturn _results;};checkElements(document.getElementsByTagName(\"div\"));checkElements(document.getElementsByTagName(\"form\"));}\n_results=[];for(_i=0,_len=dropzones.length;_i<_len;_i++){dropzone=dropzones[_i];if(Dropzone.optionsForElement(dropzone)!==false){_results.push(new Dropzone(dropzone));}else{_results.push(void 0);}}\nreturn _results;};Dropzone.blacklistedBrowsers=[/opera.*Macintosh.*version\\/12/i];Dropzone.isBrowserSupported=function(){var capableBrowser,regex,_i,_len,_ref;capableBrowser=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!(\"classList\"in document.createElement(\"a\"))){capableBrowser=false;}else{_ref=Dropzone.blacklistedBrowsers;for(_i=0,_len=_ref.length;_i<_len;_i++){regex=_ref[_i];if(regex.test(navigator.userAgent)){capableBrowser=false;continue;}}}}else{capableBrowser=false;}\nreturn capableBrowser;};without=function(list,rejectedItem){var item,_i,_len,_results;_results=[];for(_i=0,_len=list.length;_i<_len;_i++){item=list[_i];if(item!==rejectedItem){_results.push(item);}}\nreturn _results;};camelize=function(str){return str.replace(/[\\-_](\\w)/g,function(match){return match.charAt(1).toUpperCase();});};Dropzone.createElement=function(string){var div;div=document.createElement(\"div\");div.innerHTML=string;return div.childNodes[0];};Dropzone.elementInside=function(element,container){if(element===container){return true;}\nwhile(element=element.parentNode){if(element===container){return true;}}\nreturn false;};Dropzone.getElement=function(el,name){var element;if(typeof el===\"string\"){element=document.querySelector(el);}else if(el.nodeType!=null){element=el;}\nif(element==null){throw new Error(\"Invalid `\"+name+\"` option provided. Please provide a CSS selector or a plain HTML element.\");}\nreturn element;};Dropzone.getElements=function(els,name){var e,el,elements,_i,_j,_len,_len1,_ref;if(els instanceof Array){elements=[];try{for(_i=0,_len=els.length;_i<_len;_i++){el=els[_i];elements.push(this.getElement(el,name));}}catch(_error){e=_error;elements=null;}}else if(typeof els===\"string\"){elements=[];_ref=document.querySelectorAll(els);for(_j=0,_len1=_ref.length;_j<_len1;_j++){el=_ref[_j];elements.push(el);}}else if(els.nodeType!=null){elements=[els];}\nif(!((elements!=null)&&elements.length)){throw new Error(\"Invalid `\"+name+\"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");}\nreturn elements;};Dropzone.confirm=function(question,accepted,rejected){if(window.confirm(question)){return accepted();}else if(rejected!=null){return rejected();}};Dropzone.isValidFile=function(file,acceptedFiles){var baseMimeType,mimeType,validType,_i,_len;if(!acceptedFiles){return true;}\nacceptedFiles=acceptedFiles.split(\",\");mimeType=file.type;baseMimeType=mimeType.replace(/\\/.*$/,\"\");for(_i=0,_len=acceptedFiles.length;_i<_len;_i++){validType=acceptedFiles[_i];validType=validType.trim();if(validType.charAt(0)===\".\"){if(file.name.toLowerCase().indexOf(validType.toLowerCase(),file.name.length-validType.length)!==-1){return true;}}else if(/\\/\\*$/.test(validType)){if(baseMimeType===validType.replace(/\\/.*$/,\"\")){return true;}}else{if(mimeType===validType){return true;}}}\nreturn false;};if(typeof jQuery!==\"undefined\"&&jQuery!==null){jQuery.fn.dropzone=function(options){return this.each(function(){return new Dropzone(this,options);});};}\nif(typeof module!==\"undefined\"&&module!==null){module.exports=Dropzone;}else{window.Dropzone=Dropzone;}\nDropzone.ADDED=\"added\";Dropzone.QUEUED=\"queued\";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING=\"uploading\";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED=\"canceled\";Dropzone.ERROR=\"error\";Dropzone.SUCCESS=\"success\";detectVerticalSquash=function(img){var alpha,canvas,ctx,data,ey,ih,iw,py,ratio,sy;iw=img.naturalWidth;ih=img.naturalHeight;canvas=document.createElement(\"canvas\");canvas.width=1;canvas.height=ih;ctx=canvas.getContext(\"2d\");ctx.drawImage(img,0,0);data=ctx.getImageData(0,0,1,ih).data;sy=0;ey=ih;py=ih;while(py>sy){alpha=data[(py-1)*4+3];if(alpha===0){ey=py;}else{sy=py;}\npy=(ey+sy)>>1;}\nratio=py / ih;if(ratio===0){return 1;}else{return ratio;}};drawImageIOSFix=function(ctx,img,sx,sy,sw,sh,dx,dy,dw,dh){var vertSquashRatio;vertSquashRatio=detectVerticalSquash(img);return ctx.drawImage(img,sx,sy,sw,sh,dx,dy,dw,dh / vertSquashRatio);};contentLoaded=function(win,fn){var add,doc,done,init,poll,pre,rem,root,top;done=false;top=true;doc=win.document;root=doc.documentElement;add=(doc.addEventListener?\"addEventListener\":\"attachEvent\");rem=(doc.addEventListener?\"removeEventListener\":\"detachEvent\");pre=(doc.addEventListener?\"\":\"on\");init=function(e){if(e.type===\"readystatechange\"&&doc.readyState!==\"complete\"){return;}\n(e.type===\"load\"?win:doc)[rem](pre+e.type,init,false);if(!done&&(done=true)){return fn.call(win,e.type||e);}};poll=function(){var e;try{root.doScroll(\"left\");}catch(_error){e=_error;setTimeout(poll,50);return;}\nreturn init(\"poll\");};if(doc.readyState!==\"complete\"){if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement;}catch(_error){}\nif(top){poll();}}\ndoc[add](pre+\"DOMContentLoaded\",init,false);doc[add](pre+\"readystatechange\",init,false);return win[add](pre+\"load\",init,false);}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover();}};contentLoaded(window,Dropzone._autoDiscoverFunction);}).call(this);return module.exports;}));","Magento_PageBuilder/js/resource/jquery/ui/jquery.ui.touch-punch.min.js":"/*!\n * jQuery UI Touch Punch 0.2.3\n *\n * Copyright 2011\u20132014, Dave Furfero\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Depends:\n *  jquery.ui.widget.js\n *  jquery.ui.mouse.js\n */\n!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent(\"MouseEvents\");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch=\"ontouchend\"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,\"mouseover\"),f(a,\"mousemove\"),f(a,\"mousedown\"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,\"mousemove\"))},b._touchEnd=function(a){e&&(f(a,\"mouseup\"),f(a,\"mouseout\"),this._touchMoved||f(a,\"click\"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),d.call(b)}}}(jQuery);\n","Magento_PageBuilder/js/resource/slick/slick.min.js":"/*\n     _ _      _       _\n ___| (_) ___| | __  (_)___\n/ __| | |/ __| |/ /  | / __|\n\\__ \\ | | (__|   < _ | \\__ \\\n|___/_|_|\\___|_|\\_(_)/ |___/\n                   |__/\n\n Version: 1.8.1\n  Author: Ken Wheeler\n Website: http://kenwheeler.github.io\n    Docs: http://kenwheeler.github.io/slick\n    Repo: http://github.com/kenwheeler/slick\n  Issues: http://github.com/kenwheeler/slick/issues\n\n */\n!function(i){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],i):\"undefined\"!=typeof exports?module.exports=i(require(\"jquery\")):i(jQuery)}(function(i){\"use strict\";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',nextArrow:'<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:\"50px\",cssEase:\"ease\",customPaging:function(e,t){return i('<button type=\"button\" />').text(t+1)},dots:!1,dotsClass:\"slick-dots\",draggable:!0,easing:\"linear\",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:\"ondemand\",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:\"window\",responsive:null,rows:1,rtl:!1,slide:\"\",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden=\"hidden\",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange=\"visibilitychange\",n.windowWidth=0,n.windowTimer=null,s=i(t).data(\"slick\")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden=\"mozHidden\",n.visibilityChange=\"mozvisibilitychange\"):void 0!==document.webkitHidden&&(n.hidden=\"webkitHidden\",n.visibilityChange=\"webkitvisibilitychange\"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\\s*(<[\\w\\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(\".slick-active\").attr({\"aria-hidden\":\"false\"}).find(\"a, input, button, select\").attr({tabindex:\"0\"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if(\"boolean\"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),\"number\"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]=\"translate(\"+i+\"px, 0px)\",s.$slideTrack.css(o)):(o[s.animType]=\"translate(0px,\"+i+\"px)\",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]=\"translate3d(\"+e+\"px, 0px, 0px)\":o[s.animType]=\"translate3d(0px,\"+e+\"px, 0px)\",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=i(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&\"object\"==typeof t&&t.each(function(){var t=i(this).slick(\"getSlick\");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+\" \"+e.options.speed+\"ms \"+e.options.cssEase:t[e.transitionType]=\"opacity \"+e.options.speed+\"ms \"+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass(\"slick-arrow\"),e.$nextArrow=i(e.options.nextArrow).addClass(\"slick-arrow\"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.$nextArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\")):e.$prevArrow.add(e.$nextArrow).addClass(\"slick-hidden\").attr({\"aria-disabled\":\"true\",tabindex:\"-1\"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots&&o.slideCount>o.options.slidesToShow){for(o.$slider.addClass(\"slick-dotted\"),t=i(\"<ul />\").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i(\"<li />\").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find(\"li\").first().addClass(\"slick-active\")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+\":not(.slick-cloned)\").addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e).data(\"originalStyling\",i(t).attr(\"style\")||\"\")}),e.$slider.addClass(\"slick-slider\"),e.$slideTrack=0===e.slideCount?i('<div class=\"slick-track\"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class=\"slick-track\"/>').parent(),e.$list=e.$slideTrack.wrap('<div class=\"slick-list\"/>').parent(),e.$slideTrack.css(\"opacity\",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i(\"img[data-lazy]\",e.$slider).not(\"[src]\").addClass(\"slick-loading\"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass(\"draggable\")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>0){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement(\"div\");for(e=0;e<l.options.rows;e++){var a=document.createElement(\"div\");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+\"%\",display:\"inline-block\"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if(\"window\"===r.respondTo?n=a:\"slider\"===r.respondTo?n=d:\"min\"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger(\"breakpoint\",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n=this,r=i(e.currentTarget);switch(r.is(\"a\")&&e.preventDefault(),r.is(\"li\")||(r=r.closest(\"li\")),o=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,e.data.message){case\"previous\":s=0===o?n.options.slidesToScroll:n.options.slidesToShow-o,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-s,!1,t);break;case\"next\":s=0===o?n.options.slidesToScroll:o,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+s,!1,t);break;case\"index\":var l=0===e.data.index?0:e.data.index||r.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(l),!1,t),r.children().trigger(\"focus\");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(t=0,i>(e=this.getNavigableIndexes())[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i(\"li\",e.$dots).off(\"click.slick\",e.changeSlide).off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off(\"keydown.slick\",e.keyHandler)),e.$slider.off(\"focus.slick blur.slick\"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off(\"click.slick\",e.changeSlide),e.$nextArrow&&e.$nextArrow.off(\"click.slick\",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off(\"keydown.slick\",e.keyHandler),e.$nextArrow&&e.$nextArrow.off(\"keydown.slick\",e.keyHandler))),e.$list.off(\"touchstart.slick mousedown.slick\",e.swipeHandler),e.$list.off(\"touchmove.slick mousemove.slick\",e.swipeHandler),e.$list.off(\"touchend.slick mouseup.slick\",e.swipeHandler),e.$list.off(\"touchcancel.slick mouseleave.slick\",e.swipeHandler),e.$list.off(\"click.slick\",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off(\"keydown.slick\",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off(\"click.slick\",e.selectHandler),i(window).off(\"orientationchange.slick.slick-\"+e.instanceUid,e.orientationChange),i(window).off(\"resize.slick.slick-\"+e.instanceUid,e.resize),i(\"[draggable!=true]\",e.$slideTrack).off(\"dragstart\",e.preventDefault),i(window).off(\"load.slick.slick-\"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i;this.options.rows>0&&((i=this.$slides.children().children()).removeAttr(\"style\"),this.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(\".slick-cloned\",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass(\"slick-slide slick-active slick-center slick-visible slick-current\").removeAttr(\"aria-hidden\").removeAttr(\"data-slick-index\").each(function(){i(this).attr(\"style\",i(this).data(\"originalStyling\"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass(\"slick-slider\"),t.$slider.removeClass(\"slick-initialized\"),t.$slider.removeClass(\"slick-dotted\"),t.unslicked=!0,e||t.$slider.trigger(\"destroy\",[t])},e.prototype.disableTransition=function(i){var e={};e[this.transitionType]=\"\",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(i).css(e)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off(\"focus.slick blur.slick\").on(\"focus.slick\",\"*\",function(t){var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&o.is(\":focus\")&&(e.focussed=!0,e.autoPlay())},0)}).on(\"blur.slick\",\"*\",function(t){i(this);e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(\".slick-slide\").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr(\"data-slick-index\")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:\"index\",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass(\"slick-initialized\")||(i(t.$slider).addClass(\"slick-initialized\"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger(\"init\",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(\".slick-cloned\")).attr({\"aria-hidden\":\"true\",tabindex:\"-1\"}).find(\"a, input, button, select\").attr({tabindex:\"-1\"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(\".slick-cloned\")).each(function(t){var s=o.indexOf(t);if(i(this).attr({role:\"tabpanel\",id:\"slick-slide\"+e.instanceUid+t,tabindex:-1}),-1!==s){var n=\"slick-slide-control\"+e.instanceUid+s;i(\"#\"+n).length&&i(this).attr({\"aria-describedby\":n})}}),e.$dots.attr(\"role\",\"tablist\").find(\"li\").each(function(s){var n=o[s];i(this).attr({role:\"presentation\"}),i(this).find(\"button\").first().attr({role:\"tab\",id:\"slick-slide-control\"+e.instanceUid+s,\"aria-controls\":\"slick-slide\"+e.instanceUid+n,\"aria-label\":s+1+\" of \"+t,\"aria-selected\":null,tabindex:\"-1\"})}).eq(e.currentSlide).find(\"button\").attr({\"aria-selected\":\"true\",tabindex:\"0\"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.options.focusOnChange?e.$slides.eq(s).attr({tabindex:\"0\"}):e.$slides.eq(s).removeAttr(\"tabindex\");e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off(\"click.slick\").on(\"click.slick\",{message:\"previous\"},i.changeSlide),i.$nextArrow.off(\"click.slick\").on(\"click.slick\",{message:\"next\"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on(\"keydown.slick\",i.keyHandler),i.$nextArrow.on(\"keydown.slick\",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(i(\"li\",e.$dots).on(\"click.slick\",{message:\"index\"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on(\"keydown.slick\",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&i(\"li\",e.$dots).on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on(\"touchstart.slick mousedown.slick\",{action:\"start\"},e.swipeHandler),e.$list.on(\"touchmove.slick mousemove.slick\",{action:\"move\"},e.swipeHandler),e.$list.on(\"touchend.slick mouseup.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"touchcancel.slick mouseleave.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"click.slick\",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on(\"keydown.slick\",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),i(window).on(\"orientationchange.slick.slick-\"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on(\"resize.slick.slick-\"+e.instanceUid,i.proxy(e.resize,e)),i(\"[draggable!=true]\",e.$slideTrack).on(\"dragstart\",e.preventDefault),i(window).on(\"load.slick.slick-\"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match(\"TEXTAREA|INPUT|SELECT\")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?\"next\":\"previous\"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?\"previous\":\"next\"}}))},e.prototype.lazyLoad=function(){var e,t,o,s=this;function n(e){i(\"img[data-lazy]\",e).each(function(){var e=i(this),t=i(this).attr(\"data-lazy\"),o=i(this).attr(\"data-srcset\"),n=i(this).attr(\"data-sizes\")||s.$slider.attr(\"data-sizes\"),r=document.createElement(\"img\");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr(\"srcset\",o),n&&e.attr(\"sizes\",n)),e.attr(\"src\",t).animate({opacity:1},200,function(){e.removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\")}),s.$slider.trigger(\"lazyLoaded\",[s,e,t])})},r.onerror=function(){e.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),s.$slider.trigger(\"lazyLoadError\",[s,e,t])},r.src=t})}if(!0===s.options.centerMode?!0===s.options.infinite?o=(t=s.currentSlide+(s.options.slidesToShow/2+1))+s.options.slidesToShow+2:(t=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),o=s.options.slidesToShow/2+1+2+s.currentSlide):(t=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,o=Math.ceil(t+s.options.slidesToShow),!0===s.options.fade&&(t>0&&t--,o<=s.slideCount&&o++)),e=s.$slider.find(\".slick-slide\").slice(t,o),\"anticipated\"===s.options.lazyLoad)for(var r=t-1,l=o,d=s.$slider.find(\".slick-slide\"),a=0;a<s.options.slidesToScroll;a++)r<0&&(r=s.slideCount-1),e=(e=e.add(d.eq(r))).add(d.eq(l)),r--,l++;n(e),s.slideCount<=s.options.slidesToShow?n(s.$slider.find(\".slick-slide\")):s.currentSlide>=s.slideCount-s.options.slidesToShow?n(s.$slider.find(\".slick-cloned\").slice(0,s.options.slidesToShow)):0===s.currentSlide&&n(s.$slider.find(\".slick-cloned\").slice(-1*s.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass(\"slick-loading\"),i.initUI(),\"progressive\"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:\"next\"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger(\"afterChange\",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr(\"tabindex\",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:\"previous\"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i(\"img[data-lazy]\",l.$slider);d.length?(t=d.first(),o=t.attr(\"data-lazy\"),s=t.attr(\"data-srcset\"),n=t.attr(\"data-sizes\")||l.$slider.attr(\"data-sizes\"),(r=document.createElement(\"img\")).onload=function(){s&&(t.attr(\"srcset\",s),n&&t.attr(\"sizes\",n)),t.attr(\"src\",o).removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger(\"lazyLoaded\",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),l.$slider.trigger(\"lazyLoadError\",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger(\"allImagesLoaded\",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:\"index\",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if(\"array\"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||\"window\";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger(\"reInit\",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i=\"boolean\"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e=\"left\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",t=\"top\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]=\"translate(\"+e+\", \"+t+\")\",o.$slideTrack.css(s)):(s[o.animType]=\"translate3d(\"+e+\", \"+t+\", 0px)\",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:\"0px \"+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+\" 0px\"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(\".slick-slide\").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(\".slick-slide\").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(\".slick-slide\").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:\"relative\",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:\"relative\",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css(\"height\",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if(\"object\"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n=\"multiple\"):\"string\"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],\"responsive\"===arguments[0]&&\"array\"===i.type(arguments[1])?n=\"responsive\":void 0!==arguments[1]&&(n=\"single\")),\"single\"===n)r.options[o]=s;else if(\"multiple\"===n)i.each(o,function(i,e){r.options[i]=e});else if(\"responsive\"===n)for(t in s)if(\"array\"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger(\"setPosition\",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?\"top\":\"left\",\"top\"===i.positionProp?i.$slider.addClass(\"slick-vertical\"):i.$slider.removeClass(\"slick-vertical\"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&(\"number\"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType=\"OTransform\",i.transformType=\"-o-transform\",i.transitionType=\"OTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType=\"MozTransform\",i.transformType=\"-moz-transform\",i.transitionType=\"MozTransition\",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType=\"webkitTransform\",i.transformType=\"-webkit-transform\",i.transitionType=\"webkitTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType=\"msTransform\",i.transformType=\"-ms-transform\",i.transitionType=\"msTransition\",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType=\"transform\",i.transformType=\"transform\",i.transitionType=\"transition\"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(\".slick-slide\").removeClass(\"slick-active slick-center slick-current\").attr(\"aria-hidden\",\"true\"),n.$slides.eq(i).addClass(\"slick-current\"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass(\"slick-center\"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass(\"slick-center\")),n.$slides.eq(i).addClass(\"slick-center\")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.length<=n.options.slidesToShow?t.addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.slice(o,o+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"));\"ondemand\"!==n.options.lazyLoad&&\"anticipated\"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t-s.slideCount).prependTo(s.$slideTrack).addClass(\"slick-cloned\");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t+s.slideCount).appendTo(s.$slideTrack).addClass(\"slick-cloned\");s.$slideTrack.find(\".slick-cloned\").find(\"[id]\").each(function(){i(this).attr(\"id\",\"\")})}},e.prototype.interrupt=function(i){i||this.autoPlay(),this.interrupted=i},e.prototype.selectHandler=function(e){var t=i(e.target).is(\".slick-slide\")?i(e.target):i(e.target).parents(\".slick-slide\"),o=parseInt(t.attr(\"data-slick-index\"));o||(o=0),this.slideCount<=this.options.slidesToShow?this.slideHandler(o,!1,!0):this.slideHandler(o)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,l=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger(\"beforeChange\",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(d=(d=a.getNavTarget()).slick(\"getSlick\")).slideCount<=d.options.slidesToShow&&d.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(l,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass(\"slick-loading\")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?\"left\":\"right\":o<=360&&o>=315?!1===s.options.rtl?\"left\":\"right\":o>=135&&o<=225?!1===s.options.rtl?\"right\":\"left\":!0===s.options.verticalSwiping?o>=35&&o<=135?\"down\":\"up\":\"vertical\"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger(\"edge\",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case\"left\":case\"down\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case\"right\":case\"up\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}\"vertical\"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger(\"swipe\",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||\"ontouchend\"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf(\"mouse\")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case\"start\":e.swipeStart(i);break;case\"move\":e.swipeMove(i);break;case\"end\":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&\"right\"===t||l.currentSlide>=l.getDotCount()&&\"left\"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(\".slick-cloned\",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass(\"slick-slide slick-active slick-visible slick-current\").attr(\"aria-hidden\",\"true\").css(\"width\",\"\")},e.prototype.unslick=function(i){this.$slider.trigger(\"unslick\",[this,i]),this.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),i.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),0===i.currentSlide?(i.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),i.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),i.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),i.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find(\"li\").removeClass(\"slick-active\").end(),i.$dots.find(\"li\").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass(\"slick-active\"))},e.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if(\"object\"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});\n","Magento_PageBuilder/js/resource/resize-observer/ResizeObserver.min.js":"!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.ResizeObserver=e()}(this,function(){\"use strict\";var i=function(){if(\"undefined\"!=typeof Map)return Map;function i(t,n){var i=-1;return t.some(function(t,e){return t[0]===n&&(i=e,!0)}),i}return function(){function t(){this.__entries__=[]}var e={size:{configurable:!0}};return e.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var e=i(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},t.prototype.set=function(t,e){var n=i(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,n=i(e,t);~n&&e.splice(n,1)},t.prototype.has=function(t){return!!~i(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n+=1){var r=i[n];t.call(e,r[1],r[0])}},Object.defineProperties(t.prototype,e),t}()}(),n=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,e=\"undefined\"!=typeof global&&global.Math===Math?global:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),c=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},r=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],t=\"undefined\"!=typeof MutationObserver,o=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&a()}function s(){c(o)}function a(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else i=!(n=!0),setTimeout(s,e);r=t}return a}(this.refresh.bind(this),20)};o.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},o.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},o.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},o.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},o.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),t?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},o.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},o.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=\"\"),r.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},o.getInstance=function(){return this.instance_||(this.instance_=new o),this.instance_},o.instance_=null;var u=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n+=1){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=_(0,0,0,0);function v(t){return parseFloat(t)||0}function l(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return t.reduce(function(t,e){return t+v(n[\"border-\"+e+\"-width\"])},0)}function s(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i,r=d(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=[\"top\",\"right\",\"bottom\",\"left\"];n<i.length;n+=1){var r=i[n],o=t[\"padding-\"+r];e[r]=v(o)}return e}(r),s=o.left+o.right,a=o.top+o.bottom,c=v(r.width),h=v(r.height);if(\"border-box\"===r.boxSizing&&(Math.round(c+s)!==e&&(c-=l(r,\"left\",\"right\")+s),Math.round(h+a)!==n&&(h-=l(r,\"top\",\"bottom\")+a)),(i=t)!==d(i).document.documentElement){var u=Math.round(c+s)-e,f=Math.round(h+a)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(f)&&(h-=f)}return _(o.left,o.top,c,h)}var a=\"undefined\"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&\"function\"==typeof t.getBBox};function h(t){return n?a(t)?_(0,0,(e=t.getBBox()).width,e.height):s(t):p;var e}function _(t,e,n,i){return{x:t,y:e,width:n,height:i}}var f=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t};f.prototype.isActive=function(){var t=h(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},f.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var b=function(t,e){var n,i,r,o,s,a,c,h=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),c);u(this,{target:t,contentRect:h})},m=function(t,e,n){if(this.activeObservations_=[],this.observations_=new i,\"function\"!=typeof t)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=t,this.controller_=e,this.callbackCtx_=n};m.prototype.observe=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)||(e.set(t,new f(t)),this.controller_.addObserver(this),this.controller_.refresh())}},m.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},m.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},m.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},m.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},m.prototype.clearActive=function(){this.activeObservations_.splice(0)},m.prototype.hasActive=function(){return 0<this.activeObservations_.length};var y=\"undefined\"!=typeof WeakMap?new WeakMap:new i,g=function(t){if(!(this instanceof g))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var e=o.getInstance(),n=new m(t,e,this);y.set(this,n)};return[\"observe\",\"unobserve\",\"disconnect\"].forEach(function(e){g.prototype[e]=function(){return(t=y.get(this))[e].apply(t,arguments);var t}}),void 0!==e.ResizeObserver?e.ResizeObserver:g});\n","Magento_PageBuilder/js/resource/jarallax/jarallax-video.min.js":"/*!\n * Name    : Video Background Extension for Jarallax\n * Version : 1.0.1\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */!function(o){var i={};function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=o,n.c=i,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([,,function(e,t){e.exports=function(e){\"complete\"===document.readyState||\"interactive\"===document.readyState?e.call():document.attachEvent?document.attachEvent(\"onreadystatechange\",function(){\"interactive\"===document.readyState&&e.call()}):document.addEventListener&&document.addEventListener(\"DOMContentLoaded\",e)}},,function(o,e,t){(function(e){var t;t=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},o.exports=t}).call(this,t(5))},function(e,t){function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":o(window))&&(i=window)}e.exports=i},function(e,t,o){e.exports=o(7)},function(e,t,o){\"use strict\";o.r(t);var i=o(8),n=o.n(i),a=o(4),r=o.n(a),l=o(2),p=o.n(l),u=o(10);r.a.VideoWorker=r.a.VideoWorker||n.a,Object(u.default)(),p()(function(){\"undefined\"!=typeof jarallax&&jarallax(document.querySelectorAll(\"[data-jarallax-video]\"))})},function(e,t,o){e.exports=o(9)},function(e,t,o){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){this._done=[],this._fail=[]}o.r(t),o.d(t,\"default\",function(){return c}),i.prototype={execute:function(e,t){var o=e.length;for(t=Array.prototype.slice.call(t);o--;)e[o].apply(null,t)},resolve:function(){this.execute(this._done,arguments)},reject:function(){this.execute(this._fail,arguments)},done:function(e){this._done.push(e)},fail:function(e){this._fail.push(e)}};var r=0,l=0,p=0,u=0,s=0,d=new i,y=new i,c=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i);var o=this;o.url=e,o.options_default={autoplay:!1,loop:!1,mute:!1,volume:100,showContols:!0,startTime:0,endTime:0},o.options=o.extend({},o.options_default,t),o.videoID=o.parseURL(e),o.videoID&&(o.ID=r++,o.loadAPI(),o.init())}return function(e,t,o){t&&a(e.prototype,t),o&&a(e,o)}(i,[{key:\"extend\",value:function(o){var i=arguments;return o=o||{},Object.keys(arguments).forEach(function(t){i[t]&&Object.keys(i[t]).forEach(function(e){o[e]=i[t][e]})}),o}},{key:\"parseURL\",value:function(e){var t,o,i,n,a,r=!(!(t=e.match(/.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/))||11!==t[1].length)&&t[1],l=!(!(o=e.match(/https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/))||!o[3])&&o[3],p=(i=e.split(/,(?=mp4\\:|webm\\:|ogv\\:|ogg\\:)/),n={},a=0,i.forEach(function(e){var t=e.match(/^(mp4|webm|ogv|ogg)\\:(.*)/);t&&t[1]&&t[2]&&(n[\"ogv\"===t[1]?\"ogg\":t[1]]=t[2],a=1)}),!!a&&n);return r?(this.type=\"youtube\",r):l?(this.type=\"vimeo\",l):!!p&&(this.type=\"local\",p)}},{key:\"isValid\",value:function(){return!!this.videoID}},{key:\"on\",value:function(e,t){this.userEventsList=this.userEventsList||[],(this.userEventsList[e]||(this.userEventsList[e]=[])).push(t)}},{key:\"off\",value:function(o,i){var n=this;this.userEventsList&&this.userEventsList[o]&&(i?this.userEventsList[o].forEach(function(e,t){e===i&&(n.userEventsList[o][t]=!1)}):delete this.userEventsList[o])}},{key:\"fire\",value:function(e){var t=this,o=[].slice.call(arguments,1);this.userEventsList&&void 0!==this.userEventsList[e]&&this.userEventsList[e].forEach(function(e){e&&e.apply(t,o)})}},{key:\"play\",value:function(e){var t=this;t.player&&(\"youtube\"===t.type&&t.player.playVideo&&(void 0!==e&&t.player.seekTo(e||0),YT.PlayerState.PLAYING!==t.player.getPlayerState()&&t.player.playVideo()),\"vimeo\"===t.type&&(void 0!==e&&t.player.setCurrentTime(e),t.player.getPaused().then(function(e){e&&t.player.play()})),\"local\"===t.type&&(void 0!==e&&(t.player.currentTime=e),t.player.paused&&t.player.play()))}},{key:\"pause\",value:function(){var t=this;t.player&&(\"youtube\"===t.type&&t.player.pauseVideo&&YT.PlayerState.PLAYING===t.player.getPlayerState()&&t.player.pauseVideo(),\"vimeo\"===t.type&&t.player.getPaused().then(function(e){e||t.player.pause()}),\"local\"===t.type&&(t.player.paused||t.player.pause()))}},{key:\"mute\",value:function(){var e=this;e.player&&(\"youtube\"===e.type&&e.player.mute&&e.player.mute(),\"vimeo\"===e.type&&e.player.setVolume&&e.player.setVolume(0),\"local\"===e.type&&(e.$video.muted=!0))}},{key:\"unmute\",value:function(){var e=this;e.player&&(\"youtube\"===e.type&&e.player.mute&&e.player.unMute(),\"vimeo\"===e.type&&e.player.setVolume&&e.player.setVolume(e.options.volume),\"local\"===e.type&&(e.$video.muted=!1))}},{key:\"setVolume\",value:function(e){var t=0<arguments.length&&void 0!==e&&e,o=this;o.player&&t&&(\"youtube\"===o.type&&o.player.setVolume&&o.player.setVolume(t),\"vimeo\"===o.type&&o.player.setVolume&&o.player.setVolume(t),\"local\"===o.type&&(o.$video.volume=t/100))}},{key:\"getVolume\",value:function(t){var e=this;e.player?(\"youtube\"===e.type&&e.player.getVolume&&t(e.player.getVolume()),\"vimeo\"===e.type&&e.player.getVolume&&e.player.getVolume().then(function(e){t(e)}),\"local\"===e.type&&t(100*e.$video.volume)):t(!1)}},{key:\"getMuted\",value:function(t){var e=this;e.player?(\"youtube\"===e.type&&e.player.isMuted&&t(e.player.isMuted()),\"vimeo\"===e.type&&e.player.getVolume&&e.player.getVolume().then(function(e){t(!!e)}),\"local\"===e.type&&t(e.$video.muted)):t(null)}},{key:\"getImageURL\",value:function(t){var o=this;if(o.videoImage)t(o.videoImage);else{if(\"youtube\"===o.type){var e=[\"maxresdefault\",\"sddefault\",\"hqdefault\",\"0\"],i=0,n=new Image;n.onload=function(){120!==(this.naturalWidth||this.width)||i===e.length-1?(o.videoImage=\"https://img.youtube.com/vi/\".concat(o.videoID,\"/\").concat(e[i],\".jpg\"),t(o.videoImage)):(i++,this.src=\"https://img.youtube.com/vi/\".concat(o.videoID,\"/\").concat(e[i],\".jpg\"))},n.src=\"https://img.youtube.com/vi/\".concat(o.videoID,\"/\").concat(e[i],\".jpg\")}if(\"vimeo\"===o.type){var a=new XMLHttpRequest;a.open(\"GET\",\"https://vimeo.com/api/v2/video/\".concat(o.videoID,\".json\"),!0),a.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&this.status<400){var e=JSON.parse(this.responseText);o.videoImage=e[0].thumbnail_large,t(o.videoImage)}},a.send(),a=null}}}},{key:\"getIframe\",value:function(e){this.getVideo(e)}},{key:\"getVideo\",value:function(p){var u=this;u.$video?p(u.$video):u.onAPIready(function(){var e,t;if(u.$video||((e=document.createElement(\"div\")).style.display=\"none\"),\"youtube\"===u.type){var o,i;u.playerOptions={},u.playerOptions.videoId=u.videoID,u.playerOptions.playerVars={autohide:1,rel:0,autoplay:0,playsinline:1},u.options.showContols||(u.playerOptions.playerVars.iv_load_policy=3,u.playerOptions.playerVars.modestbranding=1,u.playerOptions.playerVars.controls=0,u.playerOptions.playerVars.showinfo=0,u.playerOptions.playerVars.disablekb=1),u.playerOptions.events={onReady:function(t){if(u.options.mute?t.target.mute():u.options.volume&&t.target.setVolume(u.options.volume),u.options.autoplay&&u.play(u.options.startTime),u.fire(\"ready\",t),u.options.loop&&!u.options.endTime){u.options.endTime=u.player.getDuration()-.1}setInterval(function(){u.getVolume(function(e){u.options.volume!==e&&(u.options.volume=e,u.fire(\"volumechange\",t))})},150)},onStateChange:function(e){u.options.loop&&e.data===YT.PlayerState.ENDED&&u.play(u.options.startTime),o||e.data!==YT.PlayerState.PLAYING||(o=1,u.fire(\"started\",e)),e.data===YT.PlayerState.PLAYING&&u.fire(\"play\",e),e.data===YT.PlayerState.PAUSED&&u.fire(\"pause\",e),e.data===YT.PlayerState.ENDED&&u.fire(\"ended\",e),e.data===YT.PlayerState.PLAYING?i=setInterval(function(){u.fire(\"timeupdate\",e),u.options.endTime&&u.player.getCurrentTime()>=u.options.endTime&&(u.options.loop?u.play(u.options.startTime):u.pause())},150):clearInterval(i)}};var n=!u.$video;if(n){var a=document.createElement(\"div\");a.setAttribute(\"id\",u.playerID),e.appendChild(a),document.body.appendChild(e)}u.player=u.player||new window.YT.Player(u.playerID,u.playerOptions),n&&(u.$video=document.getElementById(u.playerID),u.videoWidth=parseInt(u.$video.getAttribute(\"width\"),10)||1280,u.videoHeight=parseInt(u.$video.getAttribute(\"height\"),10)||720)}if(\"vimeo\"===u.type){if(u.playerOptions={id:u.videoID,autopause:0,transparent:0,autoplay:u.options.autoplay?1:0,loop:u.options.loop?1:0,muted:u.options.mute?1:0},u.options.volume&&(u.playerOptions.volume=u.options.volume),u.options.showContols||(u.playerOptions.badge=0,u.playerOptions.byline=0,u.playerOptions.portrait=0,u.playerOptions.title=0,u.playerOptions.background=1),!u.$video){var r=\"\";Object.keys(u.playerOptions).forEach(function(e){\"\"!==r&&(r+=\"&\"),r+=\"\".concat(e,\"=\").concat(encodeURIComponent(u.playerOptions[e]))}),u.$video=document.createElement(\"iframe\"),u.$video.setAttribute(\"id\",u.playerID),u.$video.setAttribute(\"src\",\"https://player.vimeo.com/video/\".concat(u.videoID,\"?\").concat(r)),u.$video.setAttribute(\"frameborder\",\"0\"),u.$video.setAttribute(\"mozallowfullscreen\",\"\"),u.$video.setAttribute(\"allowfullscreen\",\"\"),e.appendChild(u.$video),document.body.appendChild(e)}var l;u.player=u.player||new Vimeo.Player(u.$video,u.playerOptions),u.options.startTime&&u.options.autoplay&&u.player.setCurrentTime(u.options.startTime),u.player.getVideoWidth().then(function(e){u.videoWidth=e||1280}),u.player.getVideoHeight().then(function(e){u.videoHeight=e||720}),u.player.on(\"timeupdate\",function(e){l||(u.fire(\"started\",e),l=1),u.fire(\"timeupdate\",e),u.options.endTime&&u.options.endTime&&e.seconds>=u.options.endTime&&(u.options.loop?u.play(u.options.startTime):u.pause())}),u.player.on(\"play\",function(e){u.fire(\"play\",e),u.options.startTime&&0===e.seconds&&u.play(u.options.startTime)}),u.player.on(\"pause\",function(e){u.fire(\"pause\",e)}),u.player.on(\"ended\",function(e){u.fire(\"ended\",e)}),u.player.on(\"loaded\",function(e){u.fire(\"ready\",e)}),u.player.on(\"volumechange\",function(e){u.fire(\"volumechange\",e)})}\"local\"===u.type&&(u.$video||(u.$video=document.createElement(\"video\"),u.options.showContols&&(u.$video.controls=!0),u.options.mute?u.$video.muted=!0:u.$video.volume&&(u.$video.volume=u.options.volume/100),u.options.loop&&(u.$video.loop=!0),u.$video.setAttribute(\"playsinline\",\"\"),u.$video.setAttribute(\"webkit-playsinline\",\"\"),u.$video.setAttribute(\"id\",u.playerID),e.appendChild(u.$video),document.body.appendChild(e),Object.keys(u.videoID).forEach(function(e){!function(e,t,o){var i=document.createElement(\"source\");i.src=t,i.type=o,e.appendChild(i)}(u.$video,u.videoID[e],\"video/\".concat(e))})),u.player=u.player||u.$video,u.player.addEventListener(\"playing\",function(e){t||u.fire(\"started\",e),t=1}),u.player.addEventListener(\"timeupdate\",function(e){u.fire(\"timeupdate\",e),u.options.endTime&&u.options.endTime&&this.currentTime>=u.options.endTime&&(u.options.loop?u.play(u.options.startTime):u.pause())}),u.player.addEventListener(\"play\",function(e){u.fire(\"play\",e)}),u.player.addEventListener(\"pause\",function(e){u.fire(\"pause\",e)}),u.player.addEventListener(\"ended\",function(e){u.fire(\"ended\",e)}),u.player.addEventListener(\"loadedmetadata\",function(){u.videoWidth=this.videoWidth||1280,u.videoHeight=this.videoHeight||720,u.fire(\"ready\"),u.options.autoplay&&u.play(u.options.startTime)}),u.player.addEventListener(\"volumechange\",function(e){u.getVolume(function(e){u.options.volume=e}),u.fire(\"volumechange\",e)}));p(u.$video)})}},{key:\"init\",value:function(){this.playerID=\"VideoWorker-\".concat(this.ID)}},{key:\"loadAPI\",value:function(){if(!l||!p){var e=\"\";if(\"youtube\"!==this.type||l||(l=1,e=\"https://www.youtube.com/iframe_api\"),\"vimeo\"===this.type&&!p){if(p=1,\"undefined\"!=typeof Vimeo)return;e=\"https://player.vimeo.com/api/player.js\"}if(e){var t=document.createElement(\"script\"),o=document.getElementsByTagName(\"head\")[0];t.src=e,o.appendChild(t),t=o=null}}}},{key:\"onAPIready\",value:function(e){if(\"youtube\"===this.type&&(\"undefined\"!=typeof YT&&0!==YT.loaded||u?\"object\"===(\"undefined\"==typeof YT?\"undefined\":n(YT))&&1===YT.loaded?e():d.done(function(){e()}):(u=1,window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null,d.resolve(\"done\"),e()})),\"vimeo\"===this.type)if(\"undefined\"!=typeof Vimeo||s)\"undefined\"!=typeof Vimeo?e():y.done(function(){e()});else{s=1;var t=setInterval(function(){\"undefined\"!=typeof Vimeo&&(clearInterval(t),y.resolve(\"done\"),e())},20)}\"local\"===this.type&&e()}}]),i}()},function(e,t,o){\"use strict\";o.r(t),o.d(t,\"default\",function(){return a});var i=o(8),r=o.n(i),n=o(4),p=o.n(n);function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p.a.jarallax;if(void 0!==e){var t=e.constructor,i=t.prototype.onScroll;t.prototype.onScroll=function(){var o=this;i.apply(o),o.isVideoInserted||!o.video||o.options.videoLazyLoading&&!o.isElementInViewport||o.options.disableVideo()||(o.isVideoInserted=!0,o.video.getVideo(function(e){var t=e.parentNode;o.css(e,{position:o.image.position,top:\"0px\",left:\"0px\",right:\"0px\",bottom:\"0px\",width:\"100%\",height:\"100%\",maxWidth:\"none\",maxHeight:\"none\",margin:0,zIndex:-1}),o.$video=e,o.image.$container.appendChild(e),t.parentNode.removeChild(t)}))};var l=t.prototype.coverImage;t.prototype.coverImage=function(){var e=this,t=l.apply(e),o=!!e.image.$item&&e.image.$item.nodeName;if(t&&e.video&&o&&(\"IFRAME\"===o||\"VIDEO\"===o)){var i=t.image.height,n=i*e.image.width/e.image.height,a=(t.container.width-n)/2,r=t.image.marginTop;t.container.width>n&&(i=(n=t.container.width)*e.image.height/e.image.width,a=0,r+=(t.image.height-i)/2),\"IFRAME\"===o&&(i+=400,r-=200),e.css(e.$video,{width:\"\".concat(n,\"px\"),marginLeft:\"\".concat(a,\"px\"),height:\"\".concat(i,\"px\"),marginTop:\"\".concat(r,\"px\")})}return t};var o=t.prototype.initImg;t.prototype.initImg=function(){var e=this,t=o.apply(e);return e.options.videoSrc||(e.options.videoSrc=e.$item.getAttribute(\"data-jarallax-video\")||null),e.options.videoSrc?(e.defaultInitImgResult=t,!0):t};var n=t.prototype.canInitParallax;t.prototype.canInitParallax=function(){var o=this,e=n.apply(o);if(!o.options.videoSrc)return e;var t=new r.a(o.options.videoSrc,{autoplay:!0,loop:o.options.videoLoop,showContols:!1,startTime:o.options.videoStartTime||0,endTime:o.options.videoEndTime||0,mute:o.options.videoVolume?0:1,volume:o.options.videoVolume||0});if(t.isValid())if(e){if(t.on(\"ready\",function(){if(o.options.videoPlayOnlyVisible){var e=o.onScroll;o.onScroll=function(){e.apply(o),!o.options.videoLoop&&(o.options.videoLoop||o.videoEnded)||(o.isVisible()?t.play():t.pause())}}else t.play()}),t.on(\"started\",function(){o.image.$default_item=o.image.$item,o.image.$item=o.$video,o.image.width=o.video.videoWidth||1280,o.image.height=o.video.videoHeight||720,o.coverImage(),o.clipContainer(),o.onScroll(),o.image.$default_item&&(o.image.$default_item.style.display=\"none\")}),t.on(\"ended\",function(){o.videoEnded=!0,o.options.videoLoop||o.image.$default_item&&(o.image.$item=o.image.$default_item,o.image.$item.style.display=\"block\",o.coverImage(),o.clipContainer(),o.onScroll())}),o.video=t,!o.defaultInitImgResult)return o.image.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\"local\"===t.type||(t.getImageURL(function(e){o.image.bgImage='url(\"'.concat(e,'\")'),o.init()}),!1)}else o.defaultInitImgResult||t.getImageURL(function(e){var t=o.$item.getAttribute(\"style\");t&&o.$item.setAttribute(\"data-jarallax-original-styles\",t),o.css(o.$item,{\"background-image\":'url(\"'.concat(e,'\")'),\"background-position\":\"center\",\"background-size\":\"cover\"})});return e};var a=t.prototype.destroy;t.prototype.destroy=function(){var e=this;e.image.$default_item&&(e.image.$item=e.image.$default_item,delete e.image.$default_item),a.apply(e)}}}}]);\n//# sourceMappingURL=jarallax-video.min.js.map\n","Magento_PageBuilder/js/resource/jarallax/jarallax.min.js":"/*!\n * Name    : Just Another Parallax [Jarallax]\n * Version : 1.12.5\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */!function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=10)}([,,function(e,t){e.exports=function(e){\"complete\"===document.readyState||\"interactive\"===document.readyState?e.call():document.attachEvent?document.attachEvent(\"onreadystatechange\",function(){\"interactive\"===document.readyState&&e.call()}):document.addEventListener&&document.addEventListener(\"DOMContentLoaded\",e)}},function(n,e,t){(function(e){var t=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{};n.exports=t}).call(this,t(4))},function(e,t){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var o=function(){return this}();try{o=o||new Function(\"return this\")()}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":n(window))&&(o=window)}e.exports=o},,,,,,function(e,t,n){e.exports=n(11)},function(e,t,n){\"use strict\";n.r(t);var o=n(2),i=n.n(o),a=n(3),r=n(12);function l(e){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var s,c,u=a.window.jarallax;a.window.jarallax=r.default,a.window.jarallax.noConflict=function(){return a.window.jarallax=u,this},void 0!==a.jQuery&&((s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.prototype.unshift.call(t,this);var o=r.default.apply(a.window,t);return\"object\"!==l(o)?o:this}).constructor=r.default.constructor,c=a.jQuery.fn.jarallax,a.jQuery.fn.jarallax=s,a.jQuery.fn.jarallax.noConflict=function(){return a.jQuery.fn.jarallax=c,this}),i()(function(){Object(r.default)(document.querySelectorAll(\"[data-jarallax]\"))})},function(e,t,n){\"use strict\";n.r(t);var o=n(2),i=n.n(o),b=n(3);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,a=void 0;try{for(var r,l=e[Symbol.iterator]();!(o=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l,h,p=b.window.navigator,d=-1<p.userAgent.indexOf(\"MSIE \")||-1<p.userAgent.indexOf(\"Trident/\")||-1<p.userAgent.indexOf(\"Edge/\"),s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(p.userAgent),m=function(){for(var e=\"transform WebkitTransform MozTransform\".split(\" \"),t=document.createElement(\"div\"),n=0;n<e.length;n+=1)if(t&&void 0!==t.style[e[n]])return e[n];return!1}();function f(){h=s?(!l&&document.body&&((l=document.createElement(\"div\")).style.cssText=\"position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;\",document.body.appendChild(l)),(l?l.clientHeight:0)||b.window.innerHeight||document.documentElement.clientHeight):b.window.innerHeight||document.documentElement.clientHeight}f(),b.window.addEventListener(\"resize\",f),b.window.addEventListener(\"orientationchange\",f),b.window.addEventListener(\"load\",f),i()(function(){f()});var g=[];function y(){g.length&&(g.forEach(function(e,t){var n=e.instance,o=e.oldData,i=n.$item.getBoundingClientRect(),a={width:i.width,height:i.height,top:i.top,bottom:i.bottom,wndW:b.window.innerWidth,wndH:h},r=!o||o.wndW!==a.wndW||o.wndH!==a.wndH||o.width!==a.width||o.height!==a.height,l=r||!o||o.top!==a.top||o.bottom!==a.bottom;g[t].oldData=a,r&&n.onResize(),l&&n.onScroll()}),b.window.requestAnimationFrame(y))}function v(e,t){(\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":u(HTMLElement))?e instanceof HTMLElement:e&&\"object\"===u(e)&&null!==e&&1===e.nodeType&&\"string\"==typeof e.nodeName)&&(e=[e]);for(var n,o=e.length,i=0,a=arguments.length,r=new Array(2<a?a-2:0),l=2;l<a;l++)r[l-2]=arguments[l];for(;i<o;i+=1)if(\"object\"===u(t)||void 0===t?e[i].jarallax||(e[i].jarallax=new w(e[i],t)):e[i].jarallax&&(n=e[i].jarallax[t].apply(e[i].jarallax,r)),void 0!==n)return n;return e}var x=0,w=function(){function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);var n=this;n.instanceID=x,x+=1,n.$item=e,n.defaults={type:\"scroll\",speed:.5,imgSrc:null,imgElement:\".jarallax-img\",imgSize:\"cover\",imgPosition:\"50% 50%\",imgRepeat:\"no-repeat\",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,disableVideo:!1,videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,videoLazyLoading:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};var o,i,a=n.$item.dataset||{},r={};Object.keys(a).forEach(function(e){var t=e.substr(0,1).toLowerCase()+e.substr(1);t&&void 0!==n.defaults[t]&&(r[t]=a[e])}),n.options=n.extend({},n.defaults,r,t),n.pureOptions=n.extend({},n.options),Object.keys(n.options).forEach(function(e){\"true\"===n.options[e]?n.options[e]=!0:\"false\"===n.options[e]&&(n.options[e]=!1)}),n.options.speed=Math.min(2,Math.max(-1,parseFloat(n.options.speed))),\"string\"==typeof n.options.disableParallax&&(n.options.disableParallax=new RegExp(n.options.disableParallax)),n.options.disableParallax instanceof RegExp&&(o=n.options.disableParallax,n.options.disableParallax=function(){return o.test(p.userAgent)}),\"function\"!=typeof n.options.disableParallax&&(n.options.disableParallax=function(){return!1}),\"string\"==typeof n.options.disableVideo&&(n.options.disableVideo=new RegExp(n.options.disableVideo)),n.options.disableVideo instanceof RegExp&&(i=n.options.disableVideo,n.options.disableVideo=function(){return i.test(p.userAgent)}),\"function\"!=typeof n.options.disableVideo&&(n.options.disableVideo=function(){return!1});var l=n.options.elementInViewport;l&&\"object\"===u(l)&&void 0!==l.length&&(l=c(l,1)[0]),l instanceof Element||(l=null),n.options.elementInViewport=l,n.image={src:n.options.imgSrc||null,$container:null,useImgTag:!1,position:/iPad|iPhone|iPod|Android/.test(p.userAgent)?\"absolute\":\"fixed\"},n.initImg()&&n.canInitParallax()&&n.init()}var e,t,n;return e=s,(t=[{key:\"css\",value:function(t,n){return\"string\"==typeof n?b.window.getComputedStyle(t).getPropertyValue(n):(n.transform&&m&&(n[m]=n.transform),Object.keys(n).forEach(function(e){t.style[e]=n[e]}),t)}},{key:\"extend\",value:function(n){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];return n=n||{},Object.keys(o).forEach(function(t){o[t]&&Object.keys(o[t]).forEach(function(e){n[e]=o[t][e]})}),n}},{key:\"getWindowData\",value:function(){return{width:b.window.innerWidth||document.documentElement.clientWidth,height:h,y:document.documentElement.scrollTop}}},{key:\"initImg\",value:function(){var e=this,t=e.options.imgElement;return t&&\"string\"==typeof t&&(t=e.$item.querySelector(t)),t instanceof Element||(e.options.imgSrc?(t=new Image).src=e.options.imgSrc:t=null),t&&(e.options.keepImg?e.image.$item=t.cloneNode(!0):(e.image.$item=t,e.image.$itemParent=t.parentNode),e.image.useImgTag=!0),!!e.image.$item||(null===e.image.src&&(e.image.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",e.image.bgImage=e.css(e.$item,\"background-image\")),!(!e.image.bgImage||\"none\"===e.image.bgImage))}},{key:\"canInitParallax\",value:function(){return m&&!this.options.disableParallax()}},{key:\"init\",value:function(){var e,t,n,o=this,i={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",overflow:\"hidden\"},a={pointerEvents:\"none\",transformStyle:\"preserve-3d\",backfaceVisibility:\"hidden\",willChange:\"transform,opacity\"};o.options.keepImg||((e=o.$item.getAttribute(\"style\"))&&o.$item.setAttribute(\"data-jarallax-original-styles\",e),!o.image.useImgTag||(t=o.image.$item.getAttribute(\"style\"))&&o.image.$item.setAttribute(\"data-jarallax-original-styles\",t)),\"static\"===o.css(o.$item,\"position\")&&o.css(o.$item,{position:\"relative\"}),\"auto\"===o.css(o.$item,\"z-index\")&&o.css(o.$item,{zIndex:0}),o.image.$container=document.createElement(\"div\"),o.css(o.image.$container,i),o.css(o.image.$container,{\"z-index\":o.options.zIndex}),d&&o.css(o.image.$container,{opacity:.9999}),o.image.$container.setAttribute(\"id\",\"jarallax-container-\".concat(o.instanceID)),o.$item.appendChild(o.image.$container),o.image.useImgTag?a=o.extend({\"object-fit\":o.options.imgSize,\"object-position\":o.options.imgPosition,\"font-family\":\"object-fit: \".concat(o.options.imgSize,\"; object-position: \").concat(o.options.imgPosition,\";\"),\"max-width\":\"none\"},i,a):(o.image.$item=document.createElement(\"div\"),o.image.src&&(a=o.extend({\"background-position\":o.options.imgPosition,\"background-size\":o.options.imgSize,\"background-repeat\":o.options.imgRepeat,\"background-image\":o.image.bgImage||'url(\"'.concat(o.image.src,'\")')},i,a))),\"opacity\"!==o.options.type&&\"scale\"!==o.options.type&&\"scale-opacity\"!==o.options.type&&1!==o.options.speed||(o.image.position=\"absolute\"),\"fixed\"===o.image.position&&(n=function(e){for(var t=[];null!==e.parentElement;)1===(e=e.parentElement).nodeType&&t.push(e);return t}(o.$item).filter(function(e){var t=b.window.getComputedStyle(e),n=t[\"-webkit-transform\"]||t[\"-moz-transform\"]||t.transform;return n&&\"none\"!==n||/(auto|scroll)/.test(t.overflow+t[\"overflow-y\"]+t[\"overflow-x\"])}),o.image.position=n.length?\"absolute\":\"fixed\"),a.position=o.image.position,o.css(o.image.$item,a),o.image.$container.appendChild(o.image.$item),o.onResize(),o.onScroll(!0),o.options.onInit&&o.options.onInit.call(o),\"none\"!==o.css(o.$item,\"background-image\")&&o.css(o.$item,{\"background-image\":\"none\"}),o.addToParallaxList()}},{key:\"addToParallaxList\",value:function(){g.push({instance:this}),1===g.length&&b.window.requestAnimationFrame(y)}},{key:\"removeFromParallaxList\",value:function(){var n=this;g.forEach(function(e,t){e.instance.instanceID===n.instanceID&&g.splice(t,1)})}},{key:\"destroy\",value:function(){var e=this;e.removeFromParallaxList();var t,n=e.$item.getAttribute(\"data-jarallax-original-styles\");e.$item.removeAttribute(\"data-jarallax-original-styles\"),n?e.$item.setAttribute(\"style\",n):e.$item.removeAttribute(\"style\"),e.image.useImgTag&&(t=e.image.$item.getAttribute(\"data-jarallax-original-styles\"),e.image.$item.removeAttribute(\"data-jarallax-original-styles\"),t?e.image.$item.setAttribute(\"style\",n):e.image.$item.removeAttribute(\"style\"),e.image.$itemParent&&e.image.$itemParent.appendChild(e.image.$item)),e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container&&e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax}},{key:\"clipContainer\",value:function(){var e,t,n,o,i;\"fixed\"===this.image.position&&(n=(t=(e=this).image.$container.getBoundingClientRect()).width,o=t.height,e.$clipStyles||(e.$clipStyles=document.createElement(\"style\"),e.$clipStyles.setAttribute(\"type\",\"text/css\"),e.$clipStyles.setAttribute(\"id\",\"jarallax-clip-\".concat(e.instanceID)),(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(e.$clipStyles)),i=\"#jarallax-container-\".concat(e.instanceID,\" {\\n            clip: rect(0 \").concat(n,\"px \").concat(o,\"px 0);\\n            clip: rect(0, \").concat(n,\"px, \").concat(o,\"px, 0);\\n            -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\\n            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\\n        }\"),e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=i:e.$clipStyles.innerHTML=i)}},{key:\"coverImage\",value:function(){var e=this,t=e.image.$container.getBoundingClientRect(),n=t.height,o=e.options.speed,i=\"scroll\"===e.options.type||\"scroll-opacity\"===e.options.type,a=0,r=n,l=0;return i&&(o<0?(a=o*Math.max(n,h),h<n&&(a-=o*(n-h))):a=o*(n+h),1<o?r=Math.abs(a-h):o<0?r=a/o+Math.abs(a):r+=(h-n)*(1-o),a/=2),e.parallaxScrollDistance=a,l=i?(h-r)/2:(n-r)/2,e.css(e.image.$item,{height:\"\".concat(r,\"px\"),marginTop:\"\".concat(l,\"px\"),left:\"fixed\"===e.image.position?\"\".concat(t.left,\"px\"):\"0\",width:\"\".concat(t.width,\"px\")}),e.options.onCoverImage&&e.options.onCoverImage.call(e),{image:{height:r,marginTop:l},container:t}}},{key:\"isVisible\",value:function(){return this.isElementInViewport||!1}},{key:\"onScroll\",value:function(e){var t,n,o,i,a,r,l,s,c,u,p=this,d=p.$item.getBoundingClientRect(),m=d.top,f=d.height,g={},y=d;p.options.elementInViewport&&(y=p.options.elementInViewport.getBoundingClientRect()),p.isElementInViewport=0<=y.bottom&&0<=y.right&&y.top<=h&&y.left<=b.window.innerWidth,(e||p.isElementInViewport)&&(t=Math.max(0,m),n=Math.max(0,f+m),o=Math.max(0,-m),i=Math.max(0,m+f-h),a=Math.max(0,f-(m+f-h)),r=Math.max(0,-m+h-f),l=1-(h-m)/(h+f)*2,s=1,f<h?s=1-(o||i)/f:n<=h?s=n/h:a<=h&&(s=a/h),\"opacity\"!==p.options.type&&\"scale-opacity\"!==p.options.type&&\"scroll-opacity\"!==p.options.type||(g.transform=\"translate3d(0,0,0)\",g.opacity=s),\"scale\"!==p.options.type&&\"scale-opacity\"!==p.options.type||(c=1,p.options.speed<0?c-=p.options.speed*s:c+=p.options.speed*(1-s),g.transform=\"scale(\".concat(c,\") translate3d(0,0,0)\")),\"scroll\"!==p.options.type&&\"scroll-opacity\"!==p.options.type||(u=p.parallaxScrollDistance*l,\"absolute\"===p.image.position&&(u-=m),g.transform=\"translate3d(0,\".concat(u,\"px,0)\")),p.css(p.image.$item,g),p.options.onScroll&&p.options.onScroll.call(p,{section:d,beforeTop:t,beforeTopEnd:n,afterTop:o,beforeBottom:i,beforeBottomEnd:a,afterBottom:r,visiblePercent:s,fromViewportCenter:l}))}},{key:\"onResize\",value:function(){this.coverImage(),this.clipContainer()}}])&&r(e.prototype,t),n&&r(e,n),s}();v.constructor=w,t.default=v}]);\n//# sourceMappingURL=jarallax.min.js.map\n"}
}});
